import"./default-d6449ec9.js";/* empty css              */import{a as S,_ as U}from"./index-8be33a14.js";/* empty css              */import{I as N,_ as V}from"./index-c815d254.js";import{B as $}from"./index-b8dcc177.js";import{_ as E}from"./MyLogo-dc756089.js";import{_ as A,a as f,r as F,X as D,W as M,d as T,h as W,q as _,k as n,f as t,w as o,t as h,j as X,$ as G,p as H,n as J,a0 as K,a1 as L}from"./index-1e170dd9.js";import"./index-b17a8784.js";import{F as O,_ as Q}from"./EyeOutlined-b9fb840d.js";import"./responsiveObserve-32929795.js";import"./collapseMotion-aa2d52e7.js";import"./antInputDirective-8ac36ea7.js";import"./omit-f0e2af22.js";import"./FormItemContext-4dbce140.js";import"./SearchOutlined-9fcf4e20.js";import"./_flatRest-684801fb.js";import"./toInteger-020d1e08.js";import"./debounce-0dca6d6d.js";import"./useSize-f4b45b31.js";const Y=u=>(H("data-v-3a20e912"),u=u(),J(),u),Z={class:"register_form"},ee={class:"title"},te=Y(()=>_("img",{src:E,alt:"",width:"70",height:"70",style:{"margin-bottom":"2vh"}},null,-1)),oe={style:{display:"flex","justify-content":"center"}},se={__name:"RegisterForm",setup(u){const g=f(null),r=F({user_name:"babii",user_email:"2943867123@qq.com",user_vertifyCode:"",user_password:"lingjing12",user_confirm:"lingjing12"}),C=async(a,e)=>{},x=async(a,e)=>{},k=async(a,e)=>{},z=async(a,e)=>formPw.new_password!==e?Promise.reject(new Error("两次密码不一致!")):Promise.resolve(),s=F({text:"发送",loading:!1,disabled:!1,duration:59,timer:null}),I=()=>{try{g.value.validateFields(["user_email"]).then(a=>{s.duration!==60&&(s.disabled=!0),s.timer&&clearInterval(s.timer),s.timer=setInterval(()=>{const e=s.duration--;s.text=`${e}秒`,e<=0&&(clearInterval(s.timer),s.duration=59,s.text="发送",s.disabled=!1)},1e3),K(r.user_email).then(e=>{e.code===200?console.log("验证码发送成功：",e.data):console.log("验证码发生错误：",e)})})}catch(a){new Promise.reject(a)}},v=D(),d=f(""),m=f("red"),q=()=>{L(r).then(a=>{a.code==="200"?(d.value="注册成功",m.value="#16d46b",v.replace("/login"),console.log("注册成功")):(d.value=a.msg,m.value="red",console.log("注册失败"))})},B=a=>{console.log("Success:",a)},R=a=>{console.log("Failed:",a)};return(a,e)=>{const b=M("font"),c=N,i=Q,p=$,y=V,w=S,j=U,P=O;return T(),W("div",Z,[_("h2",ee,[te,n("   "),t(b,{color:"#1B45A9"},{default:o(()=>[n("注")]),_:1}),n("   "),t(b,{color:"#355ACF"},{default:o(()=>[n("册")]),_:1})]),_("div",oe,[t(P,{ref_key:"ruleFormRef",ref:g,name:"email",model:r,"label-col":{span:4},"wrapper-col":{span:20},autocomplete:"off",onFinish:B,onFinishFailed:R,style:{width:"35vw"}},{default:o(()=>[t(i,{label:"用户名",name:"user_name",rules:[{required:!0,message:"请输入用户名"},{validator:C,tirgger:"change"}]},{default:o(()=>[t(c,{value:r.user_name,"onUpdate:value":e[0]||(e[0]=l=>r.user_name=l),size:"large",class:"border_input"},null,8,["value"])]),_:1},8,["rules"]),t(i,{label:"邮箱",name:"user_email",rules:[{required:!0,message:"请输入邮箱"},{validator:x,tirgger:"change"}]},{default:o(()=>[t(c,{value:r.user_email,"onUpdate:value":e[1]||(e[1]=l=>r.user_email=l),size:"large",class:"border_input"},null,8,["value"])]),_:1},8,["rules"]),t(i,{label:"验证码",name:"user_vertifyCode"},{default:o(()=>[t(c,{value:r.user_vertifyCode,"onUpdate:value":e[2]||(e[2]=l=>r.user_vertifyCode=l),rules:[{required:!0,message:"请输入验证码"}],size:"large",class:"input_code"},null,8,["value"]),t(p,{type:"primary",loading:s.loading,disabled:s.disabled,onClick:e[3]||(e[3]=l=>I()),size:"large",class:"send_code"},{default:o(()=>[n(h(s.text),1)]),_:1},8,["loading","disabled"])]),_:1}),t(i,{label:"密码",name:"user_password"},{default:o(()=>[t(y,{value:r.user_password,"onUpdate:value":e[4]||(e[4]=l=>r.user_password=l),rules:[{required:!0,message:"请输入密码"},{validator:k,tirgger:"change"}],size:"large",class:"border_input"},null,8,["value","rules"])]),_:1}),t(i,{label:"确认密码",name:"user_confirm"},{default:o(()=>[t(y,{value:r.user_confirm,"onUpdate:value":e[5]||(e[5]=l=>r.user_confirm=l),rules:[{required:!0,message:"请输入确认密码"},{validator:z,tirgger:"change"}],size:"large",class:"border_input"},null,8,["value","rules"])]),_:1}),t(i,{"wrapper-col":{offset:4,span:20}},{default:o(()=>[t(j,{gutter:16},{default:o(()=>[t(w,{span:12},{default:o(()=>[t(p,{type:"primary",block:"",size:"large",class:"button_top",onClick:q},{default:o(()=>[n("注册")]),_:1})]),_:1}),t(w,{span:12},{default:o(()=>[t(p,{block:"",size:"large",onClick:e[6]||(e[6]=l=>X(v).replace("/login/index")),class:"button_bottom"},{default:o(()=>[n("返回")]),_:1})]),_:1})]),_:1}),_("p",{style:G({color:m.value})},h(d.value||""),5)]),_:1})]),_:1},8,["model"])])])}}},xe=A(se,[["__scopeId","data-v-3a20e912"]]);export{xe as default};
