{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./src/views/user-manager/login/Paddle.png","webpack:///./src/views/user-manager/login/Index.vue?a9b1","webpack:///./src/views/user-manager/login/Index.vue?0744","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/user-manager/login/Index.vue?b883","webpack:///./src/views/user-manager/login/Index.vue","webpack:///./src/views/user-manager/login/Index.vue?108c","webpack:///./src/views/user-manager/login/Index.vue?d1f2"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","global","userAgent","slice","MSIE","test","wrap","scheduler","handler","timeout","boundArgs","args","call","Function","apply","bind","setTimeout","setInterval","module","exports","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","right","src","alt","width","height","style","span","ref","model","loginForm","rules","loginRules","class","autocomplete","label-position","t","isWhite","prop","username","placeholder","name","type","tabindex","capsTooltip","content","placement","manual","key","passwordType","password","checkCapslock","handleLogin","showPwd","loading","components","LangSelect","setup","userNameRef","passwordRef","loginFormRef","router","route","store","state","validator","trigger","showDialog","redirect","otherQuery","methods","validateUsername","rule","value","callback","Error","validatePassword","e","focus","validate","valid","dispatch","ACTION_LOGIN","admin_name_or_email","admin_password","push","path","query","err","console","warn","getOtherQuery","Object","keys","acc","cur","toString","render","__scopeId"],"mappings":"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","file":"static/js/userManager.98704e3e.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","module.exports = __webpack_public_path__ + \"static/img/Paddle.e3a3fa26.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=1&id=248db15b&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=248db15b&lang=scss\"","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuBg\":\"#fff\",\"menuText\":\"#162b64\",\"menuActiveText\":\"#435ebe\"};","<!--\n * @Description: 登录页面\n * @Author: ZY\n * @Date: 2020-12-28 16:27:50\n * @LastEditors: ZY\n * @LastEditTime: 2021-01-28 16:32:33\n-->\n\n<template>\n  <!-- <div class=\"login-container\"> -->\n  <el-row style=\"height: 50vh;background-color: #fff;margin-left: 0;\">\n    <el-col :span=\"12\">\n      <img src=\"./Paddle.png\" alt=\"\" width=\"850\" height=\"742\">\n    </el-col>\n    <el-col :span=\"12\" style=\"padding: 20vh 12vw;\">\n      <el-form ref=\"loginFormRef\" :model=\"loginForm\" :rules=\"loginRules\" class=\"login-form\" autocomplete=\"on\"\n        label-position=\"left\">\n      <div>\n        <h3 style=\"text-align: center;color: #013081;\">\n            {{ t(\"login.title\") }}\n          </h3>\n          <LangSelect :isWhite=\"true\" class=\"set-language\" />\n        </div>\n        <el-form-item prop=\"username\">\n          <!-- <span class=\"svg-container\">\n                <i class=\"el-icon-user\" />\n          </span> -->\n        <el-input ref=\"userNameRef\" v-model=\"loginForm.username\" :placeholder=\"t('login.username')\" name=\"username\"\n            type=\"text\" tabindex=\"1\" autocomplete=\"on\" />\n        </el-form-item>\n\n        <el-tooltip v-model=\"capsTooltip\" content=\"Caps lock is On\" placement=\"right\" manual>\n          <el-form-item prop=\"password\">\n            <!-- <span class=\"svg-container\">\n                  <i class=\"el-icon-lock\" />\n                </span> -->\n            <el-input :key=\"passwordType\" ref=\"passwordRef\" v-model=\"loginForm.password\" :type=\"passwordType\"\n              :placeholder=\"t('login.password')\" name=\"password\" tabindex=\"2\" autocomplete=\"on\" @keyup=\"checkCapslock\"\n              @blur=\"capsTooltip = false\" @keyup.enter=\"handleLogin\" />\n            <span class=\"show-pwd\" @click=\"showPwd\">\n              <svg-icon :name=\"passwordType === 'password' ? 'eye-off' : 'eye-on'\" />\n            </span>\n          </el-form-item>\n        </el-tooltip>\n\n      <el-button :loading=\"loading\" type=\"primary\" style=\"width:100%; margin-bottom:30px;background-color: #013081;\" @click.prevent=\"handleLogin\">\n        {{ t(\"login.logIn\") }}\n      </el-button>\n    </el-form>\n  </el-col>\n</el-row>\n  <!-- <video\n                poster=\"../../../assets/images/login/video-cover.jpeg\"\n      loop\n      autoplay\n      muted\n    >\n      <source src=\"../../../assets/images/login/night.mp4\">\n    </video> -->\n\n<!-- <el-form\n      ref=\"loginFormRef\"\n      :model=\"loginForm\"\n      :rules=\"loginRules\"\n      class=\"login-form\"\n      autocomplete=\"on\"\n      label-position=\"left\"\n    >\n      <div class=\"title-container\">\n        <h3 class=\"title\">\n          {{ t(\"login.title\") }}\n        </h3>\n        <LangSelect\n          :isWhite=\"true\"\n          class=\"set-language\"\n        />\n      </div>\n\n      <el-form-item prop=\"username\">\n        <span class=\"svg-container\">\n          <i class=\"el-icon-user\" />\n        </span>\n        <el-input\n          ref=\"userNameRef\"\n          v-model=\"loginForm.username\"\n          :placeholder=\"t('login.username')\"\n          name=\"username\"\n          type=\"text\"\n          tabindex=\"1\"\n          autocomplete=\"on\"\n        />\n      </el-form-item>\n\n      <el-tooltip\n        v-model=\"capsTooltip\"\n        content=\"Caps lock is On\"\n        placement=\"right\"\n        manual\n      >\n        <el-form-item prop=\"password\">\n          <span class=\"svg-container\">\n            <i class=\"el-icon-lock\" />\n          </span>\n          <el-input\n            :key=\"passwordType\"\n            ref=\"passwordRef\"\n            v-model=\"loginForm.password\"\n            :type=\"passwordType\"\n            :placeholder=\"t('login.password')\"\n            name=\"password\"\n            tabindex=\"2\"\n            autocomplete=\"on\"\n            @keyup=\"checkCapslock\"\n            @blur=\"capsTooltip = false\"\n            @keyup.enter=\"handleLogin\"\n          />\n          <span\n            class=\"show-pwd\"\n            @click=\"showPwd\"\n          >\n            <svg-icon\n              :name=\"passwordType === 'password' ? 'eye-off' : 'eye-on'\"\n            />\n          </span>\n        </el-form-item>\n      </el-tooltip>\n\n      <el-button\n                  :loading=\"loading\"\n                  type=\"primary\"\n                  style=\"width:100%; margin-bottom:30px;\"\n                  @click.prevent=\"handleLogin\"\n                >\n                  {{ t(\"login.logIn\") }}\n                </el-button>\n              </el-form> -->\n  <!-- </div> -->\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  onMounted,\n  reactive,\n  watch,\n  ref,\n  nextTick,\n  toRefs\n} from 'vue'\nimport LangSelect from '@/components/lang_select/Index.vue'\nimport { isValidUsername } from '@/utils/validate'\nimport { useRoute, LocationQuery, useRouter } from 'vue-router'\nimport { useStore } from '@/store'\nimport { UserActionTypes } from '@/store/modules/user/action-types'\nimport { useI18n } from 'vue-i18n'\nexport default defineComponent({\n  components: {\n    LangSelect,\n  },\n  setup() {\n    const userNameRef = ref(null)\n    const passwordRef = ref(null)\n    const loginFormRef = ref(null)\n    const router = useRouter()\n    const route = useRoute()\n    const store = useStore()\n    const { t } = useI18n()\n    const state = reactive({\n      loginForm: {\n        username: 'Admin',\n        password: '123456'\n      },\n      loginRules: {\n        username: [{ validator: userNameRef, trigger: 'blur' }],\n        password: [{ validator: passwordRef, trigger: 'blur' }]\n      },\n      passwordType: 'password',\n      loading: false,\n      showDialog: false,\n      capsTooltip: false,\n      redirect: '',\n      otherQuery: {}\n    })\n\n    const methods = reactive({\n      validateUsername: (rule: any, value: string, callback: Function) => {\n        if (!isValidUsername(value)) {\n          callback(new Error('Please enter the correct user name'))\n        } else {\n          callback()\n        }\n      },\n      validatePassword: (rule: any, value: string, callback: Function) => {\n        if (value.length < 6) {\n          callback(new Error('The password can not be less than 6 digits'))\n        } else {\n          callback()\n        }\n      },\n      checkCapslock: (e: KeyboardEvent) => {\n        const { key } = e\n        state.capsTooltip =\n          key !== null && key.length === 1 && key >= 'A' && key <= 'Z'\n      },\n      showPwd: () => {\n        if (state.passwordType === 'password') {\n          state.passwordType = ''\n        } else {\n          state.passwordType = 'password'\n        }\n        nextTick(() => {\n          (passwordRef.value as any).focus()\n        })\n      },\n      // 登录\n      handleLogin: () => {\n        (loginFormRef.value as any).validate(async (valid: boolean) => {\n          if (valid) {\n            state.loading = true\n            // 调用store的登录方法，参数一，参数类型验证，参数二，真实参数\n            await store.dispatch(UserActionTypes.ACTION_LOGIN, { admin_name_or_email: state.loginForm.username, admin_password: state.loginForm.password })\n            // \n            router\n              .push({\n                path: state.redirect || '/',\n                query: state.otherQuery\n              })\n              .catch(err => {\n                console.warn(err)\n              })\n            // Just to simulate the time of the request\n            setTimeout(() => {\n              state.loading = false\n            }, 0.5 * 1000)\n          } else {\n            return false\n          }\n        })\n      }\n    })\n\n    function getOtherQuery(query: LocationQuery) {\n      return Object.keys(query).reduce((acc, cur) => {\n        if (cur !== 'redirect') {\n          acc[cur] = query[cur]\n        }\n        return acc\n      }, {} as LocationQuery)\n    }\n\n    watch(() => route.query, query => {\n      if (query) {\n        state.redirect = query.redirect?.toString() ?? ''\n        state.otherQuery = getOtherQuery(query)\n      }\n    })\n\n    onMounted(() => {\n      if (state.loginForm.username === '') {\n        (userNameRef.value as any).focus()\n      } else if (state.loginForm.password === '') {\n        (passwordRef.value as any).focus()\n      }\n    })\n\n    return {\n      userNameRef,\n      passwordRef,\n      loginFormRef,\n      ...toRefs(state),\n      ...toRefs(methods),\n      t\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\">\n// References: https://www.zhangxinxu.com/wordpress/2018/01/css-caret-color-first-line/\n@supports (-webkit-mask: none) and (not (cater-color: $loginCursorColor)) {\n  .login-container .el-input {\n    input {\n      color: $loginCursorColor;\n    }\n\n    input::first-line {\n      color: $lightGray;\n    }\n  }\n}\n\n.login-container {\n  .el-input {\n    display: inline-block;\n    height: 47px;\n    width: 85%;\n\n    input {\n      height: 47px;\n      background: transparent;\n      border: 0px;\n      border-radius: 0px;\n      padding: 12px 5px 12px 15px;\n      color: $lightGray;\n      caret-color: $loginCursorColor;\n      // -webkit-appearance: none;\n\n      &:-webkit-autofill {\n        box-shadow: 0 0 0px 1000px $loginBg inset !important;\n        -webkit-text-fill-color: #fff !important;\n      }\n    }\n  }\n\n  .el-form-item {\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    background: rgba(0, 0, 0, 0.1);\n    border-radius: 5px;\n    color: #454545;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.login-container {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n\n  // background-color: $loginBg;\n  video {\n    position: absolute;\n    /* Vertical and Horizontal center*/\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    z-index: -1;\n  }\n\n  .login-form {\n    position: relative;\n    width: 200px;\n    max-width: 100%;\n    padding: 160px 35px 0;\n    margin: 0 auto;\n    overflow: hidden;\n  }\n\n  .tips {\n    font-size: 14px;\n    color: #fff;\n    margin-bottom: 10px;\n\n    span {\n      &:first-of-type {\n        margin-right: 16px;\n      }\n    }\n  }\n\n  .svg-container {\n    padding: 6px 5px 6px 15px;\n    color: $darkGray;\n    vertical-align: middle;\n    width: 30px;\n    display: inline-block;\n  }\n\n  .title-container {\n    position: relative;\n\n    .title {\n      font-size: 26px;\n      color: $lightGray;\n      // margin: 0px auto 40px auto;\n      text-align: center;\n      font-weight: bold;\n    }\n\n    .set-language {\n      color: #fff;\n      position: absolute;\n      top: 3px;\n      font-size: 18px;\n      right: 0px;\n      cursor: pointer;\n    }\n  }\n\n  .show-pwd {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: $darkGray;\n    cursor: pointer;\n    user-select: none;\n  }\n\n  .thirdparty-button {\n    position: absolute;\n    right: 0;\n    bottom: 6px;\n  }\n\n  @media only screen and (max-width: 470px) {\n    .thirdparty-button {\n      display: none;\n    }\n  }\n}\n</style>\n","\nimport {\n  defineComponent,\n  onMounted,\n  reactive,\n  watch,\n  ref,\n  nextTick,\n  toRefs\n} from 'vue'\nimport LangSelect from '@/components/lang_select/Index.vue'\nimport { isValidUsername } from '@/utils/validate'\nimport { useRoute, LocationQuery, useRouter } from 'vue-router'\nimport { useStore } from '@/store'\nimport { UserActionTypes } from '@/store/modules/user/action-types'\nimport { useI18n } from 'vue-i18n'\nexport default defineComponent({\n  components: {\n    LangSelect,\n  },\n  setup() {\n    const userNameRef = ref(null)\n    const passwordRef = ref(null)\n    const loginFormRef = ref(null)\n    const router = useRouter()\n    const route = useRoute()\n    const store = useStore()\n    const { t } = useI18n()\n    const state = reactive({\n      loginForm: {\n        username: 'Admin',\n        password: '123456'\n      },\n      loginRules: {\n        username: [{ validator: userNameRef, trigger: 'blur' }],\n        password: [{ validator: passwordRef, trigger: 'blur' }]\n      },\n      passwordType: 'password',\n      loading: false,\n      showDialog: false,\n      capsTooltip: false,\n      redirect: '',\n      otherQuery: {}\n    })\n\n    const methods = reactive({\n      validateUsername: (rule: any, value: string, callback: Function) => {\n        if (!isValidUsername(value)) {\n          callback(new Error('Please enter the correct user name'))\n        } else {\n          callback()\n        }\n      },\n      validatePassword: (rule: any, value: string, callback: Function) => {\n        if (value.length < 6) {\n          callback(new Error('The password can not be less than 6 digits'))\n        } else {\n          callback()\n        }\n      },\n      checkCapslock: (e: KeyboardEvent) => {\n        const { key } = e\n        state.capsTooltip =\n          key !== null && key.length === 1 && key >= 'A' && key <= 'Z'\n      },\n      showPwd: () => {\n        if (state.passwordType === 'password') {\n          state.passwordType = ''\n        } else {\n          state.passwordType = 'password'\n        }\n        nextTick(() => {\n          (passwordRef.value as any).focus()\n        })\n      },\n      // 登录\n      handleLogin: () => {\n        (loginFormRef.value as any).validate(async (valid: boolean) => {\n          if (valid) {\n            state.loading = true\n            // 调用store的登录方法，参数一，参数类型验证，参数二，真实参数\n            await store.dispatch(UserActionTypes.ACTION_LOGIN, { admin_name_or_email: state.loginForm.username, admin_password: state.loginForm.password })\n            // \n            router\n              .push({\n                path: state.redirect || '/',\n                query: state.otherQuery\n              })\n              .catch(err => {\n                console.warn(err)\n              })\n            // Just to simulate the time of the request\n            setTimeout(() => {\n              state.loading = false\n            }, 0.5 * 1000)\n          } else {\n            return false\n          }\n        })\n      }\n    })\n\n    function getOtherQuery(query: LocationQuery) {\n      return Object.keys(query).reduce((acc, cur) => {\n        if (cur !== 'redirect') {\n          acc[cur] = query[cur]\n        }\n        return acc\n      }, {} as LocationQuery)\n    }\n\n    watch(() => route.query, query => {\n      if (query) {\n        state.redirect = query.redirect?.toString() ?? ''\n        state.otherQuery = getOtherQuery(query)\n      }\n    })\n\n    onMounted(() => {\n      if (state.loginForm.username === '') {\n        (userNameRef.value as any).focus()\n      } else if (state.loginForm.password === '') {\n        (passwordRef.value as any).focus()\n      }\n    })\n\n    return {\n      userNameRef,\n      passwordRef,\n      loginFormRef,\n      ...toRefs(state),\n      ...toRefs(methods),\n      t\n    }\n  }\n})\n","import { render } from \"./Index.vue?vue&type=template&id=248db15b&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=248db15b&lang=scss\"\nimport \"./Index.vue?vue&type=style&index=1&id=248db15b&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-248db15b\"\n\nexport default script"],"sourceRoot":""}