(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"01be":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAAByCAYAAABzyK63AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAswSURBVHhe7Z17cFRXHcd/524eJBsClUICttKAtjwLlIpT/afUUqhUayuUVkoZaZUZtY/xH2dqlWaqo6PM1HGcaWVsebSJPIo64zjTOkNL6igFWhQdLFUkPKblUdIWCAmBzT1+f7tnY3b33M0me7N77+7vM7O595zsbjL3s7/f75xzb25IEARBCDPKbP1Ba7XmSVIHpunqaJdqQEcjfkSjVno8vjtOa6pKPFFglKIYNu/jcdJx6RRvL9SpE9MOUFfzk6TxBM3P84u8ZS9/wR0f6aWZ2qUZjqK56OLHtfhF/f0glRGa9BFoflMr2ofjur9Xq4OtD6rD5ttDZkhCvvErXdlTRdPxwVuFaF2JrijkRhLfFXxF6158vQjxf8D26aaJal/zfMUZYdAMWvbKDRqRq7+P/HKLIjXSdAuFQOsLkN6Gxw+PHVZ725oHJz1n2WvWaKe9Sd+JF6zDy6403UIRQDY9S0o/3dSunmpuVq7pHpCcZK9cr0fgR/wAz/4OXlJtuoWiAuWaNldfUg+tW626TGdWBpS99Je6rjaqt+KZi/D0Qad9YXiB8X9W1tDNzy1zPjBdnjhma4VTd7ROP4VdER1QMG6aGeui9Ynsm50ssrVCjV6Jgdi3ZRoVbDBgu10r/TgHp+my4vnNFRt51E1r8dmpSPQIQQXRXYl5+RNHrtHLTZcVq2yeRzt4Md7kY6ZLCDrIvojwx5Zu1Z6rlFbZlyr1TFT++aYphIfZNV16sdnPwCrbdejr+KTUm6YQEpCJHaTzh5dscWtMVwoZslf92p2AF3zVNIWQgVT+mRHnabJpppAh262iKfiI1JqmEDIQ3bWRiL0EZ8jWvTQDGzmpEWIwXb7Z7KZgq9mYcsm8OsxA3ixe+TTNPjIjW9E8syuEl9G1UbrK7PeRIpuX3JDzp5imEFIQsFHH0Q2m2Ud6ZDearRBmNFW5LmVP404k89MghA+llIPovsI0+0iRHYtJZJcQGS5TZCtHZJcKEJtdttY0zuwKIQcusw/QMLuW05klAmp2hssU2UJpI7LLCJFdRojsMkJklxEiuwBU4ChPGks0rwmT3/r4WamiILKHmSpMgL48h+ieG4lunUr0wGeJmiC+GIjsYYQj+o7riT41DgfahDP33TKFqLoy0S4kInuYYLm3zySa0hhfrEphBERXFuHIi+xhoCpC9KXZRDM/bjrS+Mshos4e0yggIttnuEbfiRo9lW8sYuGNw0R/P24aBUZk+0gFIvqLqNGfRI22jbh3txO9djB+kqIoiGyf4Bq9GDX6Oq7Rpq8/LHrH23wRSfEQ2T4QT92o0dMnmI40WPSrEF1sRHaeVPM8GqKnZKnRr3LqNu1iEirZfGBrqhJz1SBQyaPuWUSTLTWa5cZr9DvFq9HphEY2p8gVNxE9+LnEilRtkW+fF8GRW8wLJg32Gr0nGdEBEc2EQvb1VxF9AYOfcSOJ6muIrsUBXnYj0cgBbywxPCRr9DSP1L2Ha3SAIjpJ4GWz6EUzEimzP+NHE937acgvsHAuJXcjs/Co28buAEZ0ksDK5iXG2VdD9HTvGj0Wkb4UEV5XoJt18QeOI5pPZGSr0W4ARTOBlT0LEX3rtMRCRTYa6omWzCWKDrNwrtFZF0wQ0bxgElTRTCBls+gFEM1rzLkwASmdTyEOV0qPT6+Qur2mV1yjdwY4opMETvYsTt2WGs2cv0h0rts00hg/CjV8XmIA5yd8huruG1CjPf4wKr5gEvCIThIY2Vyj53yCaCEimlNmOmchecubRFvxOAfpNq6sS0S4X6N0zixco6+x3Km1r0aHRDQTGNk8GOMrOWw1muWy5NPn8DhPtP2tRJTb4OmZHzU8XqN5wcQyGGN4Hh0m0UwgZLPoBRBtS90c0a27id6H5CQnzibkf+hxe1ZO6TwPH2pK5xp9V5bp1d4jwR51e1F02XMgeiFPryyiP4LMF98g+uCC6ejHKUT5lr327zGNXMMxDx81SOFco7+CGs0LNzY4dfPZq7CJZoomm2v03ImIaIi21egOSGzZk4hsL1j0NkS4l/BkDc91lJ68OHCiV40OYeruT9Fk34DBGF94Z1sw4fT8Gxadw120+UOxfZ93SueFF67hAy288O/BJzUmQbS1RvP06t/hFc0URTZPrz4P0bYazVG6aZf3FMsG13OO8P51vT+c0pdlSenxGp0ldXON5nl0b8737A8mBZfNkXabx8rYmU6iDX8lujCEi/H4tTxo41pug1faeB4+Ok0412iOfL7c1wZHNNfosItmCi57JNKprUazpBcwGLt42XQMAa7vnNJ5emZjTBQ1vF+EJ09qTByTaPeHT2SEacEkFwoumy+hTT94nH5bML3qvmQ68oBH8L/NIpwHbRzJV9R6L5gwe0zqLhXRTMFls4TXMdBJXjd9pINoPVJ3PhGdDtd9Xnjh+bgNTun3IaXzSQ0bpVKj0ym4bIavy3pmJ9EvdhBtxqg7xv+mzGd4dM6Dtnc/Mh1pjPa4FS9HdKnU6HSKIpu5DMG2lO4n/P6c0ln4QD8mWaPDPI8eiKLJLhS8hv77vxG95xHhSTii20owdfen5GUzPEr/HSL8mMd/vuIazaJjJSyaKQvZDJ8545Tefub/KZ1TN4vmGl3qopmykc10YWr3EkbpO1GX3zoK+UjvpTSPHoiyks3wwHAXZgOvHCB652Rp1+h0yk52OSOyywiRXUaI7DJCZJcR6bI9rtkUQkiGy3TZmIwIJUKGyxTZ2qVTZlcIORCbXXakUiK7VNA6M3BTZDs9Irs00DF8yTjPlyL76uPqtCbt4zUjQjHQRHyBV8aFWSmym5tVTJH6h2kKIUVp6nRcdcI0+0iRzSCy95pdIbx0nOjU75r9PjJlu7QX1b1MTvqVKIp2vfwoRmBpZMimCL2tFXGBF8KKpp1mL4UM2b0V6iCe7HEBjxB0UIbhTv3ZNFPIkN26XH2oHPUsXiapPIxotaP6EmXUayYzjYPLMdoE1R2mKYQERHUPhuJr161W1umzVXbrKmpHkW81TSE8vHa0Xe0z+xlYZZNS2nXo5/ikHDY9QsCBq4uYX69ta1aeg2u7bPDiA067o+ibeJMyuiQvnGCm3IOy+8jGrzk7TJcVT9nMhpXOK9g8IcKDjULlvRhVz5umJ1llM0cnqp8hPbRCuKyZBxB4+WOsgh7bdo8a8M8jB5TdNl/F6s/RQ+TSw3jrTtMtFJl46ib904oY3deywvG430QqtnvFWFmzRjtHmmgOfkwLXnad6RaKgdbH8PW7qNGbEx25kbPsJCs2umMimlajiK/AiyE9/f/RCcOHbkfe3tAboWcxgD5tOnNmaKK0Vque03WoFXeg9Qgek/EYo0gNWBaEQaJ1h1Z0HOOm9TjeG1ruV+d5amy+Oyjyjsr7N7nRSK8aq109Fe92G+J8Abob8QtG8Cs56HPwaYyg7aAtWaA/isdXGA3x3xaq+JYHWbzlGvwyHn/Csd3fGaOObauVx01Dcsf3g790q46MjOmGSzGqxeChxnWoJqKwdakGcS+R3w+XVRPxYki341I3Ire72qGu/xxSJ7MtjgiCIAiCIAiCEDZ8mXrxUup/63RNT6+qMF2CH3RT97Zm5cMdXRP4Invpj9xvYcJ4L96tHjNHWTjxAcULLkSHMBdv3v49x5c/3MhbzJIfu3eRS9uUUpY7iAv5okn/qzpKN7U8mtuZrWzkv6Ll0iIRPaxM6upGxvSB/GUreo9X601L8Bml6UJFtz9Lp3nLjvTS8zB90DQFn8Gx3Xia6Ixp5oU/A7Sf6FHUqxfizRpcP7KFEB+gIV/uf+lx9fpQT2kKgiAIJQTR/wC3YHFjJNTc4QAAAABJRU5ErkJggg=="},"030f":function(t,e,n){(function(t){(function(){"use strict";var e=function(){},n=function(t){return function(){return t()}},r=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},o=function(t,e){return function(n){return t(e(n))}},i=function(t){return function(){return t}},a=function(t){return t};function u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var s=function(t){return function(e){return!t(e)}},c=function(t){return function(){throw new Error(t)}},l=i(!1),f=i(!0),d=tinymce.util.Tools.resolve("tinymce.ThemeManager"),h=function(){return h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h.apply(this,arguments)};function p(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var g,v=function(){return y},y=function(){var t=function(t){return t.isNone()},n=function(t){return t()},r=function(t){return t},o={fold:function(t,e){return t()},is:l,isSome:l,isNone:f,getOr:r,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:r,orThunk:n,map:v,each:e,bind:v,exists:l,forall:f,filter:v,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")};return o}(),b=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:f,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return b(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:y},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}};return o},x=function(t){return null===t||void 0===t?y:b(t)},w={some:b,none:v,from:x},_=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},S=function(t){return function(e){return _(e)===t}},C=function(t){return function(e){return typeof e===t}},k=function(t){return function(e){return t===e}},T=S("string"),A=S("object"),O=S("array"),M=C("boolean"),D=k(void 0),I=function(t){return null===t||void 0===t},E=function(t){return!I(t)},R=C("function"),N=C("number"),P=function(t,e){if(O(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return!1;return!0}return!1},L=Array.prototype.slice,B=Array.prototype.indexOf,z=Array.prototype.push,V=function(t,e){return B.call(t,e)},F=function(t,e){var n=V(t,e);return-1===n?w.none():w.some(n)},j=function(t,e){return V(t,e)>-1},H=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},U=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},W=function(t,e){for(var n=[],r=0;r<t.length;r+=e){var o=L.call(t,r,r+e);n.push(o)}return n},G=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},q=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},Y=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},X=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],u=e(a,o)?n:r;u.push(a)}return{pass:n,fail:r}},Z=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},$=function(t,e,n){return Y(t,(function(t){n=e(n,t)})),n},K=function(t,e,n){return q(t,(function(t){n=e(n,t)})),n},J=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return w.some(i);if(n(i,r))break}return w.none()},Q=function(t,e){return J(t,e,l)},tt=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return w.some(n)}return w.none()},et=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!O(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);z.apply(e,t[n])}return e},nt=function(t,e){return et(G(t,e))},rt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},ot=function(t){var e=L.call(t,0);return e.reverse(),e},it=function(t,e){return Z(t,(function(t){return!j(e,t)}))},at=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},ut=function(t,e){var n=L.call(t,0);return n.sort(e),n},st=function(t,e){return e>=0&&e<t.length?w.some(t[e]):w.none()},ct=function(t){return st(t,0)},lt=function(t){return st(t,t.length-1)},ft=R(Array.from)?Array.from:function(t){return L.call(t)},dt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return w.none()},ht=function(t){var e=function(e){return t===e},n=function(e){return ht(t)},r=function(e){return ht(t)},o=function(e){return ht(e(t))},a=function(e){return ht(t)},u=function(e){e(t)},s=function(e){return e(t)},c=function(e,n){return n(t)},d=function(e){return e(t)},h=function(e){return e(t)},p=function(){return w.some(t)};return{is:e,isValue:f,isError:l,getOr:i(t),getOrThunk:i(t),getOrDie:i(t),or:n,orThunk:r,fold:c,map:o,mapError:a,each:u,bind:s,exists:d,forall:h,toOptional:p}},pt=function(t){var n=function(t){return t()},r=function(){return c(String(t))()},o=function(t){return t},i=function(t){return t()},u=function(e){return pt(t)},s=function(e){return pt(e(t))},d=function(e){return pt(t)},h=function(e,n){return e(t)};return{is:l,isValue:l,isError:f,getOr:a,getOrThunk:n,getOrDie:r,or:o,orThunk:i,fold:h,map:u,mapError:s,each:e,bind:d,exists:l,forall:f,toOptional:w.none}},mt=function(t,e){return t.fold((function(){return pt(e)}),ht)},gt={value:ht,error:pt,fromOption:mt};(function(t){t[t["Error"]=0]="Error",t[t["Value"]=1]="Value"})(g||(g={}));var vt=function(t,e,n){return t.stype===g.Error?e(t.serror):n(t.svalue)},yt=function(t){var e=[],n=[];return q(t,(function(t){vt(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},bt=function(t,e){return t.stype===g.Error?{stype:g.Error,serror:e(t.serror)}:t},xt=function(t,e){return t.stype===g.Value?{stype:g.Value,svalue:e(t.svalue)}:t},wt=function(t,e){return t.stype===g.Value?e(t.svalue):t},_t=function(t,e){return t.stype===g.Error?e(t.serror):t},St=function(t){return{stype:g.Value,svalue:t}},Ct=function(t){return{stype:g.Error,serror:t}},kt=function(t){return vt(t,gt.error,gt.value)},Tt=function(t){return t.fold(Ct,St)},At={fromResult:Tt,toResult:kt,svalue:St,partition:yt,serror:Ct,bind:wt,bindError:_t,map:xt,mapError:bt,fold:vt},Ot=Object.keys,Mt=Object.hasOwnProperty,Dt=function(t,e){for(var n=Ot(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},It=function(t,e){return Et(t,(function(t,n){return{k:n,v:e(t,n)}}))},Et=function(t,e){var n={};return Dt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},Rt=function(t){return function(e,n){t[n]=e}},Nt=function(t,e,n,r){var o={};return Dt(t,(function(t,o){(e(t,o)?n:r)(t,o)})),o},Pt=function(t,n){var r={};return Nt(t,n,Rt(r),e),r},Lt=function(t,e){var n=[];return Dt(t,(function(t,r){n.push(e(t,r))})),n},Bt=function(t,e){for(var n=Ot(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];if(e(a,i,t))return w.some(a)}return w.none()},zt=function(t){return Lt(t,(function(t){return t}))},Vt=function(t,e){return Ft(t,e)?w.from(t[e]):w.none()},Ft=function(t,e){return Mt.call(t,e)},jt=function(t,e){return Ft(t,e)&&void 0!==t[e]&&null!==t[e]},Ht=function(t){if(!O(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return q(t,(function(r,o){var i=Ot(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!O(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){var n=arguments.length;if(n!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var s=function(t){var n=Ot(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=rt(e,(function(t){return j(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,r)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[o];return e.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:a,params:r})}}}})),n},Ut={generate:Ht},Wt=Object.prototype.hasOwnProperty,Gt=function(t,e){return e},qt=function(t,e){var n=A(t)&&A(e);return n?Xt(t,e):e},Yt=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)Wt.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},Xt=Yt(qt),Zt=Yt(Gt),$t=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},Kt=Ut.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Jt=function(t){return Kt.defaultedThunk(i(t))},Qt=function(t){return Kt.mergeWithThunk(i(t))},te=Kt.strict,ee=Kt.asOption,ne=Kt.defaultedThunk,re=(Kt.asDefaultedOptionThunk,Kt.mergeWithThunk),oe=(Ut.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){var e=[],n=[];return q(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}),ie=function(t,e){var n={};return Dt(t,(function(t,r){j(e,r)||(n[r]=t)})),n},ae=function(t,e){var n;return n={},n[t]=e,n},ue=function(t){var e={};return q(t,(function(t){e[t.key]=t.value})),e},se=function(t,e){return ie(t,e)},ce=function(t,e){return ae(t,e)},le=function(t){return ue(t)},fe=function(t,e){return 0===t.length?gt.value(e):gt.value(Xt(e,Zt.apply(void 0,t)))},de=function(t){return gt.error(et(t))},he=function(t,e){var n=oe(t);return n.errors.length>0?de(n.errors):fe(n.values,e)},pe=function(t,e){return t.length>0?At.svalue(Xt(e,Zt.apply(void 0,t))):At.svalue(e)},me=function(t){return r(At.serror,et)(t)},ge=function(t,e){var n=At.partition(t);return n.errors.length>0?me(n.errors):pe(n.values,e)},ve=function(t){var e=At.partition(t);return e.errors.length>0?me(e.errors):At.svalue(e.values)},ye={consolidateObj:ge,consolidateArr:ve},be=function(t){return A(t)&&Ot(t).length>100?" removed due to size":JSON.stringify(t,null,2)},xe=function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t;return G(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))},we=function(t,e){return At.serror([{path:t,getErrorInfo:e}])},_e=function(t,e,n){return we(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+be(n)}))},Se=function(t,e){return we(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))},Ce=function(t,e,n){return we(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+be(e)}))},ke=function(t,e){return we(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))},Te=function(t,e){return we(t,(function(){return e}))},Ae=Ut.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Oe=function(t,e,n){return Vt(e,n).fold((function(){return _e(t,n,e)}),At.svalue)},Me=function(t,e,n){var r=Vt(t,e).fold((function(){return n(t)}),a);return At.svalue(r)},De=function(t,e){return At.svalue(Vt(t,e))},Ie=function(t,e,n){var r=Vt(t,e).map((function(e){return!0===e?n(t):e}));return At.svalue(r)},Ee=function(t,e,n,r){return n.fold((function(n,o,a,u){var s=function(e){var i=u.extract(t.concat([n]),r,e);return At.map(i,(function(t){return ae(o,r(t))}))},c=function(e){return e.fold((function(){var t=ae(o,r(w.none()));return At.svalue(t)}),(function(e){var i=u.extract(t.concat([n]),r,e);return At.map(i,(function(t){return ae(o,r(w.some(t)))}))}))};return function(){return a.fold((function(){return At.bind(Oe(t,e,n),s)}),(function(t){return At.bind(Me(e,n,t),s)}),(function(){return At.bind(De(e,n),c)}),(function(t){return At.bind(Ie(e,n,t),c)}),(function(t){var r=t(e),o=At.map(Me(e,n,i({})),(function(t){return Xt(r,t)}));return At.bind(o,s)}))}()}),(function(t,n){var o=n(e);return At.svalue(ae(t,r(o)))}))},Re=function(t,e,n,r){var o=G(n,(function(n){return Ee(t,e,n,r)}));return ye.consolidateObj(o,{})},Ne=function(t){var e=function(e,n,r){return t().extract(e,n,r)},n=function(){return t().toString()};return{extract:e,toString:n}},Pe=function(t){var e=function(e,n,r){return At.bindError(t(r,n),(function(t){return Te(e,t)}))},n=function(){return"val"};return{extract:e,toString:n}},Le=function(t){return Ot(Pt(t,(function(t){return void 0!==t&&null!==t})))},Be=function(t){var e=ze(t),n=$(t,(function(t,e){return e.fold((function(e){return Xt(t,ce(e,!0))}),i(t))}),{}),r=function(t,r,o){var i=M(o)?[]:Le(o),a=Z(i,(function(t){return!jt(n,t)}));return 0===a.length?e.extract(t,r,o):ke(t,a)};return{extract:r,toString:e.toString}},ze=function(t){var e=function(e,n,r){return Re(e,r,t,n)},n=function(){var e=G(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}));return"obj{\n"+e.join("\n")+"}"};return{extract:e,toString:n}},Ve=function(t){var e=function(e,n,r){var o=G(r,(function(r,o){return t.extract(e.concat(["["+o+"]"]),n,r)}));return ye.consolidateArr(o)},n=function(){return"array("+t.toString()+")"};return{extract:e,toString:n}},Fe=function(t){var e=function(e,n,r){for(var o=[],i=0,a=t;i<a.length;i++){var u=a[i],s=u.extract(e,n,r);if(s.stype===g.Value)return s;o.push(s)}return ye.consolidateArr(o)},n=function(){return"oneOf("+G(t,(function(t){return t.toString()})).join(", ")+")"};return{extract:e,toString:n}},je=function(t,e){var n=function(e,n){return Ve(Pe(t)).extract(e,a,n)},r=function(t,r,o){var i=Ot(o),a=n(t,i);return At.bind(a,(function(n){var i=G(n,(function(t){return Ae.field(t,t,te(),e)}));return ze(i).extract(t,r,o)}))},o=function(){return"setOf("+e.toString()+")"};return{extract:r,toString:o}},He=function(t,e){var n=$t((function(){return e()})),r=function(t,e,r){return n().extract(t,e,r)},o=function(){return n().toString()};return{extract:r,toString:o}},Ue=i(Pe(At.svalue)),We=r(Ve,ze),Ge=Ae.state,qe=Ae.field,Ye=function(t,e,n,r,o){var i=Vt(r,o);return i.fold((function(){return Ce(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),e,n)}))},Xe=function(t,e){var n=function(n,r,o){var i=Vt(o,t);return i.fold((function(){return Se(n,t)}),(function(t){return Ye(n,r,o,e,t)}))},r=function(){return"chooseOn("+t+"). Possible values: "+Ot(e)};return{extract:n,toString:r}},Ze=Pe(At.svalue),$e=function(t){return We(t)},Ke=function(){return Ve(Ze)},Je=Ne,Qe=function(t){return Pe((function(e){return t(e).fold(At.serror,At.svalue)}))},tn=function(t,e){return je((function(e){return At.fromResult(t(e))}),e)},en=function(t,e,n,r){var o=e.extract([t],n,r);return At.mapError(o,(function(t){return{input:r,errors:t}}))},nn=function(t,e,n){return At.toResult(en(t,e,a,n))},rn=function(t){return t.fold((function(t){throw new Error(an(t))}),a)},on=function(t,e,n){return rn(nn(t,e,n))},an=function(t){return"Errors: \n"+xe(t.errors).join("\n")+"\n\nInput object: "+be(t.input)},un=function(t,e){return Xe(t,e)},sn=function(t,e){return Xe(t,It(e,ze))},cn=function(t,e){return He(t,e)},ln=i(Ze),fn=function(t,e){return Pe((function(n){var r=typeof n;return t(n)?At.svalue(n):At.serror("Expected type: "+e+" but got: "+r)}))},dn=fn(N,"number"),hn=fn(T,"string"),pn=fn(M,"boolean"),mn=fn(R,"function"),gn=function(t){var e=function(t,e){var n=t.next();while(!n.done){if(!e(n.value))return!1;n=t.next()}return!0};if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every((function(e){return gn(t[e])}));case"Map":return e(t.keys(),gn)&&e(t.values(),gn);case"Set":return e(t.keys(),gn);default:return!1}},vn=Pe((function(t){return gn(t)?At.svalue(t):At.serror("Expected value to be acceptable for sending via postMessage")})),yn=function(t){return Qe((function(e){return j(t,e)?gt.value(e):gt.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')}))},bn=function(t){return qe(t,t,te(),Ue())},xn=function(t,e){return qe(t,t,te(),e)},wn=function(t){return xn(t,dn)},_n=function(t){return xn(t,hn)},Sn=function(t,e){return qe(t,t,te(),yn(e))},Cn=function(t){return xn(t,pn)},kn=function(t){return xn(t,mn)},Tn=function(t,e){return qe(t,t,ee(),Pe((function(n){return At.serror("The field: "+t+" is forbidden. "+e)})))},An=function(t,e){return qe(t,t,te(),ze(e))},On=function(t,e){return qe(t,t,te(),We(e))},Mn=function(t,e){return qe(t,t,te(),Ve(e))},Dn=function(t){return qe(t,t,ee(),Ue())},In=function(t,e){return qe(t,t,ee(),e)},En=function(t){return In(t,dn)},Rn=function(t){return In(t,hn)},Nn=function(t){return In(t,mn)},Pn=function(t,e){return In(t,Ve(e))},Ln=function(t,e){return In(t,ze(e))},Bn=function(t,e){return In(t,Be(e))},zn=function(t,e){return qe(t,t,Jt(e),Ue())},Vn=function(t,e,n){return qe(t,t,Jt(e),n)},Fn=function(t,e){return Vn(t,e,dn)},jn=function(t,e){return Vn(t,e,hn)},Hn=function(t,e,n){return Vn(t,e,yn(n))},Un=function(t,e){return Vn(t,e,pn)},Wn=function(t,e){return Vn(t,e,mn)},Gn=function(t,e){return Vn(t,e,vn)},qn=function(t,e,n){return Vn(t,e,Ve(n))},Yn=function(t,e,n){return Vn(t,e,ze(n))},Xn=function(t,e){return Ge(t,e)},Zn=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},$n=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Qn(r.childNodes[0])},Kn=function(t,e){var n=e||document,r=n.createElement(t);return Qn(r)},Jn=function(t,e){var n=e||document,r=n.createTextNode(t);return Qn(r)},Qn=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},tr=function(t,e,n){return w.from(t.dom.elementFromPoint(e,n)).map(Qn)},er={fromHtml:$n,fromTag:Kn,fromText:Jn,fromDom:Qn,fromPoint:tr},nr=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),s=u||r("(pointer:coarse)"),c=o||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:i(o),isiPhone:i(a),isTablet:i(c),isPhone:i(l),isTouch:i(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:i(f),isDesktop:i(d)}},rr=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},or=function(t,e){var n=rr(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return ur(r(1),r(2))},ir=function(t,e){var n=String(e).toLowerCase();return 0===t.length?ar():or(t,n)},ar=function(){return ur(0,0)},ur=function(t,e){return{major:t,minor:e}},sr={nu:ur,detect:ir,unknown:ar},cr=function(t,e){var n=String(e).toLowerCase();return Q(t,(function(t){return t.search(n)}))},lr=function(t,e){return cr(t,e).map((function(t){var n=sr.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},fr=function(t,e){return cr(t,e).map((function(t){var n=sr.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},dr={detectBrowser:lr,detectOs:fr},hr=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},pr=function(t,e){return-1!==t.indexOf(e)},mr=function(t,e){return hr(t,e,t.length-e.length)},gr=function(t){return function(e){return e.replace(t,"")}},vr=gr(/^\s+|\s+$/g),yr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,br=function(t){return function(e){return pr(e,t)}},xr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return pr(t,"edge/")&&pr(t,"chrome")&&pr(t,"safari")&&pr(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yr],search:function(t){return pr(t,"chrome")&&!pr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return pr(t,"msie")||pr(t,"trident")}},{name:"Opera",versionRegexes:[yr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:br("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:br("firefox")},{name:"Safari",versionRegexes:[yr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(pr(t,"safari")||pr(t,"mobile/"))&&pr(t,"applewebkit")}}],wr=[{name:"Windows",search:br("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return pr(t,"iphone")||pr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:br("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:br("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:br("linux"),versionRegexes:[]},{name:"Solaris",search:br("sunos"),versionRegexes:[]},{name:"FreeBSD",search:br("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:br("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_r={browsers:i(xr),oses:i(wr)},Sr="Edge",Cr="Chrome",kr="IE",Tr="Opera",Ar="Firefox",Or="Safari",Mr=function(){return Dr({current:void 0,version:sr.unknown()})},Dr=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(Sr),isChrome:r(Cr),isIE:r(kr),isOpera:r(Tr),isFirefox:r(Ar),isSafari:r(Or)}},Ir={unknown:Mr,nu:Dr,edge:i(Sr),chrome:i(Cr),ie:i(kr),opera:i(Tr),firefox:i(Ar),safari:i(Or)},Er="Windows",Rr="iOS",Nr="Android",Pr="Linux",Lr="OSX",Br="Solaris",zr="FreeBSD",Vr="ChromeOS",Fr=function(){return jr({current:void 0,version:sr.unknown()})},jr=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Er),isiOS:r(Rr),isAndroid:r(Nr),isOSX:r(Lr),isLinux:r(Pr),isSolaris:r(Br),isFreeBSD:r(zr),isChromeOS:r(Vr)}},Hr={unknown:Fr,nu:jr,windows:i(Er),ios:i(Rr),android:i(Nr),linux:i(Pr),osx:i(Lr),solaris:i(Br),freebsd:i(zr),chromeos:i(Vr)},Ur=function(t,e){var n=_r.browsers(),r=_r.oses(),o=dr.detectBrowser(n,t).fold(Ir.unknown,Ir.nu),i=dr.detectOs(r,t).fold(Hr.unknown,Hr.nu),a=nr(i,o,t,e);return{browser:o,os:i,deviceType:a}},Wr={detect:Ur},Gr=function(t){return window.matchMedia(t).matches},qr=$t((function(){return Wr.detect(navigator.userAgent,Gr)})),Yr=function(){return qr()},Xr=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},Zr=function(t,e){return Xr(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},$r=9,Kr=11,Jr=1,Qr=3,to=function(t,e){var n=t.dom;if(n.nodeType!==Jr)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},eo=function(t){return t.nodeType!==Jr&&t.nodeType!==$r&&t.nodeType!==Kr||0===t.childElementCount},no=function(t,e){var n=void 0===e?document:e.dom;return eo(n)?[]:G(n.querySelectorAll(t),er.fromDom)},ro=function(t,e){var n=void 0===e?document:e.dom;return eo(n)?w.none():w.from(n.querySelector(t)).map(er.fromDom)},oo=function(t,e){return t.dom===e.dom},io=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},ao=function(t,e){return Zr(t.dom,e.dom)},uo=function(t,e){return Yr().browser.isIE()?ao(t,e):io(t,e)},so=function(t){return R(t)?t:l},co=function(t,e,n){var r=t.dom,o=so(n);while(r.parentNode){r=r.parentNode;var i=er.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return w.none()},lo=function(t,e,n){var r=e(t),o=so(n);return r.orThunk((function(){return o(t)?w.none():co(t,e,o)}))},fo=function(t,e){return oo(t.element,e.event.target)},ho=function(t){if(!jt(t,"can")&&!jt(t,"abort")&&!jt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return on("Extracting event.handler",Be([zn("can",f),zn("abort",l),zn("run",e)]),t)},po=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return K(t,(function(t,r){return t&&e(r).apply(void 0,n)}),!0)}},mo=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return K(t,(function(t,r){return t||e(r).apply(void 0,n)}),!1)}},go=function(t){return R(t)?{can:i(!0),abort:i(!1),run:t}:t},vo=function(t){var e=po(t,(function(t){return t.can})),n=mo(t,(function(t){return t.abort})),r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];q(t,(function(t){t.run.apply(void 0,e)}))};return ho({can:e,abort:n,run:r})},yo=i,bo=yo("touchstart"),xo=yo("touchmove"),wo=yo("touchend"),_o=yo("touchcancel"),So=yo("mousedown"),Co=yo("mousemove"),ko=yo("mouseout"),To=yo("mouseup"),Ao=yo("mouseover"),Oo=yo("focusin"),Mo=yo("focusout"),Do=yo("keydown"),Io=yo("keyup"),Eo=yo("input"),Ro=yo("change"),No=yo("click"),Po=yo("transitionend"),Lo=yo("selectstart"),Bo=function(t){return i("alloy."+t)},zo={tap:Bo("tap")},Vo=Bo("focus"),Fo=Bo("blur.post"),jo=Bo("paste.post"),Ho=Bo("receive"),Uo=Bo("execute"),Wo=Bo("focus.item"),Go=zo.tap,qo=Bo("longpress"),Yo=Bo("sandbox.close"),Xo=Bo("typeahead.cancel"),Zo=Bo("system.init"),$o=Bo("system.touchmove"),Ko=Bo("system.touchend"),Jo=Bo("system.scroll"),Qo=Bo("system.resize"),ti=Bo("system.attached"),ei=Bo("system.detached"),ni=Bo("system.dismissRequested"),ri=Bo("system.repositionRequested"),oi=Bo("focusmanager.shifted"),ii=Bo("slotcontainer.visibility"),ai=Bo("change.tab"),ui=Bo("dismiss.tab"),si=Bo("highlight"),ci=Bo("dehighlight"),li=function(t,e){pi(t,t.element,e,{})},fi=function(t,e,n){pi(t,t.element,e,n)},di=function(t){li(t,Uo())},hi=function(t,e,n){pi(t,e,n,{})},pi=function(t,e,n,r){var o=h({target:e},r);t.getSystem().triggerEvent(n,e,o)},mi=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event)},gi=function(t){return le(t)},vi=function(t,e){return{key:t,value:ho({abort:e})}},yi=function(t,e){return{key:t,value:ho({can:e})}},bi=function(t){return{key:t,value:ho({run:function(t,e){e.event.prevent()}})}},xi=function(t,e){return{key:t,value:ho({run:e})}},wi=function(t,e,n){return{key:t,value:ho({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},_i=function(t){return function(e){return xi(t,e)}},Si=function(t){return function(e){return{key:t,value:ho({run:function(t,n){fo(t,n)&&e(t,n)}})}}},Ci=function(t,e){return xi(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){mi(e,e.element,t,r)}))}))},ki=function(t,e,n){var r=e.partUids[n];return Ci(t,r)},Ti=function(t,e){return xi(t,(function(t,n){var r=n.event,o=t.getSystem().getByDom(r.target).fold((function(){var e=lo(r.target,(function(e){return t.getSystem().getByDom(e).toOptional()}),l);return e.getOr(t)}),(function(t){return t}));e(t,o,n)}))},Ai=function(t){return xi(t,(function(t,e){e.cut()}))},Oi=function(t){return xi(t,(function(t,e){e.stop()}))},Mi=function(t,e){return Si(t)(e)},Di=Si(ti()),Ii=Si(ei()),Ei=Si(Zo()),Ri=_i(Uo()),Ni=("undefined"!==typeof window?window:Function("return this;")(),function(t){var e=t.dom.nodeName;return e.toLowerCase()}),Pi=function(t){return t.dom.nodeType},Li=function(t){return function(e){return Pi(e)===t}},Bi=Li(Jr),zi=Li(Qr),Vi=Li($r),Fi=Li(Kr),ji=function(t){return er.fromDom(t.dom.ownerDocument)},Hi=function(t){return Vi(t)?t:ji(t)},Ui=function(t){return er.fromDom(Hi(t).dom.documentElement)},Wi=function(t){return er.fromDom(Hi(t).dom.defaultView)},Gi=function(t){return w.from(t.dom.parentNode).map(er.fromDom)},qi=function(t){return Gi(t)},Yi=function(t){return w.from(t.dom.offsetParent).map(er.fromDom)},Xi=function(t){return w.from(t.dom.nextSibling).map(er.fromDom)},Zi=function(t){return G(t.dom.childNodes,er.fromDom)},$i=function(t,e){var n=t.dom.childNodes;return w.from(n[e]).map(er.fromDom)},Ki=function(t){return $i(t,0)},Ji=function(t,e){var n=Gi(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},Qi=function(t,e){var n=Xi(t);n.fold((function(){var n=Gi(t);n.each((function(t){ea(t,e)}))}),(function(t){Ji(t,e)}))},ta=function(t,e){var n=Ki(t);n.fold((function(){ea(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},ea=function(t,e){t.dom.appendChild(e.dom)},na=function(t,e,n){$i(t,n).fold((function(){ea(t,e)}),(function(t){Ji(t,e)}))},ra=function(t,e){q(e,(function(e){Ji(t,e)}))},oa=function(t,e){q(e,(function(e){ea(t,e)}))},ia=function(t){t.dom.textContent="",q(Zi(t),(function(t){aa(t)}))},aa=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},ua=function(t){var e=Zi(t);e.length>0&&ra(t,e),aa(t)},sa=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,Zi(er.fromDom(r))},ca=function(t){return t.dom.innerHTML},la=function(t,e){var n=ji(t),r=n.dom,o=er.fromDom(r.createDocumentFragment()),i=sa(e,r);oa(o,i),ia(t),ea(t,o)},fa=function(t){var e=er.fromTag("div"),n=er.fromDom(t.dom.cloneNode(!0));return ea(e,n),ca(e)},da=function(t,e,n){if(!(T(n)||M(n)||N(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},ha=function(t,e,n){da(t.dom,e,n)},pa=function(t,e){var n=t.dom;Dt(e,(function(t,e){da(n,e,t)}))},ma=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},ga=function(t,e){return w.from(ma(t,e))},va=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},ya=function(t,e){t.dom.removeAttribute(e)},ba=function(t,e){return er.fromDom(t.dom.cloneNode(e))},xa=function(t){return ba(t,!1)},wa=function(t){var e=xa(t);return fa(e)},_a=function(t){return wa(t)},Sa=function(t,e,n){return oo(e,t.element)&&!oo(e,n)},Ca=gi([yi(Vo(),(function(t,e){var n=e.event,r=n.originator,o=n.target;return!Sa(t,r,o)||(console.warn(Vo()+" did not get interpreted by the desired target. \nOriginator: "+_a(r)+"\nTarget: "+_a(o)+"\nCheck the "+Vo()+" event handlers"),!1)}))]),ka=Object.freeze({__proto__:null,events:Ca}),Ta=0,Aa=function(t){var e=new Date,n=e.getTime(),r=Math.floor(1e9*Math.random());return Ta++,t+"_"+r+Ta+String(n)},Oa=i("alloy-id-"),Ma=i("data-alloy-id"),Da=Oa(),Ia=Ma(),Ea=function(t,e){var n=Aa(Da+t);return Ra(e,n),n},Ra=function(t,e){Object.defineProperty(t.dom,Ia,{value:e,writable:!0})},Na=function(t){var e=Bi(t)?t.dom[Ia]:null;return w.from(e)},Pa=function(t){return Aa(t)},La=a,Ba=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+_a(t().element)+" is not in context.":""))}};return{debugInfo:i("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:l}},za=Ba(),Va=function(t,e,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Fa(a.slice(0,1).concat(a.slice(3)))}},t},Fa=function(t){return G(t,(function(t){return mr(t,"/*")?t.substring(0,t.length-"/*".length):t}))},ja=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Fa(i)}},t},Ha=function(t,e){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Fa(i.slice(1))}},t},Ua=Aa("alloy-premade"),Wa=function(t){return ce(Ua,t)},Ga=function(t){return Vt(t,Ua)},qa=function(t){return Ha((function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.apply(void 0,m([e.getApis(),e],n))}),t)},Ya={init:function(){return Xa({readState:function(){return"No State required"}})}},Xa=function(t){return t},Za=function(t,e){var n=G(e,(function(t){return Ln(t.name(),[bn("config"),zn("state",Ya)])})),r=nn("component.behaviours",ze(n),t.behaviours).fold((function(e){throw new Error(an(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}));return{list:e,data:It(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return function(){return e}}))}},$a=function(t){return t.list},Ka=function(t){return t.data},Ja=function(t,e){var n={};return Dt(t,(function(t,r){Dt(t,(function(t,o){var i=Vt(n,o).getOr([]);n[o]=i.concat([e(r,t)])}))})),n},Qa=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}},tu=function(t,e){return h(h({},t),{attributes:h(h({},t.attributes),e.attributes),styles:h(h({},t.styles),e.styles),classes:t.classes.concat(e.classes)})},eu=function(t,e,n,r){var o=h({},e);q(n,(function(e){o[e.name()]=e.exhibit(t,r)}));var i=Ja(o,(function(t,e){return{name:t,modification:e}})),a=function(t){return $(t,(function(t,e){return h(h({},e.modification),t)}),{})},u=$(i.classes,(function(t,e){return e.modification.concat(t)}),[]),s=a(i.attributes),c=a(i.styles);return Qa({classes:u,attributes:s,styles:c})},nu=function(t,e,n,r){try{var o=ut(n,(function(n,o){var i=n[e],a=o[e],u=r.indexOf(i),s=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===s)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<s?-1:s<u?1:0}));return gt.value(o)}catch(i){return gt.error([i])}},ru=function(t,e){return{handler:t,purpose:e}},ou=function(t,e){return{cHandler:t,purpose:e}},iu=function(t,e){return ou(u.apply(void 0,[t.handler].concat(e)),t.purpose)},au=function(t){return t.cHandler},uu=function(t,e){return{name:t,handler:e}},su=function(t,e){var n={};return q(t,(function(t){n[t.name()]=t.handlers(e)})),n},cu=function(t,e,n){var r=h(h({},n),su(e,t));return Ja(r,uu)},lu=function(t,e,n,r){var o=cu(t,n,r);return pu(o,e)},fu=function(t){var e=go(t);return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[t,n].concat(r);e.abort.apply(void 0,i)?n.stop():e.can.apply(void 0,i)&&e.run.apply(void 0,i)}},du=function(t,e){return gt.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(G(e,(function(t){return t.name})),null,2)])},hu=function(t,e,n){var r=e[n];return r?nu("Event: "+n,"name",t,r).map((function(t){var e=G(t,(function(t){return t.handler}));return vo(e)})):du(n,t)},pu=function(t,e){var n=Lt(t,(function(t,n){var r=1===t.length?gt.value(t[0].handler):hu(t,e,n);return r.map((function(r){var o=fu(r),i=t.length>1?Z(e[n],(function(e){return H(t,(function(t){return t.name===e}))})).join(" > "):t[0].name;return ce(n,ru(o,i))}))}));return he(n,{})},mu="alloy.base.behaviour",gu=function(t){var e;return nn("custom.definition",ze([qe("dom","dom",te(),ze([bn("tag"),zn("styles",{}),zn("classes",[]),zn("attributes",{}),Dn("value"),Dn("innerHtml")])),bn("components"),bn("uid"),zn("events",{}),zn("apis",{}),qe("eventOrder","eventOrder",Qt((e={},e[Uo()]=["disabling",mu,"toggling","typeaheadevents"],e[Vo()]=[mu,"focusing","keying"],e[Zo()]=[mu,"disabling","toggling","representing"],e[Eo()]=[mu,"representing","streaming","invalidating"],e[ei()]=[mu,"representing","item-events","tooltipping"],e[So()]=["focusing",mu,"item-type-events"],e[bo()]=["focusing",mu,"item-type-events"],e[Ao()]=["item-type-events","tooltipping"],e[Ho()]=["receiving","reflecting","tooltipping"],e)),ln()),Dn("domModification")]),t)},vu=function(t){return h(h({},t.dom),{uid:t.uid,domChildren:G(t.components,(function(t){return t.element}))})},yu=function(t){return t.domModification.fold((function(){return Qa({})}),Qa)},bu=function(t){return t.events},xu=function(t,e){var n=ma(t,e);return void 0===n||""===n?[]:n.split(" ")},wu=function(t,e,n){var r=xu(t,e),o=r.concat([n]);return ha(t,e,o.join(" ")),!0},_u=function(t,e,n){var r=Z(xu(t,e),(function(t){return t!==n}));return r.length>0?ha(t,e,r.join(" ")):ya(t,e),!1},Su=function(t){return void 0!==t.dom.classList},Cu=function(t){return xu(t,"class")},ku=function(t,e){return wu(t,"class",e)},Tu=function(t,e){return _u(t,"class",e)},Au=function(t,e){Su(t)?t.dom.classList.add(e):ku(t,e)},Ou=function(t){var e=Su(t)?t.dom.classList:Cu(t);0===e.length&&ya(t,"class")},Mu=function(t,e){if(Su(t)){var n=t.dom.classList;n.remove(e)}else Tu(t,e);Ou(t)},Du=function(t,e){return Su(t)&&t.dom.classList.contains(e)},Iu=function(t,e){q(e,(function(e){Au(t,e)}))},Eu=function(t,e){q(e,(function(e){Mu(t,e)}))},Ru=function(t){return void 0!==t.style&&R(t.style.getPropertyValue)},Nu=function(t){return Fi(t)},Pu=R(Element.prototype.attachShadow)&&R(Node.prototype.getRootNode),Lu=i(Pu),Bu=Pu?function(t){return er.fromDom(t.dom.getRootNode())}:Hi,zu=function(t){return Nu(t)?t:er.fromDom(Hi(t).dom.body)},Vu=function(t){return Fu(t).isSome()},Fu=function(t){var e=Bu(t);return Nu(e)?w.some(e):w.none()},ju=function(t){return er.fromDom(t.dom.host)},Hu=function(t){if(Lu()&&E(t.target)){var e=er.fromDom(t.target);if(Bi(e)&&Uu(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return ct(n)}}return w.from(t.target)},Uu=function(t){return E(t.dom.shadowRoot)},Wu=function(t){var e=zi(t)?t.dom.parentNode:t.dom;if(void 0===e||null===e||null===e.ownerDocument)return!1;var n=e.ownerDocument;return Fu(er.fromDom(e)).fold((function(){return n.body.contains(e)}),o(Wu,ju))},Gu=function(){return qu(er.fromDom(document))},qu=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return er.fromDom(e)},Yu=function(t,e,n){if(!T(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);Ru(t)&&t.style.setProperty(e,n)},Xu=function(t,e){Ru(t)&&t.style.removeProperty(e)},Zu=function(t,e,n){var r=t.dom;Yu(r,e,n)},$u=function(t,e){var n=t.dom;Dt(e,(function(t,e){Yu(n,e,t)}))},Ku=function(t,e){var n=t.dom;Dt(e,(function(t,e){t.fold((function(){Xu(n,e)}),(function(t){Yu(n,e,t)}))}))},Ju=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||Wu(t)?o:Qu(n,e)},Qu=function(t,e){return Ru(t)?t.style.getPropertyValue(e):""},ts=function(t,e){var n=t.dom,r=Qu(n,e);return w.from(r).filter((function(t){return t.length>0}))},es=function(t){var e={},n=t.dom;if(Ru(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},ns=function(t,e,n){var r=er.fromTag(t);Zu(r,e,n);var o=ts(r,e);return o.isSome()},rs=function(t,e){var n=t.dom;Xu(n,e),ga(t,"style").map(vr).is("")&&ya(t,"style")},os=function(t){return t.dom.offsetWidth},is=function(t){return t.dom.value},as=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom.value=e},us=function(t){var e=er.fromTag(t.tag);pa(e,t.attributes),Iu(e,t.classes),$u(e,t.styles),t.innerHtml.each((function(t){return la(e,t)}));var n=t.domChildren;return oa(e,n),t.value.each((function(t){as(e,t)})),t.uid,Ra(e,t.uid),e},ss=function(t){var e=Vt(t,"behaviours").getOr({}),n=Z(Ot(e),(function(t){return void 0!==e[t]}));return G(n,(function(t){return e[t].me}))},cs=function(t,e){return Za(t,e)},ls=function(t){var e=ss(t);return cs(t,e)},fs=function(t,e,n){var r=vu(t),o=yu(t),i={"alloy.base.modification":o},a=e.length>0?eu(n,i,e,r):o;return tu(r,a)},ds=function(t,e,n){var r={"alloy.base.behaviour":bu(t)};return lu(n,t.eventOrder,e,r).getOrDie()},hs=function(t){var e=function(){return y},n=Zn(za),r=rn(gu(t)),o=ls(t),i=$a(o),a=Ka(o),u=fs(r,i,a),s=us(u),c=ds(r,i,a),l=Zn(r.components),f=function(t){n.set(t)},d=function(){n.set(Ba(e))},h=function(){var t=Zi(s),e=nt(t,(function(t){return n.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}));l.set(e)},p=function(e){var n=a,r=R(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))};return r()},m=function(t){return R(a[t.name()])},g=function(){return r.apis},v=function(t){return a[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},y={getSystem:n.get,config:p,hasConfigured:m,spec:t,readState:v,getApis:g,connect:f,disconnect:d,element:s,syncComponents:h,components:l.get,events:c};return y},ps=function(t){var e=Vt(t,"components").getOr([]);return G(e,bs)},ms=function(t){var e=La(t),n=e.events,r=p(e,["events"]),o=ps(r),i=h(h({},r),{events:h(h({},ka),n),components:o});return gt.value(hs(i))},gs=function(t){var e=er.fromText(t);return vs({element:e})},vs=function(t){var n=on("external.component",Be([bn("element"),Dn("uid")]),t),r=Zn(Ba()),o=function(t){r.set(t)},a=function(){r.set(Ba((function(){return u})))};n.uid.each((function(t){Ra(n.element,t)}));var u={getSystem:r.get,config:w.none,hasConfigured:l,connect:o,disconnect:a,getApis:function(){return{}},element:n.element,spec:t,readState:i("No state"),syncComponents:e,components:i([]),events:{}};return Wa(u)},ys=Pa,bs=function(t){return Ga(t).fold((function(){var e=t.hasOwnProperty("uid")?t:h({uid:ys("")},t);return ms(e).getOrDie()}),(function(t){return t}))},xs=Wa;function ws(t,e){var n=function(e,n){if(!N(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;Ru(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=Ju(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return K(e,(function(e,n){var r=Ju(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)},a=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}}var _s=ws("height",(function(t){var e=t.dom;return Wu(t)?e.getBoundingClientRect().height:e.offsetHeight})),Ss=function(t){return _s.get(t)},Cs=function(t){return _s.getOuter(t)},ks=function(t,e){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=_s.max(t,e,n);Zu(t,"max-height",r+"px")},Ts=function(t,e){var n=function(n,r){return Ts(t+n,e+r)};return{left:t,top:e,translate:n}},As=Ts,Os=function(t){var e=t.getBoundingClientRect();return As(e.left,e.top)},Ms=function(t,e){return void 0!==t?t:void 0!==e?e:0},Ds=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return As(n.offsetLeft,n.offsetTop);var i=Ms(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=Ms(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),u=Ms(o.clientTop,n.clientTop),s=Ms(o.clientLeft,n.clientLeft);return Is(t).translate(a-s,i-u)},Is=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?As(r.offsetLeft,r.offsetTop):Wu(t)?Os(e):As(0,0)},Es=ws("width",(function(t){return t.dom.offsetWidth})),Rs=function(t,e){return Es.set(t,e)},Ns=function(t){return Es.get(t)},Ps=function(t){return Es.getOuter(t)},Ls=function(t,e){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=Es.max(t,e,n);Zu(t,"max-width",r+"px")},Bs=function(t,e,n,r,o,i,a){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:a}},zs=function(t){var e=er.fromDom(Hu(t).getOr(t.target)),n=function(){return t.stopPropagation()},o=function(){return t.preventDefault()},i=r(o,n);return Bs(e,t.clientX,t.clientY,n,o,i,t)},Vs=function(t,e){return function(n){t(n)&&e(zs(n))}},Fs=function(t,e,n,r,o){var i=Vs(n,r);return t.dom.addEventListener(e,i,o),{unbind:u(Us,t,e,i,o)}},js=function(t,e,n,r){return Fs(t,e,n,r,!1)},Hs=function(t,e,n,r){return Fs(t,e,n,r,!0)},Us=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Ws=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return As(n,r)},Gs=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollTo(t,e)},qs=function(t){var e=void 0===t?window:t;return w.from(e["visualViewport"])},Ys=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},Xs=function(t){var e=void 0===t?window:t,n=e.document,r=Ws(er.fromDom(n));return qs(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return Ys(r.left,r.top,n,o)}),(function(t){return Ys(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},Zs=function(t,e){var n=t.view(e);return n.fold(i([]),(function(e){var n=t.owner(e),r=Zs(t,n);return[e].concat(r)}))},$s=function(t,e){var n=e.owner(t),r=Zs(e,n);return w.some(r)},Ks=function(t){var e,n=t.dom===document?w.none():w.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement);return n.map(er.fromDom)},Js=function(t){return ji(t)},Qs=Object.freeze({__proto__:null,view:Ks,owner:Js}),tc=function(t){var e=er.fromDom(document),n=Ws(e),r=$s(t,Qs);return r.fold(u(Ds,t),(function(e){var r=Is(t),o=$(e,(function(t,e){var n=Is(e);return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0});return As(o.left+r.left+n.left,o.top+r.top+n.top)}))},ec=function(t,e,n){return{point:t,width:e,height:n}},nc=function(t,e,n,r){return{x:t,y:e,width:n,height:r}},rc=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},oc=function(t){var e=Ds(t),n=Ps(t),r=Cs(t);return rc(e.left,e.top,n,r)},ic=function(t){var e=tc(t),n=Ps(t),r=Cs(t);return rc(e.left,e.top,n,r)},ac=function(){return Xs(window)};function uc(t,e,n,r,o){return t(n,r)?w.some(n):R(o)&&o(n)?w.none():e(n,r,o)}var sc,cc=function(t,e,n){var r=t.dom,o=R(n)?n:l;while(r.parentNode){r=r.parentNode;var i=er.fromDom(r);if(e(i))return w.some(i);if(o(i))break}return w.none()},lc=function(t,e,n){var r=function(t,e){return e(t)};return uc(r,cc,t,e,n)},fc=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=er.fromDom(t.childNodes[r]);if(e(o))return w.some(o);var i=n(t.childNodes[r]);if(i.isSome())return i}return w.none()};return n(t.dom)},dc=function(t,e,n){return lc(t,e,n).isSome()},hc=function(t,e,n){return cc(t,(function(t){return to(t,e)}),n)},pc=function(t,e){return ro(e,t)},mc=function(t,e,n){var r=function(t,e){return to(t,e)};return uc(r,hc,t,e,n)},gc=function(t){var e=lc(t,(function(t){if(!Bi(t))return!1;var e=ma(t,"id");return void 0!==e&&e.indexOf("aria-owns")>-1}));return e.bind((function(t){var e=ma(t,"id"),n=Bu(t);return pc(n,'[aria-owns="'+e+'"]')}))},vc=function(){var t=Aa("aria-owns"),e=function(e){ha(e,"aria-owns",t)},n=function(t){ya(t,"aria-owns")};return{id:t,link:e,unlink:n}},yc=function(t,e){return gc(e).exists((function(e){return bc(t,e)}))},bc=function(t,e){return dc(e,(function(e){return oo(e,t.element)}),l)||yc(t,e)},xc="unknown";(function(t){t[t["STOP"]=0]="STOP",t[t["NORMAL"]=1]="NORMAL",t[t["LOGGING"]=2]="LOGGING"})(sc||(sc={}));var wc,_c=Zn({}),Sc=function(t,e){var n=[],r=(new Date).getTime();return{logEventCut:function(t,e,r){n.push({outcome:"cut",target:e,purpose:r})},logEventStopped:function(t,e,r){n.push({outcome:"stopped",target:e,purpose:r})},logNoParent:function(t,e,r){n.push({outcome:"no-parent",target:e,purpose:r})},logEventNoHandlers:function(t,e){n.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,r){n.push({outcome:"response",purpose:r,target:e})},write:function(){var o=(new Date).getTime();j(["mousemove","mouseover","mouseout",Zo()],t)||console.log(t,{event:t,time:o-r,target:e.dom,sequence:G(n,(function(t){return j(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+_a(t.target)+")":t.outcome}))})}}},Cc=function(t,e,n){var r=Vt(_c.get(),t).orThunk((function(){var e=Ot(_c.get());return dt(e,(function(e){return t.indexOf(e)>-1?w.some(_c.get()[e]):w.none()}))})).getOr(sc.NORMAL);switch(r){case sc.NORMAL:return n(Mc());case sc.LOGGING:var o=Sc(t,e),i=n(o);return o.write(),i;case sc.STOP:return!0}},kc=["alloy/data/Fields","alloy/debugging/Debugging"],Tc=function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");return Q(e,(function(t){return t.indexOf("alloy")>0&&!H(kc,(function(e){return t.indexOf(e)>-1}))})).getOr(xc)}return xc},Ac={logEventCut:e,logEventStopped:e,logNoParent:e,logEventNoHandlers:e,logEventResponse:e,write:e},Oc=function(t,e,n){return Cc(t,e,n)},Mc=i(Ac),Dc=i([bn("menu"),bn("selectedMenu")]),Ic=i([bn("item"),bn("selectedItem")]),Ec=(i(ze(Ic().concat(Dc()))),i(ze(Ic()))),Rc=An("initSize",[bn("numColumns"),bn("numRows")]),Nc=function(){return xn("markers",Ec())},Pc=function(){return An("markers",[bn("backgroundMenu")].concat(Dc()).concat(Ic()))},Lc=function(t){return An("markers",G(t,bn))},Bc=function(t,e,n){Tc();return qe(e,e,n,Qe((function(t){return gt.value((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(void 0,e)}))})))},zc=function(t){return Bc("onHandler",t,Jt(e))},Vc=function(t){return Bc("onKeyboardHandler",t,Jt(w.none))},Fc=function(t){return Bc("onHandler",t,te())},jc=function(t){return Bc("onKeyboardHandler",t,te())},Hc=function(t,e){return Xn(t,i(e))},Uc=function(t){return Xn(t,a)},Wc=i(Rc),Gc=function(t,e,n,r,o,i){return{x:t,y:e,bubble:n,direction:r,boundsRestriction:o,label:i}},qc=Ut.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Yc=function(t,e,n,r,o,i,a,u,s){return t.fold(e,n,r,o,i,a,u,s)},Xc=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)},Zc=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)},$c=qc.southeast,Kc=qc.southwest,Jc=qc.northeast,Qc=qc.northwest,tl=qc.south,el=qc.north,nl=qc.east,rl=qc.west,ol=function(t,e){switch(e){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},il=function(t,e){return at(["left","right","top","bottom"],(function(n){return Vt(e,n).map((function(e){return ol(t,e)}))}))},al=function(t,e,n){var r=function(t,r){var o="top"===t||"bottom"===t?n.top:n.left;return Vt(e,t).bind(a).bind((function(e){return"left"===t||"top"===t?e>=r?w.some(e):w.none():e<=r?w.some(e):w.none()})).map((function(t){return t+o})).getOr(r)},o=r("left",t.x),i=r("top",t.y),u=r("right",t.right),s=r("bottom",t.bottom);return rc(o,i,u-o,s-i)},ul=function(t){return t.x},sl=function(t,e){return t.x+t.width/2-e.width/2},cl=function(t,e){return t.x+t.width-e.width},ll=function(t,e){return t.y-e.height},fl=function(t){return t.y+t.height},dl=function(t,e){return t.y+t.height/2-e.height/2},hl=function(t){return t.x+t.width},pl=function(t,e){return t.x-e.width},ml=function(t,e,n){return Gc(ul(t),fl(t),n.southeast(),$c(),il(t,{left:1,top:3}),"layout-se")},gl=function(t,e,n){return Gc(cl(t,e),fl(t),n.southwest(),Kc(),il(t,{right:0,top:3}),"layout-sw")},vl=function(t,e,n){return Gc(ul(t),ll(t,e),n.northeast(),Jc(),il(t,{left:1,bottom:2}),"layout-ne")},yl=function(t,e,n){return Gc(cl(t,e),ll(t,e),n.northwest(),Qc(),il(t,{right:0,bottom:2}),"layout-nw")},bl=function(t,e,n){return Gc(sl(t,e),ll(t,e),n.north(),el(),il(t,{bottom:2}),"layout-n")},xl=function(t,e,n){return Gc(sl(t,e),fl(t),n.south(),tl(),il(t,{top:3}),"layout-s")},wl=function(t,e,n){return Gc(hl(t),dl(t,e),n.east(),nl(),il(t,{left:0}),"layout-e")},_l=function(t,e,n){return Gc(pl(t,e),dl(t,e),n.west(),rl(),il(t,{right:1}),"layout-w")},Sl=function(){return[ml,gl,vl,yl,xl,bl,wl,_l]},Cl=function(){return[gl,ml,yl,vl,xl,bl,wl,_l]},kl=function(){return[vl,yl,ml,gl,bl,xl]},Tl=function(){return[yl,vl,gl,ml,bl,xl]},Al=function(){return[ml,gl,vl,yl,xl,bl]},Ol=function(){return[gl,ml,yl,vl,xl,bl]},Ml=function(t,e){return e.universal?t:Z(t,(function(t){return j(e.channels,t)}))},Dl=function(t){return gi([xi(Ho(),(function(e,n){var r=t.channels,o=Ot(r),i=n,a=Ml(o,i);q(a,(function(t){var n=r[t],o=n.schema,a=on("channel["+t+"] data\nReceiver: "+_a(e.element),o,i.data);n.onReceive(e,a)}))}))])},Il=Object.freeze({__proto__:null,events:Dl}),El=[xn("channels",tn(gt.value,Be([Fc("onReceive"),zn("schema",ln())])))],Rl=function(t,e,n){return Ri((function(r){n(r,t,e)}))},Nl=function(t,e,n){return Ei((function(r,o){n(r,t,e)}))},Pl=function(t,e,n,r,o,i){var a=Be(t),u=Ln(e,[Bn("config",t)]);return Vl(a,u,e,n,r,o,i)},Ll=function(t,e,n,r,o,i){var a=t,u=Ln(e,[In("config",t)]);return Vl(a,u,e,n,r,o,i)},Bl=function(t,e,n){var r=function(r){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var u=[r].concat(o);return r.config({name:i(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(u,1);return e.apply(void 0,[r,t.config,t.state].concat(n))}))};return Va(r,n,e)},zl=function(t){return{key:t,value:void 0}},Vl=function(t,e,n,r,o,i,a){var s=function(t){return jt(t,n)?t[n]():w.none()},c=It(o,(function(t,e){return Bl(n,t,e)})),l=It(i,(function(t,e){return ja(t,e)})),f=h(h(h({},l),c),{revoke:u(zl,n),config:function(e){var r=on(n+"-config",t,e);return{key:n,value:{config:r,me:f,configAsRaw:$t((function(){return on(n+"-config",t,e)})),initialConfig:e,state:a}}},schema:function(){return e},exhibit:function(t,e){return s(t).bind((function(t){return Vt(r,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(Qa({}))},name:function(){return n},handlers:function(t){return s(t).map((function(t){var e=Vt(r,"events").getOr((function(){return{}}));return e(t.config,t.state)})).getOr({})}});return f},Fl=function(t){return le(t)},jl=Be([bn("fields"),bn("name"),zn("active",{}),zn("apis",{}),zn("state",Ya),zn("extra",{})]),Hl=function(t){var e=on("Creating behaviour: "+t.name,jl,t);return Pl(e.fields,e.name,e.active,e.apis,e.extra,e.state)},Ul=Be([bn("branchKey"),bn("branches"),bn("name"),zn("active",{}),zn("apis",{}),zn("state",Ya),zn("extra",{})]),Wl=function(t){var e=on("Creating behaviour: "+t.name,Ul,t);return Ll(sn(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},Gl=i(void 0),ql=Hl({fields:El,name:"receiving",active:Il}),Yl=function(t,e){return Qa({classes:[],styles:e.useFixed()?{}:{position:"relative"}})},Xl=Object.freeze({__proto__:null,exhibit:Yl}),Zl=function(){return er.fromDom(document)},$l=function(t){return t.dom.focus()},Kl=function(t){return t.dom.blur()},Jl=function(t){var e=Bu(t).dom;return t.dom===e.activeElement},Ql=function(t){return void 0===t&&(t=Zl()),w.from(t.dom.activeElement).map(er.fromDom)},tf=function(t){return Ql(Bu(t)).filter((function(e){return t.dom.contains(e.dom)}))},ef=function(t,n){var r=Bu(n),o=Ql(r).bind((function(t){var e=function(e){return oo(t,e)};return e(n)?w.some(n):fc(n,e)})),i=t(n);return o.each((function(t){Ql(r).filter((function(e){return oo(e,t)})).fold((function(){$l(t)}),e)})),i},nf=function(t,e,n,r,o){return{position:t,left:e,top:n,right:r,bottom:o}},rf=function(t,e){var n=function(t){return t+"px"};Ku(t,{position:w.some(e.position),left:e.left.map(n),top:e.top.map(n),right:e.right.map(n),bottom:e.bottom.map(n)})},of=Ut.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),af=function(t,e,n,r,o,i){var a=e.x-n,u=e.y-r,s=e.width,c=e.height,l=o-(a+s),f=i-(u+c),d=w.some(a),h=w.some(u),p=w.some(l),m=w.some(f),g=w.none();return Yc(e.direction,(function(){return nf(t,d,h,g,g)}),(function(){return nf(t,g,h,p,g)}),(function(){return nf(t,d,g,g,m)}),(function(){return nf(t,g,g,p,m)}),(function(){return nf(t,d,h,g,g)}),(function(){return nf(t,d,g,g,m)}),(function(){return nf(t,d,h,g,g)}),(function(){return nf(t,g,h,p,g)}))},uf=function(t,e){return t.fold((function(){return nf("absolute",w.some(e.x),w.some(e.y),w.none(),w.none())}),(function(t,n,r,o){return af("absolute",e,t,n,r,o)}),(function(t,n,r,o){return af("fixed",e,t,n,r,o)}))},sf=function(t,e){var n=u(tc,e),r=t.fold(n,n,(function(){var t=Ws();return tc(e).translate(-t.left,-t.top)})),o=Ps(e),i=Cs(e);return rc(r.left,r.top,o,i)},cf=function(t,e){return e.fold((function(){return t.fold(ac,ac,rc)}),(function(e){return t.fold(e,e,(function(){var n=e(),r=lf(t,n.x,n.y);return rc(r.left,r.top,n.width,n.height)}))}))},lf=function(t,e,n){var r=As(e,n),o=function(){var t=Ws();return r.translate(-t.left,-t.top)};return t.fold(i(r),i(r),o)},ff=function(t,e,n,r){return t.fold(e,n,r)},df=(of.none,of.relative),hf=of.fixed,pf=function(t,e){return{anchorBox:t,origin:e}},mf=function(t,e){return pf(t,e)},gf=function(t,e,n,r){var o=t+e;return o>r?n:o<n?r:o},vf=function(t,e,n){return Math.min(Math.max(t,e),n)},yf=Ut.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),bf=function(t,e,n,r,o){var i=o.x,a=o.y,u=o.width,s=o.height,c=t>=i,l=e>=a,f=c&&l,d=t+n<=i+u,h=e+r<=a+s,p=d&&h,m=Math.abs(Math.min(n,c?i+u-t:i-(t+n))),g=Math.abs(Math.min(r,l?a+s-e:a-(e+r))),v=Math.max(o.x,o.right-n),y=Math.max(o.y,o.bottom-r),b=vf(t,o.x,v),x=vf(e,o.y,y);return{originInBounds:f,sizeInBounds:p,limitX:b,limitY:x,deltaW:m,deltaH:g}},xf=function(t,e,n,r){var o=t.x,a=t.y,u=t.bubble.offset,s=u.left,c=u.top,l=al(r,t.boundsRestriction,u),f=l.y,d=l.bottom,h=l.x,p=l.right,m=o+s,g=a+c,v=bf(m,g,e,n,l),y=v.originInBounds,b=v.sizeInBounds,x=v.limitX,w=v.limitY,_=v.deltaW,S=v.deltaH,C=i(w+S-f),k=i(d-w),T=Xc(t.direction,k,k,C),A=i(x+_-h),O=i(p-x),M=Zc(t.direction,O,O,A),D={x:x,y:w,width:_,height:S,maxHeight:T,maxWidth:M,direction:t.direction,classes:{on:t.bubble.classesOn,off:t.bubble.classesOff},label:t.label,candidateYforTest:g};return y&&b?yf.fit(D):yf.nofit(D,_,S)},wf=function(t,e,n,r,o){var i=n.width,s=n.height,c=function(t,a,u,c){var l=t(e,n,r),f=xf(l,i,s,o);return f.fold(yf.fit,(function(t,e,n){var r=n>c||e>u;return r?yf.nofit(t,e,n):yf.nofit(a,u,c)}))},l=K(t,(function(t,e){var n=u(c,e);return t.fold(yf.fit,n)}),yf.nofit({x:e.x,y:e.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:$c(),classes:{on:[],off:[]},label:"none",candidateYforTest:e.y},-1,-1));return l.fold(a,a)},_f=function(t){return{width:Ps(t),height:Cs(t)}},Sf=function(t,e,n,r){rs(e,"max-height"),rs(e,"max-width");var o=_f(e);return wf(r.preference,t,o,n,r.bounds)},Cf=function(t,e){var n=e.classes;Eu(t,n.off),Iu(t,n.on)},kf=function(t,e,n){var r=n.maxHeightFunction;r(t,e.maxHeight)},Tf=function(t,e,n){var r=n.maxWidthFunction;r(t,e.maxWidth)},Af=function(t,e,n){rf(t,uf(n.origin,e))},Of=function(t,e){ks(t,Math.floor(e))},Mf=i((function(t,e){Of(t,e),$u(t,{"overflow-x":"hidden","overflow-y":"auto"})})),Df=i((function(t,e){Of(t,e)})),If=function(t,e,n){return void 0===t[e]?n:t[e]},Ef=function(t,n,r,o,i,a){var u=If(a,"maxHeightFunction",Mf()),s=If(a,"maxWidthFunction",e),c=t.anchorBox,l=t.origin,f={bounds:cf(l,i),origin:l,preference:o,maxHeightFunction:u,maxWidthFunction:s};Rf(c,n,r,f)},Rf=function(t,e,n,r){var o=Sf(t,e,n,r);Af(e,o,r),Cf(e,o),kf(e,o,r),Tf(e,o,r)},Nf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Pf=function(t,e,n){var r=function(t){return Vt(n,t).getOr([])},o=function(t,e,n){var o=it(Nf,n);return{offset:As(t,e),classesOn:nt(n,r),classesOff:nt(o,r)}};return{southeast:function(){return o(-t,e,["top","alignLeft"])},southwest:function(){return o(t,e,["top","alignRight"])},south:function(){return o(-t/2,e,["top","alignCentre"])},northeast:function(){return o(-t,-e,["bottom","alignLeft"])},northwest:function(){return o(t,-e,["bottom","alignRight"])},north:function(){return o(-t/2,-e,["bottom","alignCentre"])},east:function(){return o(t,-e/2,["valignCentre","left"])},west:function(){return o(-t,-e/2,["valignCentre","right"])},innerNorthwest:function(){return o(-t,e,["top","alignRight"])},innerNortheast:function(){return o(t,e,["top","alignLeft"])},innerNorth:function(){return o(-t/2,e,["top","alignCentre"])},innerSouthwest:function(){return o(-t,-e,["bottom","alignRight"])},innerSoutheast:function(){return o(t,-e,["bottom","alignLeft"])},innerSouth:function(){return o(-t/2,-e,["bottom","alignCentre"])},innerWest:function(){return o(t,-e/2,["valignCentre","right"])},innerEast:function(){return o(-t,-e/2,["valignCentre","left"])}}},Lf=function(){return Pf(0,0,{})},Bf=function(t){return t},zf=function(t,e){return function(n){return"rtl"===Vf(n)?e:t}},Vf=function(t){return"rtl"===Ju(t,"direction")?"rtl":"ltr"};(function(t){t["TopToBottom"]="toptobottom",t["BottomToTop"]="bottomtotop"})(wc||(wc={}));var Ff="data-alloy-vertical-dir",jf=function(t){return dc(t,(function(t){return Bi(t)&&ma(t,"data-alloy-vertical-dir")===wc.BottomToTop}))},Hf=function(){return Ln("layouts",[bn("onLtr"),bn("onRtl"),Dn("onBottomLtr"),Dn("onBottomRtl")])},Uf=function(t,e,n,r,o,i,a){var u=a.map(jf).getOr(!1),s=e.layouts.map((function(e){return e.onLtr(t)})),c=e.layouts.map((function(e){return e.onRtl(t)})),l=u?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(s).getOr(o):s.getOr(n),f=u?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(c).getOr(i):c.getOr(r),d=zf(l,f);return d(t)},Wf=function(t,e,n){var r=e.hotspot,o=sf(n,r.element),i=Uf(t.element,e,Al(),Ol(),kl(),Tl(),w.some(e.hotspot.element));return w.some(Bf({anchorBox:o,bubble:e.bubble.getOr(Lf()),overrides:e.overrides,layouts:i,placer:w.none()}))},Gf=[bn("hotspot"),Dn("bubble"),zn("overrides",{}),Hf(),Hc("placement",Wf)],qf=function(t,e,n){var r=lf(n,e.x,e.y),o=rc(r.left,r.top,e.width,e.height),i=Uf(t.element,e,Sl(),Cl(),Sl(),Cl(),w.none());return w.some(Bf({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:i,placer:w.none()}))},Yf=[bn("x"),bn("y"),zn("height",0),zn("width",0),zn("bubble",Lf()),zn("overrides",{}),Hf(),Hc("placement",qf)],Xf="\ufeff",Zf="",$f=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},Kf={create:$f},Jf=Ut.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Qf=function(t,e,n,r){return t.fold(e,n,r)},td=function(t){return t.fold(a,a,a)},ed=Jf.before,nd=Jf.on,rd=Jf.after,od={before:ed,on:nd,after:rd,cata:Qf,getStart:td},id=Ut.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ad=function(t){return id.exact(t.start,t.soffset,t.finish,t.foffset)},ud=function(t){return t.match({domRange:function(t){return er.fromDom(t.startContainer)},relative:function(t,e){return od.getStart(t)},exact:function(t,e,n,r){return t}})},sd=id.domRange,cd=id.relative,ld=id.exact,fd=function(t){var e=ud(t);return Wi(e)},dd=Kf.create,hd={domRange:sd,relative:cd,exact:ld,exactFromRange:ad,getWin:fd,range:dd},pd=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))},md=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))},gd=function(t,e,n){var r=t.document.createRange();return pd(r,e),md(r,n),r},vd=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},yd=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},bd=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?w.some(n).map(yd):w.none()},xd=Ut.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),wd=function(t,e,n){return e(er.fromDom(n.startContainer),n.startOffset,er.fromDom(n.endContainer),n.endOffset)},_d=function(t,e){return e.match({domRange:function(t){return{ltr:i(t),rtl:w.none}},relative:function(e,n){return{ltr:$t((function(){return gd(t,e,n)})),rtl:$t((function(){return w.some(gd(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:$t((function(){return vd(t,e,n,r,o)})),rtl:$t((function(){return w.some(vd(t,r,o,e,n))}))}}})},Sd=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return xd.rtl(er.fromDom(t.endContainer),t.endOffset,er.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return wd(t,xd.ltr,n)}))}return wd(t,xd.ltr,n)},Cd=function(t,e){var n=_d(t,e);return Sd(t,n)},kd=function(t,e){var n=Cd(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,n),i}})};xd.ltr,xd.rtl;function Td(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?w.from(e.dom.nodeValue):w.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}}var Ad=Td(zi,"text"),Od=function(t){return Ad.get(t)},Md=function(t){return Ad.getOption(t)},Dd=function(t){return"img"===Ni(t)?1:Md(t).fold((function(){return Zi(t).length}),(function(t){return t.length}))},Id=function(t){return Md(t).filter((function(t){return 0!==t.trim().length||t.indexOf(Zf)>-1})).isSome()},Ed=["img","br"],Rd=function(t){var e=Id(t);return e||j(Ed,Ni(t))},Nd=function(t){return Pd(t,Rd)},Pd=function(t,e){var n=function(t){for(var r=Zi(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return w.some(i);var a=n(i);if(a.isSome())return a}return w.none()};return n(t)},Ld=function(t,e){return no(e,t)},Bd=function(t,e,n,r){var o=ji(t),i=o.dom.createRange();return i.setStart(t.dom,e),i.setEnd(n.dom,r),i},zd=function(t,e,n,r){var o=Bd(t,e,n,r),i=oo(t,n)&&e===r;return o.collapsed&&!i},Vd=function(t){return w.from(t.getSelection())},Fd=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return w.some(Kf.create(er.fromDom(e.startContainer),e.startOffset,er.fromDom(n.endContainer),n.endOffset))}return w.none()},jd=function(t){if(null===t.anchorNode||null===t.focusNode)return Fd(t);var e=er.fromDom(t.anchorNode),n=er.fromDom(t.focusNode);return zd(e,t.anchorOffset,n,t.focusOffset)?w.some(Kf.create(e,t.anchorOffset,n,t.focusOffset)):Fd(t)},Hd=function(t){return Vd(t).filter((function(t){return t.rangeCount>0})).bind(jd)},Ud=function(t,e){var n=kd(t,e);return bd(n)},Wd=function(t,e){return{element:t,offset:e}},Gd=function(t,e){var n=Zi(t);if(0===n.length)return Wd(t,e);if(e<n.length)return Wd(n[e],0);var r=n[n.length-1],o=zi(r)?Od(r).length:Zi(r).length;return Wd(r,o)},qd=Ut.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Yd=function(t){return t.fold(a,(function(t,e,n){return t.translate(-e,-n)}))},Xd=function(t){return t.fold(a,a)},Zd=function(t){return K(t,(function(t,e){return t.translate(e.left,e.top)}),As(0,0))},$d=function(t){var e=G(t,Yd);return Zd(e)},Kd=function(t){var e=G(t,Xd);return Zd(e)},Jd=qd.screen,Qd=qd.absolute,th=function(t,e,n){var r=Wi(n.root).dom,o=function(e){var n=ji(e),r=ji(t.element);return oo(n,r)};return w.from(r.frameElement).map(er.fromDom).filter(o).map(Ds)},eh=function(t,e,n){var r=ji(t.element),o=Ws(r),i=th(t,e,n).getOr(o);return Qd(i,o.left,o.top)},nh=function(t,e,n,r){var o=t,i=e,a=n,u=r;t<0&&(o=0,a=n+t),e<0&&(i=0,u=r+e);var s=Jd(As(o,i));return w.some(ec(s,a,u))},rh=function(t,e,n,r,o){return t.map((function(t){var i=[e,t.point],a=ff(r,(function(){return Kd(i)}),(function(){return Kd(i)}),(function(){return $d(i)})),u=nc(a.left,a.top,t.width,t.height),s=n.showAbove?kl():Al(),c=n.showAbove?Tl():Ol(),l=Uf(o,n,s,c,s,c,w.none());return Bf({anchorBox:u,bubble:n.bubble.getOr(Lf()),overrides:n.overrides,layouts:l,placer:w.none()})}))},oh=function(t,e){return zi(t)?Wd(t,e):Gd(t,e)},ih=function(t,e){var n=e.getSelection.getOrThunk((function(){return function(){return Hd(t)}}));return n().map((function(t){var e=oh(t.start,t.soffset),n=oh(t.finish,t.foffset);return hd.range(e.element,e.offset,n.element,n.offset)}))},ah=function(t,e,n){var r=Wi(e.root).dom,o=eh(t,n,e),i=ih(r,e).bind((function(t){var e=Ud(r,hd.exactFromRange(t)).orThunk((function(){var e=er.fromText(Xf);return Ji(t.start,e),Ud(r,hd.exact(e,0,e,1)).map((function(t){return aa(e),t}))}));return e.bind((function(t){return nh(t.left,t.top,t.width,t.height)}))})),a=ih(r,e).bind((function(t){return Bi(t.start)?w.some(t.start):qi(t.start)})),u=a.getOr(t.element);return rh(i,o,e,n,u)},uh=[Dn("getSelection"),bn("root"),Dn("bubble"),Hf(),zn("overrides",{}),zn("showAbove",!1),Hc("placement",ah)],sh=function(t,e,n){var r=eh(t,n,e);return e.node.bind((function(o){var i=o.dom.getBoundingClientRect(),a=nh(i.left,i.top,i.width,i.height),u=e.node.getOr(t.element);return rh(a,r,e,n,u)}))},ch=[bn("node"),bn("root"),Dn("bubble"),Hf(),zn("overrides",{}),zn("showAbove",!1),Hc("placement",sh)],lh=function(t){return t.x+t.width},fh=function(t,e){return t.x-e.width},dh=function(t,e){return t.y-e.height+t.height},hh=function(t){return t.y},ph=function(t,e,n){return Gc(lh(t),hh(t),n.southeast(),$c(),il(t,{left:0,top:2}),"link-layout-se")},mh=function(t,e,n){return Gc(fh(t,e),hh(t),n.southwest(),Kc(),il(t,{right:1,top:2}),"link-layout-sw")},gh=function(t,e,n){return Gc(lh(t),dh(t,e),n.northeast(),Jc(),il(t,{left:0,bottom:3}),"link-layout-ne")},vh=function(t,e,n){return Gc(fh(t,e),dh(t,e),n.northwest(),Qc(),il(t,{right:1,bottom:3}),"link-layout-nw")},yh=function(){return[ph,mh,gh,vh]},bh=function(){return[mh,ph,vh,gh]},xh=function(t,e,n){var r=sf(n,e.item.element),o=Uf(t.element,e,yh(),bh(),yh(),bh(),w.none());return w.some(Bf({anchorBox:r,bubble:Lf(),overrides:e.overrides,layouts:o,placer:w.none()}))},wh=[bn("item"),Hf(),zn("overrides",{}),Hc("placement",xh)],_h=sn("anchor",{selection:uh,node:ch,hotspot:Gf,submenu:wh,makeshift:Yf}),Sh=function(){var t=document.documentElement;return hf(0,0,t.clientWidth,t.clientHeight)},Ch=function(t){var e=Ds(t.element),n=t.element.dom.getBoundingClientRect();return df(e.left,e.top,n.width,n.height)},kh=function(t,e,n,r,o){var i=mf(n.anchorBox,e);Ef(i,o.element,n.bubble,n.layouts,r,n.overrides)},Th=function(t,e,n,r,o){Ah(t,e,n,r,o,w.none())},Ah=function(t,e,n,r,o,i){var a=i.map(oc);return Oh(t,e,n,r,o,a)},Oh=function(t,e,n,r,o,a){var u=on("positioning anchor.info",_h,r);ef((function(){Zu(o.element,"position","fixed");var n=ts(o.element,"visibility");Zu(o.element,"visibility","hidden");var r=e.useFixed()?Sh():Ch(t),s=u.placement,c=a.map(i).or(e.getBounds);s(t,u,r).each((function(e){var n=e.placer.getOr(kh);n(t,r,e,c,o)})),n.fold((function(){rs(o.element,"visibility")}),(function(t){Zu(o.element,"visibility",t)})),ts(o.element,"left").isNone()&&ts(o.element,"top").isNone()&&ts(o.element,"right").isNone()&&ts(o.element,"bottom").isNone()&&ts(o.element,"position").is("fixed")&&rs(o.element,"position")}),o.element)},Mh=function(t,e,n){return e.useFixed()?"fixed":"absolute"},Dh=Object.freeze({__proto__:null,position:Th,positionWithin:Ah,positionWithinBounds:Oh,getMode:Mh}),Ih=[zn("useFixed",l),Dn("getBounds")],Eh=Hl({fields:Ih,name:"positioning",active:Xl,apis:Dh}),Rh=function(t){li(t,ei());var e=t.components();q(e,Rh)},Nh=function(t){var e=t.components();q(e,Nh),li(t,ti())},Ph=function(t,e){ea(t.element,e.element)},Lh=function(t){q(t.components(),(function(t){return aa(t.element)})),ia(t.element),t.syncComponents()},Bh=function(t,e){var n=t.components();Lh(t);var r=it(n,e);q(r,(function(e){Rh(e),t.getSystem().removeFromWorld(e)})),q(e,(function(e){e.getSystem().isConnected()?Ph(t,e):(t.getSystem().addToWorld(e),Ph(t,e),Wu(t.element)&&Nh(e)),t.syncComponents()}))},zh=function(t,e){Vh(t,e,ea)},Vh=function(t,e,n){t.getSystem().addToWorld(e),n(t.element,e.element),Wu(t.element)&&Nh(e),t.syncComponents()},Fh=function(t){Rh(t),aa(t.element),t.getSystem().removeFromWorld(t)},jh=function(t){var e=Gi(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}));Fh(t),e.each((function(t){t.syncComponents()}))},Hh=function(t){var e=t.components();q(e,Fh),ia(t.element),t.syncComponents()},Uh=function(t,e){Gh(t,e,ea)},Wh=function(t,e){Gh(t,e,Qi)},Gh=function(t,e,n){n(t,e.element);var r=Zi(e.element);q(r,(function(t){e.getByDom(t).each(Nh)}))},qh=function(t){var e=Zi(t.element);q(e,(function(e){t.getByDom(e).each(Rh)})),aa(t.element)},Yh=function(t,e,n,r){n.get().each((function(e){Hh(t)}));var o=e.getAttachPoint(t);zh(o,t);var i=t.getSystem().build(r);return zh(t,i),n.set(i),i},Xh=function(t,e,n,r){var o=Yh(t,e,n,r);return e.onOpen(t,o),o},Zh=function(t,e,n,r){return n.get().map((function(){return Yh(t,e,n,r)}))},$h=function(t,e,n,r,o){rp(t,e),Xh(t,e,n,r),o(),ip(t,e)},Kh=function(t,e,n){n.get().each((function(r){Hh(t),jh(t),e.onClose(t,r),n.clear()}))},Jh=function(t,e,n){return n.isOpen()},Qh=function(t,e,n,r){return Jh(t,e,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))},tp=function(t,e,n){return n.get()},ep=function(t,e,n,r){ts(t.element,e).fold((function(){ya(t.element,n)}),(function(e){ha(t.element,n,e)})),Zu(t.element,e,r)},np=function(t,e,n){ga(t.element,n).fold((function(){return rs(t.element,e)}),(function(n){return Zu(t.element,e,n)}))},rp=function(t,e,n){var r=e.getAttachPoint(t);Zu(t.element,"position",Eh.getMode(r)),ep(t,"visibility",e.cloakVisibilityAttr,"hidden")},op=function(t){return H(["top","left","right","bottom"],(function(e){return ts(t,e).isSome()}))},ip=function(t,e,n){op(t.element)||rs(t.element,"position"),np(t,"visibility",e.cloakVisibilityAttr)},ap=Object.freeze({__proto__:null,cloak:rp,decloak:ip,open:Xh,openWhileCloaked:$h,close:Kh,isOpen:Jh,isPartOf:Qh,getState:tp,setContent:Zh}),up=function(t,e){return gi([xi(Yo(),(function(n,r){Kh(n,t,e)}))])},sp=Object.freeze({__proto__:null,events:up}),cp=[zc("onOpen"),zc("onClose"),bn("isPartOf"),bn("getAttachPoint"),zn("cloakVisibilityAttr","data-precloak-visibility")],lp=function(){var t=Zn(w.none()),e=i("not-implemented"),n=function(){return t.get().isSome()},r=function(e){t.set(w.some(e))},o=function(){return t.get()},a=function(){t.set(w.none())};return Xa({readState:e,isOpen:n,clear:a,set:r,get:o})},fp=Object.freeze({__proto__:null,init:lp}),dp=Hl({fields:cp,name:"sandboxing",active:sp,apis:ap,state:fp}),hp=i("dismiss.popups"),pp=i("reposition.popups"),mp=i("mouse.released"),gp=Be([zn("isExtraPart",l),Ln("fireEventInstead",[zn("event",ni())])]),vp=function(t){var e,n=on("Dismissal",gp,t);return e={},e[hp()]={schema:Be([bn("target")]),onReceive:function(t,e){if(dp.isOpen(t)){var r=dp.isPartOf(t,e.target)||n.isExtraPart(t,e.target);r||n.fireEventInstead.fold((function(){return dp.close(t)}),(function(e){return li(t,e.event)}))}}},e},yp=Be([Ln("fireEventInstead",[zn("event",ri())]),kn("doReposition")]),bp=function(t){var e,n=on("Reposition",yp,t);return e={},e[pp()]={onReceive:function(t){dp.isOpen(t)&&n.fireEventInstead.fold((function(){return n.doReposition(t)}),(function(e){return li(t,e.event)}))}},e},xp=function(t,e,n){e.store.manager.onLoad(t,e,n)},wp=function(t,e,n){e.store.manager.onUnload(t,e,n)},_p=function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},Sp=function(t,e,n){return e.store.manager.getValue(t,e,n)},Cp=function(t,e,n){return n},kp=Object.freeze({__proto__:null,onLoad:xp,onUnload:wp,setValue:_p,getValue:Sp,getState:Cp}),Tp=function(t,e){var n=t.resetOnDom?[Di((function(n,r){xp(n,t,e)})),Ii((function(n,r){wp(n,t,e)}))]:[Nl(t,e,xp)];return gi(n)},Ap=Object.freeze({__proto__:null,events:Tp}),Op=function(){var t=Zn(null),e=function(){return{mode:"memory",value:t.get()}},n=function(){return null===t.get()},r=function(){t.set(null)};return Xa({set:t.set,get:t.get,isNotSet:n,clear:r,readState:e})},Mp=function(){var t=function(){};return Xa({readState:t})},Dp=function(){var t=Zn({}),e=Zn({}),n=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},r=function(){t.set({}),e.set({})},o=function(n){return Vt(t.get(),n).orThunk((function(){return Vt(e.get(),n)}))},i=function(n){var r=t.get(),o=e.get(),i={},a={};q(n,(function(t){i[t.value]=t,Vt(t,"meta").each((function(e){Vt(e,"text").each((function(e){a[e]=t}))}))})),t.set(h(h({},r),i)),e.set(h(h({},o),a))};return Xa({readState:n,lookup:o,update:i,clear:r})},Ip=function(t){return t.store.manager.state(t)},Ep=Object.freeze({__proto__:null,memory:Op,dataset:Dp,manual:Mp,init:Ip}),Rp=function(t,e,n,r){var o=e.store;n.update([r]),o.setValue(t,r),e.onSetValue(t,r)},Np=function(t,e,n){var r=e.store,o=r.getDataKey(t);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))},Pp=function(t,e,n){var r=e.store;r.initialValue.each((function(r){Rp(t,e,n,r)}))},Lp=function(t,e,n){n.clear()},Bp=[Dn("initialValue"),bn("getFallbackEntry"),bn("getDataKey"),bn("setValue"),Hc("manager",{setValue:Rp,getValue:Np,onLoad:Pp,onUnload:Lp,state:Dp})],zp=function(t,e,n){return e.store.getValue(t)},Vp=function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},Fp=function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},jp=[bn("getValue"),zn("setValue",e),Dn("initialValue"),Hc("manager",{setValue:Vp,getValue:zp,onLoad:Fp,onUnload:e,state:Ya.init})],Hp=function(t,e,n,r){n.set(r),e.onSetValue(t,r)},Up=function(t,e,n){return n.get()},Wp=function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},Gp=function(t,e,n){n.clear()},qp=[Dn("initialValue"),Hc("manager",{setValue:Hp,getValue:Up,onLoad:Wp,onUnload:Gp,state:Op})],Yp=[Vn("store",{mode:"memory"},sn("mode",{memory:qp,manual:jp,dataset:Bp})),zc("onSetValue"),zn("resetOnDom",!1)],Xp=Hl({fields:Yp,name:"representing",active:Ap,apis:kp,extra:{setValueFrom:function(t,e){var n=Xp.getValue(e);Xp.setValue(t,n)}},state:Ep}),Zp=function(t,e){return Yn(t,{},G(e,(function(e){return Tn(e.name(),"Cannot configure "+e.name()+" for "+t)})).concat([Xn("dump",a)]))},$p=function(t){return t.dump},Kp=function(t,e){return h(h({},t.dump),Fl(e))},Jp={field:Zp,augment:Kp,get:$p},Qp="placeholder",tm=Ut.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),em=function(t){return Ft(t,"uiType")},nm=function(t,e,n,r){return t.exists((function(t){return t!==n.owner}))?tm.single(!0,i(n)):Vt(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+Ot(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))},rm=function(t,e,n,r){return em(n)&&n.uiType===Qp?nm(t,e,n,r):tm.single(!1,i(n))},om=function(t,e,n,r){var o=rm(t,e,n,r);return o.fold((function(o,i){var a=em(n)?i(e,n.config,n.validated):i(e),u=Vt(a,"components").getOr([]),s=nt(u,(function(n){return om(t,e,n,r)}));return[h(h({},a),{components:s})]}),(function(t,r){if(em(n)){var o=r(e,n.config,n.validated),i=n.validated.preprocess.getOr(a);return i(o)}return r(e)}))},im=function(t,e,n,r){return nt(n,(function(n){return om(t,e,n,r)}))},am=function(t,e){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+t);return n=!0,e},a=function(){return e.fold((function(t,e){return t}),(function(t,e){return t}))};return{name:i(t),required:a,used:r,replace:o}},um=function(t,e,n,r){var o=It(r,(function(t,e){return am(e,t)})),i=im(t,e,n,o);return Dt(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),i},sm=tm.single,cm=tm.multiple,lm=i(Qp),fm=Ut.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),dm=zn("factory",{sketch:a}),hm=zn("schema",[]),pm=bn("name"),mm=qe("pname","pname",ne((function(t){return"<alloy."+Aa(t.name)+">"})),ln()),gm=Xn("schema",(function(){return[Dn("preprocess")]})),vm=zn("defaults",i({})),ym=zn("overrides",i({})),bm=ze([dm,hm,pm,mm,vm,ym]),xm=ze([dm,hm,pm,vm,ym]),wm=ze([dm,hm,pm,mm,vm,ym]),_m=ze([dm,gm,pm,bn("unit"),mm,vm,ym]),Sm=function(t){return t.fold(w.some,w.none,w.some,w.some)},Cm=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},km=function(t){return t.fold(a,a,a,a)},Tm=function(t,e){return function(n){var r=on("Converting part type",e,n);return t(r)}},Am=Tm(fm.required,bm),Om=Tm(fm.external,xm),Mm=Tm(fm.optional,wm),Dm=Tm(fm.group,_m),Im=i("entirety"),Em=Object.freeze({__proto__:null,required:Am,external:Om,optional:Mm,group:Dm,asNamedPart:Sm,name:Cm,asCommon:km,original:Im}),Rm=function(t,e,n,r){return Xt(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},Nm=function(t,e,n){var r={},o={};return q(n,(function(t){t.fold((function(t){r[t.pname]=sm(!0,(function(e,n,r){return t.factory.sketch(Rm(e,t,n,r))}))}),(function(t){var n=e.parts[t.name];o[t.name]=i(t.factory.sketch(Rm(e,t,n[Im()]),n))}),(function(t){r[t.pname]=sm(!1,(function(e,n,r){return t.factory.sketch(Rm(e,t,n,r))}))}),(function(t){r[t.pname]=cm(!0,(function(e,n,r){var o=e[t.name];return G(o,(function(n){return t.factory.sketch(Xt(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))})),{internals:i(r),externals:i(o)}},Pm=function(t,e){var n={};return q(e,(function(e){Sm(e).each((function(e){var r=Lm(t,e.pname);n[e.name]=function(n){var o=on("Part: "+e.name+" in "+t,ze(e.schema),n);return h(h({},r),{config:n,validated:o})}}))})),n},Lm=function(t,e){return{uiType:lm(),owner:t,name:e}},Bm=function(t,e,n){return{uiType:lm(),owner:t,name:e,config:n,validated:{}}},zm=function(t){return nt(t,(function(t){return t.fold(w.none,w.some,w.none,w.none).map((function(t){return An(t.name,t.schema.concat([Uc(Im())]))})).toArray()}))},Vm=function(t){return G(t,Cm)},Fm=function(t,e,n){return Nm(t,e,n)},jm=function(t,e,n){return um(w.some(t),e,e.components,n)},Hm=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOptional()},Um=function(t,e,n){return Hm(t,e,n).getOrDie("Could not find part: "+n)},Wm=function(t,e,n){var r={},o=e.partUids,a=t.getSystem();return q(n,(function(t){r[t]=i(a.getByUid(o[t]))})),r},Gm=function(t,e){var n=t.getSystem();return It(e.partUids,(function(t,e){return i(n.getByUid(t))}))},qm=function(t){return Ot(t.partUids)},Ym=function(t,e,n){var r={},o=e.partUids,a=t.getSystem();return q(n,(function(t){r[t]=i(a.getByUid(o[t]).getOrDie())})),r},Xm=function(t,e){var n=Vm(e);return le(G(n,(function(e){return{key:e,value:t+"-"+e}})))},Zm=function(t){return qe("partUids","partUids",re((function(e){return Xm(e.uid,t)})),ln())},$m=Object.freeze({__proto__:null,generate:Pm,generateOne:Bm,schemas:zm,names:Vm,substitutes:Fm,components:jm,defaultUids:Xm,defaultUidsSchema:Zm,getAllParts:Gm,getAllPartNames:qm,getPart:Hm,getPartOrDie:Um,getParts:Wm,getPartsOrDie:Ym}),Km=function(t,e){var n=t.length>0?[An("parts",t)]:[];return n.concat([bn("uid"),zn("dom",{}),zn("components",[]),Uc("originalSpec"),zn("debug.sketcher",{})]).concat(e)},Jm=function(t,e,n,r,o){var i=Km(r,o);return on(t+" [SpecSchema]",Be(i.concat(e)),n)},Qm=function(t,e,n,r){var o=ng(r),i=Jm(t,e,o,[],[]);return n(i,o)},tg=function(t,e,n,r,o){var i=ng(o),a=zm(n),u=Zm(n),s=Jm(t,e,i,a,[u]),c=Fm(t,s,n),l=jm(t,s,c.internals());return r(s,l,i,c.externals())},eg=function(t){return Ft(t,"uid")},ng=function(t){return eg(t)?t:h(h({},t),{uid:Pa("uid")})};function rg(t){return void 0!==t.uid}var og,ig=Be([bn("name"),bn("factory"),bn("configFields"),zn("apis",{}),zn("extraApis",{})]),ag=Be([bn("name"),bn("factory"),bn("configFields"),bn("partFields"),zn("apis",{}),zn("extraApis",{})]),ug=function(t){var e=on("Sketcher for "+t.name,ig,t),n=function(t){return Qm(e.name,e.configFields,e.factory,t)},r=It(e.apis,qa),o=It(e.extraApis,(function(t,e){return ja(t,e)}));return h(h({name:e.name,configFields:e.configFields,sketch:n},r),o)},sg=function(t){var e=on("Sketcher for "+t.name,ag,t),n=function(t){return tg(e.name,e.configFields,e.partFields,e.factory,t)},r=Pm(e.name,e.partFields),o=It(e.apis,qa),i=It(e.extraApis,(function(t,e){return ja(t,e)}));return h(h({name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:n,parts:r},o),i)},cg=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},lg=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return w.none();e.push(r.getOrDie())}return w.some(e)},fg=function(t,e,n){return t.isSome()&&e.isSome()?w.some(n(t.getOrDie(),e.getOrDie())):w.none()},dg=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?w.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):w.none()},hg=function(t,e){return void 0!==t&&null!==t?w.some(e(t)):w.none()},pg=function(t,e){return t?w.some(e):w.none()},mg=function(t){return"input"===Ni(t)&&"radio"!==ma(t,"type")||"textarea"===Ni(t)},gg=function(t,e,n){return e.find(t)},vg=Object.freeze({__proto__:null,getCurrent:gg}),yg=[bn("find")],bg=Hl({fields:yg,name:"composing",apis:vg}),xg=function(t,e,n,r){var o=Ld(t.element,"."+e.highlightClass);q(o,(function(n){H(r,(function(t){return t.element===n}))||(Mu(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),li(n,ci())})))}))},wg=function(t,e,n){return xg(t,e,n,[])},_g=function(t,e,n,r){Og(t,e,n,r)&&(Mu(r.element,e.highlightClass),e.onDehighlight(t,r),li(r,ci()))},Sg=function(t,e,n,r){xg(t,e,n,[r]),Og(t,e,n,r)||(Au(r.element,e.highlightClass),e.onHighlight(t,r),li(r,si()))},Cg=function(t,e,n){Ig(t,e).each((function(r){Sg(t,e,n,r)}))},kg=function(t,e,n){Eg(t,e).each((function(r){Sg(t,e,n,r)}))},Tg=function(t,e,n,r){Dg(t,e,n,r).fold((function(t){throw new Error(t)}),(function(r){Sg(t,e,n,r)}))},Ag=function(t,e,n,r){var o=Lg(t,e),i=Q(o,r);i.each((function(r){Sg(t,e,n,r)}))},Og=function(t,e,n,r){return Du(r.element,e.highlightClass)},Mg=function(t,e,n){return pc(t.element,"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Dg=function(t,e,n,r){var o=Ld(t.element,"."+e.itemClass);return w.from(o[r]).fold((function(){return gt.error("No element found with index "+r)}),t.getSystem().getByDom)},Ig=function(t,e,n){return pc(t.element,"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Eg=function(t,e,n){var r=Ld(t.element,"."+e.itemClass),o=r.length>0?w.some(r[r.length-1]):w.none();return o.bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Rg=function(t,e,n,r){var o=Ld(t.element,"."+e.itemClass),i=tt(o,(function(t){return Du(t,e.highlightClass)}));return i.bind((function(e){var n=gf(e,r,0,o.length-1);return t.getSystem().getByDom(o[n]).toOptional()}))},Ng=function(t,e,n){return Rg(t,e,n,-1)},Pg=function(t,e,n){return Rg(t,e,n,1)},Lg=function(t,e,n){var r=Ld(t.element,"."+e.itemClass);return cg(G(r,(function(e){return t.getSystem().getByDom(e).toOptional()})))},Bg=Object.freeze({__proto__:null,dehighlightAll:wg,dehighlight:_g,highlight:Sg,highlightFirst:Cg,highlightLast:kg,highlightAt:Tg,highlightBy:Ag,isHighlighted:Og,getHighlighted:Mg,getFirst:Ig,getLast:Eg,getPrevious:Ng,getNext:Pg,getCandidates:Lg}),zg=[bn("highlightClass"),bn("itemClass"),zc("onHighlight"),zc("onDehighlight")],Vg=Hl({fields:zg,name:"highlighting",apis:Bg}),Fg=[8],jg=[9],Hg=[13],Ug=[27],Wg=[32],Gg=[37],qg=[38],Yg=[39],Xg=[40],Zg=function(t,e,n){var r=ot(t.slice(0,e)),o=ot(t.slice(e+1));return Q(r.concat(o),n)},$g=function(t,e,n){var r=ot(t.slice(0,e));return Q(r,n)},Kg=function(t,e,n){var r=t.slice(0,e),o=t.slice(e+1);return Q(o.concat(r),n)},Jg=function(t,e,n){var r=t.slice(e+1);return Q(r,n)},Qg=function(t){return function(e){var n=e.raw;return j(t,n.which)}},tv=function(t){return function(e){return rt(t,(function(t){return t(e)}))}},ev=function(t){var e=t.raw;return!0===e.shiftKey},nv=function(t){var e=t.raw;return!0===e.ctrlKey},rv=s(ev),ov=function(t,e){return{matches:t,classification:e}},iv=function(t,e){var n=Q(t,(function(t){return t.matches(e)}));return n.map((function(t){return t.classification}))},av=function(t,e,n){var r=e.exists((function(t){return n.exists((function(e){return oo(e,t)}))}));r||fi(t,oi(),{prevFocus:e,newFocus:n})},uv=function(){var t=function(t){return tf(t.element)},e=function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element);var o=t(e);av(e,r,o)};return{get:t,set:e}},sv=function(){var t=function(t){return Vg.getHighlighted(t).map((function(t){return t.element}))},n=function(n,r){var o=t(n);n.getSystem().getByDom(r).fold(e,(function(t){Vg.highlight(n,t)}));var i=t(n);av(n,o,i)};return{get:t,set:n}};(function(t){t["OnFocusMode"]="onFocus",t["OnEnterOrSpaceMode"]="onEnterOrSpace",t["OnApiMode"]="onApi"})(og||(og={}));var cv=function(t,e,n,r,o){var i=function(){return t.concat([zn("focusManager",uv()),Vn("focusInside","onFocus",Qe((function(t){return j(["onFocus","onEnterOrSpace","onApi"],t)?gt.value(t):gt.error("Invalid value for focusInside")}))),Hc("handler",s),Hc("state",e),Hc("sendFocusIn",o)])},a=function(t,e,n,r,o){var i=n(t,e,r,o);return iv(i,e.event).bind((function(n){return n(t,e,r,o)}))},u=function(t,e){var i=t.focusInside!==og.OnFocusMode?w.none():o(t).map((function(n){return xi(Vo(),(function(r,o){n(r,t,e),o.stop()}))})),u=function(n,r){var i=Qg(Wg.concat(Hg))(r.event);t.focusInside===og.OnEnterOrSpaceMode&&i&&fo(n,r)&&o(t).each((function(o){o(n,t,e),r.stop()}))},s=[xi(Do(),(function(r,o){a(r,o,n,t,e).fold((function(){u(r,o)}),(function(t){o.stop()}))})),xi(Io(),(function(n,o){a(n,o,r,t,e).each((function(t){o.stop()}))}))];return gi(i.toArray().concat(s))},s={schema:i,processKey:a,toEvents:u};return s},lv=function(t){var e=[Dn("onEscape"),Dn("onEnter"),zn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),zn("firstTabstop",0),zn("useTabstopAt",f),Dn("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return mc(e,t)})).getOr(e);return Ss(n)>0},r=function(t,e){var r=Ld(t.element,e.selector),o=Z(r,(function(t){return n(e,t)}));return w.from(o[e.firstTabstop])},o=function(t,e){return e.focusManager.get(t).bind((function(t){return mc(t,e.selector)}))},a=function(t,e){return n(t,e)&&t.useTabstopAt(e)},s=function(t,e,n){r(t,e).each((function(n){e.focusManager.set(t,n)}))},c=function(t,e,n,r,o){return o(e,n,(function(t){return a(r,t)})).fold((function(){return r.cyclic?w.some(!0):w.none()}),(function(e){return r.focusManager.set(t,e),w.some(!0)}))},l=function(t,e,n,r){var i=Ld(t.element,n.selector);return o(t,n).bind((function(e){var o=tt(i,u(oo,e));return o.bind((function(e){return c(t,i,e,n,r)}))}))},d=function(t,e,n){var r=n.cyclic?Zg:$g;return l(t,e,n,r)},h=function(t,e,n){var r=n.cyclic?Kg:Jg;return l(t,e,n,r)},p=function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))},m=function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))},g=i([ov(tv([ev,Qg(jg)]),d),ov(Qg(jg),h),ov(Qg(Ug),m),ov(tv([rv,Qg(Hg)]),p)]),v=i([]);return cv(e,Ya.init,g,v,(function(){return w.some(s)}))},fv=lv(Xn("cyclic",l)),dv=lv(Xn("cyclic",f)),hv=function(t,e,n){return hi(t,n,Uo()),w.some(!0)},pv=function(t,e,n){var r=mg(n)&&Qg(Wg)(e.event);return r?w.none():hv(t,e,n)},mv=function(t,e){return w.some(!0)},gv=[zn("execute",pv),zn("useSpace",!1),zn("useEnter",!0),zn("useControlEnter",!1),zn("useDown",!1)],vv=function(t,e,n){return n.execute(t,e,t.element)},yv=function(t,e,n,r){var o=n.useSpace&&!mg(t.element)?Wg:[],i=n.useEnter?Hg:[],a=n.useDown?Xg:[],u=o.concat(i).concat(a);return[ov(Qg(u),vv)].concat(n.useControlEnter?[ov(tv([nv,Qg(Hg)]),vv)]:[])},bv=function(t,e,n,r){return n.useSpace&&!mg(t.element)?[ov(Qg(Wg),mv)]:[]},xv=cv(gv,Ya.init,yv,bv,(function(){return w.none()})),wv=function(){var t=Zn(w.none()),e=function(e,n){t.set(w.some({numRows:e,numColumns:n}))},n=function(){return t.get().map((function(t){return t.numRows}))},r=function(){return t.get().map((function(t){return t.numColumns}))};return Xa({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:e,getNumRows:n,getNumColumns:r})},_v=function(t){return t.state(t)},Sv=Object.freeze({__proto__:null,flatgrid:wv,init:_v}),Cv=function(t){return function(e,n,r,o){var i=t(e.element);return Ov(i,e,n,r,o)}},kv=function(t,e){var n=zf(t,e);return Cv(n)},Tv=function(t,e){var n=zf(e,t);return Cv(n)},Av=function(t){return function(e,n,r,o){return Ov(t,e,n,r,o)}},Ov=function(t,e,n,r,o){var i=r.focusManager.get(e).bind((function(n){return t(e.element,n,r,o)}));return i.map((function(t){return r.focusManager.set(e,t),!0}))},Mv=Av,Dv=Av,Iv=Av,Ev=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Rv=function(t){return!Ev(t.dom)},Nv=function(t,e){return tt(t,e).map((function(e){return{index:e,candidates:t}}))},Pv=function(t,e,n){var r=function(t){return oo(t,e)},o=Ld(t,n),i=Z(o,Rv);return Nv(i,r)},Lv=function(t,e){return tt(t,(function(t){return oo(e,t)}))},Bv=function(t,e,n,r){var o=Math.floor(e/n),i=e%n;return r(o,i).bind((function(e){var r=e.row*n+e.column;return r>=0&&r<t.length?w.some(t[r]):w.none()}))},zv=function(t,e,n,r,o){return Bv(t,e,r,(function(e,i){var a=e===n-1,u=a?t.length-e*r:r,s=gf(i,o,0,u-1);return w.some({row:e,column:s})}))},Vv=function(t,e,n,r,o){return Bv(t,e,r,(function(e,i){var a=gf(e,o,0,n-1),u=a===n-1,s=u?t.length-a*r:r,c=vf(i,0,s-1);return w.some({row:a,column:c})}))},Fv=function(t,e,n,r){return zv(t,e,n,r,1)},jv=function(t,e,n,r){return zv(t,e,n,r,-1)},Hv=function(t,e,n,r){return Vv(t,e,n,r,-1)},Uv=function(t,e,n,r){return Vv(t,e,n,r,1)},Wv=[bn("selector"),zn("execute",pv),Vc("onEscape"),zn("captureTab",!1),Wc()],Gv=function(t,e,n){pc(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))},qv=function(t,e){return e.focusManager.get(t).bind((function(t){return mc(t,e.selector)}))},Yv=function(t,e,n,r){return qv(t,n).bind((function(r){return n.execute(t,e,r)}))},Xv=function(t){return function(e,n,r,o){return Pv(e,n,r.selector).bind((function(e){return t(e.candidates,e.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Zv=function(t,e,n){return n.captureTab?w.some(!0):w.none()},$v=function(t,e,n){return n.onEscape(t,e)},Kv=Xv(jv),Jv=Xv(Fv),Qv=Xv(Hv),ty=Xv(Uv),ey=i([ov(Qg(Gg),kv(Kv,Jv)),ov(Qg(Yg),Tv(Kv,Jv)),ov(Qg(qg),Mv(Qv)),ov(Qg(Xg),Dv(ty)),ov(tv([ev,Qg(jg)]),Zv),ov(tv([rv,Qg(jg)]),Zv),ov(Qg(Ug),$v),ov(Qg(Wg.concat(Hg)),Yv)]),ny=i([ov(Qg(Wg),mv)]),ry=cv(Wv,wv,ey,ny,(function(){return w.some(Gv)})),oy=function(t,e,n,r){var o=function(t){return"button"===Ni(t)&&"disabled"===ma(t,"disabled")},i=function(t,e,n){var a=gf(e,r,0,n.length-1);return a===t?w.none():o(n[a])?i(t,a,n):w.from(n[a])};return Pv(t,n,e).bind((function(t){var e=t.index,n=t.candidates;return i(e,e,n)}))},iy=[bn("selector"),zn("getInitial",w.none),zn("execute",pv),Vc("onEscape"),zn("executeOnMove",!1),zn("allowVertical",!0)],ay=function(t,e){return e.focusManager.get(t).bind((function(t){return mc(t,e.selector)}))},uy=function(t,e,n){return ay(t,n).bind((function(r){return n.execute(t,e,r)}))},sy=function(t,e,n){e.getInitial(t).orThunk((function(){return pc(t.element,e.selector)})).each((function(n){e.focusManager.set(t,n)}))},cy=function(t,e,n){return oy(t,n.selector,e,-1)},ly=function(t,e,n){return oy(t,n.selector,e,1)},fy=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?uy(e,n,r):w.some(!0)}))}},dy=function(t,e,n){return n.onEscape(t,e)},hy=function(t,e,n,r){var o=Gg.concat(n.allowVertical?qg:[]),i=Yg.concat(n.allowVertical?Xg:[]);return[ov(Qg(o),fy(kv(cy,ly))),ov(Qg(i),fy(Tv(cy,ly))),ov(Qg(Hg),uy),ov(Qg(Wg),uy),ov(Qg(Ug),dy)]},py=i([ov(Qg(Wg),mv)]),my=cv(iy,Ya.init,hy,py,(function(){return w.some(sy)})),gy=function(t,e,n){return w.from(t[e]).bind((function(t){return w.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))},vy=function(t,e,n,r){var o=t[e],i=o.length,a=gf(n,r,0,i-1);return gy(t,e,a)},yy=function(t,e,n,r){var o=gf(n,r,0,t.length-1),i=t[o].length,a=vf(e,0,i-1);return gy(t,o,a)},by=function(t,e,n,r){var o=t[e],i=o.length,a=vf(n+r,0,i-1);return gy(t,e,a)},xy=function(t,e,n,r){var o=vf(n+r,0,t.length-1),i=t[o].length,a=vf(e,0,i-1);return gy(t,o,a)},wy=function(t,e,n){return vy(t,e,n,1)},_y=function(t,e,n){return vy(t,e,n,-1)},Sy=function(t,e,n){return yy(t,n,e,-1)},Cy=function(t,e,n){return yy(t,n,e,1)},ky=function(t,e,n){return by(t,e,n,-1)},Ty=function(t,e,n){return by(t,e,n,1)},Ay=function(t,e,n){return xy(t,n,e,-1)},Oy=function(t,e,n){return xy(t,n,e,1)},My=[An("selectors",[bn("row"),bn("cell")]),zn("cycles",!0),zn("previousSelector",w.none),zn("execute",pv)],Dy=function(t,e,n){var r=e.previousSelector(t).orThunk((function(){var n=e.selectors;return pc(t.element,n.cell)}));r.each((function(n){e.focusManager.set(t,n)}))},Iy=function(t,e,n){return tf(t.element).bind((function(r){return n.execute(t,e,r)}))},Ey=function(t,e){return G(t,(function(t){return Ld(t,e.selectors.cell)}))},Ry=function(t,e){return function(n,r,o){var i=o.cycles?t:e;return mc(r,o.selectors.row).bind((function(t){var e=Ld(t,o.selectors.cell);return Lv(e,r).bind((function(e){var r=Ld(n,o.selectors.row);return Lv(r,t).bind((function(t){var n=Ey(r,o);return i(n,t,e).map((function(t){return t.cell}))}))}))}))}},Ny=Ry(_y,ky),Py=Ry(wy,Ty),Ly=Ry(Sy,Ay),By=Ry(Cy,Oy),zy=i([ov(Qg(Gg),kv(Ny,Py)),ov(Qg(Yg),Tv(Ny,Py)),ov(Qg(qg),Mv(Ly)),ov(Qg(Xg),Dv(By)),ov(Qg(Wg.concat(Hg)),Iy)]),Vy=i([ov(Qg(Wg),mv)]),Fy=cv(My,Ya.init,zy,Vy,(function(){return w.some(Dy)})),jy=[bn("selector"),zn("execute",pv),zn("moveOnTab",!1)],Hy=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))},Uy=function(t,e,n){pc(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))},Wy=function(t,e,n){return oy(t,n.selector,e,-1)},Gy=function(t,e,n){return oy(t,n.selector,e,1)},qy=function(t,e,n,r){return n.moveOnTab?Iv(Wy)(t,e,n,r):w.none()},Yy=function(t,e,n,r){return n.moveOnTab?Iv(Gy)(t,e,n,r):w.none()},Xy=i([ov(Qg(qg),Iv(Wy)),ov(Qg(Xg),Iv(Gy)),ov(tv([ev,Qg(jg)]),qy),ov(tv([rv,Qg(jg)]),Yy),ov(Qg(Hg),Hy),ov(Qg(Wg),Hy)]),Zy=i([ov(Qg(Wg),mv)]),$y=cv(jy,Ya.init,Xy,Zy,(function(){return w.some(Uy)})),Ky=[Vc("onSpace"),Vc("onEnter"),Vc("onShiftEnter"),Vc("onLeft"),Vc("onRight"),Vc("onTab"),Vc("onShiftTab"),Vc("onUp"),Vc("onDown"),Vc("onEscape"),zn("stopSpaceKeyup",!1),Dn("focusIn")],Jy=function(t,e,n){return[ov(Qg(Wg),n.onSpace),ov(tv([rv,Qg(Hg)]),n.onEnter),ov(tv([ev,Qg(Hg)]),n.onShiftEnter),ov(tv([ev,Qg(jg)]),n.onShiftTab),ov(tv([rv,Qg(jg)]),n.onTab),ov(Qg(qg),n.onUp),ov(Qg(Xg),n.onDown),ov(Qg(Gg),n.onLeft),ov(Qg(Yg),n.onRight),ov(Qg(Wg),n.onSpace),ov(Qg(Ug),n.onEscape)]},Qy=function(t,e,n){return n.stopSpaceKeyup?[ov(Qg(Wg),mv)]:[]},tb=cv(Ky,Ya.init,Jy,Qy,(function(t){return t.focusIn})),eb=fv.schema(),nb=dv.schema(),rb=my.schema(),ob=ry.schema(),ib=Fy.schema(),ab=xv.schema(),ub=$y.schema(),sb=tb.schema(),cb=Object.freeze({__proto__:null,acyclic:eb,cyclic:nb,flow:rb,flatgrid:ob,matrix:ib,execution:ab,menu:ub,special:sb}),lb=function(t){return jt(t,"setGridSize")},fb=Wl({branchKey:"mode",branches:cb,name:"keying",active:{events:function(t,e){var n=t.handler;return n.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,e,n)}))},setGridSize:function(t,e,n,r,o){lb(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Sv}),db=function(t,e,n,r){ef((function(){var e=G(r,t.getSystem().build);Bh(t,e)}),t.element)},hb=function(t,e,n,r){var o=t.getSystem().build(r);Vh(t,o,n)},pb=function(t,e,n,r){hb(t,e,ea,r)},mb=function(t,e,n,r){hb(t,e,ta,r)},gb=function(t,e,n,r){var o=vb(t),i=Q(o,(function(t){return oo(r.element,t.element)}));i.each(jh)},vb=function(t,e){return t.components()},yb=function(t,e,n,r,o){var i=vb(t);return w.from(i[r]).map((function(i){return gb(t,e,n,i),o.each((function(n){hb(t,e,(function(t,e){na(t,e,r)}),n)})),i}))},bb=function(t,e,n,r,o){var i=vb(t);return tt(i,r).bind((function(r){return yb(t,e,n,r,o)}))},xb=Object.freeze({__proto__:null,append:pb,prepend:mb,remove:gb,replaceAt:yb,replaceBy:bb,set:db,contents:vb}),wb=Hl({fields:[],name:"replacing",apis:xb}),_b=function(t,e){var n=gi(e);return Hl({fields:[bn("enabled")],name:t,active:{events:i(n)}})},Sb=function(t,e){var n=_b(t,e);return{key:t,value:{config:{},me:n,configAsRaw:i({}),initialConfig:{},state:Ya}}},Cb=function(t,e){e.ignore||($l(t.element),e.onFocus(t))},kb=function(t,e){e.ignore||Kl(t.element)},Tb=function(t){return Jl(t.element)},Ab=Object.freeze({__proto__:null,focus:Cb,blur:kb,isFocused:Tb}),Ob=function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return Qa(n)},Mb=function(t){return gi([xi(Vo(),(function(e,n){Cb(e,t),n.stop()}))].concat(t.stopMousedown?[xi(So(),(function(t,e){e.event.prevent()}))]:[]))},Db=Object.freeze({__proto__:null,exhibit:Ob,events:Mb}),Ib=[zc("onFocus"),zn("stopMousedown",!1),zn("ignore",!1)],Eb=Hl({fields:Ib,name:"focusing",active:Db,apis:Ab}),Rb=function(t){var e=function(){var e=Zn(t),n=function(){return e.get()},r=function(t){return e.set(t)},o=function(){return e.set(t)},i=function(){return e.get()};return{get:n,set:r,clear:o,readState:i}};return{init:e}},Nb=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},Pb=function(t,e,n){e.toggleClass.each((function(e){n.get()?Au(t.element,e):Mu(t.element,e)}))},Lb=function(t,e,n){Vb(t,e,n,!n.get())},Bb=function(t,e,n){n.set(!0),Pb(t,e,n),Nb(t,e,n)},zb=function(t,e,n){n.set(!1),Pb(t,e,n),Nb(t,e,n)},Vb=function(t,e,n,r){var o=r?Bb:zb;o(t,e,n)},Fb=function(t,e,n){return n.get()},jb=function(t,e,n){Vb(t,e,n,e.selected)},Hb=Object.freeze({__proto__:null,onLoad:jb,toggle:Lb,isOn:Fb,on:Bb,off:zb,set:Vb}),Ub=function(){return Qa({})},Wb=function(t,e){var n=Rl(t,e,Lb),r=Nl(t,e,jb);return gi(et([t.toggleOnExecute?[n]:[],[r]]))},Gb=Object.freeze({__proto__:null,exhibit:Ub,events:Wb}),qb=function(t,e,n){ha(t.element,"aria-pressed",n),e.syncWithExpanded&&Zb(t,e,n)},Yb=function(t,e,n){ha(t.element,"aria-selected",n)},Xb=function(t,e,n){ha(t.element,"aria-checked",n)},Zb=function(t,e,n){ha(t.element,"aria-expanded",n)},$b=[zn("selected",!1),Dn("toggleClass"),zn("toggleOnExecute",!0),Vn("aria",{mode:"none"},sn("mode",{pressed:[zn("syncWithExpanded",!1),Hc("update",qb)],checked:[Hc("update",Xb)],expanded:[Hc("update",Zb)],selected:[Hc("update",Yb)],none:[Hc("update",e)]}))],Kb=Hl({fields:$b,name:"toggling",active:Gb,apis:Hb,state:Rb(!1)}),Jb=function(){var t=function(t,e){e.stop(),di(t)};return[xi(No(),t),xi(Go(),t),Ai(bo()),Ai(So())]},Qb=function(t){var e=function(t){return Ri((function(e,n){t(e),n.stop()}))};return gi(et([t.map(e).toArray(),Jb()]))},tx="alloy.item-hover",ex="alloy.item-focus",nx=function(t){(tf(t.element).isNone()||Eb.isFocused(t))&&(Eb.isFocused(t)||Eb.focus(t),fi(t,tx,{item:t}))},rx=function(t){fi(t,ex,{item:t})},ox=i(tx),ix=i(ex),ax=function(t){return{dom:t.dom,domModification:h(h({},t.domModification),{attributes:h(h(h({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Jp.augment(t.itemBehaviours,[t.toggling.fold(Kb.revoke,(function(t){return Kb.config(h({aria:{mode:"checked"}},t))})),Eb.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){rx(t)}}),fb.config({mode:"execution"}),Xp.config({store:{mode:"memory",initialValue:t.data}}),Sb("item-type-events",m(Jb(),[xi(Ao(),nx),xi(Wo(),Eb.focus)]))]),components:t.components,eventOrder:t.eventOrder}},ux=[bn("data"),bn("components"),bn("dom"),zn("hasSubmenu",!1),Dn("toggling"),Jp.field("itemBehaviours",[Kb,Eb,fb,Xp]),zn("ignoreFocus",!1),zn("domModification",{}),Hc("builder",ax),zn("eventOrder",{})],sx=function(t){return{dom:t.dom,components:t.components,events:gi([Oi(Wo())])}},cx=[bn("dom"),bn("components"),Hc("builder",sx)],lx=function(){return"item-widget"},fx=i([Am({name:"widget",overrides:function(t){return{behaviours:Fl([Xp.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:function(){}}})])}}})]),dx=function(t){var e=Fm(lx(),t,fx()),n=jm(lx(),t,e.internals()),r=function(e){return Hm(e,t,"widget").map((function(t){return fb.focusIn(t),t}))},o=function(e,n){return mg(n.event.target)?w.none():function(){return t.autofocus?(n.setSource(e.element),w.none()):w.none()}()};return{dom:t.dom,components:n,domModification:t.domModification,events:gi([Ri((function(t,e){r(t).each((function(t){e.stop()}))})),xi(Ao(),nx),xi(Wo(),(function(e,n){t.autofocus?r(e):Eb.focus(e)}))]),behaviours:Jp.augment(t.widgetBehaviours,[Xp.config({store:{mode:"memory",initialValue:t.data}}),Eb.config({ignore:t.ignoreFocus,onFocus:function(t){rx(t)}}),fb.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:Gl(),onLeft:o,onRight:o,onEscape:function(e,n){return Eb.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element),w.none()):w.none():(Eb.focus(e),w.some(!0))}})])}},hx=[bn("uid"),bn("data"),bn("components"),bn("dom"),zn("autofocus",!1),zn("ignoreFocus",!1),Jp.field("widgetBehaviours",[Xp,Eb,fb]),zn("domModification",{}),Zm(fx()),Hc("builder",dx)],px=sn("type",{widget:hx,item:ux,separator:cx}),mx=function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}},gx=function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},vx=function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}},yx=i([Dm({factory:{sketch:function(t){var e=on("menu.spec item",px,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:h(h({},e),{uid:Pa("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),bx=i([bn("value"),bn("items"),bn("dom"),bn("components"),zn("eventOrder",{}),Zp("menuBehaviours",[Vg,Xp,bg,fb]),Vn("movement",{mode:"menu",moveOnTab:!0},sn("mode",{grid:[Wc(),Hc("config",mx)],matrix:[Hc("config",gx),bn("rowSelector")],menu:[zn("moveOnTab",!0),Hc("config",vx)]})),Nc(),zn("fakeFocus",!1),zn("focusManager",uv()),zc("onHighlight")]),xx=i("alloy.menu-focus"),wx=function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Kp(t.menuBehaviours,[Vg.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Xp.config({store:{mode:"memory",initialValue:t.value}}),bg.config({find:w.some}),fb.config(t.movement.config(t,t.movement))]),events:gi([xi(ix(),(function(t,e){var n=e.event;t.getSystem().getByDom(n.target).each((function(n){Vg.highlight(t,n),e.stop(),fi(t,xx(),{menu:t,item:n})}))})),xi(ox(),(function(t,e){var n=e.event.item;Vg.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},_x=sg({name:"Menu",configFields:bx(),partFields:yx(),factory:wx}),Sx=function(t){return Et(t,(function(t,e){return{k:t,v:e}}))},Cx=function(t,e,n,r){return Vt(n,r).bind((function(r){return Vt(t,r).bind((function(r){var o=Cx(t,e,n,r);return w.some([r].concat(o))}))})).getOr([])},kx=function(t,e){var n={};Dt(t,(function(t,e){q(t,(function(t){n[t]=e}))}));var r=e,o=Sx(e),i=It(o,(function(t,e){return[e].concat(Cx(n,r,o,e))}));return It(n,(function(t){return Vt(i,t).getOr([t])}))},Tx=function(){var t=Zn({}),e=Zn({}),n=Zn({}),r=Zn(w.none()),o=Zn({}),i=function(){t.set({}),e.set({}),n.set({}),r.set(w.none())},a=function(){return r.get().isNone()},u=function(t,n){var r;e.set(h(h({},e.get()),(r={},r[t]={type:"prepared",menu:n},r)))},s=function(i,a,u,s){r.set(w.some(i)),t.set(u),e.set(a),o.set(s);var c=kx(s,u);n.set(c)},c=function(e){return Bt(t.get(),(function(t,n){return t===e}))},l=function(t,e,n){return g(t).bind((function(r){return c(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))},f=function(t,e){var o=Z(y(t).toArray(),(function(t){return g(t).isSome()}));return Vt(n.get(),t).bind((function(t){var n=ot(o.concat(t)),i=nt(n,(function(t,o){return l(t,e,n.slice(0,o+1)).fold((function(){return r.get().is(t)?[]:[w.none()]}),(function(t){return[w.some(t)]}))}));return lg(i)}))},d=function(e){return Vt(t.get(),e).map((function(t){var r=Vt(n.get(),e).getOr([]);return[t].concat(r)}))},p=function(t){return Vt(n.get(),t).bind((function(t){return t.length>1?w.some(t.slice(1)):w.none()}))},m=function(t){return Vt(n.get(),t)},g=function(t){return v(t).bind(Ax)},v=function(t){return Vt(e.get(),t)},y=function(e){return Vt(t.get(),e)},b=function(t){var e=o.get();return it(Ot(e),t)},x=function(){return r.get().bind(g)},_=function(){return e.get()};return{setMenuBuilt:u,setContents:s,expand:d,refresh:m,collapse:p,lookupMenu:v,lookupItem:y,otherMenus:b,getPrimary:x,getMenus:_,clear:i,isClear:a,getTriggeringPath:f}},Ax=function(t){return"prepared"===t.type?w.some(t.menu):w.none()},Ox={init:Tx,extractPreparedMenu:Ax},Mx=function(t,e){var n,r=Zn(w.none()),o=function(e,n,r){return It(r,(function(r,o){var i=function(){return _x.sketch(h(h({},r),{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?sv():uv()}))};return o===n?{type:"prepared",menu:e.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))},i=Ox.init(),a=function(e){var n=o(e,t.data.primary,t.data.menus),r=c();return i.setContents(t.data.primary,n,t.data.expansions,r),i.getPrimary()},u=function(t){return Xp.getValue(t).value},s=function(t,e,n){return dt(e,(function(t){if(!t.getSystem().isConnected())return w.none();var e=Vg.getCandidates(t);return Q(e,(function(t){return u(t)===n}))}))},c=function(e){return It(t.data.menus,(function(t,e){return nt(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},l=function(t,e){Vg.highlight(t,e),Vg.getHighlighted(e).orThunk((function(){return Vg.getFirst(e)})).each((function(e){hi(t,e.element,Wo())}))},f=function(t,e){return cg(G(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?w.some(t.menu):w.none()}))})))},d=function(e,n,r){var o=f(n,n.otherMenus(r));q(o,(function(n){Eu(n.element,[t.markers.backgroundMenu]),t.stayInDom||wb.remove(e,n)}))},p=function(e){return r.get().getOrThunk((function(){var n={},o=Ld(e.element,"."+t.markers.item),i=Z(o,(function(t){return"true"===ma(t,"aria-haspopup")}));return q(i,(function(t){e.getSystem().getByDom(t).each((function(t){var e=u(t);n[e]=t}))})),r.set(w.some(n)),n}))},m=function(t,e){var n=p(t);Dt(n,(function(t,n){var r=j(e,n);ha(t.element,"aria-expanded",r)}))},g=function(e,n,r){return w.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return w.none();var i=o.menu,a=f(n,r.slice(1));return q(a,(function(e){Au(e.element,t.markers.backgroundMenu)})),Wu(i.element)||wb.append(e,xs(i)),Eu(i.element,[t.markers.backgroundMenu]),l(e,i),d(e,n,r),w.some(i)}))}))};(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu",t[t["HighlightParent"]=1]="HighlightParent"})(n||(n={}));var v=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return i.setMenuBuilt(e,r),r}return n.menu},y=function(e,r,o){void 0===o&&(o=n.HighlightSubmenu);var a=u(r);return i.expand(a).bind((function(a){return m(e,a),w.from(a[0]).bind((function(u){return i.lookupMenu(u).bind((function(s){var c=v(e,u,s);return Wu(c.element)||wb.append(e,xs(c)),t.onOpenSubmenu(e,r,c,ot(a)),o===n.HighlightSubmenu?(Vg.highlightFirst(c),g(e,i,a)):(Vg.dehighlightAll(c),w.some(r))}))}))}))},b=function(e,n){var r=u(n);return i.collapse(r).bind((function(r){return m(e,r),g(e,i,r).map((function(r){return t.onCollapseMenu(e,n,r),r}))}))},x=function(t,e){var n=u(e);return i.refresh(n).bind((function(e){return m(t,e),g(t,i,e)}))},_=function(t,e){return mg(e.element)?w.none():y(t,e,n.HighlightSubmenu)},S=function(t,e){return mg(e.element)?w.none():b(t,e)},C=function(e,n){return b(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))},k=function(e){return function(n,r){return mc(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOptional().bind((function(t){return e(n,t).map((function(){return!0}))}))}))}},T=gi([xi(xx(),(function(t,e){var n=e.event.item;i.lookupItem(u(n)).each((function(){var n=e.event.menu;Vg.highlight(t,n);var r=u(e.event.item);i.refresh(r).each((function(e){return d(t,i,e)}))}))})),Ri((function(e,r){var o=r.event.target;e.getSystem().getByDom(o).each((function(r){var o=u(r);0===o.indexOf("collapse-item")&&b(e,r),y(e,r,n.HighlightSubmenu).fold((function(){t.onExecute(e,r)}),(function(){}))}))})),Di((function(e,n){a(e).each((function(n){wb.append(e,xs(n)),t.onOpenMenu(e,n),t.highlightImmediately&&l(e,n)}))}))].concat(t.navigateOnHover?[xi(ox(),(function(e,r){var o=r.event.item;x(e,o),y(e,o,n.HighlightParent),t.onHover(e,o)}))]:[])),A=function(t){return Vg.getHighlighted(t).bind(Vg.getHighlighted)},O=function(t){A(t).each((function(e){b(t,e)}))},M=function(t){i.getPrimary().each((function(e){l(t,e)}))},D=function(t){return w.from(t.components()[0]).filter((function(t){return"menu"===ma(t.element,"role")}))},I=function(e){var n=i.getPrimary().bind((function(t){return A(e).bind((function(t){var n=u(t),r=zt(i.getMenus()),o=cg(G(r,Ox.extractPreparedMenu));return i.getTriggeringPath(n,(function(t){return s(e,o,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))}));n.fold((function(){D(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;t.onRepositionMenu(e,r,o)}))},E={collapseMenu:O,highlightPrimary:M,repositionMenus:I};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Kp(t.tmenuBehaviours,[fb.config({mode:"special",onRight:k(_),onLeft:k(S),onEscape:k(C),focusIn:function(t,e){i.getPrimary().each((function(e){hi(t,e.element,Wo())}))}}),Vg.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),bg.config({find:function(t){return Vg.getHighlighted(t)}}),wb.config({})]),eventOrder:t.eventOrder,apis:E,events:T}},Dx=i("collapse-item"),Ix=function(t,e,n){return{primary:t,menus:e,expansions:n}},Ex=function(t,e){return{primary:t,menus:ce(t,e),expansions:{}}},Rx=function(t){return{value:Aa(Dx()),meta:{text:t}}},Nx=ug({name:"TieredMenu",configFields:[jc("onExecute"),jc("onEscape"),Fc("onOpenMenu"),Fc("onOpenSubmenu"),zc("onRepositionMenu"),zc("onCollapseMenu"),zn("highlightImmediately",!0),An("data",[bn("primary"),bn("menus"),bn("expansions")]),zn("fakeFocus",!1),zc("onHighlight"),zc("onHover"),Pc(),bn("dom"),zn("navigateOnHover",!0),zn("stayInDom",!1),Zp("tmenuBehaviours",[fb,Vg,bg,wb]),zn("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:Mx,extraApis:{tieredData:Ix,singleData:Ex,collapseItem:Rx}}),Px=function(t,e,n,r,o){var i=function(){return t.lazySink(e)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Al()},onRtl:function(){return Ol()}}}:{},u=function(t){return 2===t.length},s=function(t){return u(t)?a:{}};return Nx.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return dp.close(e),t.onEscape.map((function(t){return t(e)})),w.some(!0)},onExecute:function(){return w.some(!0)},onOpenMenu:function(t,e){Eh.positionWithinBounds(i().getOrDie(),n,e,o())},onOpenSubmenu:function(t,e,n,r){var o=i().getOrDie();Eh.position(o,h({anchor:"submenu",item:e},s(r)),n)},onRepositionMenu:function(t,e,r){var a=i().getOrDie();Eh.positionWithinBounds(a,n,e,o()),q(r,(function(t){var e=s(t.triggeringPath);Eh.position(a,h({anchor:"submenu",item:t.triggeringItem},e),t.triggeredMenu)}))}})},Lx=function(t,e){var n=function(e,n){var r=t.getRelated(e);return r.exists((function(t){return bc(t,n)}))},r=function(t,e){dp.setContent(t,e)},o=function(t,e,n){i(t,e,n,w.none())},i=function(t,e,n,r){a(t,e,n,(function(){return r.map((function(t){return oc(t)}))}))},a=function(e,n,r,o){var i=t.lazySink(e).getOrDie();dp.openWhileCloaked(e,r,(function(){return Eh.positionWithinBounds(i,n,e,o())})),Xp.setValue(e,w.some({mode:"position",anchor:n,getBounds:o}))},u=function(t,e,n){s(t,e,n,(function(){return w.none()}))},s=function(e,n,r,o){var i=Px(t,e,n,r,o);dp.open(e,i),Xp.setValue(e,w.some({mode:"menu",menu:i}))},c=function(t){dp.isOpen(t)&&(Xp.setValue(t,w.none()),dp.close(t))},l=function(t){return dp.getState(t)},f=function(e){dp.isOpen(e)&&Xp.getValue(e).each((function(n){switch(n.mode){case"menu":dp.getState(e).each((function(t){Nx.repositionMenus(t)}));break;case"position":var r=t.lazySink(e).getOrDie();Eh.positionWithinBounds(r,n.anchor,e,n.getBounds());break}}))},d={setContent:r,showAt:o,showWithin:i,showWithinBounds:a,showMenuAt:u,showMenuWithinBounds:s,hide:c,getContent:l,reposition:f,isOpen:dp.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Kp(t.inlineBehaviours,[dp.config({isPartOf:function(t,e,r){return bc(e,r)||n(t,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),Xp.config({store:{mode:"memory",initialValue:w.none()}}),ql.config({channels:h(h({},vp(h({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),bp(h(h({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:f})))})]),eventOrder:t.eventOrder,apis:d}},Bx=ug({name:"InlineView",configFields:[bn("lazySink"),zc("onShow"),zc("onHide"),Nn("onEscape"),Zp("inlineBehaviours",[dp,Xp,ql]),Ln("fireDismissalEventInstead",[zn("event",ni())]),Ln("fireRepositionEventInstead",[zn("event",ri())]),zn("getRelated",w.none),zn("isExtraPart",l),zn("eventOrder",w.none)],factory:Lx,apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithin:function(t,e,n,r,o){t.showWithin(e,n,r,o)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}}),zx=function(t){return t.x},Vx=function(t,e){return t.x+t.width/2-e.width/2},Fx=function(t,e){return t.x+t.width-e.width},jx=function(t){return t.y},Hx=function(t,e){return t.y+t.height-e.height},Ux=function(t,e,n){return Gc(Fx(t,e),Hx(t,e),n.innerSoutheast(),Qc(),il(t,{right:0,bottom:3}),"layout-inner-se")},Wx=function(t,e,n){return Gc(zx(t),Hx(t,e),n.innerSouthwest(),Jc(),il(t,{left:1,bottom:3}),"layout-inner-sw")},Gx=function(t,e,n){return Gc(Fx(t,e),jx(t),n.innerNortheast(),Kc(),il(t,{right:0,top:2}),"layout-inner-ne")},qx=function(t,e,n){return Gc(zx(t),jx(t),n.innerNorthwest(),$c(),il(t,{left:1,top:2}),"layout-inner-nw")},Yx=function(t,e,n){return Gc(Vx(t,e),jx(t),n.innerNorth(),tl(),il(t,{top:2}),"layout-inner-n")},Xx=function(t,e,n){return Gc(Vx(t,e),Hx(t,e),n.innerSouth(),el(),il(t,{bottom:3}),"layout-inner-s")},Zx=tinymce.util.Tools.resolve("tinymce.util.Delay"),$x=function(t){var e=Qb(t.action),n=t.dom.tag,r=function(e){return Vt(t.dom,"attributes").bind((function(t){return Vt(t,e)}))},o=function(){if("button"===n){var t=r("type").getOr("button"),e=r("role").map((function(t){return{role:t}})).getOr({});return h({type:t},e)}var o=r("role").getOr("button");return{role:o}};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Jp.augment(t.buttonBehaviours,[Eb.config({}),fb.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:o()},eventOrder:t.eventOrder}},Kx=ug({name:"Button",factory:$x,configFields:[zn("uid",void 0),bn("dom"),zn("components",[]),Jp.field("buttonBehaviours",[Eb,fb]),Dn("action"),Dn("role"),zn("eventOrder",{})]}),Jx=function(t){var e=rg(t)&&jt(t,"uid")?t.uid:Pa("memento"),n=function(t){return t.getSystem().getByUid(e).getOrDie()},r=function(t){return t.getSystem().getByUid(e).toOptional()},o=function(){return h(h({},t),{uid:e})};return{get:n,getOpt:r,asSpec:o}},Qx=function(t){return w.from(t()["temporary-placeholder"]).getOr("!not found!")},tw=function(t,e){return w.from(e()[t.toLowerCase()]).getOrThunk((function(){return Qx(e)}))},ew=function(t,e,n){return w.from(e()[t.toLowerCase()]).or(n).getOrThunk((function(){return Qx(e)}))},nw=function(t,e){return dt(t,(function(t){return w.from(e()[t.toLowerCase()])})).getOrThunk((function(){return Qx(e)}))},rw={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ow=function(t){var e=Jx({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Fl([wb.config({})])}),n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},o=Jx({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Fl([wb.config({})])}),i=function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){wb.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))},a=function(t,n){if(t.getSystem().isConnected()){var r=e.get(t);wb.set(r,[gs(n)])}},u={updateProgress:i,updateText:a},s=et([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return w.from(rw[t])})).toArray()]),c=Jx(Kx.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tw("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(e){t.onAction(e)}})),l=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nw(s,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:Fl([wb.config({})])}];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},behaviours:Fl([Eb.config({}),Sb("notification-events",[xi(Oo(),(function(t){c.getOpt(t).each(Eb.focus)}))])]),components:l.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[c.asSpec()]:[]),apis:u}},iw=ug({name:"Notification",factory:ow,configFields:[Dn("level"),bn("progress"),bn("icon"),bn("onAction"),bn("text"),bn("iconProvider"),bn("translationProvider"),Un("closeButton",!0)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}});function aw(t,e,n){var r=e.backstage,o=function(t){switch(t){case"bc-bc":return Xx;case"tc-tc":return Yx;case"tc-bc":return bl;case"bc-tc":default:return xl}},i=function(t){q(t,(function(t){return t.moveTo(0,0)}))},a=function(t){t.length>0&&(ct(t).each((function(t){return t.moveRel(null,"banner")})),q(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})))},u=function(t){i(t),a(t)},s=function(t,i){var a=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0),u=function(){i(),Bx.hide(c)},s=bs(iw.sketch({text:t.text,level:j(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:w.from(t.icon),closeButton:!a,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),c=bs(Bx.sketch(h({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:e.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(c),t.timeout>0&&Zx.setTimeout((function(){u()}),t.timeout),{close:u,moveTo:function(t,e){Bx.showAt(c,{anchor:"makeshift",x:t,y:e},xs(s))},moveRel:function(t,n){if("banner"!==n){var r=o(n),i={anchor:"node",root:Gu(),node:w.some(er.fromDom(t)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};Bx.showAt(c,i,xs(s))}else Bx.showAt(c,e.backstage.shared.anchors.banner(),xs(s))},text:function(t){iw.updateText(s,t)},settings:t,getEl:function(){return s.element.dom},progressBar:{value:function(t){iw.updateProgress(s,t)}}}},c=function(t){t.close()},l=function(t){return t.settings};return{open:s,close:c,reposition:u,getArgs:l}}var uw,sw=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout((function(){t.apply(null,r),n=null}),e))};return{cancel:r,throttle:o}},cw=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){t.apply(null,r),n=null}),e)};return{cancel:r,throttle:o}},lw=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),fw=function(t,e){return t.isBlock(e)||j(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)},dw=function(t,e,n,r,o){var i=lw(t,(function(e){return fw(t,e)}));return w.from(i.backwards(e,n,r,o))},hw="[data-mce-autocompleter]",pw=function(t,e){return mw(er.fromDom(t.selection.getNode())).getOrThunk((function(){var n=er.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return ea(n,er.fromDom(e.extractContents())),e.insertNode(n.dom),Gi(n).each((function(t){return t.dom.normalize()})),Nd(n).map((function(e){t.selection.setCursorLocation(e.dom,Dd(e))})),n}))},mw=function(t){return mc(t,hw)},gw=function(t){return t.collapsed&&3===t.startContainer.nodeType},vw=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},yw=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},bw=function(t,e){return t.substring(e.length)},xw=function(t,e,n){var r;for(r=e-1;r>=0;r--){var o=t.charAt(r);if(yw(o))return w.none();if(o===n)break}return w.some(r)},ww=function(t,e,n,r){if(void 0===r&&(r=0),!gw(e))return w.none();var o=function(t,e,r){return xw(r,e,n).getOr(e)},i=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return dw(t,e.startContainer,e.startOffset,o,i).bind((function(t){var o=e.cloneRange();if(o.setStart(t.container,t.offset),o.setEnd(e.endContainer,e.endOffset),o.collapsed)return w.none();var i=vw(o),a=i.lastIndexOf(n);return 0!==a||bw(i,n).length<r?w.none():w.some({text:bw(i,n),range:o,triggerChar:n})}))},_w=function(t,e,n,r){return void 0===r&&(r=0),mw(er.fromDom(e.startContainer)).fold((function(){return ww(t,e,n,r)}),(function(e){var r=t.createRng();r.selectNode(e.dom);var o=vw(r);return w.some({range:r,text:bw(o,n),triggerChar:n})}))},Sw=function(t,e){e.on("keypress compositionend",t.onKeypress.throttle),e.on("remove",t.onKeypress.cancel);var n=function(t,e){fi(t,Do(),{raw:e})};e.on("keydown",(function(e){var r=function(){return t.getView().bind(Vg.getHighlighted)};8===e.which&&t.onKeypress.throttle(e),t.isActive()&&(27===e.which&&t.cancelIfNecessary(),t.isMenuOpen()?13===e.which?(r().each(di),e.preventDefault()):40===e.which?(r().fold((function(){t.getView().each(Vg.highlightFirst)}),(function(t){n(t,e)})),e.preventDefault(),e.stopImmediatePropagation()):37!==e.which&&38!==e.which&&39!==e.which||r().each((function(t){n(t,e),e.preventDefault(),e.stopImmediatePropagation()})):13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary())})),e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&mw(er.fromDom(e.element)).isNone()&&t.cancelIfNecessary()}))},Cw={setup:Sw},kw=tinymce.util.Tools.resolve("tinymce.util.Promise"),Tw=function(t,e){return{container:t,offset:e}},Aw=function(t){return t.nodeType===Qr},Ow=function(t){return t.nodeType===Jr},Mw=function(t){if(Aw(t))return Tw(t,t.data.length);var e=t.childNodes;return e.length>0?Mw(e[e.length-1]):Tw(t,e.length)},Dw=function(t,e){var n=t.childNodes;return n.length>0&&e<n.length?Dw(n[e],0):n.length>0&&Ow(t)&&n.length===e?Mw(n[n.length-1]):Tw(t,e)},Iw=function(t,e){return dw(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),t.getRoot()).filter((function(t){var e=t.container.data.charAt(t.offset-1);return!yw(e)})).isSome()},Ew=function(t){return function(e){var n=Dw(e.startContainer,e.startOffset);return!Iw(t,n)}},Rw=function(t,e,n){return dt(n.triggerChars,(function(n){return _w(t,e,n)}))},Nw=function(t,e){var n=e(),r=t.selection.getRng();return Rw(t.dom,r,n).bind((function(n){return Pw(t,e,n)}))},Pw=function(t,e,n,r){void 0===r&&(r={});var o=e(),i=t.selection.getRng(),a=i.startContainer.nodeValue,u=Z(o.lookupByChar(n.triggerChar),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return Ew(t.dom)}))(n.range,a,n.text)}));if(0===u.length)return w.none();var s=kw.all(G(u,(function(t){var e=t.fetch(n.text,t.maxResults,r);return e.then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}}))})));return w.some({lookupData:s,context:n})},Lw=ze([_n("type"),Rn("text")]),Bw=function(t){return nn("separatormenuitem",Lw,t)},zw=ze([zn("type","autocompleteitem"),zn("active",!1),zn("disabled",!1),zn("meta",{}),_n("value"),Rn("text"),Rn("icon")]),Vw=ze([_n("type"),_n("ch"),Fn("minChars",1),zn("columns",1),Fn("maxResults",10),Nn("matches"),kn("fetch"),kn("onAction"),qn("highlightOn",[],hn)]),Fw=function(t){return nn("Autocompleter.Separator",Lw,t)},jw=function(t){return nn("Autocompleter.Item",zw,t)},Hw=function(t){return nn("Autocompleter",Vw,t)},Uw=[Un("disabled",!1),Rn("tooltip"),Rn("icon"),Rn("text"),Wn("onSetup",(function(){return e}))],Ww=ze([_n("type"),kn("onAction")].concat(Uw)),Gw=function(t){return nn("toolbarbutton",Ww,t)},qw=[Un("active",!1)].concat(Uw),Yw=ze(qw.concat([_n("type"),kn("onAction")])),Xw=function(t){return nn("ToggleButton",Yw,t)},Zw=[Wn("predicate",(function(){return!1})),Hn("scope","node",["node","editor"]),Hn("position","selection",["node","selection","line"])],$w=Uw.concat([zn("type","contextformbutton"),zn("primary",!1),kn("onAction"),Xn("original",a)]),Kw=qw.concat([zn("type","contextformbutton"),zn("primary",!1),kn("onAction"),Xn("original",a)]),Jw=Uw.concat([zn("type","contextformbutton")]),Qw=qw.concat([zn("type","contextformtogglebutton")]),t_=sn("type",{contextformbutton:$w,contextformtogglebutton:Kw}),e_=ze([zn("type","contextform"),Wn("initValue",(function(){return""})),Rn("label"),Mn("commands",t_),In("launch",sn("type",{contextformbutton:Jw,contextformtogglebutton:Qw}))].concat(Zw)),n_=function(t){return nn("ContextForm",e_,t)},r_=ze([zn("type","contexttoolbar"),_n("items")].concat(Zw)),o_=function(t){return nn("ContextToolbar",r_,t)},i_=function(t){var e={};return q(t,(function(t){e[t]={}})),Ot(e)},a_=function(t){var e=t.ui.registry.getAll().popups,n=It(e,(function(t){return Hw(t).fold((function(t){throw new Error(an(t))}),(function(t){return t}))})),r=i_(Lt(n,(function(t){return t.ch}))),o=zt(n),i=function(t){return Z(o,(function(e){return e.ch===t}))};return{dataset:n,triggerChars:r,lookupByChar:i}};(function(t){t[t["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",t[t["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(uw||(uw={}));var u_,s_=uw,c_="tox-menu-nav__js",l_="tox-collection__item",f_="tox-swatch",d_={normal:c_,color:f_},h_="tox-collection__item--enabled",p_="tox-collection__group-heading",m_="tox-collection__item-icon",g_="tox-collection__item-label",v_="tox-collection__item-accessory",y_="tox-collection__item-caret",b_="tox-collection__item-checkmark",x_="tox-collection__item--active",w_="tox-collection__item-icon-rtl",__="tox-collection__item-container",S_="tox-collection__item-container--column",C_="tox-collection__item-container--row",k_="tox-collection__item-container--align-right",T_="tox-collection__item-container--align-left",A_="tox-collection__item-container--valign-top",O_="tox-collection__item-container--valign-middle",M_="tox-collection__item-container--valign-bottom",D_=function(t){return Vt(d_,t).getOr(c_)},I_=function(t){return"color"===t?"tox-swatches":"tox-menu"},E_=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:I_(t),tieredMenu:"tox-tiered-menu"}},R_=function(t){var e=E_(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:D_(t)}},N_=function(t,e,n){var r=E_(n);return{tag:"div",classes:et([[r.menu,"tox-menu-"+e+"-column"],t?[r.hasIcons]:[]])}},P_=[_x.parts.items({})],L_=function(t,e,n){var r=E_(n),o={tag:"div",classes:et([[r.tieredMenu]])};return{dom:o,markers:R_(n)}},B_=function(t,e){return function(n){var r=W(n,e);return G(r,(function(e){return{dom:t,components:e}}))}},z_=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[_x.parts.items({preprocess:"auto"!==t?B_({tag:"div",classes:["tox-swatches__row"]},t):a})]}]}},V_=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[_x.parts.items({preprocess:B_({tag:"div",classes:["tox-collection__group"]},t)})]}},F_=function(t,e){var n=[],r=[];return q(t,(function(t,o){e(t,o)?(r.length>0&&n.push(r),r=[],Ft(t.dom,"innerHtml")&&r.push(t)):r.push(t)})),r.length>0&&n.push(r),G(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},j_=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[_x.parts.items({preprocess:function(n){return"auto"!==t&&t>1?B_({tag:"div",classes:["tox-collection__group"]},t)(n):F_(n,(function(t,n){return"separator"===e[n].type}))}})]}},H_=function(t,e){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[_x.parts.items({preprocess:function(e){return F_(e,(function(e,n){return"separator"===t[n].type}))}})]}},U_=function(t){return H(t,(function(t){return"icon"in t&&void 0!==t.icon}))},W_=function(t){return console.error(an(t)),console.log(t),w.none()},G_=function(t,e,n,r,o){var i=H_(n);return{value:t,dom:i.dom,components:i.components,items:n}},q_=function(t,e,n,r,o){if("color"===o){var i=z_(r);return{value:t,dom:i.dom,components:i.components,items:n}}if("normal"===o&&"auto"===r){i=j_(r,n);return{value:t,dom:i.dom,components:i.components,items:n}}if("normal"===o&&1===r){i=j_(1,n);return{value:t,dom:i.dom,components:i.components,items:n}}if("normal"===o){i=j_(r,n);return{value:t,dom:i.dom,components:i.components,items:n}}if("listpreview"===o&&"auto"!==r){i=V_(r);return{value:t,dom:i.dom,components:i.components,items:n}}return{value:t,dom:N_(e,r,o),components:P_,items:n}},Y_=[_n("type"),_n("src"),Rn("alt"),qn("classes",[],hn)],X_=ze(Y_),Z_=[_n("type"),_n("text"),Rn("name"),qn("classes",["tox-collection__item-label"],hn)],$_=ze(Z_),K_=Je((function(){return un("type",{cardimage:X_,cardtext:$_,cardcontainer:J_})})),J_=ze([_n("type"),jn("direction","horizontal"),jn("align","left"),jn("valign","middle"),Mn("items",K_)]),Q_=[Un("disabled",!1),Rn("text"),Rn("shortcut"),qe("value","value",ne((function(){return Aa("menuitem-value")})),ln()),zn("meta",{})],tS=ze([_n("type"),Rn("label"),Mn("items",K_),Wn("onSetup",(function(){return e})),Wn("onAction",e)].concat(Q_)),eS=function(t){return nn("cardmenuitem",tS,t)},nS=ze([_n("type"),Un("active",!1),Rn("icon")].concat(Q_)),rS=function(t){return nn("choicemenuitem",nS,t)},oS=["inserttable","colorswatch"],iS=ze([_n("type"),Sn("fancytype",oS),Wn("onAction",e)]),aS=function(t){return nn("fancymenuitem",iS,t)},uS=ze([_n("type"),Wn("onSetup",(function(){return e})),Wn("onAction",e),Rn("icon")].concat(Q_)),sS=function(t){return nn("menuitem",uS,t)},cS=ze([_n("type"),kn("getSubmenuItems"),Wn("onSetup",(function(){return e})),Rn("icon")].concat(Q_)),lS=function(t){return nn("nestedmenuitem",cS,t)},fS=ze([_n("type"),Rn("icon"),Un("active",!1),Wn("onSetup",(function(){return e})),kn("onAction")].concat(Q_)),dS=function(t){return nn("togglemenuitem",fS,t)},hS=function(t,e,n){var r=Ld(t.element,"."+n);if(r.length>0){var o=tt(r,(function(t){var n=t.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>e})).getOr(r.length);return w.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return w.none()},pS=function(t,e){return Fl([Sb(t,e)])},mS=function(t){return pS(Aa("unnamed-events"),t)},gS={namedEvents:pS,unnamedEvents:mS},vS=[bn("lazySink"),bn("tooltipDom"),zn("exclusive",!0),zn("tooltipComponents",[]),zn("delay",300),Hn("mode","normal",["normal","follow-highlight"]),zn("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:i([xl,bl,ml,vl,gl,yl]),onRtl:i([xl,bl,ml,vl,gl,yl])}}})),zc("onHide"),zc("onShow")],yS=function(){var t=Zn(w.none()),e=Zn(w.none()),n=function(){return e.get()},r=function(t){e.set(w.some(t))},o=function(){e.set(w.none())},a=function(){t.get().each((function(t){clearTimeout(t)}))},u=function(e,n){a(),t.set(w.some(setTimeout((function(){e()}),n)))},s=function(){return e.get().isSome()},c=i("not-implemented");return Xa({getTooltip:n,isShowing:s,setTooltip:r,clearTooltip:o,clearTimer:a,resetTimer:u,readState:c})},bS=Object.freeze({__proto__:null,init:yS}),xS=Aa("tooltip.exclusive"),wS=Aa("tooltip.show"),_S=Aa("tooltip.hide"),SS=function(t,e,n){t.getSystem().broadcastOn([xS],{})},CS=function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&wb.set(t,r)}))},kS=Object.freeze({__proto__:null,hideAllExclusive:SS,setComponents:CS}),TS=function(t,e){var n=function(n){e.getTooltip().each((function(r){jh(r),t.onHide(n,r),e.clearTooltip()})),e.clearTimer()},r=function(n){if(!e.isShowing()){SS(n);var r=t.lazySink(n).getOrDie(),o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:gi("normal"===t.mode?[xi(Ao(),(function(t){li(n,wS)})),xi(ko(),(function(t){li(n,_S)}))]:[]),behaviours:Fl([wb.config({})])});e.setTooltip(o),zh(r,o),t.onShow(n,o),Eh.position(r,t.anchor(n),o)}};return gi(et([[xi(wS,(function(n){e.resetTimer((function(){r(n)}),t.delay)})),xi(_S,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),xi(Ho(),(function(t,e){var r=e;r.universal||j(r.channels,xS)&&n(t)})),Ii((function(t){n(t)}))],"normal"===t.mode?[xi(Oo(),(function(t){li(t,wS)})),xi(Fo(),(function(t){li(t,_S)})),xi(Ao(),(function(t){li(t,wS)})),xi(ko(),(function(t){li(t,_S)}))]:[xi(si(),(function(t,e){li(t,wS)})),xi(ci(),(function(t){li(t,_S)}))]]))},AS=Object.freeze({__proto__:null,events:TS}),OS=Hl({fields:vS,name:"tooltipping",active:AS,state:bS,apis:kS}),MS=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),DS=tinymce.util.Tools.resolve("tinymce.util.I18n"),IS=["input","button","textarea","select"],ES=function(t,e,n){var r=e.disabled()?FS:jS;r(t,e)},RS=function(t,e){return!0===e.useNative&&j(IS,Ni(t.element))},NS=function(t){return va(t.element,"disabled")},PS=function(t){ha(t.element,"disabled","disabled")},LS=function(t){ya(t.element,"disabled")},BS=function(t){return"true"===ma(t.element,"aria-disabled")},zS=function(t){ha(t.element,"aria-disabled","true")},VS=function(t){ha(t.element,"aria-disabled","false")},FS=function(t,e,n){e.disableClass.each((function(e){Au(t.element,e)}));var r=RS(t,e)?PS:zS;r(t),e.onDisabled(t)},jS=function(t,e,n){e.disableClass.each((function(e){Mu(t.element,e)}));var r=RS(t,e)?LS:VS;r(t),e.onEnabled(t)},HS=function(t,e){return RS(t,e)?NS(t):BS(t)},US=function(t,e,n,r){var o=r?FS:jS;o(t,e)},WS=Object.freeze({__proto__:null,enable:jS,disable:FS,isDisabled:HS,onLoad:ES,set:US}),GS=function(t,e){return Qa({classes:e.disabled()?e.disableClass.toArray():[]})},qS=function(t,e){return gi([vi(Uo(),(function(e,n){return HS(e,t)})),Nl(t,e,ES)])},YS=Object.freeze({__proto__:null,exhibit:GS,events:qS}),XS=[Wn("disabled",l),zn("useNative",!0),Dn("disableClass"),zc("onDisabled"),zc("onEnabled")],ZS=Hl({fields:XS,name:"disabling",active:YS,apis:WS}),$S=tinymce.util.Tools.resolve("tinymce.EditorManager"),KS=function(t){var e=t.getParam("skin"),n=t.getParam("skin_url");if(!1!==e){var r=e||"oxide";n=n?t.documentBaseURI.toAbsolute(n):$S.baseURL+"/skins/ui/"+r}return n},JS=function(t){return t.getParam("readonly",!1,"boolean")},QS=function(t){return!1===t.getParam("skin")},tC=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},eC=function(t){return t.getParam("width",MS.DOM.getStyle(t.getElement(),"width"))},nC=function(t){return w.from(t.getParam("min_width")).filter(N)},rC=function(t){return w.from(t.getParam("min_height")).filter(N)},oC=function(t){return w.from(t.getParam("max_width")).filter(N)},iC=function(t){return w.from(t.getParam("max_height")).filter(N)},aC=function(t){return w.from(t.getParam("style_formats")).filter(O)},uC=function(t){return t.getParam("style_formats_merge",!1,"boolean")},sC=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},cC=function(t){return t.getParam("removed_menuitems","")},lC=function(t){return!1!==t.getParam("menubar",!0,"boolean")},fC=function(t){var e=t.getParam("toolbar",!0),n=!0===e,r=T(e),o=O(e)&&e.length>0;return!hC(t)&&(o||r||n)},dC=function(t){var e=U(9,(function(e){return t.getParam("toolbar"+(e+1),!1,"string")})),n=Z(e,(function(t){return"string"===typeof t}));return n.length>0?w.some(n):w.none()},hC=function(t){return dC(t).fold((function(){var e=t.getParam("toolbar",[],"string[]");return e.length>0}),(function(){return!0}))};(function(t){t["default"]="wrap",t["floating"]="floating",t["sliding"]="sliding",t["scrolling"]="scrolling"})(u_||(u_={}));var pC,mC=function(t){return t.getParam("toolbar_mode","","string")};(function(t){t["auto"]="auto",t["top"]="top",t["bottom"]="bottom"})(pC||(pC={}));var gC,vC=function(t){return t.getParam("toolbar_groups",{},"object")},yC=function(t){return t.getParam("toolbar_location",pC.auto,"string")},bC=function(t){return yC(t)===pC.bottom},xC=function(t){return t.getParam("fixed_toolbar_container","","string")},wC=function(t){return t.getParam("toolbar_persist",!1,"boolean")},_C=function(t){var e=xC(t);return e.length>0&&t.inline?pc(Gu(),e):w.none()},SC=function(t){return t.inline&&_C(t).isSome()},CC=function(t){var e=_C(t);return e.getOrThunk((function(){return zu(Bu(er.fromDom(t.getElement())))}))},kC=function(t){return t.inline&&!lC(t)&&!fC(t)&&!hC(t)},TC=function(t){var e=t.getParam("toolbar_sticky",!1,"boolean");return(e||t.inline)&&!SC(t)&&!kC(t)},AC=function(t){return t.getParam("draggable_modal",!1,"boolean")},OC=function(t){var e=t.getParam("menu");return e?It(e,(function(t){return h(h({},t),{items:t.items})})):{}},MC=function(t){return t.getParam("menubar")},DC=function(t){return t.getParam("toolbar",!0)},IC=function(t){return t.getParam("file_picker_callback")},EC=function(t){return t.getParam("file_picker_types")},RC=function(t){return t.getParam("file_browser_callback_types")},NC=function(t){return!1===t.getParam("typeahead_urls")},PC=function(t){return t.getParam("anchor_top","#top")},LC=function(t){return t.getParam("anchor_bottom","#bottom")},BC=function(t){var e=t.getParam("file_picker_validator_handler",void 0,"function");return void 0===e?t.getParam("filepicker_validator_handler",void 0,"function"):e},zC="silver.readonly",VC=ze([Cn("readonly")]),FC=function(t,e){var n=t.outerContainer,r=n.element;e&&(t.mothership.broadcastOn([hp()],{target:r}),t.uiMothership.broadcastOn([hp()],{target:r})),t.mothership.broadcastOn([zC],{readonly:e}),t.uiMothership.broadcastOn([zC],{readonly:e})},jC=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&FC(e,!0)})),t.on("SwitchMode",(function(){return FC(e,t.mode.isReadOnly())})),JS(t)&&t.setMode("readonly")},HC=function(){var t;return ql.config({channels:(t={},t[zC]={schema:VC,onReceive:function(t,e){ZS.set(t,e.readonly)}},t)})},UC=function(t){return ZS.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},WC=function(t){return ZS.config({disabled:t})},GC=function(t){return ZS.config({disabled:t,disableClass:"tox-tbtn--disabled"})},qC=function(t){return ZS.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},YC={item:UC,button:WC,splitButton:GC,toolbarButton:qC},XC=function(t,e){var n=t.getApi(e);return function(t){t(n)}},ZC=function(t,e){return Di((function(n){var r=XC(t,n);r((function(n){var r=t.onSetup(n);null!==r&&void 0!==r&&e.set(r)}))}))},$C=function(t,e){return Ii((function(n){return XC(t,n)(e.get())}))},KC=function(t,e){return Ri((function(n,r){XC(t,n)(t.onAction),t.triggersSubmenu||e!==s_.CLOSE_ON_EXECUTE||(li(n,Yo()),r.stop())}))},JC=(gC={},gC[Uo()]=["disabling","alloy.base.behaviour","toggling","item-events"],gC),QC=function(t){return nt(t,(function(t){return t.toArray()}))},tk=function(t,n,r,o){var i=Zn(e);return{type:"item",dom:n.dom,components:QC(n.optComponents),data:t.data,eventOrder:JC,hasSubmenu:t.triggersSubmenu,itemBehaviours:Fl([Sb("item-events",[KC(t,r),ZC(t,i),$C(t,i)]),YC.item((function(){return t.disabled||o.isDisabled()})),HC(),wb.config({})].concat(t.itemBehaviours))}},ek=function(t){return{value:t.value,meta:h({text:t.text.getOr("")},t.meta)}},nk=tinymce.util.Tools.resolve("tinymce.Env"),rk=function(t){var e={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=nk.mac?e:n,o=t.split("+"),i=G(o,(function(t){var e=t.toLowerCase().trim();return Ft(r,e)?r[e]:t}));return nk.mac?i.join(""):i.join("+")},ok=function(t){return{dom:{tag:"div",classes:[m_],innerHtml:t}}},ik=function(t){return{dom:{tag:"div",classes:[g_]},components:[gs(DS.translate(t))]}},ak=function(t,e){return{dom:{tag:"div",classes:e,innerHtml:t}}},uk=function(t,e){return{dom:{tag:"div",classes:[g_]},components:[{dom:{tag:t.tag,styles:t.styles},components:[gs(DS.translate(e))]}]}},sk=function(t){return{dom:{tag:"div",classes:[v_],innerHtml:rk(t)}}},ck=function(t){return{dom:{tag:"div",classes:[b_],innerHtml:tw("checkmark",t)}}},lk=function(t){return{dom:{tag:"div",classes:[y_],innerHtml:tw("chevron-right",t)}}},fk=function(t){return{dom:{tag:"div",classes:[y_],innerHtml:tw("chevron-down",t)}}},dk=function(t,e){var n="vertical"===t.direction?S_:C_,r="left"===t.align?T_:k_,o=function(){switch(t.valign){case"top":return A_;case"middle":return O_;case"bottom":return M_}};return{dom:{tag:"div",classes:[__,n,r,o()]},components:e}},hk=function(t,e,n){return{dom:{tag:"img",classes:e,attributes:{src:t,alt:n.getOr("")}}}},pk=function(t,e,n,r){var o="custom",i="remove",a=function(){var a=f_,u=n.getOr(""),s=t.map((function(t){return{title:r.translate(t)}})).getOr({}),c={tag:"div",attributes:s,classes:[a]};return h(h({},c),e===o?{tag:"button",classes:m(c.classes,["tox-swatches__picker-btn"]),innerHtml:u}:e===i?{classes:m(c.classes,["tox-swatch--remove"]),innerHtml:u}:{attributes:h(h({},c.attributes),{"data-mce-color":e}),styles:{"background-color":e}})};return{dom:a(),optComponents:[]}},mk=function(t,e){var n=e.map((function(t){return{attributes:{title:DS.translate(t)}}})).getOr({});return h({tag:"div",classes:[c_,l_].concat(t?[w_]:[])},n)},gk=function(t,e,n,r,o){var i=n?e.or(w.some("")).map(ok):w.none(),a=t.checkMark,u=t.htmlContent.fold((function(){return t.textContent.map(r)}),(function(t){return w.some(ak(t,[g_]))})),s={dom:mk(o,t.ariaLabel),optComponents:[i,u,t.shortcutContent.map(sk),a,t.caret]};return s},vk=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],yk=["list-bull-circle","list-bull-default","list-bull-square"],bk=function(t,e,n,r){void 0===r&&(r=w.none());var o=function(t){return t.map((function(t){return DS.isRtl()&&j(vk,t)?t+"-rtl":t}))},i=DS.isRtl()&&t.iconContent.exists((function(t){return j(yk,t)})),a=o(t.iconContent).map((function(t){return ew(t,e.icons,r)})),s=w.from(t.meta).fold((function(){return ik}),(function(t){return Ft(t,"style")?u(uk,t.style):ik}));return"color"===t.presets?pk(t.ariaLabel,t.value,a,e):gk(t,a,n,s,i)},xk=function(t,e){return Vt(t,"tooltipWorker").map((function(t){return[OS.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:Df}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){OS.setComponents(e,[vs({element:er.fromDom(t)})])}))}})]})).getOr([])},wk=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},_k=function(t){return MS.DOM.encode(t)},Sk=function(t,e){var n=DS.translate(t),r=_k(n);if(e.length>0){var o=new RegExp(wk(e),"gi");return r.replace(o,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return r},Ck=function(t,e,n,r,o,i,a,u){void 0===u&&(u=!0);var s=bk({presets:r,textContent:w.none(),htmlContent:n?t.text.map((function(t){return Sk(t,e)})):w.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:w.none(),checkMark:w.none(),caret:w.none(),value:t.value},a.providers,u,t.icon);return tk({data:ek(t),disabled:t.disabled,getApi:function(){return{}},onAction:function(e){return o(t.value,t.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:xk(t.meta,a)},s,i,a.providers)},kk=function(t,e,n,r,o,i,a,u){void 0===u&&(u=!0);var s=function(t){return{setActive:function(e){Kb.set(t,e)},isActive:function(){return Kb.isOn(t)},isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){return ZS.set(t,e)}}},c=bk({presets:n,textContent:e?t.text:w.none(),htmlContent:w.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:w.none(),checkMark:e?w.some(ck(a.icons)):w.none(),caret:w.none(),value:t.value},a,u);return Xt(tk({data:ek(t),disabled:t.disabled,getApi:s,onAction:function(e){return r(t.value)},onSetup:function(t){return t.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},c,i,a),{toggling:{toggleClass:h_,toggleOnExecute:!1,selected:t.active}})},Tk=Pm(lx(),fx()),Ak=function(t){return{value:t}},Ok=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Mk=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Dk=function(t){return Ok.test(t)||Mk.test(t)},Ik=function(t){var e=t.value.replace(Ok,(function(t,e,n,r){return e+e+n+n+r+r}));return{value:e}},Ek=function(t){var e=Ik(t),n=Mk.exec(e.value);return null===n?["FFFFFF","FF","FF","FF"]:n},Rk=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},Nk=function(t){var e=Rk(t.red)+Rk(t.green)+Rk(t.blue);return Ak(e)},Pk=Math.min,Lk=Math.max,Bk=Math.round,zk=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Vk=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Fk=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}},jk=function(t){var e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},Hk=function(t){var e,n,r,o=(t.hue||0)%360,i=t.saturation/100,a=t.value/100;if(i=Lk(0,Pk(i,1)),a=Lk(0,Pk(a,1)),0===i)return e=n=r=Bk(255*a),Fk(e,n,r,1);var u=o/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:e=s,n=c,r=0;break;case 1:e=c,n=s,r=0;break;case 2:e=0,n=s,r=c;break;case 3:e=0,n=c,r=s;break;case 4:e=c,n=0,r=s;break;case 5:e=s,n=0,r=c;break;default:e=n=r=0}return e=Bk(255*(e+l)),n=Bk(255*(n+l)),r=Bk(255*(r+l)),Fk(e,n,r,1)},Uk=function(t){var e=Ek(t),n=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16);return Fk(n,r,o,1)},Wk=function(t,e,n,r){var o=parseInt(t,10),i=parseInt(e,10),a=parseInt(n,10),u=parseFloat(r);return Fk(o,i,a,u)},Gk=function(t){if("transparent"===t)return w.some(Fk(0,0,0,0));var e=zk.exec(t);if(null!==e)return w.some(Wk(e[1],e[2],e[3],"1"));var n=Vk.exec(t);return null!==n?w.some(Wk(n[1],n[2],n[3],n[4])):w.none()},qk=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},Yk=Fk(255,0,0,1),Xk=function(t){return t.fire("SkinLoaded")},Zk=function(t,e){return t.fire("SkinLoadError",e)},$k=function(t){return t.fire("ResizeEditor")},Kk=function(t,e){return t.fire("ResizeContent",e)},Jk=function(t,e){return t.fire("ScrollContent",e)},Qk=function(t,e){return t.fire("TextColorChange",e)},tT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),eT="tinymce-custom-colors";function nT(t){void 0===t&&(t=10);var e=tT.getItem(eT),n=T(e)?JSON.parse(e):[],r=function(e){var n=t-e.length;return n<0?e.slice(0,t):e},o=r(n),i=function(e){F(o,e).each(a),o.unshift(e),o.length>t&&o.pop(),tT.setItem(eT,JSON.stringify(o))},a=function(t){o.splice(t,1)},u=function(){return o.slice(0)};return{add:i,state:u}}var rT="choiceitem",oT=[{type:rT,text:"Light Green",value:"#BFEDD2"},{type:rT,text:"Light Yellow",value:"#FBEEB8"},{type:rT,text:"Light Red",value:"#F8CAC6"},{type:rT,text:"Light Purple",value:"#ECCAFA"},{type:rT,text:"Light Blue",value:"#C2E0F4"},{type:rT,text:"Green",value:"#2DC26B"},{type:rT,text:"Yellow",value:"#F1C40F"},{type:rT,text:"Red",value:"#E03E2D"},{type:rT,text:"Purple",value:"#B96AD9"},{type:rT,text:"Blue",value:"#3598DB"},{type:rT,text:"Dark Turquoise",value:"#169179"},{type:rT,text:"Orange",value:"#E67E23"},{type:rT,text:"Dark Red",value:"#BA372A"},{type:rT,text:"Dark Purple",value:"#843FA1"},{type:rT,text:"Dark Blue",value:"#236FA1"},{type:rT,text:"Light Gray",value:"#ECF0F1"},{type:rT,text:"Medium Gray",value:"#CED4D9"},{type:rT,text:"Gray",value:"#95A5A6"},{type:rT,text:"Dark Gray",value:"#7E8C8D"},{type:rT,text:"Navy Blue",value:"#34495E"},{type:rT,text:"Black",value:"#000000"},{type:rT,text:"White",value:"#ffffff"}],iT=nT(10),aT=function(t){var e=[],n=document.createElement("canvas");n.height=1,n.width=1;for(var r=n.getContext("2d"),o=function(t,e){var n=255,r=e/255,o=Math.round(t*r+n*(1-r));return("0"+o.toString(16)).slice(-2).toUpperCase()},i=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase();r.clearRect(0,0,n.width,n.height),r.fillStyle="#FFFFFF",r.fillStyle=t,r.fillRect(0,0,1,1);var e=r.getImageData(0,0,1,1).data,i=e[0],a=e[1],u=e[2],s=e[3];return"#"+o(i,s)+o(a,s)+o(u,s)},a=0;a<t.length;a+=2)e.push({text:t[a+1],value:i(t[a]),type:"choiceitem"});return e},uT=function(t,e){return t.getParam("color_cols",e,"number")},sT=function(t){return!1!==t.getParam("custom_colors")},cT=function(t){return t.getParam("color_map")},lT=function(t){var e=cT(t);return void 0!==e?aT(e):oT},fT=function(){return G(iT.state(),(function(t){return{type:rT,text:t,value:t}}))},dT=function(t){iT.add(t)},hT=function(t,e){var n;return t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===e?"color":"background-color"])&&(n=n||r)})),n},pT=function(t,e,n){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()}))},mT=function(t,e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()}))},gT=function(t){t.addCommand("mceApplyTextcolor",(function(e,n){pT(t,e,n)})),t.addCommand("mceRemoveTextcolor",(function(e){mT(t,e)}))},vT=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},yT=function(t){var e=lT(t),n=vT(e.length);return uT(t,n)},bT=function(t){var e="choiceitem",n={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:e,text:"Custom color",icon:"color-picker",value:"custom"};return t?[n,r]:[n]},xT=function(t,e,n,r){if("custom"===n){var o=TT(t);o((function(n){n.each((function(n){dT(n),t.execCommand("mceApplyTextcolor",e,n),r(n)}))}),"#000000")}else"remove"===n?(r(""),t.execCommand("mceRemoveTextcolor",e)):(r(n),t.execCommand("mceApplyTextcolor",e,n))},wT=function(t,e){return t.concat(fT().concat(bT(e)))},_T=function(t,e){return function(n){n(wT(t,e))}},ST=function(t,e,n){var r=function(e,n){t.setIconFill(e,n),t.setIconStroke(e,n)},o="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";r(o,n)},CT=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){var r=w.from(hT(t,n));return r.bind((function(t){return Gk(t).map((function(t){var n=Nk(t).value;return pr(e.toLowerCase(),n)}))})).getOr(!1)},columns:yT(t),fetch:_T(lT(t),sT(t)),onAction:function(e){null!==o.get()&&xT(t,n,o.get(),(function(){}))},onItemAction:function(r,i){xT(t,n,i,(function(n){o.set(n),Qk(t,{name:e,color:n})}))},onSetup:function(n){null!==o.get()&&ST(n,e,o.get());var r=function(t){t.name===e&&ST(n,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},kT=function(t,n,r,o){t.ui.registry.addNestedMenuItem(n,{text:o,icon:"forecolor"===n?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(n){xT(t,r,n.value,e)}}]}})},TT=function(t){return function(e,n){var r=function(t){return function(e){var n=e.getData();t(w.from(n.colorpicker)),e.close()}},o=function(t,e){"hex-valid"===e.name&&(e.value?t.enable("ok"):t.disable("ok"))},i={colorpicker:n},a=r(e);t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onAction:o,onSubmit:a,onClose:function(){},onCancel:function(){e(w.none())}})}},AT=function(t){gT(t);var e=Zn(null),n=Zn(null);CT(t,"forecolor","forecolor","Text color",e),CT(t,"backcolor","hilitecolor","Background color",n),kT(t,"forecolor","forecolor","Text color"),kT(t,"backcolor","hilitecolor","Background color")},OT=function(t,e,n,r,o,i,a,u){var s=U_(e),c="color"!==o?"normal":"color",l=MT(e,n,r,c,i,a,u);return q_(t,s,l,r,o)},MT=function(t,e,n,r,o,i,a){return cg(G(t,(function(u){return"choiceitem"===u.type?rS(u).fold(W_,(function(s){return w.some(kk(s,1===n,r,e,i(u.value),o,a,U_(t)))})):w.none()})))},DT=function(t,e){var n=R_(e);if(1===t)return{mode:"menu",moveOnTab:!0};if("auto"===t)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var r="color"===e?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r}},IT=function(t,e){return 1===t?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===e?".tox-swatches__row":".tox-collection__group",cell:"color"===e?"."+f_:"."+l_}}};function ET(t,e){var n=wT(e.colorinput.getColors(),e.colorinput.hasCustomColors()),r=e.colorinput.getColorCols(),o="color",i=OT(Aa("menu-value"),n,(function(e){t.onAction({value:e})}),r,o,s_.CLOSE_ON_EXECUTE,(function(){return!1}),e.shared.providers),a=h(h({},i),{markers:R_(o),movement:DT(r,o)});return{type:"widget",data:{value:Aa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Tk.widget(_x.sketch(a))]}}var RT,NT=Aa("cell-over"),PT=Aa("cell-execute"),LT=function(t,e,n){var r,o=function(n){return fi(n,NT,{row:t,col:e})},i=function(n){return fi(n,PT,{row:t,col:e})},a=function(t,e){e.stop(),i(t)};return bs({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Fl([Sb("insert-table-picker-cell",[xi(Ao(),Eb.focus),xi(Uo(),i),xi(No(),a),xi(Go(),a)]),Kb.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Eb.config({onFocus:o})])})},BT=function(t,e,n){for(var r=[],o=0;o<e;o++){for(var i=[],a=0;a<n;a++)i.push(LT(o,a,t));r.push(i)}return r},zT=function(t,e,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)Kb.set(t[i][a],i<=e&&a<=n)},VT=function(t){return nt(t,(function(t){return G(t,xs)}))},FT=function(t,e){return gs(e+1+"x"+(t+1))},jT=function(t){var e=10,n=10,r=Aa("size-label"),o=BT(r,e,n),i=Jx({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[gs("0x0")],behaviours:Fl([wb.config({})])});return{type:"widget",data:{value:Aa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Tk.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:VT(o).concat(i.asSpec()),behaviours:Fl([Sb("insert-table-picker",[Ti(NT,(function(t,r,a){var u=a.event.row,s=a.event.col;zT(o,u,s,e,n),wb.set(i.get(t),[FT(u,s)])})),Ti(PT,(function(e,n,r){t.onAction({numRows:r.event.row+1,numColumns:r.event.col+1}),li(e,Yo())}))]),fb.config({initSize:{numRows:e,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},HT={inserttable:jT,colorswatch:ET},UT=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?w.some(t[e]):w.none()},WT=function(t,e){return UT(HT,t.fancytype).map((function(n){return n(t,e)}))},GT=function(t,n,r,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var a=i?fk(r.icons):lk(r.icons),u=function(t){return{isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){return ZS.set(t,e)}}},s=bk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:w.none(),ariaLabel:t.text,caret:w.some(a),checkMark:w.none(),shortcutContent:t.shortcut},r,o);return tk({data:ek(t),getApi:u,disabled:t.disabled,onAction:e,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},s,n,r)},qT=function(t,e,n,r){void 0===r&&(r=!0);var o=function(t){return{isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){return ZS.set(t,e)}}},i=bk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:w.none(),ariaLabel:t.text,caret:w.none(),checkMark:w.none(),shortcutContent:t.shortcut},n,r);return tk({data:ek(t),getApi:o,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e,n)},YT=function(t){var e=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}));return{type:"separator",dom:h({tag:"div",classes:[l_,p_]},e),components:[]}},XT=function(t,e,n,r){void 0===r&&(r=!0);var o=function(t){return{setActive:function(e){Kb.set(t,e)},isActive:function(){return Kb.isOn(t)},isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){return ZS.set(t,e)}}},i=bk({iconContent:t.icon,textContent:t.text,htmlContent:w.none(),ariaLabel:t.text,checkMark:w.some(ck(n.icons)),caret:w.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,r);return Xt(tk({data:ek(t),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e,n),{toggling:{toggleClass:h_,toggleOnExecute:!1,selected:t.active}})},ZT=function(t,e){return G(t,(function(t){switch(t.type){case"cardcontainer":return dk(t,ZT(t.items,e));case"cardimage":return hk(t.src,t.classes,t.alt);case"cardtext":var n=t.name.exists((function(t){return j(e.cardText.highlightOn,t)})),r=n?w.from(e.cardText.matchText).getOr(""):"";return ak(Sk(t.text,r),t.classes)}}))},$T=function(t,e,n,r){var o=function(t){return{isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){ZS.set(t,e),q(Ld(t.element,"*"),(function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(ZS)&&ZS.set(t,e)}))}))}}},i={dom:mk(!1,t.label),optComponents:[w.some({dom:{tag:"div",classes:[__,C_]},components:ZT(t.items,r)})]};return tk({data:ek(h({text:w.none()},t)),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:w.from(r.itemBehaviours).getOr([])},i,e,n.providers)},KT=Ck,JT=YT,QT=qT,tA=GT,eA=XT,nA=WT,rA=$T;(function(t){t[t["ContentFocus"]=0]="ContentFocus",t[t["UiFocus"]=1]="UiFocus"})(RT||(RT={}));var oA=function(t,e,n,r,o){var i=n.shared.providers,a=function(t){return o?h(h({},t),{shortcut:w.none(),icon:t.text.isSome()?w.none():t.icon}):t};switch(t.type){case"menuitem":return sS(t).fold(W_,(function(t){return w.some(QT(a(t),e,i,r))}));case"nestedmenuitem":return lS(t).fold(W_,(function(t){return w.some(tA(a(t),e,i,r,o))}));case"togglemenuitem":return dS(t).fold(W_,(function(t){return w.some(eA(a(t),e,i,r))}));case"separator":return Bw(t).fold(W_,(function(t){return w.some(JT(t))}));case"fancymenuitem":return aS(t).fold(W_,(function(t){return nA(a(t),n)}));default:return console.error("Unknown item in general menu",t),w.none()}},iA=function(t,e,n,r,o,i,a){var u=1===r,s=!u||U_(t);return cg(G(t,(function(t){switch(t.type){case"separator":return Fw(t).fold(W_,(function(t){return w.some(JT(t))}));case"cardmenuitem":return eS(t).fold(W_,(function(t){return w.some(rA(h(h({},t),{onAction:function(e){t.onAction(e),n(t.value,t.meta)}}),o,i,{itemBehaviours:xk(t.meta,i),cardText:{matchText:e,highlightOn:a}}))}));case"autocompleteitem":default:return jw(t).fold(W_,(function(t){return w.some(KT(t,e,u,"normal",n,o,i,s))}))}})))},aA=function(t,e,n,r,o){var i=U_(e),a=cg(G(e,(function(t){var e=function(t){return o?!t.hasOwnProperty("text"):i},a=function(t){return oA(t,n,r,e(t),o)};return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?a(h(h({},t),{disabled:!0})):a(t)}))),u=o?G_:q_;return u(t,i,a,1,"normal")},uA=function(t){return Nx.singleData(t.value,t)},sA=function(t,e,n,r){var o=n===RT.ContentFocus?sv():uv(),i=DT(e,r),a=R_(r);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===RT.ContentFocus,focusManager:o,menuBehaviours:gS.unnamedEvents("auto"!==e?[]:[Di((function(t,e){hS(t,4,a.item).each((function(e){var n=e.numColumns,r=e.numRows;fb.setGridSize(t,r,n)}))}))])}},cA=function(t,e){var n=Zn(w.none()),r=Zn(!1),o=bs(Bx.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Fl([Sb("dismissAutocompleter",[xi(ni(),(function(){return s()}))])]),lazySink:e.getSink})),i=function(){return Bx.isOpen(o)},a=function(){return n.get().isSome()},u=function(){a()&&Bx.hide(o)},s=function(){if(a()){var e=n.get().map((function(t){return t.element}));mw(e.getOr(er.fromDom(t.selection.getNode()))).each(ua),u(),n.set(w.none()),r.set(!1)}},c=$t((function(){return a_(t)})),l=function(n,o){var i=dt(o,(function(t){return w.from(t.columns)})).getOr(1);return nt(o,(function(o){var a=o.items;return iA(a,o.matchText,(function(e,i){var a=t.selection.getRng();_w(t.dom,a,n).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(t){var n=t.range,a={hide:function(){s()},reload:function(t){u(),p(t)}};r.set(!0),o.onAction(a,n,e,i),r.set(!1)}))}),i,s_.BUBBLE_TO_SANDBOX,e,o.highlightOn)}))},f=function(e){if(!a()){var o=pw(t,e.range);n.set(w.some({triggerChar:e.triggerChar,element:o,matchLength:e.text.length})),r.set(!1)}},d=function(e,n,r,i){e.matchLength=n.text.length;var a=dt(r,(function(t){return w.from(t.columns)})).getOr(1);Bx.showAt(o,{anchor:"node",root:er.fromDom(t.getBody()),node:w.from(e.element)},_x.sketch(sA(q_("autocompleter-value",!0,i,a,"normal"),a,RT.ContentFocus,"normal"))),Bx.getContent(o).each(Vg.highlightFirst)},h=function(e){return n.get().map((function(n){return _w(t.dom,t.selection.getRng(),n.triggerChar).bind((function(n){return Pw(t,c,n,e)}))})).getOrThunk((function(){return Nw(t,c)}))},p=function(t){h(t).fold(s,(function(t){f(t.context),t.lookupData.then((function(e){n.get().map((function(n){var r=t.context;if(n.triggerChar===r.triggerChar){var o=l(r.triggerChar,e);o.length>0?d(n,r,e,o):r.text.length-n.matchLength>=10?s():u()}}))}))}))},m=cw((function(t){27!==t.which&&p()}),50),g={onKeypress:m,cancelIfNecessary:s,isMenuOpen:i,isActive:a,isProcessingAction:r.get,getView:function(){return Bx.getContent(o)}};!1===t.hasPlugin("rtc")&&Cw.setup(g,t)},lA={register:cA},fA=f,dA=function(t,e,n){return js(t,e,fA,n)},hA=function(t,e,n){return Hs(t,e,fA,n)},pA=zs,mA=function(t,e,n){return mc(t,e,n).isSome()};function gA(t,e){var n=null,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n=setTimeout((function(){t.apply(null,r),n=null}),e)},o=function(){null!==n&&(clearTimeout(n),n=null)};return{cancel:o,schedule:r}}var vA=5,yA=400,bA=function(t){var e=t.raw;return void 0===e.touches||1!==e.touches.length?w.none():w.some(e.touches[0])},xA=function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>vA||r>vA},wA=function(t){var e=Zn(w.none()),n=Zn(!1),r=gA((function(e){t.triggerEvent(qo(),e),n.set(!0)}),yA),o=function(t){return bA(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.schedule(t),n.set(!1),e.set(w.some(i))})),w.none()},i=function(t){return r.cancel(),bA(t).each((function(t){e.get().each((function(n){xA(t,n)&&e.set(w.none())}))})),w.none()},a=function(o){r.cancel();var i=function(t){return oo(t.target,o.target)};return e.get().filter(i).map((function(e){return n.get()?(o.prevent(),!1):t.triggerEvent(Go(),o)}))},u=le([{key:bo(),value:o},{key:xo(),value:i},{key:wo(),value:a}]),s=function(t,e){return Vt(u,e).bind((function(e){return e(t)}))};return{fireIfReady:s}},_A=function(t){var e=t.raw;return e.which===Fg[0]&&!j(["input","textarea"],Ni(t.target))&&!mA(t.target,'[contenteditable="true"]')},SA=function(){return Yr().browser.isFirefox()},CA=Be([kn("triggerEvent"),zn("stopBackspace",!0)]),kA=function(t,e){return SA()?hA(t,"focus",e):dA(t,"focusin",e)},TA=function(t,e){return SA()?hA(t,"blur",e):dA(t,"focusout",e)},AA=function(t,e){var n=on("Getting GUI events settings",CA,e),r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],o=wA(n),i=G(r.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return dA(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()}));var r=n.triggerEvent(e,t);r&&t.kill()}))})),a=Zn(w.none()),u=dA(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()}));var e=n.triggerEvent("paste",t);e&&t.kill(),a.set(w.some(setTimeout((function(){n.triggerEvent(jo(),t)}),0)))})),s=dA(t,"keydown",(function(t){var e=n.triggerEvent("keydown",t);e?t.kill():!0===n.stopBackspace&&_A(t)&&t.prevent()})),c=kA(t,(function(t){var e=n.triggerEvent("focusin",t);e&&t.kill()})),l=Zn(w.none()),f=TA(t,(function(t){var e=n.triggerEvent("focusout",t);e&&t.kill(),l.set(w.some(setTimeout((function(){n.triggerEvent(Fo(),t)}),0)))})),d=function(){q(i,(function(t){t.unbind()})),s.unbind(),c.unbind(),f.unbind(),u.unbind(),a.get().each(clearTimeout),l.get().each(clearTimeout)};return{unbind:d}},OA=function(t,e){var n=Vt(t,"target").getOr(e);return Zn(n)},MA=function(t,e){var n=Zn(!1),r=Zn(!1),o=function(){n.set(!0)},i=function(){r.set(!0)};return{stop:o,cut:i,isStopped:n.get,isCut:r.get,event:t,setSource:e.set,getSource:e.get}},DA=function(t){var n=Zn(!1),r=function(){n.set(!0)};return{stop:r,cut:e,isStopped:n.get,isCut:l,event:t,setSource:c("Cannot set source of a broadcasted event"),getSource:c("Cannot get source of a broadcasted event")}},IA=Ut.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),EA=function(t,e,n,r,o,i){var a=t(e,r),u=MA(n,o);return a.fold((function(){return i.logEventNoHandlers(e,r),IA.complete()}),(function(t){var n=t.descHandler,r=au(n);return r(u),u.isStopped()?(i.logEventStopped(e,t.element,n.purpose),IA.stopped()):u.isCut()?(i.logEventCut(e,t.element,n.purpose),IA.complete()):Gi(t.element).fold((function(){return i.logNoParent(e,t.element,n.purpose),IA.complete()}),(function(r){return i.logEventResponse(e,t.element,n.purpose),IA.resume(r)}))}))},RA=function(t,e,n,r,o,i){return EA(t,e,n,r,o,i).fold((function(){return!0}),(function(r){return RA(t,e,n,r,o,i)}),(function(){return!1}))},NA=function(t,e,n,r,o){var i=OA(n,r);return EA(t,e,n,r,i,o)},PA=function(t,e,n){var r=DA(e);return q(t,(function(t){var e=t.descHandler,n=au(e);n(r)})),r.isStopped()},LA=function(t,e,n,r){return BA(t,e,n,n.target,r)},BA=function(t,e,n,r,o){var i=OA(n,r);return RA(t,e,n,r,i,o)},zA=function(t,e){return{element:t,descHandler:e}},VA=function(t,e){return{id:t,descHandler:e}};function FA(){var t={},e=function(e,n,r){Dt(r,(function(r,o){var i=void 0!==t[o]?t[o]:{};i[n]=iu(r,e),t[o]=i}))},n=function(t,e){return Na(e).fold((function(){return w.none()}),(function(n){return t.bind((function(t){return Vt(t,n)})).map((function(t){return zA(e,t)}))}))},r=function(e){return Vt(t,e).map((function(t){return Lt(t,(function(t,e){return VA(e,t)}))})).getOr([])},o=function(e,r,o){var i=Vt(t,r);return lo(o,(function(t){return n(i,t)}),e)},i=function(e){Dt(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))};return{registerId:e,unregisterId:i,filterByType:r,find:o}}function jA(){var t=FA(),e={},n=function(t){var e=t.element;return Na(e).fold((function(){return Ea("uid-",t.element)}),(function(t){return t}))},r=function(t,n){var r=e[n];if(r!==t)throw new Error('The tagId "'+n+'" is already used by: '+_a(r.element)+"\nCannot use it for: "+_a(t.element)+"\nThe conflicting element is"+(Wu(r.element)?" ":" not ")+"already in the DOM");i(t)},o=function(o){var i=n(o);jt(e,i)&&r(o,i);var a=[o];t.registerId(a,i,o.events),e[i]=o},i=function(n){Na(n.element).each((function(n){delete e[n],t.unregisterId(n)}))},a=function(e){return t.filterByType(e)},u=function(e,n,r){return t.find(e,n,r)},s=function(t){return Vt(e,t)};return{find:u,filter:a,register:o,unregister:i,getById:s}}var HA=function(t){var e=t.dom,n=e.attributes,r=p(e,["attributes"]);return{uid:t.uid,dom:h({tag:"div",attributes:h({role:"presentation"},n)},r),components:t.components,behaviours:$p(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},UA=ug({name:"Container",factory:HA,configFields:[zn("components",[]),Zp("containerBehaviours",[]),zn("events",{}),zn("domModification",{}),zn("eventOrder",{})]}),WA=function(t){var n=function(e){return Gi(t.element).fold((function(){return!0}),(function(t){return oo(e,t)}))},r=jA(),o=function(t,e){return r.find(n,t,e)},a=AA(t.element,{triggerEvent:function(t,e){return Oc(t,e.target,(function(n){return LA(o,t,e,n)}))}}),u={debugInfo:i("real"),triggerEvent:function(t,e,n){Oc(t,e,(function(r){return BA(o,t,n,e,r)}))},triggerFocus:function(t,n){Na(t).fold((function(){$l(t)}),(function(r){Oc(Vo(),t,(function(r){return NA(o,Vo(),{originator:n,kill:e,prevent:e,target:t},t,r),!1}))}))},triggerEscape:function(t,e){u.triggerEvent("keydown",t.element,e.event)},getByUid:function(t){return y(t)},getByDom:function(t){return b(t)},build:bs,addToGui:function(t){l(t)},removeFromGui:function(t){d(t)},addToWorld:function(t){s(t)},removeFromWorld:function(t){c(t)},broadcast:function(t){m(t)},broadcastOn:function(t,e){g(t,e)},broadcastEvent:function(t,e){v(t,e)},isConnected:f},s=function(t){t.connect(u),zi(t.element)||(r.register(t),q(t.components(),s),u.triggerEvent(Zo(),t.element,{target:t.element}))},c=function(t){zi(t.element)||(q(t.components(),c),r.unregister(t)),t.disconnect()},l=function(e){zh(t,e)},d=function(t){jh(t)},h=function(){a.unbind(),aa(t.element)},p=function(t){var e=r.filter(Ho());q(e,(function(e){var n=e.descHandler,r=au(n);r(t)}))},m=function(t){p({universal:!0,data:t})},g=function(t,e){p({universal:!1,channels:t,data:e})},v=function(t,e){var n=r.filter(t);return PA(n,e)},y=function(t){return r.getById(t).fold((function(){return gt.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),gt.value)},b=function(t){var e=Na(t).getOr("not found");return y(e)};return s(t),{root:t,element:t.element,destroy:h,add:l,remove:d,getByUid:y,getByDom:b,addToWorld:s,removeFromWorld:c,broadcast:m,broadcastOn:g,broadcastEvent:v}},GA=function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:G(t.items,e.interpreter)}},qA=i([zn("prefix","form-field"),Zp("fieldBehaviours",[bg,Xp])]),YA=i([Mm({schema:[bn("dom")],name:"label"}),Mm({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[bn("text")],name:"aria-descriptor"}),Am({factory:{sketch:function(t){var e=se(t,["factory"]);return t.factory.sketch(e)}},schema:[bn("factory")],name:"field"})]),XA=function(t,e,n,r){var o=Kp(t.fieldBehaviours,[bg.config({find:function(e){return Hm(e,t,"field")}}),Xp.config({store:{mode:"manual",getValue:function(t){return bg.getCurrent(t).bind(Xp.getValue)},setValue:function(t,e){bg.getCurrent(t).each((function(t){Xp.setValue(t,e)}))}}})]),i=gi([Di((function(e,n){var r=Wm(e,t,["label","field","aria-descriptor"]);r.field().each((function(e){var n=Aa(t.prefix);r.label().each((function(t){ha(t.element,"for",n),ha(e.element,"id",n)})),r["aria-descriptor"]().each((function(n){var r=Aa(t.prefix);ha(n.element,"id",r),ha(e.element,"aria-describedby",r)}))}))}))]),a={getField:function(e){return Hm(e,t,"field")},getLabel:function(e){return Hm(e,t,"label")}};return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:i,apis:a}},ZA=sg({name:"FormField",configFields:qA(),partFields:YA(),factory:XA,apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),$A=function(t,e){return Qa({attributes:le([{key:e.tabAttr,value:"true"}])})},KA=Object.freeze({__proto__:null,exhibit:$A}),JA=[zn("tabAttr","data-alloy-tabstop")],QA=Hl({fields:JA,name:"tabstopping",active:KA}),tO=tinymce.util.Tools.resolve("tinymce.html.Entities"),eO=function(t,e,n,r){var o=rO(t,e,n,r);return ZA.sketch(o)},nO=function(t,e){return eO(t,e,[],[])},rO=function(t,e,n,r){return{dom:iO(n),components:t.toArray().concat([e]),fieldBehaviours:Fl(r)}},oO=function(){return iO([])},iO=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},aO=function(t,e){return ZA.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})},uO=Aa("form-component-change"),sO=Aa("form-close"),cO=Aa("form-cancel"),lO=Aa("form-action"),fO=Aa("form-submit"),dO=Aa("form-block"),hO=Aa("form-unblock"),pO=Aa("form-tabchange"),mO=Aa("form-resize"),gO=function(t,e){var n,r=t.label.map((function(t){return aO(t,e)})),o=function(t){return function(e,n){mc(n.event.target,"[data-collection-item-value]").each((function(r){t(e,n,r,ma(r,"data-collection-item-value"))}))}},i=function(n,r){var o=G(r,(function(n){var r=DS.translate(n.text),o=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "},u=r.replace(/\_| \- |\-/g,(function(t){return a[t]})),s=e.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+s+'" tabindex="-1" data-collection-item-value="'+tO.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+i+o+"</div>"})),i="auto"!==t.columns&&t.columns>1?W(o,t.columns):[o],a=G(i,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}));la(n.element,a.join(""))},u=o((function(n,r,o,i){r.stop(),e.isDisabled()||fi(n,lO,{name:t.name,value:i})})),s=[xi(Ao(),o((function(t,e,n){$l(n)}))),xi(No(),u),xi(Go(),u),xi(Oo(),o((function(t,e,n){pc(t.element,"."+x_).each((function(t){Mu(t,x_)})),Au(n,x_)}))),xi(Mo(),o((function(t){pc(t.element,"."+x_).each((function(t){Mu(t,x_)}))}))),Ri(o((function(e,n,r,o){fi(e,lO,{name:t.name,value:o})})))],c=function(t,e){return G(Ld(t.element,".tox-collection__item"),e)},l=ZA.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:a},behaviours:Fl([ZS.config({disabled:e.isDisabled,onDisabled:function(t){c(t,(function(t){Au(t,"tox-collection__item--state-disabled"),ha(t,"aria-disabled",!0)}))},onEnabled:function(t){c(t,(function(t){Mu(t,"tox-collection__item--state-disabled"),ya(t,"aria-disabled")}))}}),HC(),wb.config({}),Xp.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,n){i(e,n),"auto"===t.columns&&hS(e,5,"tox-collection__item").each((function(t){var n=t.numRows,r=t.numColumns;fb.setGridSize(e,n,r)})),li(e,mO)}}),QA.config({}),fb.config(IT(t.columns,"normal")),Sb("collection-events",s)]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","collection-events"],n)}),f=["tox-form__group--collection"];return eO(r,l,f,[])},vO=i([Dn("data"),zn("inputAttributes",{}),zn("inputStyles",{}),zn("tag","input"),zn("inputClasses",[]),zc("onSetValue"),zn("styles",{}),zn("eventOrder",{}),Zp("inputBehaviours",[Xp,Eb]),zn("selectOnFocus",!0)]),yO=function(t){return Fl([Eb.config({onFocus:t.selectOnFocus?function(t){var e=t.element,n=is(e);e.dom.setSelectionRange(0,n.length)}:e})])},bO=function(t){return h(h({},yO(t)),Kp(t.inputBehaviours,[Xp.config({store:h(h({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return is(t.element)},setValue:function(t,e){var n=is(t.element);n!==e&&as(t.element,e)}}),onSetValue:t.onSetValue})]))},xO=function(t){return{tag:t.tag,attributes:h({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},wO=function(t,e){return{uid:t.uid,dom:xO(t),components:[],behaviours:bO(t),eventOrder:t.eventOrder}},_O=ug({name:"Input",configFields:vO(),factory:wO}),SO={},CO={exports:SO};(function(e,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o();else if("function"===typeof e&&e.amd)e([],o);else{var i;i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,i.EphoxContactWrapper=o()}})((function(){return function(){function t(e,n,r){function i(u,s){if(!n[u]){if(!e[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};e[u][0].call(f.exports,(function(t){var n=e[u][1][t];return i(n||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return t}()({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function c(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"===typeof clearTimeout?clearTimeout:u}catch(t){o=u}})();var l,f=[],d=!1,h=-1;function p(){d&&l&&(d=!1,l.length?f=l.concat(f):h=-1,f.length&&m())}function m(){if(!d){var t=s(p);d=!0;var e=f.length;while(e){l=f,f=[];while(++h<e)l&&l[h].run();h=-1,e=f.length}l=null,d=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new g(t,e)),1!==f.length||d||s(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){(function(n){var r=setTimeout;function o(){}function i(t,e){return function(){t.apply(e,arguments)}}function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function u(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void c(e.promise,o)}s(e.promise,r)}else(1===t._state?s:c)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"===typeof n)return void d(i(n,e),t)}t._state=1,t._value=e,l(t)}catch(r){c(t,r)}}function c(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&a._immediateFn((function(){t._handled||a._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(r){if(n)return;n=!0,c(e,r)}}a.prototype["catch"]=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(o);return u(this,new f(t,e,n)),n},a.all=function(t){var e=Array.prototype.slice.call(t);return new a((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,(function(t){o(i,t)}),n)}e[i]=a,0===--r&&t(e)}catch(s){n(s)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},a.resolve=function(t){return t&&"object"===typeof t&&t.constructor===a?t:new a((function(e){e(t)}))},a.reject=function(t){return new a((function(e,n){n(t)}))},a.race=function(t){return new a((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},a._immediateFn="function"===typeof t?function(e){t(e)}:function(t){r(t,0)},a._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},a._setImmediateFn=function(t){a._immediateFn=t},a._setUnhandledRejectionFn=function(t){a._unhandledRejectionFn=t},"undefined"!==typeof e&&e.exports?e.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"===typeof e?e:function(t){var e=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"===typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o=function(){return"undefined"!==typeof window?window:Function("return this;")()}();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,SO,CO,void 0);var kO,TO=CO.exports.boltExport,AO=function(t){var e=w.none(),n=[],r=function(t){return AO((function(e){o((function(n){e(t(n))}))}))},o=function(t){a()?s(t):n.push(t)},i=function(t){a()||(e=w.some(t),u(n),n=[])},a=function(){return e.isSome()},u=function(t){q(t,s)},s=function(t){e.each((function(e){setTimeout((function(){t(e)}),0)}))};return t(i),{get:o,map:r,isReady:a}},OO=function(t){return AO((function(e){e(t)}))},MO={nu:AO,pure:OO},DO=function(t){setTimeout((function(){throw t}),0)},IO=function(t){var e=function(e){t().then(e,DO)},n=function(e){return IO((function(){return t().then(e)}))},r=function(e){return IO((function(){return t().then((function(t){return e(t).toPromise()}))}))},o=function(e){return IO((function(){return t().then((function(){return e.toPromise()}))}))},i=function(){return MO.nu(e)},a=function(){var e=null;return IO((function(){return null===e&&(e=t()),e}))},u=t;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,toPromise:u,get:e}},EO=function(t){return IO((function(){return new TO(t)}))},RO=function(t){return IO((function(){return TO.resolve(t)}))},NO={nu:EO,pure:RO},PO=["input","textarea"],LO=function(t){var e=Ni(t);return j(PO,e)},BO=function(t,e){var n=e.getRoot(t).getOr(t.element);Mu(n,e.invalidClass),e.notify.each((function(e){LO(t.element)&&ha(t.element,"aria-invalid",!1),e.getContainer(t).each((function(t){la(t,e.validHtml)})),e.onValid(t)}))},zO=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element);Au(o,e.invalidClass),e.notify.each((function(e){LO(t.element)&&ha(t.element,"aria-invalid",!0),e.getContainer(t).each((function(t){la(t,r)})),e.onInvalid(t,r)}))},VO=function(t,e,n){return e.validator.fold((function(){return NO.pure(gt.value(!0))}),(function(e){return e.validate(t)}))},FO=function(t,e,n){return e.notify.each((function(e){e.onValidate(t)})),VO(t,e).map((function(r){return t.getSystem().isConnected()?r.fold((function(r){return zO(t,e,n,r),gt.error(r)}),(function(n){return BO(t,e),gt.value(n)})):gt.error("No longer in system")}))},jO=function(t,e){var n=e.getRoot(t).getOr(t.element);return Du(n,e.invalidClass)},HO=Object.freeze({__proto__:null,markValid:BO,markInvalid:zO,query:VO,run:FO,isInvalid:jO}),UO=function(t,n){return t.validator.map((function(r){return gi([xi(r.onEvent,(function(e){FO(e,t,n).get(a)}))].concat(r.validateOnLoad?[Di((function(r){FO(r,t,n).get(e)}))]:[]))})).getOr({})},WO=Object.freeze({__proto__:null,events:UO}),GO=[bn("invalidClass"),zn("getRoot",w.none),Ln("notify",[zn("aria","alert"),zn("getContainer",w.none),zn("validHtml",""),zc("onValid"),zc("onInvalid"),zc("onValidate")]),Ln("validator",[bn("validate"),zn("onEvent","input"),zn("validateOnLoad",!0)])],qO=Hl({fields:GO,name:"invalidating",active:WO,apis:HO,extra:{validation:function(t){return function(e){var n=Xp.getValue(e);return NO.pure(t(n))}}}}),YO=function(t,e,n,r){return n.getOrCreate(t,e,r)},XO=Object.freeze({__proto__:null,getCoupled:YO}),ZO=[xn("others",tn(gt.value,ln()))],$O=function(){var t={},e=function(e,n,r){var o=Ot(n.others);if(o)return Vt(t,r).getOrThunk((function(){var o=Vt(n.others,r).getOrDie("No information found for coupled component: "+r),i=o(e),a=e.getSystem().build(i);return t[r]=a,a}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))},n=i({});return Xa({readState:n,getOrCreate:e})},KO=Object.freeze({__proto__:null,init:$O}),JO=Hl({fields:ZO,name:"coupling",apis:XO,state:KO}),QO=i("sink"),tM=i(Mm({name:QO(),overrides:i({dom:{tag:"div"},behaviours:Fl([Eh.config({useFixed:f})]),events:gi([Ai(Do()),Ai(So()),Ai(No())])})}));(function(t){t[t["HighlightFirst"]=0]="HighlightFirst",t[t["HighlightNone"]=1]="HighlightNone"})(kO||(kO={}));var eM=function(t,e){var n=t.getHotspot(e).getOr(e),r="hotspot",o=t.getAnchorOverrides();return t.layouts.fold((function(){return{anchor:r,hotspot:n,overrides:o}}),(function(t){return{anchor:r,hotspot:n,overrides:o,layouts:t}}))},nM=function(t,e,n){var r=t.fetch;return r(n).map(e)},rM=function(t,e,n,r,o,i,a){var u=nM(t,e,r),s=sM(r,t);return u.map((function(t){return t.bind((function(t){return w.from(Nx.sketch(h(h({},i.menu()),{uid:Pa(""),data:t,highlightImmediately:a===kO.HighlightFirst,onOpenMenu:function(t,e){var r=s().getOrDie();Eh.position(r,n,e),dp.decloak(o)},onOpenSubmenu:function(t,e,n){var r=s().getOrDie();Eh.position(r,{anchor:"submenu",item:e},n),dp.decloak(o)},onRepositionMenu:function(t,e,r){var o=s().getOrDie();Eh.position(o,n,e),q(r,(function(t){Eh.position(o,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){return Eb.focus(r),dp.close(o),w.some(!0)}})))}))}))},oM=function(t,e,n,r,o,i,a){var u=eM(t,n),s=rM(t,e,u,n,r,o,a);return s.map((function(t){return t.fold((function(){dp.isOpen(r)&&dp.close(r)}),(function(t){dp.cloak(r),dp.open(r,t),i(r)})),r}))},iM=function(t,e,n,r,o,i,a){return dp.close(r),NO.pure(r)},aM=function(t,e,n,r,o,i){var a=JO.getCoupled(n,"sandbox"),u=dp.isOpen(a),s=u?iM:oM;return s(t,e,n,a,r,o,i)},uM=function(t,e,n){var r=bg.getCurrent(e).getOr(e),o=Ns(t.element);n?Zu(r.element,"min-width",o+"px"):Rs(r.element,o)},sM=function(t,e){return t.getSystem().getByUid(e.uid+"-"+QO()).map((function(t){return function(){return gt.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return gt.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))},cM=function(t){dp.getState(t).each((function(t){Nx.repositionMenus(t)}))},lM=function(t,e,n){var r=vc(),o=function(o,i){var a=eM(t,e);r.link(e.element),t.matchWidth&&uM(a.hotspot,i,t.useMinWidth),t.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(t,o){r.unlink(e.element),void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)},a=sM(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Jp.augment(t.sandboxBehaviours,[Xp.config({store:{mode:"memory",initialValue:e}}),dp.config({onOpen:o,onClose:i,isPartOf:function(t,n,r){return bc(n,r)||bc(e,r)},getAttachPoint:function(){return a().getOrDie()}}),bg.config({find:function(t){return dp.getState(t).bind((function(t){return bg.getCurrent(t)}))}}),ql.config({channels:h(h({},vp({isExtraPart:l})),bp({doReposition:cM}))})])}},fM=function(t){var e=JO.getCoupled(t,"sandbox");cM(e)},dM=function(){return[zn("sandboxClasses",[]),Jp.field("sandboxBehaviours",[bg,ql,dp,Xp])]},hM=i([bn("dom"),bn("fetch"),zc("onOpen"),Vc("onExecute"),zn("getHotspot",w.some),zn("getAnchorOverrides",i({})),Hf(),Zp("dropdownBehaviours",[Kb,JO,fb,Eb]),bn("toggleClass"),zn("eventOrder",{}),Dn("lazySink"),zn("matchWidth",!1),zn("useMinWidth",!1),Dn("role")].concat(dM())),pM=i([Om({schema:[Pc()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),tM()]),mM=function(t,n,r,o){var i,a=function(e){return Vt(t.dom,"attributes").bind((function(t){return Vt(t,e)}))},u=function(t){dp.getState(t).each((function(t){Nx.highlightPrimary(t)}))},s=function(n){var r=u;aM(t,(function(t){return t}),n,o,r,kO.HighlightFirst).get(e)},c={expand:function(n){Kb.isOn(n)||aM(t,(function(t){return t}),n,o,e,kO.HighlightNone).get(e)},open:function(n){Kb.isOn(n)||aM(t,(function(t){return t}),n,o,e,kO.HighlightFirst).get(e)},isOpen:Kb.isOn,close:function(n){Kb.isOn(n)&&aM(t,(function(t){return t}),n,o,e,kO.HighlightFirst).get(e)},repositionMenus:function(t){Kb.isOn(t)&&fM(t)}},l=function(t,e){return di(t),w.some(!0)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Kp(t.dropdownBehaviours,[Kb.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),JO.config({others:{sandbox:function(e){return lM(t,e,{onOpen:function(){Kb.on(e)},onClose:function(){Kb.off(e)}})}}}),fb.config({mode:"special",onSpace:l,onEnter:l,onDown:function(t,e){if(gM.isOpen(t)){var n=JO.getCoupled(t,"sandbox");u(n)}else gM.open(t);return w.some(!0)},onEscape:function(t,e){return gM.isOpen(t)?(gM.close(t),w.some(!0)):w.none()}}),Eb.config({})]),events:Qb(w.some(s)),eventOrder:h(h({},t.eventOrder),(i={},i[Uo()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:c,domModification:{attributes:h(h({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:a("type").getOr("button")}:{})}}},gM=sg({name:"Dropdown",configFields:hM(),partFields:pM(),factory:mM,apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}}),vM=function(){return Qa({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},yM=function(){return gi([vi(Lo(),f)])},bM=Object.freeze({__proto__:null,events:yM,exhibit:vM}),xM=Hl({fields:[],name:"unselecting",active:bM}),wM=function(t,e){return gM.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Fl([YC.button(e.providers.isDisabled),HC(),xM.config({}),QA.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return NO.nu((function(e){return t.fetch(e)})).map((function(r){return w.from(uA(Xt(OT(Aa("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,s_.CLOSE_ON_EXECUTE,(function(){return!1}),e.providers),{movement:DT(t.columns,t.presets)})))}))},parts:{menu:L_(!1,1,t.presets)}})},_M=Aa("color-input-change"),SM=Aa("color-swatch-change"),CM=Aa("color-picker-cancel"),kM=function(t,e,n){var r=ZA.parts.field({factory:_O,inputClasses:["tox-textfield"],onSetValue:function(t){return qO.run(t).get((function(){}))},inputBehaviours:Fl([ZS.config({disabled:e.providers.isDisabled}),HC(),QA.config({}),qO.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return Gi(t.element)},notify:{onValid:function(t){var e=Xp.getValue(t);fi(t,_M,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=Xp.getValue(t);if(0===e.length)return NO.pure(gt.value(!0));var n=er.fromTag("span");Zu(n,"background-color",e);var r=ts(n,"background-color").fold((function(){return gt.error("blah")}),(function(t){return gt.value(e)}));return NO.pure(r)}}})]),selectOnFocus:!1}),o=t.label.map((function(t){return aO(t,e.providers)})),i=function(t,e){fi(t,SM,{value:e})},a=function(t,e){u.getOpt(t).each((function(t){"custom"===e?n.colorPicker((function(e){e.fold((function(){return li(t,CM)}),(function(e){i(t,e),dT(e)}))}),"#ffffff"):i(t,"remove"===e?"":e)}))},u=Jx(wM({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[gl,ml,xl]},onLtr:function(){return[ml,gl,xl]}},components:[],fetch:_T(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},e));return ZA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:Fl([Sb("form-field-events",[xi(_M,(function(e,n){u.getOpt(e).each((function(t){Zu(t.element,"background-color",n.event.color)})),fi(e,uO,{name:t.name})})),xi(SM,(function(t,e){ZA.getField(t).each((function(n){Xp.setValue(n,e.event.value),bg.getCurrent(t).each(Eb.focus)}))})),xi(CM,(function(t,e){ZA.getField(t).each((function(e){bg.getCurrent(t).each(Eb.focus)}))}))])])})},TM=function(t,e,n){return{hue:t,saturation:e,value:n}},AM=function(t){var e=0,n=0,r=0,o=t.red/255,i=t.green/255,a=t.blue/255,u=Math.min(o,Math.min(i,a)),s=Math.max(o,Math.max(i,a));if(u===s)return r=u,TM(0,0,100*r);var c=o===u?i-a:a===u?o-i:a-o;return e=o===u?3:a===u?1:5,e=60*(e-c/(s-u)),n=(s-u)/s,r=s,TM(Math.round(e),Math.round(100*n),Math.round(100*r))},OM=function(t){var e=(100-t)/100*360,n=TM(e,100,100),r=Hk(n);return Nk(r)},MM=Aa("rgb-hex-update"),DM=Aa("slider-update"),IM=Aa("palette-update"),EM=Mm({schema:[bn("dom")],name:"label"}),RM=function(t){return Mm({name:t+"-edge",overrides:function(e){var n=e.model.manager.edgeActions[t];return n.fold((function(){return{}}),(function(t){return{events:gi([wi(bo(),(function(e,n,r){return t(e,r)}),[e]),wi(So(),(function(e,n,r){return t(e,r)}),[e]),wi(Co(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})},NM=RM("top-left"),PM=RM("top"),LM=RM("top-right"),BM=RM("right"),zM=RM("bottom-right"),VM=RM("bottom"),FM=RM("bottom-left"),jM=RM("left"),HM=Am({name:"thumb",defaults:i({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:gi([ki(bo(),t,"spectrum"),ki(xo(),t,"spectrum"),ki(wo(),t,"spectrum"),ki(So(),t,"spectrum"),ki(Co(),t,"spectrum"),ki(To(),t,"spectrum")])}}}),UM=Am({schema:[Xn("mouseIsDown",(function(){return Zn(!1)}))],name:"spectrum",overrides:function(t){var e=t.model,n=e.manager,r=function(e,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(e,t,r)}))};return{behaviours:Fl([fb.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),Eb.config({})]),events:gi([xi(bo(),r),xi(xo(),r),xi(So(),r),xi(Co(),(function(e,n){t.mouseIsDown.get()&&r(e,n)}))])}}}),WM=[EM,jM,BM,PM,VM,NM,LM,FM,zM,HM,UM],GM="slider.change.value",qM=i(GM),YM=function(t){return-1!==t.type.indexOf("touch")},XM=function(t){var e=t.event.raw;if(YM(e)){var n=e;return void 0!==n.touches&&1===n.touches.length?w.some(n.touches[0]).map((function(t){return As(t.clientX,t.clientY)})):w.none()}var r=e;return void 0!==r.clientX?w.some(r).map((function(t){return As(t.clientX,t.clientY)})):w.none()},ZM="top",$M="right",KM="bottom",JM="left",QM=function(t){return t.model.minX},tD=function(t){return t.model.minY},eD=function(t){return t.model.minX-1},nD=function(t){return t.model.minY-1},rD=function(t){return t.model.maxX},oD=function(t){return t.model.maxY},iD=function(t){return t.model.maxX+1},aD=function(t){return t.model.maxY+1},uD=function(t,e,n){return e(t)-n(t)},sD=function(t){return uD(t,rD,QM)},cD=function(t){return uD(t,oD,tD)},lD=function(t){return sD(t)/2},fD=function(t){return cD(t)/2},dD=function(t){return t.stepSize},hD=function(t){return t.snapToGrid},pD=function(t){return t.snapStart},mD=function(t){return t.rounded},gD=function(t,e){return void 0!==t[e+"-edge"]},vD=function(t){return gD(t,JM)},yD=function(t){return gD(t,$M)},bD=function(t){return gD(t,ZM)},xD=function(t){return gD(t,KM)},wD=function(t){return t.model.value.get()},_D=function(t){return{x:t}},SD=function(t){return{y:t}},CD=function(t,e){return{x:t,y:e}},kD=function(t,e){fi(t,qM(),{value:e})},TD=function(t,e){kD(t,CD(eD(e),nD(e)))},AD=function(t,e){kD(t,SD(nD(e)))},OD=function(t,e){kD(t,CD(lD(e),nD(e)))},MD=function(t,e){kD(t,CD(iD(e),nD(e)))},DD=function(t,e){kD(t,_D(iD(e)))},ID=function(t,e){kD(t,CD(iD(e),fD(e)))},ED=function(t,e){kD(t,CD(iD(e),aD(e)))},RD=function(t,e){kD(t,SD(aD(e)))},ND=function(t,e){kD(t,CD(lD(e),aD(e)))},PD=function(t,e){kD(t,CD(eD(e),aD(e)))},LD=function(t,e){kD(t,_D(eD(e)))},BD=function(t,e){kD(t,CD(eD(e),fD(e)))},zD=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},VD=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},FD=function(t,e,n){return Math.max(e,Math.min(n,t))},jD=function(t,e,n,r,o){return o.fold((function(){var o=t-e,i=Math.round(o/r)*r;return FD(e+i,e-1,n+1)}),(function(e){var o=(t-e)%r,i=Math.round(o/r),a=Math.floor((t-e)/r),u=Math.floor((n-e)/r),s=Math.min(u,a+i),c=e+s*r;return Math.max(e,c)}))},HD=function(t,e,n){return Math.min(n,Math.max(t,e))-e},UD=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.step,a=t.snap,u=t.snapStart,s=t.rounded,c=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,d=t.maxBound,h=t.screenRange,p=c?e-1:e,m=l?n+1:n;if(o<f)return p;if(o>d)return m;var g=HD(o,f,d),v=FD(g/h*r+e,p,m);return a&&v>=e&&v<=n?jD(v,e,n,i,u):s?Math.round(v):v},WD=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,u=t.maxBound,s=t.maxOffset,c=t.centerMinEdge,l=t.centerMaxEdge;return o<e?i?0:c:o>n?a?u:l:(o-e)/r*s},GD="top",qD="right",YD="bottom",XD="left",ZD="width",$D="height",KD=function(t){return t.element.dom.getBoundingClientRect()},JD=function(t,e){return t[e]},QD=function(t){var e=KD(t);return JD(e,XD)},tI=function(t){var e=KD(t);return JD(e,qD)},eI=function(t){var e=KD(t);return JD(e,GD)},nI=function(t){var e=KD(t);return JD(e,YD)},rI=function(t){var e=KD(t);return JD(e,ZD)},oI=function(t){var e=KD(t);return JD(e,$D)},iI=function(t,e,n){return(t+e)/2-n},aI=function(t,e){var n=KD(t),r=KD(e),o=JD(n,XD),i=JD(n,qD),a=JD(r,XD);return iI(o,i,a)},uI=function(t,e){var n=KD(t),r=KD(e),o=JD(n,GD),i=JD(n,YD),a=JD(r,GD);return iI(o,i,a)},sI=function(t,e){fi(t,qM(),{value:e})},cI=function(t){return{x:t}},lI=function(t,e,n){var r={min:QM(e),max:rD(e),range:sD(e),value:n,step:dD(e),snap:hD(e),snapStart:pD(e),rounded:mD(e),hasMinEdge:vD(e),hasMaxEdge:yD(e),minBound:QD(t),maxBound:tI(t),screenRange:rI(t)};return UD(r)},fI=function(t,e,n){var r=lI(t,e,n),o=cI(r);return sI(t,o),r},dI=function(t,e){var n=QM(e);sI(t,cI(n))},hI=function(t,e){var n=rD(e);sI(t,cI(n))},pI=function(t,e,n){var r=t>0?VD:zD,o=r(wD(n).x,QM(n),rD(n),dD(n));return sI(e,cI(o)),w.some(o)},mI=function(t){return function(e,n){return pI(t,e,n).map((function(){return!0}))}},gI=function(t){var e=XM(t);return e.map((function(t){return t.left}))},vI=function(t,e,n,r,o){var i=0,a=rI(t),u=r.bind((function(e){return w.some(aI(e,t))})).getOr(i),s=o.bind((function(e){return w.some(aI(e,t))})).getOr(a),c={min:QM(e),max:rD(e),range:sD(e),value:n,hasMinEdge:vD(e),hasMaxEdge:yD(e),minBound:QD(t),minOffset:i,maxBound:tI(t),maxOffset:a,centerMinEdge:u,centerMaxEdge:s};return WD(c)},yI=function(t,e,n,r,o,i){var a=vI(e,i,n,r,o);return QD(e)-QD(t)+a},bI=function(t,e,n,r){var o=wD(n),i=yI(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n),a=Ns(e.element)/2;Zu(e.element,"left",i-a+"px")},xI=mI(-1),wI=mI(1),_I=w.none,SI=w.none,CI={"top-left":w.none(),top:w.none(),"top-right":w.none(),right:w.some(DD),"bottom-right":w.none(),bottom:w.none(),"bottom-left":w.none(),left:w.some(LD)},kI=Object.freeze({__proto__:null,setValueFrom:fI,setToMin:dI,setToMax:hI,findValueOfOffset:lI,getValueFromEvent:gI,findPositionOfValue:yI,setPositionFromValue:bI,onLeft:xI,onRight:wI,onUp:_I,onDown:SI,edgeActions:CI}),TI=function(t,e){fi(t,qM(),{value:e})},AI=function(t){return{y:t}},OI=function(t,e,n){var r={min:tD(e),max:oD(e),range:cD(e),value:n,step:dD(e),snap:hD(e),snapStart:pD(e),rounded:mD(e),hasMinEdge:bD(e),hasMaxEdge:xD(e),minBound:eI(t),maxBound:nI(t),screenRange:oI(t)};return UD(r)},MI=function(t,e,n){var r=OI(t,e,n),o=AI(r);return TI(t,o),r},DI=function(t,e){var n=tD(e);TI(t,AI(n))},II=function(t,e){var n=oD(e);TI(t,AI(n))},EI=function(t,e,n){var r=t>0?VD:zD,o=r(wD(n).y,tD(n),oD(n),dD(n));return TI(e,AI(o)),w.some(o)},RI=function(t){return function(e,n){return EI(t,e,n).map((function(){return!0}))}},NI=function(t){var e=XM(t);return e.map((function(t){return t.top}))},PI=function(t,e,n,r,o){var i=0,a=oI(t),u=r.bind((function(e){return w.some(uI(e,t))})).getOr(i),s=o.bind((function(e){return w.some(uI(e,t))})).getOr(a),c={min:tD(e),max:oD(e),range:cD(e),value:n,hasMinEdge:bD(e),hasMaxEdge:xD(e),minBound:eI(t),minOffset:i,maxBound:nI(t),maxOffset:a,centerMinEdge:u,centerMaxEdge:s};return WD(c)},LI=function(t,e,n,r,o,i){var a=PI(e,i,n,r,o);return eI(e)-eI(t)+a},BI=function(t,e,n,r){var o=wD(n),i=LI(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n),a=Ss(e.element)/2;Zu(e.element,"top",i-a+"px")},zI=w.none,VI=w.none,FI=RI(-1),jI=RI(1),HI={"top-left":w.none(),top:w.some(AD),"top-right":w.none(),right:w.none(),"bottom-right":w.none(),bottom:w.some(RD),"bottom-left":w.none(),left:w.none()},UI=Object.freeze({__proto__:null,setValueFrom:MI,setToMin:DI,setToMax:II,findValueOfOffset:OI,getValueFromEvent:NI,findPositionOfValue:LI,setPositionFromValue:BI,onLeft:zI,onRight:VI,onUp:FI,onDown:jI,edgeActions:HI}),WI=function(t,e){fi(t,qM(),{value:e})},GI=function(t,e){return{x:t,y:e}},qI=function(t,e,n){var r=lI(t,e,n.left),o=OI(t,e,n.top),i=GI(r,o);return WI(t,i),i},YI=function(t,e,n,r){var o=t>0?VD:zD,i=e?wD(r).x:o(wD(r).x,QM(r),rD(r),dD(r)),a=e?o(wD(r).y,tD(r),oD(r),dD(r)):wD(r).y;return WI(n,GI(i,a)),w.some(i)},XI=function(t,e){return function(n,r){return YI(t,e,n,r).map((function(){return!0}))}},ZI=function(t,e){var n=QM(e),r=tD(e);WI(t,GI(n,r))},$I=function(t,e){var n=rD(e),r=oD(e);WI(t,GI(n,r))},KI=function(t){return XM(t)},JI=function(t,e,n,r){var o=wD(n),i=yI(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n),a=LI(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n),u=Ns(e.element)/2,s=Ss(e.element)/2;Zu(e.element,"left",i-u+"px"),Zu(e.element,"top",a-s+"px")},QI=XI(-1,!1),tE=XI(1,!1),eE=XI(-1,!0),nE=XI(1,!0),rE={"top-left":w.some(TD),top:w.some(OD),"top-right":w.some(MD),right:w.some(ID),"bottom-right":w.some(ED),bottom:w.some(ND),"bottom-left":w.some(PD),left:w.some(BD)},oE=Object.freeze({__proto__:null,setValueFrom:qI,setToMin:ZI,setToMax:$I,getValueFromEvent:KI,setPositionFromValue:JI,onLeft:QI,onRight:tE,onUp:eE,onDown:nE,edgeActions:rE}),iE=[zn("stepSize",1),zn("onChange",e),zn("onChoose",e),zn("onInit",e),zn("onDragStart",e),zn("onDragEnd",e),zn("snapToGrid",!1),zn("rounded",!0),Dn("snapStart"),xn("model",sn("mode",{x:[zn("minX",0),zn("maxX",100),Xn("value",(function(t){return Zn(t.mode.minX)})),bn("getInitialValue"),Hc("manager",kI)],y:[zn("minY",0),zn("maxY",100),Xn("value",(function(t){return Zn(t.mode.minY)})),bn("getInitialValue"),Hc("manager",UI)],xy:[zn("minX",0),zn("maxX",100),zn("minY",0),zn("maxY",100),Xn("value",(function(t){return Zn({x:t.mode.minX,y:t.mode.minY})})),bn("getInitialValue"),Hc("manager",oE)]})),Zp("sliderBehaviours",[fb,Xp]),Xn("mouseIsDown",(function(){return Zn(!1)}))],aE=function(t,e,n,r){var o,i=function(e){return Um(e,t,"thumb")},a=function(e){return Um(e,t,"spectrum")},u=function(e){return Hm(e,t,"left-edge")},s=function(e){return Hm(e,t,"right-edge")},c=function(e){return Hm(e,t,"top-edge")},l=function(e){return Hm(e,t,"bottom-edge")},d=t.model,h=d.manager,p=function(e,n){h.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},m=function(e,n){d.value.set(n);var r=i(e);return p(e,r),t.onChange(e,r,n),w.some(!0)},g=function(e){h.setToMin(e,t)},v=function(e){h.setToMax(e,t)},y=function(e){var n=function(){Hm(e,t,"thumb").each((function(n){var r=d.value.get();t.onChoose(e,n,r)}))},r=t.mouseIsDown.get();t.mouseIsDown.set(!1),r&&n()},b=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,i(e))},x=function(e,n){n.stop(),t.onDragEnd(e,i(e)),y(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:Kp(t.sliderBehaviours,[fb.config({mode:"special",focusIn:function(e){return Hm(e,t,"spectrum").map(fb.focusIn).map(f)}}),Xp.config({store:{mode:"manual",getValue:function(t){return d.value.get()}}}),ql.config({channels:(o={},o[mp()]={onReceive:y},o)})]),events:gi([xi(qM(),(function(t,e){m(t,e.event.value)})),Di((function(e,n){var r=d.getInitialValue();d.value.set(r);var o=i(e);p(e,o);var u=a(e);t.onInit(e,o,u,d.value.get())})),xi(bo(),b),xi(wo(),x),xi(So(),b),xi(To(),x)]),apis:{resetToMin:g,resetToMax:v,changeValue:m,refresh:p},domModification:{styles:{position:"relative"}}}},uE=sg({name:"Slider",configFields:iE,partFields:WM,factory:aE,apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),sE=function(t,e){var n=uE.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=uE.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return uE.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:i({y:0})},components:[n,r],sliderBehaviours:Fl([Eb.config({})]),onChange:function(t,e,n){fi(t,DM,{value:n})}})},cE="form",lE=[Zp("formBehaviours",[Xp])],fE=function(t){return"<alloy.field."+t+">"},dE=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),Bm(cE,fE(e),n)};return{field:e,record:function(){return t}}}(),n=t(e),r=e.record(),o=G(r,(function(t){return Am({name:t,pname:fE(t)})}));return tg(cE,lE,o,pE,n)},hE=function(t,e){return t.fold((function(){return gt.error(e)}),gt.value)},pE=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:Kp(t.formBehaviours,[Xp.config({store:{mode:"manual",getValue:function(e){var n=Gm(e,t);return It(n,(function(t,e){return t().bind((function(t){var n=bg.getCurrent(t);return hE(n,new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+_a(t.element)))})).map(Xp.getValue)}))},setValue:function(e,n){Dt(n,(function(n,r){Hm(e,t,r).each((function(t){bg.getCurrent(t).each((function(t){Xp.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return Hm(e,t,n).bind(bg.getCurrent)}}}},mE={getField:qa((function(t,e,n){return t.getField(e,n)})),sketch:dE},gE=Aa("valid-input"),vE=Aa("invalid-input"),yE=Aa("validating-input"),bE="colorcustom.rgb.",xE=function(t,n,r,o){var i=function(e,r){return qO.config({invalidClass:n("invalid"),notify:{onValidate:function(t){fi(t,yE,{type:e})},onValid:function(t){fi(t,gE,{type:e,value:Xp.getValue(t)})},onInvalid:function(t){fi(t,vE,{type:e,value:Xp.getValue(t)})}},validator:{validate:function(e){var n=Xp.getValue(e),o=r(n)?gt.value(!0):gt.error(t("aria.input.invalid"));return NO.pure(o)},validateOnLoad:!1}})},a=function(r,o,a,u,s){var c=t(bE+"range"),l=ZA.parts.label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":u}}}),f=ZA.parts.field({data:s,factory:_O,inputAttributes:h({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:Fl([i(o,r),QA.config({})]),onSetValue:function(t){if(qO.isInvalid(t)){var n=qO.run(t);n.get(e)}}}),d=[l,f],p="hex"!==o?[ZA.parts["aria-descriptor"]({text:c})]:[],m=d.concat(p);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}},u=function(t,e){var n=Nk(e);return mE.getField(t,"hex").each((function(e){Eb.isFocused(e)||Xp.setValue(t,{hex:n.value})})),n},s=function(t,e){var n=e.red,r=e.green,o=e.blue;Xp.setValue(t,{red:n,green:r,blue:o})},c=Jx({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=function(t,e){c.getOpt(t).each((function(t){Zu(t.element,"background-color","#"+e.value)}))},f=function(){var e={red:Zn(w.some(255)),green:Zn(w.some(255)),blue:Zn(w.some(255)),hex:Zn(w.some("ffffff"))},i=function(t,e){var n=Uk(e);s(t,n),p(n)},f=function(t){return e[t].get()},d=function(t,n){e[t].set(n)},h=function(){return f("red").bind((function(t){return f("green").bind((function(e){return f("blue").map((function(n){return Fk(t,e,n,1)}))}))}))},p=function(t){var e=t.red,n=t.green,r=t.blue;d("red",w.some(e)),d("green",w.some(n)),d("blue",w.some(r))},m=function(t,e){var n=e.event;"hex"!==n.type?d(n.type,w.none()):o(t)},g=function(t,e){r(t);var n=Ak(e);d("hex",w.some(e));var o=Uk(n);s(t,o),p(o),fi(t,MM,{hex:n}),l(t,n)},v=function(t,e,n){var r=parseInt(n,10);d(e,w.some(r)),h().each((function(e){var n=u(t,e);l(t,n)}))},y=function(t){return"hex"===t.type},b=function(t,e){var n=e.event;y(n)?g(t,n.value):v(t,n.type,n.value)},x=function(e){return{label:t(bE+e+".label"),description:t(bE+e+".description")}},_=x("red"),S=x("green"),C=x("blue"),k=x("hex");return Xt(mE.sketch((function(e){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[e.field("red",ZA.sketch(a(jk,"red",_.label,_.description,255))),e.field("green",ZA.sketch(a(jk,"green",S.label,S.description,255))),e.field("blue",ZA.sketch(a(jk,"blue",C.label,C.description,255))),e.field("hex",ZA.sketch(a(Dk,"hex",k.label,k.description,"ffffff"))),c.asSpec()],formBehaviours:Fl([qO.config({invalidClass:n("form-invalid")}),Sb("rgb-form-events",[xi(gE,b),xi(vE,m),xi(yE,m)])])}})),{apis:{updateHex:function(t,e){Xp.setValue(t,{hex:e.value}),i(t,e),l(t,e)}}})},d=ug({factory:f,name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}});return d},wE=function(t,e){var n=uE.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),r=uE.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(t,e){var n=t.width,r=t.height,o=t.getContext("2d");if(null!==o){o.fillStyle=e,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}},a=function(t,e){var n=t.components()[0].element.dom;o(n,qk(e))},u=function(t){var a=i({x:0,y:0}),u=function(t,e,n){fi(t,IM,{value:n})},s=function(t,e,n,r){o(n.element.dom,qk(Yk))},c=Fl([bg.config({find:w.some}),Eb.config({})]);return uE.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[n,r],onChange:u,onInit:s,sliderBehaviours:c})},s=ug({factory:u,name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(t,e,n){a(e,n)}},extraApis:{}});return s},_E=function(t,n){var r=function(e){var r=xE(t,n,e.onValidHex,e.onInvalidHex),o=wE(t,n),i={paletteRgba:Zn(Yk)},a=Jx(o.sketch({})),u=Jx(r.sketch({})),s=function(t,e){a.getOpt(t).each((function(t){var n=Uk(e);i.paletteRgba.set(n),o.setRgba(t,n)}))},c=function(t,e){u.getOpt(t).each((function(t){r.updateHex(t,e)}))},l=function(t,e,n){q(n,(function(n){n(t,e)}))},f=function(){var t=[c];return function(e,n){var r=n.event.value,o=i.paletteRgba.get(),a=AM(o),u=TM(a.hue,r.x,100-r.y),s=Hk(u),c=Nk(s);l(e,c,t)}},d=function(){var t=[s,c];return function(e,n){var r=n.event.value,o=OM(r.y);l(e,o,t)}};return{uid:e.uid,dom:e.dom,components:[a.asSpec(),sE(t,n),u.asSpec()],behaviours:Fl([Sb("colour-picker-events",[xi(IM,f()),xi(DM,d())]),bg.config({find:function(t){return u.getOpt(t)}}),fb.config({mode:"acyclic"})])}},o=ug({name:"ColourPicker",configFields:[bn("dom"),zn("onValidHex",e),zn("onInvalidHex",e)],factory:r});return o},SE=function(){return bg.config({find:w.some})},CE=function(t){return bg.config({find:t.getOpt})},kE=function(t){return bg.config({find:function(e){return $i(e.element,t).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}})},TE={self:SE,memento:CE,childAt:kE},AE={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},OE=function(t){return AE[t]},ME=function(t){return OE(t)},DE=function(t){var e=function(t){return"tox-"+t},n=_E(ME,e),r=function(t){fi(t,lO,{name:"hex-valid",value:!0})},o=function(t){fi(t,lO,{name:"hex-valid",value:!1})},i=Jx(n.sketch({dom:{tag:"div",classes:[e("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:Fl([Xp.config({store:{mode:"manual",getValue:function(t){var e=i.get(t),n=bg.getCurrent(e),r=n.bind((function(t){var e=Xp.getValue(t);return e.hex}));return r.map((function(t){return"#"+t})).getOr("")},setValue:function(t,e){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,r=n.exec(e),o=i.get(t),a=bg.getCurrent(o);a.fold((function(){console.log("Can not find form")}),(function(t){Xp.setValue(t,{hex:w.from(r[1]).getOr("")}),mE.getField(t,"hex").each((function(t){li(t,Eo())}))}))}}}),TE.self()])}},IE=tinymce.util.Tools.resolve("tinymce.Resource"),EE=function(t){return Object.prototype.hasOwnProperty.call(t,"init")},RE=function(t){var e=Zn(w.none()),n=Jx({dom:{tag:t.tag}}),r=Zn(w.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Fl([Sb("custom-editor-events",[Di((function(o){n.getOpt(o).each((function(n){(EE(t)?t.init(n.element.dom):IE.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element.dom,t.settings)}))).then((function(t){r.get().each((function(e){t.setValue(e)})),r.set(w.none()),e.set(w.some(t))}))}))}))]),Xp.config({store:{mode:"manual",getValue:function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,n){e.get().fold((function(){r.set(w.some(n))}),(function(t){return t.setValue(n)}))}}}),TE.self()]),components:[n.asSpec()]}},NE=tinymce.util.Tools.resolve("tinymce.util.Tools"),PE=ze([zn("preprocess",a),zn("postprocess",a)]),LE=function(t,e){var n=on("RepresentingConfigs.memento processors",PE,e);return Xp.config({store:{mode:"manual",getValue:function(e){var r=t.get(e),o=Xp.getValue(r);return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r),i=t.get(e);Xp.setValue(i,o)}}})},BE=function(t,e,n){return Xp.config(Xt({store:{mode:"manual",getValue:e,setValue:n}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))},zE=function(t,e,n){return BE(t,(function(t){return e(t.element)}),(function(t,e){return n(t.element,e)}))},VE=function(t){return zE(t,is,as)},FE=function(t){return zE(t,ca,la)},jE=function(t){return Xp.config({store:{mode:"memory",initialValue:t}})},HE={memento:LE,withElement:zE,withComp:BE,domValue:VE,domHtml:FE,memory:jE},UE="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",WE=function(t,e){var n=NE.explode(e.getSetting("images_file_types",UE,"string")),r=function(t){return H(n,(function(e){return mr(t.name,"."+e)}))};return Z(ft(t),r)},GE=function(t,e){var n=function(t,e){e.stop()},r=function(t){return function(e,n){q(t,(function(t){t(e,n)}))}},o=function(t,e){if(!ZS.isDisabled(t)){var n=e.event.raw;a(t,n.dataTransfer.files)}},i=function(t,e){var n=e.event.raw.target;a(t,n.files)},a=function(n,r){Xp.setValue(n,WE(r,e)),fi(n,uO,{name:t.name})},u=Jx({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Fl([Sb("input-file-events",[Ai(No()),Ai(Go())])])}),s=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Fl([HE.memory([]),TE.self(),ZS.config({}),Kb.config({toggleClass:"dragenter",toggleOnExecute:!1}),Sb("dropzone-events",[xi("dragenter",r([n,Kb.toggle])),xi("dragleave",r([n,Kb.toggle])),xi("dragover",n),xi("drop",r([n,o])),xi(Ro(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},Kx.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(t){var e=u.get(t);e.element.dom.click()},buttonBehaviours:Fl([QA.config({}),YC.button(e.isDisabled),HC()])})]}]}},c=t.label.map((function(t){return aO(t,e)})),l=ZA.parts.field({factory:{sketch:s}});return eO(c,l,["tox-form__group--stretched"],[])},qE=function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:G(t.items,e.interpreter)}},YE=Aa("alloy-fake-before-tabstop"),XE=Aa("alloy-fake-after-tabstop"),ZE=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Fl([Eb.config({ignore:!0}),QA.config({})])}},$E=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[ZE([YE]),t,ZE([XE])],behaviours:Fl([TE.childAt(1)])}},KE=function(t,e){fi(t,Do(),{raw:{which:9,shiftKey:e}})},JE=function(t,e){var n=e.element;Du(n,YE)?KE(t,!0):Du(n,XE)&&KE(t,!1)},QE=function(t){return mA(t,["."+YE,"."+XE].join(","),l)},tR=!(Yr().browser.isIE()||Yr().browser.isEdge()),eR=function(t){var e=Zn("");return{getValue:function(t){return e.get()},setValue:function(n,r){if(t)ha(n.element,"srcdoc",r);else{ha(n.element,"src","javascript:''");var o=n.element.dom.contentWindow.document;o.open(),o.write(r),o.close()}e.set(r)}}},nR=function(t,e){var n=tR&&t.sandboxed,r=h(h({},t.label.map((function(t){return{title:t}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=eR(n),i=t.label.map((function(t){return aO(t,e)})),a=function(t){return $E({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:Fl([QA.config({}),Eb.config({}),HE.withComp(w.none(),o.getValue,o.setValue)])})},u=ZA.parts.field({factory:{sketch:a}});return eO(i,u,["tox-form__group--stretched"],[])};function rR(t,e){return aR(document.createElement("canvas"),t,e)}function oR(t){var e=rR(t.width,t.height),n=iR(e);return n.drawImage(t,0,0),e}function iR(t){return t.getContext("2d")}function aR(t,e,n){return t.width=e,t.height=n,t}function uR(t){return t.naturalWidth||t.width}function sR(t){return t.naturalHeight||t.height}var cR=function(){var t=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,r(a,this),r(u,this))},e=window,n=t.immediateFn||"function"===typeof e.setImmediate&&e.setImmediate||function(t){setTimeout(t,1)};function r(t,e){return function(){return t.apply(e,arguments)}}var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void t.reject(o)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var e=t.then;if("function"===typeof e)return void l(r(e,t),r(a,this),r(u,this))}this._state=!0,this._value=t,s.call(this)}catch(n){u.call(this,n)}}function u(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];i.call(this,n)}this._deferreds=[]}function c(t,e,n,r){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=n,this.reject=r}function l(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(o){if(r)return;r=!0,n(o)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){i.call(r,new c(e,n,t,o))}))},t.all=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e);return new t((function(t,e){if(0===r.length)return t([]);var n=r.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,(function(t){o(i,t)}),e)}r[i]=a,0===--n&&t(r)}catch(s){e(s)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},t.resolve=function(e){return e&&"object"===typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){var i=o[r];i.then(t,n)}}))},t},lR=window.Promise?window.Promise:cR();function fR(t){return new lR((function(e,n){var r=URL.createObjectURL(t),o=new Image,i=function(){o.removeEventListener("load",a),o.removeEventListener("error",u)};function a(){i(),e(o)}function u(){i(),n("Unable to load data of type "+t.type+": "+r)}o.addEventListener("load",a),o.addEventListener("error",u),o.src=r,o.complete&&a()}))}function dR(t){var e=t.split(","),n=/data:([^;]+)/.exec(e[0]);if(!n)return w.none();for(var r=n[1],o=e[1],i=1024,a=atob(o),u=a.length,s=Math.ceil(u/i),c=new Array(s),l=0;l<s;++l){for(var f=l*i,d=Math.min(f+i,u),h=new Array(d-f),p=f,m=0;p<d;++m,++p)h[m]=a[p].charCodeAt(0);c[l]=new Uint8Array(h)}return w.some(new Blob(c,{type:r}))}function hR(t){return new lR((function(e,n){dR(t).fold((function(){n("uri is not base64: "+t)}),e)}))}function pR(t,e,n){return e=e||"image/png",R(HTMLCanvasElement.prototype.toBlob)?new lR((function(r,o){t.toBlob((function(t){t?r(t):o()}),e,n)})):hR(t.toDataURL(e,n))}function mR(t,e,n){return e=e||"image/png",t.toDataURL(e,n)}function gR(t){return fR(t).then((function(t){yR(t);var e=rR(uR(t),sR(t)),n=iR(e);return n.drawImage(t,0,0),e}))}function vR(t){return new lR((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)}))}function yR(t){URL.revokeObjectURL(t.src)}function bR(t,e,n){var r=e.type,o=i(r);function a(){return lR.resolve(e)}var u=i(n);function s(){return n.split(",")[1]}function c(e,n){return t.then((function(t){return pR(t,e,n)}))}function l(e,n){return t.then((function(t){return mR(t,e,n)}))}function f(t,e){return l(t,e).then((function(t){return t.split(",")[1]}))}function d(){return t.then(oR)}return{getType:o,toBlob:a,toDataURL:u,toBase64:s,toAdjustedBlob:c,toAdjustedDataURL:l,toAdjustedBase64:f,toCanvas:d}}function xR(t){return vR(t).then((function(e){return bR(gR(t),t,e)}))}function wR(t,e){return pR(t,e).then((function(e){return bR(lR.resolve(t),e,t.toDataURL())}))}var _R=function(t){return xR(t)};function SR(t,e,n){var r="string"===typeof t?parseFloat(t):t;return r>n?r=n:r<e&&(r=e),r}function CR(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}var kR=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function TR(t,e){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=e[a+5*i];for(a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=t[a+5*u]*r[u];o[a+5*i]=n}}return o}function AR(t,e){var n;return e=SR(e,-1,1),e*=100,e<0?n=127+e/100*127:(n=e%1,n=0===n?kR[e]:kR[Math.floor(e)]*(1-n)+kR[Math.floor(e)+1]*n,n=127*n+127),TR(t,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function OR(t,e){return e=SR(255*e,-255,255),TR(t,[1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])}function MR(t,e,n,r){return e=SR(e,0,2),n=SR(n,0,2),r=SR(r,0,2),TR(t,[e,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function DR(t,e){return t.toCanvas().then((function(n){return IR(n,t.getType(),e)}))}function IR(t,e,n){var r=iR(t);function o(t,e){for(var n,r,o,i,a=t.data,u=e[0],s=e[1],c=e[2],l=e[3],f=e[4],d=e[5],h=e[6],p=e[7],m=e[8],g=e[9],v=e[10],y=e[11],b=e[12],x=e[13],w=e[14],_=e[15],S=e[16],C=e[17],k=e[18],T=e[19],A=0;A<a.length;A+=4)n=a[A],r=a[A+1],o=a[A+2],i=a[A+3],a[A]=n*u+r*s+o*c+i*l+f,a[A+1]=n*d+r*h+o*p+i*m+g,a[A+2]=n*v+r*y+o*b+i*x+w,a[A+3]=n*_+r*S+o*C+i*k+T;return t}var i=o(r.getImageData(0,0,t.width,t.height),n);return r.putImageData(i,0,0),wR(t,e)}function ER(t,e){return t.toCanvas().then((function(n){return RR(n,t.getType(),e)}))}function RR(t,e,n){var r=iR(t);function o(t,e,n){function r(t,e,n){return t>n?t=n:t<e&&(t=e),t}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=t.data,u=e.data,s=t.width,c=t.height,l=0;l<c;l++)for(var f=0;f<s;f++){for(var d=0,h=0,p=0,m=0;m<o;m++)for(var g=0;g<o;g++){var v=r(f+g-i,0,s-1),y=r(l+m-i,0,c-1),b=4*(y*s+v),x=n[m*o+g];d+=a[b]*x,h+=a[b+1]*x,p+=a[b+2]*x}var w=4*(l*s+f);u[w]=r(d,0,255),u[w+1]=r(h,0,255),u[w+2]=r(p,0,255)}return e}var i=r.getImageData(0,0,t.width,t.height),a=r.getImageData(0,0,t.width,t.height);return a=o(i,a,n),r.putImageData(a,0,0),wR(t,e)}function NR(t){var e=function(e,n,r){var o=iR(e),i=new Array(256);function a(t,e){for(var n=t.data,r=0;r<n.length;r+=4)n[r]=e[n[r]],n[r+1]=e[n[r+1]],n[r+2]=e[n[r+2]];return t}for(var u=0;u<i.length;u++)i[u]=t(u,r);var s=a(o.getImageData(0,0,e.width,e.height),i);return o.putImageData(s,0,0),wR(e,n)};return function(t,n){return t.toCanvas().then((function(r){return e(r,t.getType(),n)}))}}function PR(t){return function(e,n){return DR(e,t(CR(),n))}}function LR(t){return function(e){return DR(e,t)}}function BR(t){return function(e){return ER(e,t)}}var zR=LR([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),VR=PR(OR),FR=PR(AR),jR=function(t,e,n,r){return DR(t,MR(CR(),e,n,r))},HR=BR([0,-1,0,-1,5,-1,0,-1,0]),UR=NR((function(t,e){return 255*Math.pow(t/255,1-e)}));function WR(t,e,n){var r=uR(t),o=sR(t),i=e/r,a=n/o,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var s=GR(t,i,a);return u?s.then((function(t){return WR(t,e,n)})):s}function GR(t,e,n){return new lR((function(r){var o=uR(t),i=sR(t),a=Math.floor(o*e),u=Math.floor(i*n),s=rR(a,u),c=iR(s);c.drawImage(t,0,0,o,i,0,0,a,u),r(s)}))}function qR(t,e){return t.toCanvas().then((function(n){return YR(n,t.getType(),e)}))}function YR(t,e,n){var r=rR(t.width,t.height),o=iR(r),i=0,a=0;return n=n<0?360+n:n,90!==n&&270!==n||aR(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(a=r.height),o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(t,0,0),wR(r,e)}function XR(t,e){return t.toCanvas().then((function(n){return ZR(n,t.getType(),e)}))}function ZR(t,e,n){var r=rR(t.width,t.height),o=iR(r);return"v"===n?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0)),wR(r,e)}function $R(t,e,n,r,o){return t.toCanvas().then((function(i){return KR(i,t.getType(),e,n,r,o)}))}function KR(t,e,n,r,o,i){var a=rR(o,i),u=iR(a);return u.drawImage(t,-n,-r),wR(a,e)}function JR(t,e,n){return t.toCanvas().then((function(r){return WR(r,e,n).then((function(e){return wR(e,t.getType())}))}))}var QR,tN=function(t){return zR(t)},eN=function(t){return HR(t)},nN=function(t,e){return UR(t,e)},rN=function(t,e,n,r){return jR(t,e,n,r)},oN=function(t,e){return VR(t,e)},iN=function(t,e){return FR(t,e)},aN=function(t,e){return XR(t,e)},uN=function(t,e,n,r,o){return $R(t,e,n,r,o)},sN=function(t,e,n){return JR(t,e,n)},cN=function(t,e){return qR(t,e)},lN=function(t,e){return h({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},e)},fN=function(t,e){return lN(tw(t,e),{})},dN=function(t,e){return lN(tw(t,e),{behaviours:Fl([wb.config({})])})},hN=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:Fl([wb.config({})])}},pN=Aa("toolbar.button.execute"),mN=function(t){return Ri((function(e,n){XC(t,e)((function(n){fi(e,pN,{buttonApi:n}),t.onAction(n)}))}))},gN=(QR={},QR[Uo()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],QR),vN=Aa("update-menu-text"),yN=Aa("update-menu-icon"),bN=function(t,n,r){var o=Zn(e),i=t.text.map((function(t){return Jx(hN(t,n,r.providers))})),a=t.icon.map((function(t){return Jx(dN(t,r.providers.icons))})),s=function(t,e){var n=Xp.getValue(t);return Eb.focus(n),fi(n,"keydown",{raw:e.event.raw}),gM.close(n),w.some(!0)},c=t.role.fold((function(){return{}}),(function(t){return{role:t}})),l=t.tooltip.fold((function(){return{}}),(function(t){var e=r.providers.translate(t);return{title:e,"aria-label":e}})),f=Jx(gM.sketch(h(h(h({},t.uid?{uid:t.uid}:{}),c),{dom:{tag:"button",classes:[n,n+"--select"].concat(G(t.classes,(function(t){return n+"--"+t}))),attributes:h({},l)},components:QC([a.map((function(t){return t.asSpec()})),i.map((function(t){return t.asSpec()})),w.some({dom:{tag:"div",classes:[n+"__select-chevron"],innerHtml:tw("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Fl(m(t.dropdownBehaviours,[YC.button((function(){return t.disabled||r.providers.isDisabled()})),HC(),xM.config({}),wb.config({}),Sb("dropdown-events",[ZC(t,o),$C(t,o)]),Sb("menubutton-update-display-text",[xi(vN,(function(t,e){i.bind((function(e){return e.getOpt(t)})).each((function(t){wb.set(t,[gs(r.providers.translate(e.event.text))])}))})),xi(yN,(function(t,e){a.bind((function(e){return e.getOpt(t)})).each((function(t){wb.set(t,[dN(e.event.icon,r.providers.icons)])}))}))])])),eventOrder:Xt(gN,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Fl([fb.config({mode:"special",onLeft:s,onRight:s})]),lazySink:r.getSink,toggleClass:n+"--active",parts:{menu:L_(!1,t.columns,t.presets)},fetch:function(e){return NO.nu(u(t.fetch,e))}})));return f.asSpec()},xN=function(t){return T(t)},wN=function(t){return"separator"===t.type},_N=function(t){return Ft(t,"getSubmenuItems")},SN={type:"separator"},CN=function(t,e){var n=K(t,(function(t,n){return xN(n)?""===n?t:"|"===n?t.length>0&&!wN(t[t.length-1])?t.concat([SN]):t:Ft(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[]);return n.length>0&&wN(n[n.length-1])&&n.pop(),n},kN=function(t,e){var n=t.getSubmenuItems(),r=ON(n,e),o=Xt(r.menus,ce(t.value,r.items)),i=Xt(r.expansions,ce(t.value,t.value));return{item:t,menus:o,expansions:i}},TN=function(t,e){return _N(t)?kN(t,e):{item:t,menus:{},expansions:{}}},AN=function(t){if(wN(t))return t;var e=Vt(t,"value").getOrThunk((function(){return Aa("generated-menu-item")}));return Xt({value:e},t)},ON=function(t,e){var n=CN(T(t)?t.split(" "):t,e);return $(n,(function(t,n){var r=AN(n),o=TN(r,e);return{menus:Xt(t.menus,o.menus),items:[o.item].concat(t.items),expansions:Xt(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},MN=function(t,e,n,r){var o=Aa("primary-menu"),i=ON(t,n.shared.providers.menuItems());if(0===i.items.length)return w.none();var a=aA(o,i.items,e,n,r),u=It(i.menus,(function(t,r){return aA(r,t,e,n,!1)})),s=Xt(u,ce(o,a));return w.from(Nx.tieredData(o,s,i.expansions))},DN=function(t){return{isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){return ZS.set(t,e)},setActive:function(e){var n=t.element;e?(Au(n,"tox-tbtn--enabled"),ha(n,"aria-pressed",!0)):(Mu(n,"tox-tbtn--enabled"),ya(n,"aria-pressed"))},isActive:function(){return Du(t.element,"tox-tbtn--enabled")}}},IN=function(t,e,n,r){return bN({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(e,r){t.fetch((function(t){r(MN(t,s_.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:t.onSetup,getApi:DN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[QA.config({})]},e,n.shared)},EN=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive();r.setActive(o),t.storage.set(o),n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){$l(e.element),fi(e,lO,{name:t.name,value:t.storage.get()})}))}))}},o=function(t){return function(e){e.setActive(t.storage.get())}};return function(e){e(G(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return h(h({type:t.type,active:!1},e),{onAction:r(t),onSetup:o(t)})})))}},RN=function(t,e,n,r,o,i){void 0===n&&(n=[]);var a=e.fold((function(){return{}}),(function(t){return{action:t}})),u=h({buttonBehaviours:Fl([YC.button((function(){return t.disabled||i.isDisabled()})),HC(),QA.config({}),Sb("button press",[bi("click"),bi("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),s=Xt(u,{dom:r});return Xt(s,{components:o})},NN=function(t,e,n,r){void 0===r&&(r=[]);var o=t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},a=t.icon.map((function(t){return fN(t,n.icons)})),u=QC([a]);return RN(t,e,r,i,u,n)},PN=function(t,e,n,r){void 0===r&&(r=[]);var o=NN(t,w.some(e),n,r);return Kx.sketch(o)},LN=function(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(t.text),a=t.icon?t.icon.map((function(t){return fN(t,n.icons)})):w.none(),u=a.isSome()?QC([a]):[],s=a.isSome()?{}:{innerHtml:i},c=m(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],o),l=h(h({tag:"button",classes:c},s),{attributes:{title:i}});return RN(t,e,r,l,u,n)},BN=function(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=LN(t,w.some(e),n,r,o);return Kx.sketch(i)},zN=function(t,e){return function(n){"custom"===e?fi(n,lO,{name:t,value:{}}):"submit"===e?li(n,fO):"cancel"===e?li(n,cO):console.error("Unknown button type: ",e)}},VN=function(t,e){return"menu"===e},FN=function(t,e){return"custom"===e||"cancel"===e||"submit"===e},jN=function(t,n,r){if(VN(t,n)){var o=function(){return u},i=t,a=h(h({},t),{onSetup:function(n){return n.setDisabled(t.disabled),e},fetch:EN(i.items,o,r)}),u=Jx(IN(a,"tox-tbtn",r,w.none()));return u.asSpec()}if(FN(t,n)){var s=zN(t.name,n),c=h(h({},t),{borderless:!1});return BN(c,s,r.shared.providers,[])}console.error("Unknown footer button type: ",n)},HN=function(t,e){var n=zN(t.name,"custom");return nO(w.none(),ZA.parts.field(h({factory:Kx},LN(t,w.some(n),e,[HE.memory(""),TE.self()]))))},UN=i([zn("field1Name","field1"),zn("field2Name","field2"),Fc("onLockedChange"),Lc(["lockClass"]),zn("locked",!1),Jp.field("coupledFieldBehaviours",[bg,Xp])]),WN=function(t,e,n){return Hm(t,e,n).bind(bg.getCurrent)},GN=function(t,e){return Am({factory:ZA,name:t,overrides:function(t){return{fieldBehaviours:Fl([Sb("coupled-input-behaviour",[xi(Eo(),(function(n){WN(n,t,e).each((function(e){Hm(n,t,"lock").each((function(r){Kb.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})},qN=i([GN("field1","field2"),GN("field2","field1"),Am({factory:Kx,schema:[bn("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Fl([Kb.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),YN=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Jp.augment(t.coupledFieldBehaviours,[bg.config({find:w.some}),Xp.config({store:{mode:"manual",getValue:function(e){var n,r=Ym(e,t,["field1","field2"]);return n={},n[t.field1Name]=Xp.getValue(r.field1()),n[t.field2Name]=Xp.getValue(r.field2()),n},setValue:function(e,n){var r=Ym(e,t,["field1","field2"]);jt(n,t.field1Name)&&Xp.setValue(r.field1(),n[t.field1Name]),jt(n,t.field2Name)&&Xp.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return Hm(e,t,"field1")},getField2:function(e){return Hm(e,t,"field2")},getLock:function(e){return Hm(e,t,"lock")}}}},XN=sg({name:"FormCoupledInputs",configFields:UN(),partFields:qN(),factory:YN,apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),ZN=function(t){var e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(t){return t in e?e[t]:1},r=t.value.toFixed(n(t.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit},$N=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=e.exec(t);if(null!==n){var r=parseFloat(n[1]),o=n[2];return gt.value({value:r,unit:o})}return gt.error(t)},KN=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Object.prototype.hasOwnProperty.call(n,t)};return t.unit===e?w.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?w.some(t.value):w.some(t.value/n[t.unit]*n[e]):w.none()},JN=function(t){return w.none()},QN=function(t,e){return function(n){return KN(n,e).map((function(n){return{value:n*t,unit:e}}))}},tP=function(t,e){var n=$N(t).toOptional(),r=$N(e).toOptional();return fg(n,r,(function(t,e){return KN(t,e.unit).map((function(t){return e.value/t})).map((function(t){return QN(t,e.unit)})).getOr(JN)})).getOr(JN)},eP=function(t,e){var n=JN,r=Aa("ratio-event"),o=XN.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:tw("lock",e.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:tw("unlock",e.icons)}}],buttonBehaviours:Fl([ZS.config({disabled:function(){return t.disabled||e.isDisabled()}}),HC(),QA.config({})])}),i=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},a=function(n){return ZA.parts.field({factory:_O,inputClasses:["tox-textfield"],inputBehaviours:Fl([ZS.config({disabled:function(){return t.disabled||e.isDisabled()}}),HC(),QA.config({}),Sb("size-input-events",[xi(Oo(),(function(t,e){fi(t,r,{isField1:n})})),xi(Ro(),(function(e,n){fi(e,uO,{name:t.name})}))])]),selectOnFocus:!1})},u=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}},s=XN.parts.field1(i([ZA.parts.label(u("Width")),a(!0)])),c=XN.parts.field2(i([ZA.parts.label(u("Height")),a(!1)]));return XN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,c,i([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){$N(Xp.getValue(t)).each((function(t){n(t).each((function(t){Xp.setValue(e,ZN(t))}))}))},coupledFieldBehaviours:Fl([ZS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){XN.getField1(t).bind(ZA.getField).each(ZS.disable),XN.getField2(t).bind(ZA.getField).each(ZS.disable),XN.getLock(t).each(ZS.disable)},onEnabled:function(t){XN.getField1(t).bind(ZA.getField).each(ZS.enable),XN.getField2(t).bind(ZA.getField).each(ZS.enable),XN.getLock(t).each(ZS.enable)}}),HC(),Sb("size-input-events2",[xi(r,(function(t,e){var r=e.event.isField1,o=r?XN.getField1(t):XN.getField2(t),i=r?XN.getField2(t):XN.getField1(t),a=o.map(Xp.getValue).getOr(""),u=i.map(Xp.getValue).getOr("");n=tP(a,u)}))])])})},nP=i(Aa("undo")),rP=i(Aa("redo")),oP=i(Aa("zoom")),iP=i(Aa("back")),aP=i(Aa("apply")),uP=i(Aa("swap")),sP=i(Aa("transform")),cP=i(Aa("temp-transform")),lP=i(Aa("transform-apply")),fP={undo:nP,redo:rP,zoom:oP,back:iP,apply:aP,swap:uP,transform:sP,tempTransform:cP,transformApply:lP},dP=i("save-state"),hP=i("disable"),pP=i("enable"),mP={formActionEvent:lO,saveState:dP,disable:hP,enable:pP},gP=function(t,n){var r=function(t,e,r,o){return Jx(BN({name:t,text:t,disabled:r,primary:o,icon:w.none(),borderless:!1},e,n))},o=function(t,e,r,o){return Jx(PN({name:t,icon:w.some(t),tooltip:w.some(e),disabled:o,primary:!1,borderless:!1},r,n))},a=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(ZS)&&ZS.disable(n)}))},u=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(ZS)&&ZS.enable(n)}))},s={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},c=e,l=function(t,e,n){fi(t,e,n)},f=function(t){return li(t,mP.disable())},d=function(t){return li(t,mP.enable())},h=function(t,e){f(t),l(t,fP.transform(),{transform:e}),d(t)},p=function(t,e){f(t),l(t,fP.tempTransform(),{transform:e}),d(t)},m=function(t){return function(){at.getOpt(t).each((function(t){wb.set(t,[ot])}))}},g=function(t,e){f(t),l(t,fP.transformApply(),{transform:e,swap:m(t)}),d(t)},v=function(){return r("Back",(function(t){return l(t,fP.back(),{swap:m(t)})}),!1,!1)},y=function(){return Jx({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Fl([ZS.config({})])})},b=function(){return r("Apply",(function(t){return l(t,fP.apply(),{swap:m(t)})}),!0,!0)},x=function(){return function(e){var n=t.getRect();return uN(e,n.x,n.y,n.w,n.h)}},_=[v(),y(),r("Apply",(function(e){var n=x();g(e,n),t.hideCrop()}),!1,!0)],S=UA.sketch({dom:s,components:_.map((function(t){return t.asSpec()})),containerBehaviours:Fl([Sb("image-tools-crop-buttons-events",[xi(mP.disable(),(function(t,e){a(_,t)})),xi(mP.enable(),(function(t,e){u(_,t)}))])])}),C=Jx(eP({name:"size",label:w.none(),constrain:!0,disabled:!1},n)),k=function(t,e){return function(n){return sN(n,t,e)}},T=[v(),y(),C,y(),r("Apply",(function(t){C.getOpt(t).each((function(e){var n=Xp.getValue(e),r=parseInt(n.width,10),o=parseInt(n.height,10),i=k(r,o);g(t,i)}))}),!1,!0)],A=UA.sketch({dom:s,components:T.map((function(t){return t.asSpec()})),containerBehaviours:Fl([Sb("image-tools-resize-buttons-events",[xi(mP.disable(),(function(t,e){a(T,t)})),xi(mP.enable(),(function(t,e){u(T,t)}))])])}),O=function(t,e){return function(n){return t(n,e)}},M=O(aN,"h"),D=O(aN,"v"),I=O(cN,-90),E=O(cN,90),R=function(t,e){p(t,e)},N=[v(),y(),o("flip-horizontally","Flip horizontally",(function(t){R(t,M)}),!1),o("flip-vertically","Flip vertically",(function(t){R(t,D)}),!1),o("rotate-left","Rotate counterclockwise",(function(t){R(t,I)}),!1),o("rotate-right","Rotate clockwise",(function(t){R(t,E)}),!1),y(),b()],P=UA.sketch({dom:s,components:N.map((function(t){return t.asSpec()})),containerBehaviours:Fl([Sb("image-tools-fliprotate-buttons-events",[xi(mP.disable(),(function(t,e){a(N,t)})),xi(mP.enable(),(function(t,e){u(N,t)}))])])}),L=function(t,e,r,o,a){var u=uE.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}}),s=uE.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),c=uE.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Jx(uE.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:i({x:o})},components:[u,s,c],sliderBehaviours:Fl([Eb.config({})]),onChoose:e}))},B=function(t,e,n,r,o){var i=function(t,n,r){var o=O(e,r.x/100);h(t,o)};return L(t,i,n,r,o)},z=function(t,e,n,r,o){return[v(),B(t,e,n,r,o),b()]},V=function(t,e,n,r,o){var i=z(t,e,n,r,o);return UA.sketch({dom:s,components:i.map((function(t){return t.asSpec()})),containerBehaviours:Fl([Sb("image-tools-filter-panel-buttons-events",[xi(mP.disable(),(function(t,e){a(i,t)})),xi(mP.enable(),(function(t,e){u(i,t)}))])])})},F=[v(),y(),b()],j=UA.sketch({dom:s,components:F.map((function(t){return t.asSpec()}))}),H=V("Brightness",oN,-100,0,100),U=V("Contrast",iN,-100,0,100),W=V("Gamma",nN,-100,0,100),G=function(t,e,n){return function(r){return rN(r,t,e,n)}},q=function(t){var e=function(t,e,n){var r=Y.getOpt(t),o=Z.getOpt(t),i=X.getOpt(t);r.each((function(e){o.each((function(n){i.each((function(r){var o=Xp.getValue(e).x/100,i=Xp.getValue(r).x/100,a=Xp.getValue(n).x/100,u=G(o,i,a);h(t,u)}))}))}))};return L(t,e,0,100,200)},Y=q("R"),X=q("G"),Z=q("B"),$=[v(),Y,X,Z,b()],K=UA.sketch({dom:s,components:$.map((function(t){return t.asSpec()}))}),J=function(t,e,n){return function(r){var o=function(){at.getOpt(r).each((function(e){wb.set(e,[t]),n(e)}))};l(r,fP.swap(),{transform:e,swap:o})}},Q=function(e){t.showCrop()},tt=function(e){C.getOpt(e).each((function(e){var n=t.getMeasurements(),r=n.width,o=n.height;Xp.setValue(e,{width:r,height:o})}))},et=w.some(eN),nt=w.some(tN),rt=[o("crop","Crop",J(S,w.none(),Q),!1),o("resize","Resize",J(A,w.none(),tt),!1),o("orientation","Orientation",J(P,w.none(),c),!1),o("brightness","Brightness",J(H,w.none(),c),!1),o("sharpen","Sharpen",J(j,et,c),!1),o("contrast","Contrast",J(U,w.none(),c),!1),o("color-levels","Color levels",J(K,w.none(),c),!1),o("gamma","Gamma",J(W,w.none(),c),!1),o("invert","Invert",J(j,nt,c),!1)],ot=UA.sketch({dom:s,components:rt.map((function(t){return t.asSpec()}))}),it=UA.sketch({dom:{tag:"div"},components:[ot],containerBehaviours:Fl([wb.config({})])}),at=Jx(it),ut=function(t){return at.getOpt(t).map((function(t){var e=t.components()[0];return e.components()[e.components().length-1]}))};return{memContainer:at,getApplyButton:ut}},vP=tinymce.util.Tools.resolve("tinymce.geom.Rect"),yP=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),bP=tinymce.util.Tools.resolve("tinymce.util.Observable"),xP=tinymce.util.Tools.resolve("tinymce.util.VK");function wP(t){var e=Math.max,n=t.documentElement,r=t.body,o=e(n.scrollWidth,r.scrollWidth),i=e(n.clientWidth,r.clientWidth),a=e(n.offsetWidth,r.offsetWidth),u=e(n.scrollHeight,r.scrollHeight),s=e(n.clientHeight,r.clientHeight),c=e(n.offsetHeight,r.offsetHeight);return{width:o<a?i:o,height:u<c?s:u}}function _P(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}function SP(t,e){var n,r,o,i,a=e.document||document,u=a.getElementById(e.handle||t),s=function(t){var s,f=wP(a);_P(t),t.preventDefault(),r=t.button;var d=u;o=t.screenX,i=t.screenY,s=window.getComputedStyle?window.getComputedStyle(d,null).getPropertyValue("cursor"):d.runtimeStyle.cursor,n=yP("<div></div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:s}).appendTo(a.body),yP(a).on("mousemove touchmove",c).on("mouseup touchend",l),e.start(t)},c=function(t){if(_P(t),t.button!==r)return l(t);t.deltaX=t.screenX-o,t.deltaY=t.screenY-i,t.preventDefault(),e.drag(t)},l=function(t){_P(t),yP(a).off("mousemove touchmove",c).off("mouseup touchend",l),n.remove(),e.stop&&e.stop(t)};this.destroy=function(){yP(u).off()},yP(u).on("mousedown touchstart",s)}var CP=0,kP=function(t,e,n,r,o){var i,a="tox-",u=a+"crid-"+CP++,s=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],c=["top","right","bottom","left"],l=function(t,e){return{x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},f=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}},d=function(){return f(n,t)};function h(e,r,o,i){var a,u,s,c,l;a=r.x,u=r.y,s=r.w,c=r.h,a+=o*e.deltaX,u+=i*e.deltaY,s+=o*e.deltaW,c+=i*e.deltaH,s<20&&(s=20),c<20&&(c=20),l=t=vP.clamp({x:a,y:u,w:s,h:c},n,"move"===e.name),l=f(n,l),_.fire("updateRect",{rect:l}),b(l)}function p(){function e(e){var n;return new SP(u,{document:r.ownerDocument,handle:u+"-"+e.name,start:function(){n=t},drag:function(t){h(e,n,t.deltaX,t.deltaY)}})}yP('<div id="'+u+'" class="'+a+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),NE.each(c,(function(t){yP("#"+u,r).append('<div id="'+u+"-"+t+'"class="'+a+'croprect-block" style="display: none" data-mce-bogus="all">')})),NE.each(s,(function(t){yP("#"+u,r).append('<div id="'+u+"-"+t.name+'" class="'+a+"croprect-handle "+a+"croprect-handle-"+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')})),i=NE.map(s,e),g(t),yP(r).on("focusin focusout",(function(t){yP(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")})),yP(r).on("keydown",(function(e){var n;function r(t,e,r,o,i){t.stopPropagation(),t.preventDefault(),h(n,r,o,i)}switch(NE.each(s,(function(t){if(e.target.id===u+"-"+t.name)return n=t,!1})),e.keyCode){case xP.LEFT:r(e,n,t,-10,0);break;case xP.RIGHT:r(e,n,t,10,0);break;case xP.UP:r(e,n,t,0,-10);break;case xP.DOWN:r(e,n,t,0,10);break;case xP.ENTER:case xP.SPACEBAR:e.preventDefault(),o();break}}))}function m(t){var e=NE.map(s,(function(t){return"#"+u+"-"+t.name})).concat(NE.map(c,(function(t){return"#"+u+"-"+t}))).join(",");t?yP(e,r).show():yP(e,r).hide()}function g(t){function n(t,e){e.h<0&&(e.h=0),e.w<0&&(e.w=0),yP("#"+u+"-"+t,r).css({left:e.x,top:e.y,width:e.w,height:e.h})}NE.each(s,(function(e){yP("#"+u+"-"+e.name,r).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})})),n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y}),n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h}),n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y}),n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h}),n("move",t)}function v(e){t=e,g(t)}function y(n){e=n,g(t)}function b(t){v(l(n,t))}function x(e){n=e,g(t)}function w(){NE.each(i,(function(t){t.destroy()})),i=[]}p();var _=NE.extend({toggleVisibility:m,setClampRect:x,setRect:v,getInnerRect:d,setInnerRect:b,setViewPortRect:y,destroy:w},bP);return _},TP={create:kP},AP=function(t){return new kw((function(e){var n=function(){t.removeEventListener("load",n),e(t)};t.complete?e(t):t.addEventListener("load",n)}))},OP=function(t){var e=Jx({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Zn(1),r=Zn(w.none()),o=Zn({x:0,y:0,w:1,h:1}),i=Zn({x:0,y:0,w:1,h:1}),a=function(t,i){p.getOpt(t).each((function(t){var a=n.get(),u=Ns(t.element),s=Ss(t.element),c=i.dom.naturalWidth*a,l=i.dom.naturalHeight*a,f=Math.max(0,u/2-c/2),d=Math.max(0,s/2-l/2),h={left:f.toString()+"px",top:d.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};$u(i,h),e.getOpt(t).each((function(t){$u(t.element,h)})),r.get().each((function(t){var e=o.get();t.setRect({x:e.x*a+f,y:e.y*a+d,w:e.w*a,h:e.h*a}),t.setClampRect({x:f,y:d,w:c,h:l}),t.setViewPortRect({x:0,y:0,w:u,h:s})}))}))},u=function(t,e){p.getOpt(t).each((function(t){var r=Ns(t.element),o=Ss(t.element),i=e.dom.naturalWidth,a=e.dom.naturalHeight,u=Math.min(r/i,o/a);u>=1?n.set(1):n.set(u)}))},s=function(t,e){var n=er.fromTag("img");return ha(n,"src",e),AP(n.dom).then((function(){return p.getOpt(t).map((function(t){var e=vs({element:n});wb.replaceAt(t,1,w.some(e));var r=i.get(),s={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight};i.set(s);var c=vP.inflate(s,-20,-20);return o.set(c),r.w===s.w&&r.h===s.h||u(t,n),a(t,n),n}))}))},c=function(t,e){var r=n.get(),o=e>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),p.getOpt(t).each((function(t){var e=t.components()[1].element;a(t,e)}))},l=function(){r.get().each((function(t){t.toggleVisibility(!0)}))},f=function(){r.get().each((function(t){t.toggleVisibility(!1)}))},d=function(){return o.get()},h=UA.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Fl([Sb("image-panel-crop-events",[Di((function(t){p.getOpt(t).each((function(t){var e=t.element.dom,i=TP.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,(function(){}));i.toggleVisibility(!1),i.on("updateRect",(function(t){var e=t.rect,r=n.get(),i={x:Math.round(e.x/r),y:Math.round(e.y/r),w:Math.round(e.w/r),h:Math.round(e.h/r)};o.set(i)})),r.set(w.some(i))}))}))])])}],containerBehaviours:Fl([wb.config({}),Sb("image-panel-events",[Di((function(e){s(e,t)}))])])}),p=Jx(h),m=function(){var t=i.get();return{width:t.w,height:t.h}};return{memContainer:p,updateSrc:s,zoom:c,showCrop:l,hideCrop:f,getRect:d,getMeasurements:m}},MP=function(t,e,n,r,o){return PN({name:t,icon:w.some(e),disabled:n,tooltip:w.some(t),primary:!1,borderless:!1},r,o)},DP=function(t,e){e?ZS.enable(t):ZS.disable(t)},IP=function(t){var e=function(t,e,o){n.getOpt(t).each((function(t){DP(t,e)})),r.getOpt(t).each((function(t){DP(t,o)}))},n=Jx(MP("Undo","undo",!0,(function(t){fi(t,fP.undo(),{direction:1})}),t)),r=Jx(MP("Redo","redo",!0,(function(t){fi(t,fP.redo(),{direction:1})}),t)),o=UA.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),MP("Zoom in","zoom-in",!1,(function(t){fi(t,fP.zoom(),{direction:1})}),t),MP("Zoom out","zoom-out",!1,(function(t){fi(t,fP.zoom(),{direction:-1})}),t)]});return{container:o,updateButtonUndoStates:e}};function EP(){var t=[],e=-1;function n(n){var r=t.splice(++e);return t.push(n),{state:n,removed:r}}function r(){if(i())return t[--e]}function o(){if(a())return t[++e]}function i(){return e>0}function a(){return-1!==e&&e<t.length-1}return{data:t,add:n,undo:r,redo:o,canUndo:i,canRedo:a}}var RP,NP=function(t){var e=Zn(t),n=Zn(w.none()),r=EP();r.add(t);var o=function(){return e.get()},i=function(t){e.set(t)},a=function(){return n.get().fold((function(){return e.get()}),(function(t){return t}))},u=function(t){var e=s(t);return f(),n.set(w.some(e)),e.url},s=function(t){return{blob:t,url:URL.createObjectURL(t)}},c=function(t){URL.revokeObjectURL(t.url)},l=function(t){NE.each(t,c)},f=function(){n.get().each(c),n.set(w.none())},d=function(t){var e=s(t);i(e);var n=r.add(e).removed;return l(n),e.url},h=function(t){var e=s(t);return n.set(w.some(e)),e.url},p=function(t){return n.get().fold((function(){}),(function(e){d(e.blob),t()}))},m=function(){var t=r.undo();return i(t),t.url},g=function(){var t=r.redo();return i(t),t.url},v=function(){var t=r.canUndo(),e=r.canRedo();return{undoEnabled:t,redoEnabled:e}};return{getBlobState:o,setBlobState:i,addBlobState:d,getTempState:a,updateTempState:u,addTempState:h,applyTempState:p,destroyTempState:f,undo:m,redo:g,getHistoryStates:v}},PP=function(t,n){var r=NP(t.currentState),o=function(t,e){var n=e.event.direction;C.zoom(t,n)},i=function(t){var e=r.getHistoryStates();k.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled),fi(t,mP.formActionEvent,{name:mP.saveState(),value:e.undoEnabled})},a=function(t){k.updateButtonUndoStates(t,!1,!1)},u=function(t,e){var n=r.undo();d(t,n).then((function(e){f(t),i(t)}))},s=function(t,e){var n=r.redo();d(t,n).then((function(e){f(t),i(t)}))},c=function(t){return t.toBlob()},l=function(t){fi(t,mP.formActionEvent,{name:mP.disable(),value:{}})},f=function(t){T.getApplyButton(t).each((function(t){ZS.enable(t)})),fi(t,mP.formActionEvent,{name:mP.enable(),value:{}})},d=function(t,e){return l(t),C.updateSrc(t,e)},h=function(t,e,n,r,o){return l(t),_R(e).then(n).then(c).then(r).then((function(e){return d(t,e).then((function(e){return i(t),o(),f(t),e}))})).catch((function(e){return console.log(e),f(t),e}))},p=function(t,e,n){var o=r.getBlobState().blob,i=function(t){return r.updateTempState(t)};h(t,o,e,i,n)},m=function(t,n){var o=r.getTempState().blob,i=function(t){return r.addTempState(t)};h(t,o,n,i,e)},g=function(t,e,n){var o=r.getBlobState().blob,i=function(e){var n=r.addBlobState(e);return y(t),n};h(t,o,e,i,n)},v=function(t,e){var n=function(){y(t);var n=e.event.swap;n()};r.applyTempState(n)},y=function(t){var e=r.getBlobState().url;return r.destroyTempState(),i(t),e},b=function(t){var e=y(t);d(t,e).then((function(e){f(t)}))},x=function(t,e){b(t);var n=e.event.swap;n(),C.hideCrop()},w=function(t,n){return p(t,n.event.transform,e)},_=function(t,e){return m(t,e.event.transform)},S=function(t,e){return g(t,e.event.transform,e.event.swap)},C=OP(t.currentState.url),k=IP(n),T=gP(C,n),A=function(t,e){a(t);var n=e.event.transform,r=e.event.swap;n.fold((function(){r()}),(function(e){p(t,e,r)}))};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[T.memContainer.asSpec(),C.memContainer.asSpec(),k.container],behaviours:Fl([Xp.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),Sb("image-tools-events",[xi(fP.undo(),u),xi(fP.redo(),s),xi(fP.zoom(),o),xi(fP.back(),x),xi(fP.apply(),v),xi(fP.transform(),w),xi(fP.tempTransform(),_),xi(fP.transformApply(),S),xi(fP.swap(),A)]),TE.self()])}},LP=function(t,e){var n={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}},r=G(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Fl([TE.self(),wb.config({}),HE.domHtml(w.none()),fb.config({mode:"acyclic"})])}},BP=function(t){return!Ft(t,"items")},zP="data-value",VP=function(t,e,n,r){return G(n,(function(n){return BP(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Xp.setValue(t,n.value),fi(t,uO,{name:e}),Eb.focus(t)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return VP(t,e,n.items,r)}}}))},FP=function(t,e){return dt(t,(function(t){return BP(t)?pg(t.value===e,t):FP(t.items,e)}))},jP=function(t,n){var r=n.shared.providers,o=ct(t.items).filter(BP),a=t.label.map((function(t){return aO(t,r)})),u=ZA.parts.field({dom:{},factory:{sketch:function(r){return bN({uid:r.uid,text:o.map((function(t){return t.text})),icon:w.none(),tooltip:t.label,role:w.none(),fetch:function(e,r){var o=VP(e,t.name,t.items,Xp.getValue(e));r(MN(o,s_.CLOSE_ON_EXECUTE,n,!1))},onSetup:i(e),getApi:i({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[QA.config({}),Xp.config({store:{mode:"manual",initialValue:o.map((function(t){return t.value})).getOr(""),getValue:function(t){return ma(t.element,zP)},setValue:function(e,n){FP(t.items,n).each((function(t){ha(e.element,zP,t.value),fi(e,vN,{text:t.text})}))}}})]},"tox-listbox",n.shared)}}}),s={dom:{tag:"div",classes:["tox-listboxfield"]},components:[u]};return ZA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:et([a.toArray(),[s]]),fieldBehaviours:Fl([ZS.config({disabled:i(t.disabled),onDisabled:function(t){ZA.getField(t).each(ZS.disable)},onEnabled:function(t){ZA.getField(t).each(ZS.enable)}})])})},HP=function(t,e){return{dom:{tag:"div",classes:t.classes},components:G(t.items,e.shared.interpreter)}},UP=function(t,e){var n=G(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),r=t.data.map((function(t){return ce("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:Kp(t.selectBehaviours,[Eb.config({}),Xp.config({store:h({mode:"manual",getValue:function(t){return is(t.element)},setValue:function(e,n){var r=Q(t.options,(function(t){return t.value===n}));r.isSome()&&as(e.element,n)}},r)})])}},WP=ug({name:"HtmlSelect",configFields:[bn("options"),Zp("selectBehaviours",[Eb,Xp]),zn("selectClasses",[]),zn("selectAttributes",{}),Dn("data")],factory:UP}),GP=function(t,e){var n=G(t.items,(function(t){return{text:e.translate(t.text),value:t.value}})),r=t.label.map((function(t){return aO(t,e)})),o=ZA.parts.field({dom:{},selectAttributes:{size:t.size},options:n,factory:WP,selectBehaviours:Fl([ZS.config({disabled:function(){return t.disabled||e.isDisabled()}}),QA.config({}),Sb("selectbox-change",[xi(Ro(),(function(e,n){fi(e,uO,{name:t.name})}))])])}),i=t.size>1?w.none():w.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:tw("chevron-down",e.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:et([[o],i.toArray()])};return ZA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:et([r.toArray(),[a]]),fieldBehaviours:Fl([ZS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){ZA.getField(t).each(ZS.disable)},onEnabled:function(t){ZA.getField(t).each(ZS.enable)}}),HC()])})},qP=function(t,e){var n=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}},r=function(t){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:G(t,n)}]}},o=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}},i=function(t){return{dom:{tag:"tr"},components:G(t,o)}},a=function(t){return{dom:{tag:"tbody"},components:G(t,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(t.header),a(t.cells)],behaviours:Fl([QA.config({}),Eb.config({})])}},YP=function(t,e){var n=t.label.map((function(t){return aO(t,e)})),r=[ZS.config({disabled:function(){return t.disabled||e.isDisabled()}}),HC(),fb.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return li(t,fO),w.some(!0)}}),Sb("textfield-change",[xi(Eo(),(function(e,n){fi(e,uO,{name:t.name})})),xi(jo(),(function(e,n){fi(e,uO,{name:t.name})}))]),QA.config({})],o=t.validation.map((function(t){return qO.config({getRoot:function(t){return Gi(t.element)},invalidClass:"tox-invalid",validator:{validate:function(e){var n=Xp.getValue(e),r=t.validator(n);return NO.pure(!0===r?gt.value(n):gt.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray(),a=t.placeholder.fold(i({}),(function(t){return{placeholder:e.translate(t)}})),u=t.inputMode.fold(i({}),(function(t){return{inputmode:t}})),s=h(h({},a),u),c=ZA.parts.field({tag:!0===t.multiline?"textarea":"input",inputAttributes:s,inputClasses:[t.classname],inputBehaviours:Fl(et([r,o])),selectOnFocus:!1,factory:_O}),l=t.flex?["tox-form__group--stretched"]:[],f=l.concat(t.maximized?["tox-form-group--maximize"]:[]),d=[ZS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){ZA.getField(t).each(ZS.disable)},onEnabled:function(t){ZA.getField(t).each(ZS.enable)}}),HC()];return eO(n,c,f,d)},XP=function(t,e){return YP({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:w.none(),maximized:t.maximized},e)},ZP=function(t,e){return YP({name:t.name,multiline:!0,label:t.label,inputMode:w.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:w.none(),maximized:t.maximized},e)},$P=function(t,e){var n=t.stream.streams,r=n.setup(t,e);return gi([xi(t.event,r),Ii((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[xi(t,(function(){return e.cancel()}))]})).getOr([])))},KP=Object.freeze({__proto__:null,events:$P}),JP=function(t){var e=Zn(null),n=function(){return{timer:null!==e.get()?"set":"unset"}},r=function(t){e.set(t)},o=function(){var t=e.get();null!==t&&t.cancel()};return Xa({readState:n,setTimer:r,cancel:o})},QP=function(t){return t.stream.streams.state(t)},tL=Object.freeze({__proto__:null,throttle:JP,init:QP}),eL=function(t,e){var n=t.stream,r=cw(t.onStream,n.delay);return e.setTimer(r),function(t,e){r.throttle(t,e),n.stopEvent&&e.stop()}},nL=[xn("stream",sn("mode",{throttle:[bn("delay"),zn("stopEvent",!0),Hc("streams",{setup:eL,state:JP})]})),zn("event","input"),Dn("cancelEvent"),Fc("onStream")],rL=Hl({fields:nL,name:"streaming",active:KP,state:tL}),oL=function(t,e,n){var r=Xp.getValue(n);Xp.setValue(e,r),aL(e)},iL=function(t,e){var n=t.element,r=is(n),o=n.dom;"number"!==ma(n,"type")&&e(o,r)},aL=function(t){iL(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))},uL=function(t,e){iL(t,(function(t,n){return t.setSelectionRange(e,n.length)}))},sL=function(t,e,n){if(t.selectsOver){var r=Xp.getValue(e),o=t.getDisplayText(r),i=Xp.getValue(n),a=t.getDisplayText(i);return 0===a.indexOf(o)?w.some((function(){oL(t,e,n),uL(e,o.length)})):w.none()}return w.none()},cL=i("alloy.typeahead.itemexecute"),lL=function(t,n,r,o){var i=function(n,r,i){t.previewing.set(!1);var a=JO.getCoupled(n,"sandbox");if(dp.isOpen(a))bg.getCurrent(a).each((function(t){Vg.getHighlighted(t).fold((function(){i(t)}),(function(){mi(a,t.element,"keydown",r)}))}));else{var s=function(t){bg.getCurrent(t).each(i)};oM(t,u(n),n,a,o,s,kO.HighlightFirst).get(e)}},a=yO(t),u=function(t){return function(e){return e.map((function(e){var n=zt(e.menus),r=nt(n,(function(t){return Z(t.items,(function(t){return"item"===t.type}))})),o=Xp.getState(t);return o.update(G(r,(function(t){return t.data}))),e}))}},s=[Eb.config({}),Xp.config({onSetValue:t.onSetValue,store:h({mode:"dataset",getDataKey:function(t){return is(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){as(e.element,t.model.getDisplayText(n))}},t.initialData.map((function(t){return ce("initialValue",t)})).getOr({}))}),rL.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(n,r){var i=JO.getCoupled(n,"sandbox"),a=Eb.isFocused(n);if(a&&is(n.element).length>=t.minChars){var s=bg.getCurrent(i).bind((function(t){return Vg.getHighlighted(t).map(Xp.getValue)}));t.previewing.set(!0);var c=function(e){bg.getCurrent(i).each((function(e){s.fold((function(){t.model.selectsOver&&Vg.highlightFirst(e)}),(function(t){Vg.highlightBy(e,(function(e){var n=Xp.getValue(e);return n.value===t.value})),Vg.getHighlighted(e).orThunk((function(){return Vg.highlightFirst(e),w.none()}))}))}))};oM(t,u(n),n,i,o,c,kO.HighlightFirst).get(e)}},cancelEvent:Xo()}),fb.config({mode:"special",onDown:function(t,e){return i(t,e,Vg.highlightFirst),w.some(!0)},onEscape:function(t){var e=JO.getCoupled(t,"sandbox");return dp.isOpen(e)?(dp.close(e),w.some(!0)):w.none()},onUp:function(t,e){return i(t,e,Vg.highlightLast),w.some(!0)},onEnter:function(e){var n=JO.getCoupled(e,"sandbox"),r=dp.isOpen(n);if(r&&!t.previewing.get())return bg.getCurrent(n).bind((function(t){return Vg.getHighlighted(t)})).map((function(t){return fi(e,cL(),{item:t}),!0}));var o=Xp.getValue(e);return li(e,Xo()),t.onExecute(n,e,o),r&&dp.close(n),w.some(!0)}}),Kb.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),JO.config({others:{sandbox:function(e){return lM(t,e,{onOpen:function(){return Kb.on(e)},onClose:function(){return Kb.off(e)}})}}}),Sb("typeaheadevents",[Ri((function(n){var r=e;aM(t,u(n),n,o,r,kO.HighlightFirst).get(e)})),xi(cL(),(function(e,n){var r=JO.getCoupled(e,"sandbox");oL(t.model,e,n.event.item),li(e,Xo()),t.onItemExecute(e,r,n.event.item,Xp.getValue(e)),dp.close(r),aL(e)}))].concat(t.dismissOnBlur?[xi(Fo(),(function(t){var e=JO.getCoupled(t,"sandbox");tf(e.element).isNone()&&dp.close(e)}))]:[]))];return{uid:t.uid,dom:xO(Xt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:h(h({},a),Kp(t.typeaheadBehaviours,s)),eventOrder:t.eventOrder}},fL=i([Dn("lazySink"),bn("fetch"),zn("minChars",5),zn("responseTime",1e3),zc("onOpen"),zn("getHotspot",w.some),zn("getAnchorOverrides",i({})),zn("layouts",w.none()),zn("eventOrder",{}),Yn("model",{},[zn("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),zn("selectsOver",!0),zn("populateFromBrowse",!0)]),zc("onSetValue"),Vc("onExecute"),zc("onItemExecute"),zn("inputClasses",[]),zn("inputAttributes",{}),zn("inputStyles",{}),zn("matchWidth",!0),zn("useMinWidth",!1),zn("dismissOnBlur",!0),Lc(["openClass"]),Dn("initialData"),Zp("typeaheadBehaviours",[Eb,Xp,rL,fb,Kb,JO]),Xn("previewing",(function(){return Zn(!0)}))].concat(vO()).concat(dM())),dL=i([Om({schema:[Pc()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each((function(r){sL(t.model,r,n).fold((function(){return Vg.dehighlight(e,n)}),(function(t){return t()}))})):e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&oL(t.model,e,n)})),t.previewing.set(!1)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOptional().map((function(t){return fi(t,cL(),{item:n}),!0}))},onHover:function(e,n){t.previewing.set(!1),e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&oL(t.model,e,n)}))}}}})]),hL=sg({name:"Typeahead",configFields:fL(),partFields:dL(),factory:lL}),pL=function(t){var e=function(){return pL(t.toCached())},n=function(e){return pL(t.bind((function(t){return t.fold((function(t){return NO.pure(gt.error(t))}),(function(t){return e(t)}))})))},r=function(e){return pL(t.map((function(t){return t.bind(e)})))},o=function(e){return pL(t.map((function(t){return t.map(e)})))},i=function(e){return pL(t.map((function(t){return t.mapError(e)})))},a=function(e,n){return t.map((function(t){return t.fold(e,n)}))},u=function(e,n){return pL(NO.nu((function(r){var o=!1,i=setTimeout((function(){o=!0,r(gt.error(n()))}),e);t.get((function(t){o||(clearTimeout(i),r(t))}))})))};return h(h({},t),{toCached:e,bindFuture:n,bindResult:r,mapResult:o,mapError:i,foldResult:a,withTimeout:u})},mL=function(t){return pL(NO.nu(t))},gL=function(t){return pL(NO.pure(gt.value(t)))},vL=function(t){return pL(NO.pure(gt.error(t)))},yL=function(t){return pL(NO.pure(t))},bL=function(t){return pL(t.map(gt.value))},xL=function(t){return mL((function(e){t.then((function(t){e(gt.value(t))}),(function(t){e(gt.error(t))}))}))},wL={nu:mL,wrap:pL,pure:gL,value:gL,error:vL,fromResult:yL,fromFuture:bL,fromPromise:xL},_L={type:"separator"},SL=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:function(){}}},CL=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:function(){}}},kL=function(t){return G(t,SL)},TL=function(t,e){return Z(e,(function(e){return e.type===t}))},AL=function(t,e){return kL(TL(t,e))},OL=function(t){return AL("header",t.targets)},ML=function(t){return AL("anchor",t.targets)},DL=function(t){return w.from(t.anchorTop).map((function(t){return CL("<top>",t)})).toArray()},IL=function(t){return w.from(t.anchorBottom).map((function(t){return CL("<bottom>",t)})).toArray()},EL=function(t){return G(t,(function(t){return CL(t,t)}))},RL=function(t){return K(t,(function(t,e){var n=0===t.length||0===e.length;return n?t.concat(e):t.concat(_L,e)}),[])},NL=function(t,e){var n=t.toLowerCase();return Z(e,(function(t){var e=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text;return pr(e.toLowerCase(),n)||pr(t.value.toLowerCase(),n)}))},PL=function(t,e,n){var r=Xp.getValue(e),o=void 0!==r.meta.text?r.meta.text:r.value,i=n.getLinkInformation();return i.fold((function(){return[]}),(function(e){var r=NL(o,EL(n.getHistory(t)));return"file"===t?RL([r,NL(o,OL(e)),NL(o,et([DL(e),ML(e),IL(e)]))]):r}))},LL=Aa("aria-invalid"),BL=function(t,n,r){var o,i=n.shared.providers,a=function(e){var n=Xp.getValue(e);r.addToHistory(n.value,t.filetype)},u=ZA.parts.field({factory:hL,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":LL,type:"url"},minChars:0,responseTime:0,fetch:function(e){var o=PL(t.filetype,e,r),i=MN(o,s_.BUBBLE_TO_SANDBOX,n,!1);return NO.pure(i)},getHotspot:function(t){return m.getOpt(t)},onSetValue:function(t,n){t.hasConfigured(qO)&&qO.run(t).get(e)},typeaheadBehaviours:Fl(et([r.getValidationHandler().map((function(e){return qO.config({getRoot:function(t){return Gi(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){l.getOpt(t).each((function(t){ha(t.element,"title",i.translate(e))}))}},validator:{validate:function(n){var r=Xp.getValue(n);return wL.nu((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=gt.error(t.message);n(e)}else{var r=gt.value(t.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray(),[ZS.config({disabled:function(){return t.disabled||i.isDisabled()}}),QA.config({}),Sb("urlinput-events",et(["file"===t.filetype?[xi(Eo(),(function(e){fi(e,uO,{name:t.name})}))]:[],[xi(Ro(),(function(e){fi(e,uO,{name:t.name}),a(e)})),xi(jo(),(function(e){fi(e,uO,{name:t.name}),a(e)}))]]))]])),eventOrder:(o={},o[Eo()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:L_(!1,1,"normal")},onExecute:function(t,e,n){fi(e,fO,{})},onItemExecute:function(e,n,r,o){a(e),fi(e,uO,{name:t.name})}}),s=t.label.map((function(t){return aO(t,i)})),c=function(t,e,n,r){return void 0===n&&(n=t),void 0===r&&(r=t),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],innerHtml:tw(n,i.icons),attributes:h({title:i.translate(r),"aria-live":"polite"},e.fold((function(){return{}}),(function(t){return{id:t}})))}}},l=Jx(c("invalid",w.some(LL),"warning")),f=Jx({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[l.asSpec()]}),d=r.getUrlPicker(t.filetype),p=Aa("browser.url.event"),m=Jx({dom:{tag:"div",classes:["tox-control-wrap"]},components:[u,f.asSpec()],behaviours:Fl([ZS.config({disabled:function(){return t.disabled||i.isDisabled()}})])}),g=Jx(BN({name:t.name,icon:w.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},(function(t){return li(t,p)}),i,[],["tox-browse-url"])),v=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:et([[m.asSpec()],d.map((function(){return g.asSpec()})).toArray()])}},y=function(e){bg.getCurrent(e).each((function(n){var r=Xp.getValue(n),o=h({fieldname:t.name},r);d.each((function(r){r(o).get((function(r){Xp.setValue(n,r),fi(e,uO,{name:t.name})}))}))}))};return ZA.sketch({dom:oO(),components:s.toArray().concat([v()]),fieldBehaviours:Fl([ZS.config({disabled:function(){return t.disabled||i.isDisabled()},onDisabled:function(t){ZA.getField(t).each(ZS.disable),g.getOpt(t).each(ZS.disable)},onEnabled:function(t){ZA.getField(t).each(ZS.enable),g.getOpt(t).each(ZS.enable)}}),HC(),Sb("url-input-events",[xi(p,y)])])})},zL=function(t,e){return UA.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Kx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:tw(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){fi(e,lO,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})},VL=function(t,e){var n=Xp.config({store:{mode:"manual",getValue:function(t){var e=t.element.dom;return e.checked},setValue:function(t,e){var n=t.element.dom;n.checked=e}}}),r=function(t){return t.element.dom.click(),w.some(!0)},o=ZA.parts.field({factory:{sketch:a},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Fl([TE.self(),ZS.config({disabled:function(){return t.disabled||e.isDisabled()}}),QA.config({}),Eb.config({}),n,fb.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Sb("checkbox-events",[xi(Ro(),(function(e,n){fi(e,uO,{name:t.name})}))])])}),i=ZA.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:Fl([xM.config({})])}),u=function(t){var n="checked"===t?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:tw(n,e.icons)}}},s=Jx({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]});return ZA.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,s.asSpec(),i],fieldBehaviours:Fl([ZS.config({disabled:function(){return t.disabled||e.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){ZA.getField(t).each(ZS.disable)},onEnabled:function(t){ZA.getField(t).each(ZS.enable)}}),HC()])})},FL=function(t){return"presentation"===t.presets?UA.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):UA.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Fl([QA.config({}),Eb.config({})])})},jL=function(t){return function(e,n,r){return Vt(n,"name").fold((function(){return t(n,r)}),(function(o){return e.field(o,t(n,r))}))}},HL=function(t){return function(e,n,r){var o=Xt(n,{source:"dynamic"});return jL(t)(e,o,r)}},UL={bar:jL((function(t,e){return GA(t,e.shared)})),collection:jL((function(t,e){return gO(t,e.shared.providers)})),alertbanner:jL((function(t,e){return zL(t,e.shared.providers)})),input:jL((function(t,e){return XP(t,e.shared.providers)})),textarea:jL((function(t,e){return ZP(t,e.shared.providers)})),label:jL((function(t,e){return LP(t,e.shared)})),iframe:HL((function(t,e){return nR(t,e.shared.providers)})),button:jL((function(t,e){return HN(t,e.shared.providers)})),checkbox:jL((function(t,e){return VL(t,e.shared.providers)})),colorinput:jL((function(t,e){return kM(t,e.shared,e.colorinput)})),colorpicker:jL(DE),dropzone:jL((function(t,e){return GE(t,e.shared.providers)})),grid:jL((function(t,e){return qE(t,e.shared)})),listbox:jL((function(t,e){return jP(t,e)})),selectbox:jL((function(t,e){return GP(t,e.shared.providers)})),sizeinput:jL((function(t,e){return eP(t,e.shared.providers)})),urlinput:jL((function(t,e){return BL(t,e,e.urlinput)})),customeditor:jL(RE),htmlpanel:jL(FL),imagetools:jL((function(t,e){return PP(t,e.shared.providers)})),table:jL((function(t,e){return qP(t,e.shared.providers)})),panel:jL((function(t,e){return HP(t,e)}))},WL={field:function(t,e){return e}},GL=function(t,e,n){var r=Xt(n,{shared:{interpreter:function(e){return qL(t,e,r)}}});return qL(t,e,r)},qL=function(t,e,n){return Vt(UL,e.type).fold((function(){return console.error('Unknown factory type "'+e.type+'", defaulting to container: ',e),e}),(function(r){return r(t,e,n)}))},YL=function(t,e){var n=WL;return qL(n,t,e)},XL={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},ZL=function(t,e,n){var r=Pf(-12,12,XL),o={maxHeightFunction:Df()},i=function(){return{anchor:"node",root:zu(t()),node:w.from(t()),bubble:r,layouts:{onRtl:function(){return[qx]},onLtr:function(){return[Gx]}},overrides:o}},a=function(){return{anchor:"hotspot",hotspot:e(),bubble:r,layouts:{onRtl:function(){return[ml]},onLtr:function(){return[gl]}},overrides:o}};return function(){return n()?i():a()}},$L=function(t,e,n){var r=function(){return{anchor:"node",root:zu(t()),node:w.from(t()),layouts:{onRtl:function(){return[Yx]},onLtr:function(){return[Yx]}}}},o=function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[xl]},onLtr:function(){return[xl]}}}};return function(){return n()?r():o()}},KL=function(t,e){return function(){return{anchor:"selection",root:e(),getSelection:function(){var e=t.selection.getRng();return w.some(hd.range(er.fromDom(e.startContainer),e.startOffset,er.fromDom(e.endContainer),e.endOffset))}}}},JL=function(t){return function(e){return{anchor:"node",root:t(),node:e}}},QL=function(t,e,n){var r=SC(t),o=function(){return er.fromDom(t.getBody())},i=function(){return er.fromDom(t.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:ZL(i,e,a),banner:$L(i,e,a),cursor:KL(t,o),node:JL(o)}},tB=function(t){return function(e,n){var r=TT(t);r(e,n)}},eB=function(t){return function(){return sT(t)}},nB=function(t){return function(){return lT(t)}},rB=function(t){return function(){return yT(t)}},oB=function(t){return{colorPicker:tB(t),hasCustomColors:eB(t),getColors:nB(t),getColorCols:rB(t)}},iB=function(t){return function(){return AC(t)}},aB=function(t){return{isDraggableModal:iB(t)}},uB=function(t){var e=Zn(bC(t)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===e.get()},getDockingMode:e.get,setDockingMode:e.set}},sB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],cB=function(t){return Ft(t,"items")},lB=function(t){return Ft(t,"block")},fB=function(t){return Ft(t,"inline")},dB=function(t){return Ft(t,"selector")},hB=function(t){return K(t,(function(t,e){if(cB(e)){var n=hB(e.items);return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(fB(e)||lB(e)||dB(e)){var r=T(e.name)?e.name:e.title.toLowerCase(),o="custom-"+r;return{customFormats:t.customFormats.concat([{name:o,format:e}]),formats:t.formats.concat([{title:e.title,format:o,icon:e.icon}])}}return h(h({},t),{formats:t.formats.concat(e)})}),{customFormats:[],formats:[]})},pB=function(t,e){var n=hB(e),r=function(e){q(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))};return t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)})),n.formats},mB=function(t){return aC(t).map((function(e){var n=pB(t,e);return uC(t)?sB.concat(n):n})).getOr(sB)},gB=function(t,e,n){var r={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)};return Xt(t,r)},vB=function(t,e,n,r){var o=function(t){return gB(t,n,r)},i=function(t){var e={type:"submenu"};return Xt(t,e)},a=function(e){var o=T(e.name)?e.name:Aa(e.title),i="custom-"+o,a={type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)},u=Xt(e,a);return t.formatter.register(o,u),u},u=function(t){return G(t,(function(t){var e=Ot(t);if(jt(t,"items")){var n=u(t.items);return Xt(i(t),{getStyleItems:function(){return n}})}return jt(t,"format")?o(t):1===e.length&&j(e,"title")?Xt(t,{type:"separator"}):a(t)}))};return u(e)},yB=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):w.none()}},r=function(t){var e=t.items;return void 0!==e&&e.length>0?nt(e,r):[t.format]},o=Zn([]),i=Zn([]),a=Zn([]),u=Zn([]),s=Zn(!1);t.on("PreInit",(function(a){var u=mB(t),s=vB(t,u,e,n);o.set(s),i.set(nt(s,r))})),t.on("addStyleModifications",(function(o){var i=vB(t,o.items,e,n);a.set(i),s.set(o.replace),u.set(nt(i,r))}));var c=function(){var t=s.get()?[]:o.get(),e=a.get();return t.concat(e)},l=function(){var t=s.get()?[]:i.get(),e=u.get();return t.concat(e)};return{getData:c,getFlattenedKeys:l}},bB=NE.trim,xB=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},wB=xB("true"),_B=xB("false"),SB=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}},CB=function(t){while(t=t.parentNode){var e=t.contentEditable;if(e&&"inherit"!==e)return wB(t)}return!1},kB=function(t,e){return G(Ld(er.fromDom(e),t),(function(t){return t.dom}))},TB=function(t){return t.innerText||t.textContent},AB=function(t){return t.id?t.id:Aa("h")},OB=function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)},MB=function(t){return OB(t)&&IB(t)},DB=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},IB=function(t){return CB(t)&&!_B(t)},EB=function(t){return DB(t)&&IB(t)},RB=function(t){return DB(t)?parseInt(t.nodeName.substr(1),10):0},NB=function(t){var e=AB(t),n=function(){t.id=e};return SB("header",TB(t),"#"+e,RB(t),n)},PB=function(t){var n=t.id||t.name,r=TB(t);return SB("anchor",r||"#"+n,"#"+n,0,e)},LB=function(t){return G(Z(t,EB),NB)},BB=function(t){return G(Z(t,MB),PB)},zB=function(t){var e=kB("h1,h2,h3,h4,h5,h6,a:not([href])",t);return e},VB=function(t){return bB(t.title).length>0},FB=function(t){var e=zB(t);return Z(LB(e).concat(BB(e)),VB)},jB={find:FB},HB="tinymce-url-history",UB=5,WB=function(t){return T(t)&&/^https?/.test(t)},GB=function(t){return O(t)&&t.length<=UB&&rt(t,WB)},qB=function(t){return A(t)&&Bt(t,(function(t){return!GB(t)})).isNone()},YB=function(){var t,e=tT.getItem(HB);if(null===e)return{};try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+HB+" was not valid JSON",n),{};throw n}return qB(t)?t:(console.log("Local storage "+HB+" was not valid format",t),{})},XB=function(t){if(!qB(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));tT.setItem(HB,JSON.stringify(t))},ZB=function(t){var e=YB();return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]},$B=function(t,e){if(WB(t)){var n=YB(),r=Object.prototype.hasOwnProperty.call(n,e)?n[e]:[],o=Z(r,(function(e){return e!==t}));n[e]=[t].concat(o).slice(0,UB),XB(n)}},KB=function(t){return!!t},JB=function(t){return It(NE.makeMap(t,/[, ]/),KB)},QB=function(t){return w.from(IC(t)).filter(R)},tz=function(t){var e=w.some(EC(t)).filter(KB),n=w.some(RC(t)).filter(KB),r=e.or(n).map(JB);return QB(t).fold((function(){return!1}),(function(t){return r.fold((function(){return!0}),(function(t){return Ot(t).length>0&&t}))}))},ez=function(t,e){var n=tz(t);return M(n)?n?QB(t):w.none():n[e]?QB(t):w.none()},nz=function(t,e){return ez(t,e).map((function(n){return function(r){return NO.nu((function(o){var i=function(t,e){if(!T(t))throw new Error("Expected value to be string");if(void 0!==e&&!A(e))throw new Error("Expected meta to be a object");var n={value:t,meta:e};o(n)},a=h({filetype:e,fieldname:r.fieldname},w.from(r.meta).getOr({}));n.call(t,i,r.value,a)}))}}))},rz=function(t){return w.from(t).filter(T).getOrUndefined()},oz=function(t){return NC(t)?w.none():w.some({targets:jB.find(t.getBody()),anchorTop:rz(PC(t)),anchorBottom:rz(LC(t))})},iz=function(t){return w.from(BC(t))},az=function(t){return{getHistory:ZB,addToHistory:$B,getLinkInformation:function(){return oz(t)},getValidationHandler:function(){return iz(t)},getUrlPicker:function(e){return nz(t,e)}}},uz=function(t,e,n){var r=Zn(!1),o=uB(e),i={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:DS.translate,isDisabled:function(){return e.mode.isReadOnly()||e.ui.isDisabled()},getSetting:e.getParam.bind(e)},interpreter:function(t){return YL(t,i)},anchors:QL(e,n,o.isPositionedAtTop),header:o,getSink:function(){return gt.value(t)}},urlinput:az(e),styleselect:yB(e),colorinput:oB(e),dialog:aB(e),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}};return i},sz=i((function(t,e){Ls(t,Math.floor(e))})),cz="contexttoolbar-show",lz="contexttoolbar-hide",fz=i([bn("dom"),zn("shell",!0),Zp("toolbarBehaviours",[wb])]),dz=function(){return{behaviours:Fl([wb.config({})])}},hz=i([Mm({name:"groups",overrides:dz})]),pz=function(t,e,n,r){var o=function(t,e){i(t).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){wb.set(t,e)}))},i=function(e){return t.shell?w.some(e):Hm(e,t,"groups")},a=t.shell?{behaviours:[wb.config({})],components:[]}:{behaviours:[],components:e};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:Kp(t.toolbarBehaviours,a.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}},mz=sg({name:"Toolbar",configFields:fz(),partFields:hz(),factory:pz,apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),gz=function(t,e){var n={len:0,list:[]},r=K(t,(function(t,n){var r=e(n,t.len);return r.fold(i(t),(function(e){return{len:e.finish,list:t.list.concat([e])}}))}),n);return r.list},vz=function(t,e,n){return{within:t,extra:e,withinWidth:n}},yz=function(t,e,n){var r=gz(t,(function(t,e){var r=n(t);return w.some({element:t,start:e,finish:e+r,width:r})})),o=Z(r,(function(t){return t.finish<=e})),i=$(o,(function(t,e){return t+e.width}),0),a=r.slice(o.length);return{within:o,extra:a,withinWidth:i}},bz=function(t){return G(t,(function(t){return t.element}))},xz=function(t,e,n){var r=bz(t.concat(e));return vz(r,[],n)},wz=function(t,e,n,r){var o=bz(t).concat([n]);return vz(o,bz(e),r)},_z=function(t,e,n){return vz(bz(t),[],n)},Sz=function(t,e,n){var r=yz(e,t,n);return 0===r.extra.length?w.some(r):w.none()},Cz=function(t,e,n,r){var o=Sz(t,e,n).getOrThunk((function(){return yz(e,t-n(r),n)})),i=o.within,a=o.extra,u=o.withinWidth;return 1===a.length&&a[0].width<=n(r)?xz(i,a,u):a.length>=1?wz(i,a,r,u):_z(i,a,u)},kz=function(t,e){var n=G(e,(function(t){return xs(t)}));mz.setGroups(t,n)},Tz=function(t){return dt(t,(function(t){return tf(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}))},Az=function(t,e,n){var r=Um(t,e,"primary"),o=JO.getCoupled(t,"overflowGroup");Zu(r.element,"visibility","hidden");var i=e.builtGroups.get().concat([o]),a=Tz(i);n([]),kz(r,i);var u=Ns(r.element),s=Cz(u,e.builtGroups.get(),(function(t){return Ns(t.element)}),o);0===s.extra.length?(wb.remove(r,o),n([])):(kz(r,s.within),n(s.extra)),rs(r.element,"visibility"),os(r.element),a.each(Eb.focus)},Oz=i([Zp("splitToolbarBehaviours",[JO]),Xn("builtGroups",(function(){return Zn([])}))]),Mz=i([Lc(["overflowToggledClass"]),Nn("getOverflowBounds"),bn("lazySink"),Xn("overflowGroups",(function(){return Zn([])}))].concat(Oz())),Dz=i([Am({factory:mz,schema:fz(),name:"primary"}),Om({schema:fz(),name:"overflow"}),Om({name:"overflow-button"}),Om({name:"overflow-group"})]),Iz=i([Lc(["toggledClass"]),bn("lazySink"),kn("fetch"),Nn("getBounds"),Ln("fireDismissalEventInstead",[zn("event",ni())]),Hf()]),Ez=i([Om({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Fl([Kb.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Om({factory:mz,schema:fz(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Fl([fb.config({mode:"cyclic",onEscape:function(e){return Hm(e,t,"button").each(Eb.focus),w.none()}})])}}})]),Rz=function(t,e){var n=JO.getCoupled(t,"toolbarSandbox");dp.isOpen(n)?dp.close(n):dp.open(n,e.toolbar())},Nz=function(t,e,n,r){var o=n.getBounds.map((function(t){return t()})),i=n.lazySink(t).getOrDie();Eh.positionWithinBounds(i,{anchor:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:sz()}},e,o)},Pz=function(t,e,n,r,o){mz.setGroups(e,o),Nz(t,e,n,r),Kb.on(t)},Lz=function(t,e,n){var r=vc(),o=function(o,i){n.fetch().get((function(o){Pz(t,i,n,e.layouts,o),r.link(t.element),fb.focusIn(i)}))},i=function(){Kb.off(t),Eb.focus(t),r.unlink(t.element)};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Fl([fb.config({mode:"special",onEscape:function(t){return dp.close(t),w.some(!0)}}),dp.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return bc(n,r)||bc(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),ql.config({channels:h(h({},vp(h({isExtraPart:l},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),bp({doReposition:function(){dp.getState(JO.getCoupled(t,"toolbarSandbox")).each((function(r){Nz(t,r,n,e.layouts)}))}}))})])}},Bz=function(t,e,n,r){return h(h({},Kx.sketch(h(h({},r.button()),{action:function(t){Rz(t,r)},buttonBehaviours:Jp.augment({dump:r.button().buttonBehaviours},[JO.config({others:{toolbarSandbox:function(e){return Lz(e,n,t)}}})])}))),{apis:{setGroups:function(e,r){dp.getState(JO.getCoupled(e,"toolbarSandbox")).each((function(o){Pz(e,o,t,n.layouts,r)}))},reposition:function(e){dp.getState(JO.getCoupled(e,"toolbarSandbox")).each((function(r){Nz(e,r,t,n.layouts)}))},toggle:function(t){Rz(t,r)},getToolbar:function(t){return dp.getState(JO.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return dp.isOpen(JO.getCoupled(t,"toolbarSandbox"))}}})},zz=sg({name:"FloatingToolbarButton",factory:Bz,configFields:Iz(),partFields:Ez(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)},isOpen:function(t,e){return t.isOpen(e)}}}),Vz=i([bn("items"),Lc(["itemSelector"]),Zp("tgroupBehaviours",[fb])]),Fz=i([Dm({name:"items",unit:"item"})]),jz=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Kp(t.tgroupBehaviours,[fb.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Hz=sg({name:"ToolbarGroup",configFields:Vz(),partFields:Fz(),factory:jz}),Uz=function(t){return G(t,(function(t){return xs(t)}))},Wz=function(t,e,n){Az(t,n,(function(r){n.overflowGroups.set(r),e.getOpt(t).each((function(t){zz.setGroups(t,Uz(r))}))}))},Gz=function(t,e,n,r){var o=Jx(zz.sketch({fetch:function(){return NO.nu((function(e){e(Uz(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[gl,ml]},onRtl:function(){return[ml,gl]},onBottomLtr:function(){return[yl,vl]},onBottomRtl:function(){return[vl,yl]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:t.uid,dom:t.dom,components:e,behaviours:Kp(t.splitToolbarBehaviours,[JO.config({others:{overflowGroup:function(){return Hz.sketch(h(h({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(G(n,e.getSystem().build)),Wz(e,o,t)},refresh:function(e){return Wz(e,o,t)},toggle:function(t){o.getOpt(t).each((function(t){zz.toggle(t)}))},isOpen:function(t){return o.getOpt(t).map(zz.isOpen).getOr(!1)},reposition:function(t){o.getOpt(t).each((function(t){zz.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind(zz.getToolbar)}},domModification:{attributes:{role:"group"}}}},qz=sg({name:"SplitFloatingToolbar",configFields:Mz(),partFields:Dz(),factory:Gz,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)},getOverflow:function(t,e){return t.getOverflow(e)}}}),Yz=function(t,e){return e.getAnimationRoot.fold((function(){return t.element}),(function(e){return e(t)}))},Xz=function(t){return t.dimension.property},Zz=function(t,e){return t.dimension.getDimension(e)},$z=function(t,e){var n=Yz(t,e);Eu(n,[e.shrinkingClass,e.growingClass])},Kz=function(t,e){Mu(t.element,e.openClass),Au(t.element,e.closedClass),Zu(t.element,Xz(e),"0px"),os(t.element)},Jz=function(t,e){Mu(t.element,e.closedClass),Au(t.element,e.openClass),rs(t.element,Xz(e))},Qz=function(t,e,n,r){n.setCollapsed(),Zu(t.element,Xz(e),Zz(e,t.element)),os(t.element),$z(t,e),Kz(t,e),e.onStartShrink(t),e.onShrunk(t)},tV=function(t,e,n,r){var o=r.getOrThunk((function(){return Zz(e,t.element)}));n.setCollapsed(),Zu(t.element,Xz(e),o),os(t.element);var i=Yz(t,e);Mu(i,e.growingClass),Au(i,e.shrinkingClass),Kz(t,e),e.onStartShrink(t)},eV=function(t,e,n){var r=Zz(e,t.element),o="0px"===r?Qz:tV;o(t,e,n,w.some(r))},nV=function(t,e,n){var r=Yz(t,e),o=Du(r,e.shrinkingClass),i=Zz(e,t.element);Jz(t,e);var a=Zz(e,t.element),u=function(){Zu(t.element,Xz(e),i),os(t.element)},s=function(){Kz(t,e)},c=o?u:s;c(),Mu(r,e.shrinkingClass),Au(r,e.growingClass),Jz(t,e),Zu(t.element,Xz(e),a),n.setExpanded(),e.onStartGrow(t)},rV=function(t,e,n){if(n.isExpanded()){rs(t.element,Xz(e));var r=Zz(e,t.element);Zu(t.element,Xz(e),r)}},oV=function(t,e,n){n.isExpanded()||nV(t,e,n)},iV=function(t,e,n){n.isExpanded()&&eV(t,e,n)},aV=function(t,e,n){n.isExpanded()&&Qz(t,e,n,w.none())},uV=function(t,e,n){return n.isExpanded()},sV=function(t,e,n){return n.isCollapsed()},cV=function(t,e,n){var r=Yz(t,e);return!0===Du(r,e.growingClass)},lV=function(t,e,n){var r=Yz(t,e);return!0===Du(r,e.shrinkingClass)},fV=function(t,e,n){return!0===cV(t,e)||!0===lV(t,e)},dV=function(t,e,n){var r=n.isExpanded()?eV:nV;r(t,e,n)},hV=Object.freeze({__proto__:null,refresh:rV,grow:oV,shrink:iV,immediateShrink:aV,hasGrown:uV,hasShrunk:sV,isGrowing:cV,isShrinking:lV,isTransitioning:fV,toggleGrow:dV,disableTransitions:$z}),pV=function(t,e,n){var r=e.expanded;return Qa(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:ce(e.dimension.property,"0px")})},mV=function(t,e){return gi([Mi(Po(),(function(n,r){var o=r.event.raw;if(o.propertyName===t.dimension.property){$z(n,t),e.isExpanded()&&rs(n.element,t.dimension.property);var i=e.isExpanded()?t.onGrown:t.onShrunk;i(n)}}))])},gV=Object.freeze({__proto__:null,exhibit:pV,events:mV}),vV=[bn("closedClass"),bn("openClass"),bn("shrinkingClass"),bn("growingClass"),Dn("getAnimationRoot"),zc("onShrunk"),zc("onStartShrink"),zc("onGrown"),zc("onStartGrow"),zn("expanded",!1),xn("dimension",sn("property",{width:[Hc("property","width"),Hc("getDimension",(function(t){return Ns(t)+"px"}))],height:[Hc("property","height"),Hc("getDimension",(function(t){return Ss(t)+"px"}))]}))],yV=function(t){var e=Zn(t.expanded),n=function(){return"expanded: "+e.get()};return Xa({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:u(e.set,!1),setExpanded:u(e.set,!0),readState:n})},bV=Object.freeze({__proto__:null,init:yV}),xV=Hl({fields:vV,name:"sliding",active:gV,apis:hV,state:bV}),wV=i([Lc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),zc("onOpened"),zc("onClosed")].concat(Oz())),_V=i([Am({factory:mz,schema:fz(),name:"primary"}),Am({factory:mz,schema:fz(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Fl([xV.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){Hm(e,t,"overflow-button").each((function(t){Kb.off(t),Eb.focus(t)})),t.onClosed(e)},onGrown:function(e){fb.focusIn(e),t.onOpened(e)},onStartGrow:function(e){Hm(e,t,"overflow-button").each(Kb.on)}}),fb.config({mode:"acyclic",onEscape:function(e){return Hm(e,t,"overflow-button").each(Eb.focus),w.some(!0)}})])}}}),Om({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Fl([Kb.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Om({name:"overflow-group"})]),SV=function(t,e){return Hm(t,e,"overflow").map(xV.hasGrown).getOr(!1)},CV=function(t,e){Hm(t,e,"overflow-button").bind((function(){return Hm(t,e,"overflow")})).each((function(n){kV(t,e),xV.toggleGrow(n)}))},kV=function(t,e){Hm(t,e,"overflow").each((function(n){Az(t,e,(function(t){var e=G(t,(function(t){return xs(t)}));mz.setGroups(n,e)})),Hm(t,e,"overflow-button").each((function(t){xV.hasGrown(n)&&Kb.on(t)})),xV.refresh(n)}))},TV=function(t,e,n,r){var o="alloy.toolbar.toggle",i=function(e,n){var r=G(n,e.getSystem().build);t.builtGroups.set(r)};return{uid:t.uid,dom:t.dom,components:e,behaviours:Kp(t.splitToolbarBehaviours,[JO.config({others:{overflowGroup:function(t){return Hz.sketch(h(h({},r["overflow-group"]()),{items:[Kx.sketch(h(h({},r["overflow-button"]()),{action:function(e){li(t,o)}}))]}))}}}),Sb("toolbar-toggle-events",[xi(o,(function(e){CV(e,t)}))])]),apis:{setGroups:function(e,n){i(e,n),kV(e,t)},refresh:function(e){return kV(e,t)},toggle:function(e){return CV(e,t)},isOpen:function(e){return SV(e,t)}},domModification:{attributes:{role:"group"}}}},AV=sg({name:"SplitSlidingToolbar",configFields:wV(),partFields:_V(),factory:TV,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)}}}),OV=i(Aa("toolbar-height-change")),MV=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:h({tag:"div",classes:["tox-toolbar__group"]},e),components:[Hz.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Fl([QA.config({}),Eb.config({})])}},DV=function(t){return Hz.sketch(MV(t))},IV=function(t,e){var n=Di((function(e){var n=G(t.initGroups,DV);mz.setGroups(e,n)}));return Fl([YC.toolbarButton(t.providers.isDisabled),HC(),fb.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Sb("toolbar-events",[n])])},EV=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":MV({title:w.none(),items:[]}),"overflow-button":NN({name:"more",icon:w.some("more-drawer"),disabled:!1,tooltip:w.some("More..."),primary:!1,borderless:!1},w.none(),t.providers)},splitToolbarBehaviours:IV(t,e)}},RV=function(t){var e=EV(t),n=4,r=qz.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return qz.sketch(h(h({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element,r=ic(e),o=Ui(e),i=ic(o),a=Math.max(o.dom.scrollHeight,i.height);return rc(r.x+n,i.y,r.width-2*n,a)},parts:h(h({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},NV=function(t){var e=AV.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=AV.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=EV(t);return AV.sketch(h(h({},r),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([OV()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([OV()],{type:"closed"})}}))},PV=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return mz.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===u_.scrolling?["tox-toolbar--scrolling"]:[])},components:[mz.parts.groups({})],toolbarBehaviours:IV(t,e)})},LV=ze([_n("type"),xn("items",Fe([$e([_n("name"),Mn("items",hn)]),hn]))].concat(Uw)),BV=function(t){return nn("GroupToolbarButton",LV,t)},zV=[Rn("text"),Rn("tooltip"),Rn("icon"),kn("fetch"),Wn("onSetup",(function(){return e}))],VV=ze(m([_n("type")],zV)),FV=function(t){return nn("menubutton",VV,t)},jV=ze([_n("type"),Rn("tooltip"),Rn("icon"),Rn("text"),Nn("select"),kn("fetch"),Wn("onSetup",(function(){return e})),Hn("presets","normal",["normal","color","listpreview"]),zn("columns",1),kn("onAction"),kn("onItemAction")]),HV=function(t){return nn("SplitButton",jV,t)},UV=function(t,e){var n=function(n,r){t.updateState.each((function(t){var o=t(n,r);e.set(o)})),t.renderComponents.each((function(t){var o=t(r,e.get()),i=G(o,n.getSystem().build);Bh(n,i)}))};return gi([xi(Ho(),(function(e,r){var o=r;if(!o.universal){var i=t.channel;j(o.channels,i)&&n(e,o.data)}})),Di((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])},WV=Object.freeze({__proto__:null,events:UV}),GV=function(t,e,n){return n},qV=Object.freeze({__proto__:null,getState:GV}),YV=[bn("channel"),Dn("renderComponents"),Dn("updateState"),Dn("initialData")],XV=function(){var t=Zn(w.none()),e=function(e){return t.set(e)},n=function(){return t.set(w.none())},r=function(){return t.get()},o=function(){return t.get().fold((function(){return"none"}),(function(t){return t}))};return{readState:o,get:r,set:e,clear:n}},ZV=Object.freeze({__proto__:null,init:XV}),$V=Hl({fields:YV,name:"reflecting",active:WV,apis:qV,state:ZV}),KV=i([bn("toggleClass"),bn("fetch"),Fc("onExecute"),zn("getHotspot",w.some),zn("getAnchorOverrides",i({})),Hf(),Fc("onItemExecute"),Dn("lazySink"),bn("dom"),zc("onOpen"),Zp("splitDropdownBehaviours",[JO,fb,Eb]),zn("matchWidth",!1),zn("useMinWidth",!1),zn("eventOrder",{}),Dn("role")].concat(dM())),JV=Am({factory:Kx,schema:[bn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Fl([Eb.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(di)},buttonBehaviours:Fl([Kb.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),QV=Am({factory:Kx,schema:[bn("dom")],name:"button",defaults:function(){return{buttonBehaviours:Fl([Eb.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}}),tF=i([JV,QV,Mm({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[bn("text")],name:"aria-descriptor"}),Om({schema:[Pc()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),tM()]),eF=function(t,n,r,o){var i,a=function(t){bg.getCurrent(t).each((function(t){Vg.highlightFirst(t),fb.focusIn(t)}))},u=function(n){var r=a;aM(t,(function(t){return t}),n,o,r,kO.HighlightFirst).get(e)},s=function(t){return u(t),w.some(!0)},c=function(e){var n=Um(e,t,"button");return di(n),w.some(!0)},l=h(h({},gi([Di((function(e,n){var r=Hm(e,t,"aria-descriptor");r.each((function(t){var n=Aa("aria");ha(t.element,"id",n),ha(e.element,"aria-describedby",n)}))}))])),Qb(w.some(u))),f={repositionMenus:function(t){Kb.isOn(t)&&fM(t)}};return{uid:t.uid,dom:t.dom,components:n,apis:f,eventOrder:h(h({},t.eventOrder),(i={},i[Uo()]=["disabling","toggling","alloy.base.behaviour"],i)),events:l,behaviours:Kp(t.splitDropdownBehaviours,[JO.config({others:{sandbox:function(e){var n=Um(e,t,"arrow"),r={onOpen:function(){Kb.on(n),Kb.on(e)},onClose:function(){Kb.off(n),Kb.off(e)}};return lM(t,e,r)}}}),fb.config({mode:"special",onSpace:c,onEnter:c,onDown:s}),Eb.config({}),Kb.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},nF=sg({name:"SplitDropdown",configFields:KV(),partFields:tF(),factory:eF,apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}}),rF=function(t){return{isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){return ZS.set(t,e)}}},oF=function(t){return{setActive:function(e){Kb.set(t,e)},isActive:function(){return Kb.isOn(t)},isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){return ZS.set(t,e)}}},iF=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})},aF=Aa("focus-button"),uF=["checklist","ordered-list"],sF=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],cF=function(t,e,n,r,o,i){var a,u=function(t){return DS.isRtl()&&j(uF,t)?t+"-rtl":t},s=DS.isRtl()&&t.exists((function(t){return j(sF,t)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]).concat(s?["tox-tbtn__icon-rtl"]:[]),attributes:iF(n,i)},components:QC([t.map((function(t){return fN(u(t),i.icons)})),e.map((function(t){return hN(t,"tox-tbtn",i)}))]),eventOrder:(a={},a[So()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Fl([YC.toolbarButton(i.isDisabled),HC(),Sb("common-button-display-events",[xi(So(),(function(t,e){e.event.prevent(),li(t,aF)}))])].concat(r.map((function(n){return $V.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return QC([t.icon.map((function(t){return fN(u(t),i.icons)})),t.text.map((function(t){return hN(t,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}},lF=function(t,e,n,r){var o=e.shared;return zz.sketch({lazySink:o.getSink,fetch:function(){return NO.nu((function(e){e(G(n(t.items),DV))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:cF(t.icon,t.text,t.tooltip,w.none(),w.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},fF=function(t,n,r){var o=Zn(e),i=cF(t.icon,t.text,t.tooltip,w.none(),w.none(),r);return Kx.sketch({dom:i.dom,components:i.components,eventOrder:gN,buttonBehaviours:Fl([Sb("toolbar-button-events",[mN({onAction:t.onAction,getApi:n.getApi}),ZC(n,o),$C(n,o)]),YC.toolbarButton((function(){return t.disabled||r.isDisabled()})),HC()].concat(n.toolbarButtonBehaviours))})},dF=function(t,e){return hF(t,e,[])},hF=function(t,e,n){return fF(t,{toolbarButtonBehaviours:[].concat(n.length>0?[Sb("toolbarButtonWith",n)]:[]),getApi:rF,onSetup:t.onSetup},e)},pF=function(t,e){return mF(t,e,[])},mF=function(t,e,n){return Xt(fF(t,{toolbarButtonBehaviours:[wb.config({}),Kb.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Sb("toolbarToggleButtonWith",n)]:[]),getApi:oF,onSetup:t.onSetup},e))},gF=function(t,e,n){return function(r){return NO.nu((function(t){return e.fetch(t)})).map((function(o){return w.from(uA(Xt(OT(Aa("menu-value"),o,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,s_.CLOSE_ON_EXECUTE,e.select.getOr((function(){return!1})),n),{movement:DT(e.columns,e.presets),menuBehaviours:gS.unnamedEvents("auto"!==e.columns?[]:[Di((function(t,n){hS(t,4,D_(e.presets)).each((function(e){var n=e.numRows,r=e.numColumns;fb.setGridSize(t,n,r)}))}))])})))}))}},vF=function(t,n){var r,o=Aa("channel-update-split-dropdown-display"),i=function(t){return{isDisabled:function(){return ZS.isDisabled(t)},setDisabled:function(e){return ZS.set(t,e)},setIconFill:function(e,n){pc(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){ha(t,"fill",n)}))},setIconStroke:function(e,n){pc(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){ha(t,"stroke",n)}))},setActive:function(e){ha(t.element,"aria-pressed",e),pc(t.element,"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return Kb.set(t,e)}))}))},isActive:function(){return pc(t.element,"span").exists((function(e){return t.getSystem().getByDom(e).exists(Kb.isOn)}))}}},a=Zn(e),u={getApi:i,onSetup:t.onSetup};return nF.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:h({"aria-pressed":!1},iF(t.tooltip,n.providers))},onExecute:function(e){t.onAction(i(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:Fl([YC.splitButton(n.providers.isDisabled),HC(),Sb("split-dropdown-events",[xi(aF,Eb.focus),ZC(u,a),$C(u,a)]),xM.config({})]),eventOrder:(r={},r[ti()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:gF(i,t,n.providers),parts:{menu:L_(!1,t.columns,t.presets)},components:[nF.parts.button(cF(t.icon,t.text,w.none(),w.some(o),w.some([Kb.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),nF.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:tw("chevron-down",n.providers.icons)},buttonBehaviours:Fl([YC.splitButton(n.providers.isDisabled),HC()])}),nF.parts["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})},yF=function(t){return{hide:function(){return li(t,Yo())},getValue:function(){return Xp.getValue(t)}}},bF=function(t,e){return xi(pN,(function(n,r){var o=t.get(n),i=yF(o);e.onAction(i,r.event.buttonApi)}))},xF=function(t,e,n){var r=e.original,o=(r.primary,p(r,["primary"])),i=rn(Gw(h(h({},o),{type:"button",onAction:function(){}})));return hF(i,n.backstage.shared.providers,[bF(t,e)])},wF=function(t,e,n){var r=e.original,o=(r.primary,p(r,["primary"])),i=rn(Xw(h(h({},o),{type:"togglebutton",onAction:function(){}})));return mF(i,n.backstage.shared.providers,[bF(t,e)])},_F=function(t,e,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===e.type?wF(t,e,r):xF(t,e,r)},SF=function(t,e,n){var r=G(e,(function(e){return Jx(_F(t,e,n))})),o=function(){return G(r,(function(t){return t.asSpec()}))},i=function(t){return dt(e,(function(e,n){return e.primary?w.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(s(ZS.isDisabled)):w.none()}))};return{asSpecs:o,findPrimary:i}},CF=function(t,e){var n=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),r=Jx(_O.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Fl([fb.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){return di(t),!0}))},onLeft:function(t,e){return e.cut(),w.none()},onRight:function(t,e){return e.cut(),w.none()}})])})),o=SF(r,t.commands,e);return[{title:w.none(),items:[r.asSpec()]},{title:w.none(),items:o.asSpecs()}]},kF=function(t,e,n){return PV({type:t,uid:Aa("context-toolbar"),initGroups:CF(e,n),onEscape:w.none,cyclicKeying:!0,providers:n})},TF={renderContextForm:kF,buildInitGroups:CF},AF=function(t,e){var n=Math.max(e.x,t.x),r=t.right-n,o=e.width-(n-e.x),i=Math.min(r,o);return{x:n,width:i}},OF=function(t,e,n,r){var o=er.fromDom(t.getContainer()),i=pc(o,".tox-editor-header").getOr(o),a=oc(i),u=a.y>=e.bottom,s=r&&!u;if(t.inline&&s)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(t.inline&&!s)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var c=oc(o);return s?{y:Math.max(a.bottom,n.y),bottom:Math.min(c.bottom,n.bottom)}:{y:Math.max(c.y,n.y),bottom:Math.min(a.y,n.bottom)}},MF=function(t,e){var n=Xs(window),r=oc(er.fromDom(t.getContentAreaContainer())),o=lC(t)||fC(t)||hC(t),i=AF(r,n),a=i.x,u=i.width;if(t.inline&&!o)return rc(a,n.y,u,n.height);var s=e.header.isPositionedAtTop(),c=OF(t,r,n,s),l=c.y,f=c.bottom;return rc(a,l,u,f-l)},DF=function(t,e){var n=Z(e,(function(e){return e.predicate(t.dom)})),r=X(n,(function(t){return"contexttoolbar"===t.type})),o=r.pass,i=r.fail;return{contextToolbars:o,contextForms:i}},IF=function(t){if(t.length<=1)return t;var e=function(e){return H(t,(function(t){return t.position===e}))},n=function(e){return Z(t,(function(t){return t.position===e}))},r=e("selection"),o=e("node");if(r||o){if(o&&r){var i=n("node"),a=G(n("selection"),(function(t){return h(h({},t),{position:"node"})}));return i.concat(a)}return n(r?"selection":"node")}return n("line")},EF=function(t){if(t.length<=1)return t;var e=function(e){return Q(t,(function(t){return t.position===e}))},n=e("selection").orThunk((function(){return e("node")})).orThunk((function(){return e("line")})).map((function(t){return t.position}));return n.fold((function(){return[]}),(function(e){return Z(t,(function(t){return t.position===e}))}))},RF=function(t,e,n){var r=DF(t,e);if(r.contextForms.length>0)return w.some({elem:t,toolbars:[r.contextForms[0]]});var o=DF(t,n);if(o.contextForms.length>0)return w.some({elem:t,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=IF(r.contextToolbars.concat(o.contextToolbars));return w.some({elem:t,toolbars:i})}return w.none()},NF=function(t,e,n){return t(e)?w.none():co(e,(function(t){var e=DF(t,n.inNodeScope),r=e.contextToolbars,o=e.contextForms,i=o.length>0?o:EF(r);return i.length>0?w.some({elem:t,toolbars:i}):w.none()}),t)},PF=function(t,e){var n=er.fromDom(e.getBody()),r=function(t){return oo(t,n)},o=function(t){return!r(t)&&!uo(n,t)},i=er.fromDom(e.selection.getNode());return o(i)?w.none():RF(i,t.inNodeScope,t.inEditorScope).orThunk((function(){return NF(r,i,t)}))},LF=function(t,e){var n={},r=[],o=[],i={},a={},u=function(t,u){var s=rn(n_(u));n[t]=s,s.launch.map((function(n){i["form:"+t]=h(h({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(s)}})})),"editor"===s.scope?o.push(s):r.push(s),a[t]=s},s=function(t,e){o_(e).each((function(n){"editor"===e.scope?o.push(n):r.push(n),a[t]=n}))},c=Ot(t);return q(c,(function(e){var n=t[e];"contextform"===n.type?u(e,n):"contexttoolbar"===n.type&&s(e,n)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},BF=Aa("forward-slide"),zF=Aa("backward-slide"),VF=Aa("change-slide-event"),FF="tox-pop--resizing",jF=function(t){var e=Zn([]);return Bx.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){e.set([]),Bx.getContent(t).each((function(t){rs(t.element,"visibility")})),Mu(t.element,FF),rs(t.element,"width")},inlineBehaviours:Fl([Sb("context-toolbar-events",[Mi(Po(),(function(t,e){Mu(t.element,FF),rs(t.element,"width")})),xi(VF,(function(t,e){rs(t.element,"width");var n=Ns(t.element);Bx.setContent(t,e.event.contents),Au(t.element,FF);var r=Ns(t.element);Zu(t.element,"width",n+"px"),Bx.getContent(t).each((function(n){e.event.focus.bind((function(e){return $l(e),tf(t.element)})).orThunk((function(){return fb.focusIn(n),Ql()}))})),Zx.setTimeout((function(){Zu(t.element,"width",r+"px")}),0)})),xi(BF,(function(t,n){Bx.getContent(t).each((function(t){e.set(e.get().concat([{bar:t,focus:Ql()}]))})),fi(t,VF,{contents:n.event.forwardContents,focus:w.none()})})),xi(zF,(function(t,n){lt(e.get()).each((function(n){e.set(e.get().slice(0,e.get().length-1)),fi(t,VF,{contents:xs(n.bar),focus:n.focus})}))}))]),fb.config({mode:"special",onEscape:function(n){return lt(e.get()).fold((function(){return t.onEscape()}),(function(t){return li(n,zF),w.some(!0)}))}})]),lazySink:function(){return gt.value(t.sink)}})},HF=function(t,e,n){var r=function(t,r,i,a){var u=e.shared.providers.translate(t.title);if("separator"===t.type)return w.some({type:"separator",text:u});if("submenu"===t.type){var s=nt(t.getStyleItems(),(function(t){return o(t,r,a)}));return 0===r&&s.length<=0?w.none():w.some({type:"nestedmenuitem",text:u,disabled:s.length<=0,getSubmenuItems:function(){return nt(t.getStyleItems(),(function(t){return o(t,r,a)}))}})}return w.some(h({type:"togglemenuitem",text:u,icon:t.icon,active:t.isSelected(a),disabled:i,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},o=function(t,e,o){var i="formatter"===t.type&&n.isInvalid(t);return 0===e?i?[]:r(t,e,!1,o).toArray():r(t,e,i,o).toArray()},i=function(t){var e=n.getCurrentValue(),r=n.shouldHide?0:1;return nt(t,(function(t){return o(t,r,e)}))},a=function(t,e){return function(n,r){var o=e(),a=i(o),u=MN(a,s_.CLOSE_ON_EXECUTE,t,!1);r(u)}};return{validateItems:i,getFetch:a}},UF=function(t,e,n){var r=n.dataset,o="basic"===r.type?function(){return G(r.data,(function(t){return gB(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:HF(t,e,n),getStyleItems:o}},WF=function(t,n,r){var o=UF(t,n,r),i=o.items,a=o.getStyleItems,u=function(t){return{getComponent:function(){return t}}},s=function(n){return r.setInitialValue.each((function(t){return t(n.getComponent())})),r.nodeChangeHandler.map((function(e){var r=e(n.getComponent());return t.on("NodeChange",r),function(){t.off("NodeChange",r)}})).getOr(e)};return bN({text:r.icon.isSome()?w.none():w.some(""),icon:r.icon,tooltip:w.from(r.tooltip),role:w.none(),fetch:i.getFetch(n,a),onSetup:s,getApi:u,columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)},GF=function(t){return G(t,(function(t){var e=t,n=t,r=t.split("=");return r.length>1&&(e=r[0],n=r[1]),{title:e,format:n}}))},qF=function(t){return{type:"basic",data:t}};(function(t){t[t["SemiColon"]=0]="SemiColon",t[t["Space"]=1]="Space"})(RP||(RP={}));var YF,XF=function(t,e){return e===RP.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},ZF=function(t,e,n,r){var o=t.getParam(e,n,"string"),i=GF(XF(o,r));return{type:"basic",data:i}},$F=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],KF=function(t){var e=function(){return Q($F,(function(e){return t.formatter.match(e.format)}))},n=function(e){return function(){return t.formatter.match(e)}},r=function(t){return function(){return w.none()}},o=function(t){var n=e(),r=n.fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}));fi(t,yN,{icon:"align-"+r})},i=w.some((function(t){return function(){return o(t)}})),a=w.some((function(t){return o(t)})),u=qF($F),s=function(e){return function(){return Q($F,(function(t){return t.format===e.format})).each((function(e){return t.execCommand(e.command)}))}};return{tooltip:"Align",icon:w.some("align-left"),isSelectedFor:n,getCurrentValue:w.none,getPreviewFor:r,onAction:s,setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},JF=function(t,e){return WF(t,e,KF(t))},QF=function(t,e){var n=UF(t,e,KF(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},tj="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",ej=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],nj=function(t){var e=t.split(/\s*,\s*/);return G(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},rj=function(t){var e=function(){var e=nj(t.toLowerCase());return rt(ej,(function(t){return e.indexOf(t.toLowerCase())>-1}))};return 0===t.indexOf("-apple-system")&&e()},oj=function(t){var e=function(){var e=function(t){return t?nj(t)[0]:""},n=t.queryCommandValue("FontName"),r=c.data,o=n?n.toLowerCase():"",i=Q(r,(function(t){var n=t.format;return n.toLowerCase()===o||e(n).toLowerCase()===e(o).toLowerCase()})).orThunk((function(){return rj(o)?w.from({title:"System Font",format:o}):w.none()}));return{matchOpt:i,font:n}},n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}},r=function(){var t=e().matchOpt;return t},o=function(t){return function(){return w.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},i=function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,e.format)}))}},a=function(t){var n=e(),r=n.matchOpt,o=n.font,i=r.fold((function(){return o}),(function(t){return t.title}));fi(t,vN,{text:i})},u=w.some((function(t){return function(){return a(t)}})),s=w.some((function(t){return a(t)})),c=ZF(t,"font_formats",tj,RP.SemiColon);return{tooltip:"Fonts",icon:w.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:i,setInitialValue:s,nodeChangeHandler:u,dataset:c,shouldHide:!1,isInvalid:function(){return!1}}},ij=function(t,e){return WF(t,e,oj(t))},aj=function(t,e){var n=UF(t,e,oj(t));t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},uj="8pt 10pt 12pt 14pt 18pt 24pt 36pt",sj={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},cj={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},lj=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},fj=function(t,e){return/[0-9.]+px$/.test(t)?lj(72*parseInt(t,10)/96,e||0)+"pt":Vt(cj,t).getOr(t)},dj=function(t){return Vt(sj,t).getOr("")},hj=function(t){var e=function(){var e=w.none(),n=l.data,r=t.queryCommandValue("FontSize");if(r)for(var o=function(t){var o=fj(r,t),i=dj(o);e=Q(n,(function(t){return t.format===r||t.format===o||t.format===i}))},i=3;e.isNone()&&i>=0;i--)o(i);return{matchOpt:e,size:r}},n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}},r=function(){var t=e().matchOpt;return t},o=i(w.none),a=function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,e.format)}))}},u=function(t){var n=e(),r=n.matchOpt,o=n.size,i=r.fold((function(){return o}),(function(t){return t.title}));fi(t,vN,{text:i})},s=w.some((function(t){return function(){return u(t)}})),c=w.some((function(t){return u(t)})),l=ZF(t,"fontsize_formats",uj,RP.Space);return{tooltip:"Font sizes",icon:w.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:a,setInitialValue:c,nodeChangeHandler:s,dataset:l,shouldHide:!1,isInvalid:function(){return!1}}},pj=function(t,e){return WF(t,e,hj(t))},mj=function(t,e){var n=UF(t,e,hj(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},gj=function(t,e){var n=e(),r=G(n,(function(t){return t.format}));return w.from(t.formatter.closest(r)).bind((function(t){return Q(n,(function(e){return e.format===t}))})).orThunk((function(){return pg(t.formatter.match("p"),{title:"Paragraph",format:"p"})}))},vj=function(t){var e=Zn(w.none()),n=function(){return e.get().each(t)},r=function(){n(),e.set(w.none())},o=function(){return e.get().isSome()},i=function(t){n(),e.set(w.some(t))};return{clear:r,isSet:o,set:i}},yj=function(){return vj((function(t){return t.destroy()}))},bj=function(){return vj((function(t){return t.unbind()}))},xj=function(){var t=Zn(w.none()),e=function(){return t.set(w.none())},n=function(e){return t.set(w.some(e))},r=function(){return t.get().isSome()},o=function(e){return t.get().each(e)};return{clear:e,set:n,isSet:r,on:o}},wj=function(t,e){return function(n){var r=bj(),o=function(){n.setActive(t.formatter.match(e));var o=t.formatter.formatChanged(e,n.setActive);r.set(o)};return t.initialized?o():t.on("init",o),r.clear}},_j=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,e.format)}))}}},Sj="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Cj=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}},r=function(e){var n=gj(t,(function(){return a.data})),r=n.fold((function(){return"Paragraph"}),(function(t){return t.title}));fi(e,vN,{text:r})},o=w.some((function(t){return function(){return r(t)}})),i=w.some((function(t){return r(t)})),a=ZF(t,"block_formats",Sj,RP.SemiColon);return{tooltip:"Blocks",icon:w.none(),isSelectedFor:e,getCurrentValue:w.none,getPreviewFor:n,onAction:_j(t),setInitialValue:i,nodeChangeHandler:o,dataset:a,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},kj=function(t,e){return WF(t,e,Cj(t))},Tj=function(t,e){var n=UF(t,e,Cj(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},Aj=function(t,e){var n=function(e){return function(){return t.formatter.match(e)}},r=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):w.none()}},o=function(e){var n=function(t){var e=t.items;return void 0!==e&&e.length>0?nt(e,n):[{title:t.title,format:t.format}]},r=nt(mB(t),n),o=gj(t,(function(){return r})),i=o.fold((function(){return"Paragraph"}),(function(t){return t.title}));fi(e,vN,{text:i})},i=w.some((function(t){return function(){return o(t)}})),a=w.some((function(t){return o(t)}));return{tooltip:"Formats",icon:w.none(),isSelectedFor:n,getCurrentValue:w.none,getPreviewFor:r,onAction:_j(t),setInitialValue:a,nodeChangeHandler:i,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}},Oj=function(t,e){var n=h({type:"advanced"},e.styleselect);return WF(t,e,Aj(t,n))},Mj=function(t,e){var n=h({type:"advanced"},e.styleselect),r=UF(t,e,Aj(t,n));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},Dj=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Ij=function(t,e){return function(n,r,o){var i=t(n).mapError((function(t){return an(t)})).getOrDie();return e(i,r,o)}},Ej={button:Ij(Gw,(function(t,e){return dF(t,e.backstage.shared.providers)})),togglebutton:Ij(Xw,(function(t,e){return pF(t,e.backstage.shared.providers)})),menubutton:Ij(FV,(function(t,e){return IN(t,"tox-tbtn",e.backstage,w.none())})),splitbutton:Ij(HV,(function(t,e){return vF(t,e.backstage.shared)})),grouptoolbarbutton:Ij(BV,(function(t,e,n){var r,o=n.ui.registry.getAll().buttons,i=function(t){return Fj(n,{buttons:o,toolbar:t,allowToolbarGroups:!1},e,w.none())},a=(r={},r[Ff]=e.backstage.shared.header.isPositionedAtTop()?wc.TopToBottom:wc.BottomToTop,r);switch(mC(n)){case u_.floating:return lF(t,e.backstage,i,a);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,e){return Oj(t,e.backstage)},fontsizeSelectButton:function(t,e){return pj(t,e.backstage)},fontSelectButton:function(t,e){return ij(t,e.backstage)},formatButton:function(t,e){return kj(t,e.backstage)},alignMenuButton:function(t,e){return JF(t,e.backstage)}},Rj=function(t,e,n){return Vt(Ej,t.type).fold((function(){return console.error("skipping button defined by",t),w.none()}),(function(r){return w.some(r(t,e,n))}))},Nj={styleselect:Ej.styleSelectButton,fontsizeselect:Ej.fontsizeSelectButton,fontselect:Ej.fontSelectButton,formatselect:Ej.formatButton,align:Ej.alignMenuButton},Pj=function(t){var e=G(Dj,(function(e){var n=Z(e.items,(function(e){return Ft(t,e)||Ft(Nj,e)}));return{name:e.name,items:n}}));return Z(e,(function(t){return t.items.length>0}))},Lj=function(t){var e=t.split("|");return G(e,(function(t){return{items:t.trim().split(" ")}}))},Bj=function(t){return P(t,(function(t){return Ft(t,"name")&&Ft(t,"items")}))},zj=function(t){var e=t.toolbar,n=t.buttons;return!1===e?[]:void 0===e||!0===e?Pj(n):T(e)?Lj(e):Bj(e)?e:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Vj=function(t,e,n,r,o,i){return Vt(e,n.toLowerCase()).orThunk((function(){return i.bind((function(t){return dt(t,(function(t){return Vt(e,t+n.toLowerCase())}))}))})).fold((function(){return Vt(Nj,n.toLowerCase()).map((function(e){return e(t,o)})).orThunk((function(){return w.none()}))}),(function(e){return"grouptoolbarbutton"!==e.type||r?Rj(e,o,t):(console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),w.none())}))},Fj=function(t,e,n,r){var o=zj(e),i=G(o,(function(o){var i=nt(o.items,(function(o){return 0===o.trim().length?[]:Vj(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()}));return{title:w.from(t.translate(o.name)),items:i}}));return Z(i,(function(t){return t.items.length>0}))},jj=12,Hj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Uj={maxHeightFunction:Df(),maxWidthFunction:sz()},Wj={onLtr:function(){return[bl,xl,vl,ml,yl,gl,Yx,Xx,Gx,Ux,qx,Wx]},onRtl:function(){return[bl,xl,yl,gl,vl,ml,Yx,Xx,qx,Wx,Gx,Ux]}},Gj={onLtr:function(){return[xl,ml,gl,vl,yl,bl,Yx,Xx,Gx,Ux,qx,Wx]},onRtl:function(){return[xl,gl,ml,yl,vl,bl,Yx,Xx,qx,Wx,Gx,Ux]}},qj=function(t,e){return"line"===t?{bubble:Pf(jj,0,Hj),layouts:{onLtr:function(){return[wl]},onRtl:function(){return[_l]}},overrides:Uj}:{bubble:Pf(0,jj,Hj),layouts:e?Gj:Wj,overrides:Uj}},Yj=function(t,e,n,r){var o=Yr().deviceType.isTouch,i=bs(jF({sink:n,onEscape:function(){return t.focus(),w.some(!0)}})),a=function(){return MF(t,r.backstage.shared)},u=function(t,e,n,r){return Math.max(t,n)<=Math.min(e,r)},s=function(){var e=p.get().filter((function(t){return Wu(er.fromDom(t))})).map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()})),n=t.inline?Ws().top:ic(er.fromDom(t.getBody())).y;return{y:e.top+n,bottom:e.bottom+n}},c=function(){if(o()&&r.backstage.isContextMenuOpen())return!0;var t=s(),e=a();return!u(t.y,t.bottom,e.y,e.bottom)},l=function(){Bx.hide(i)},f=function(){d.get().each((function(t){var e=i.element;rs(e,"display"),c()?Zu(e,"display","none"):Eh.positionWithinBounds(n,t,i,w.some(a()))}))},d=Zn(w.none()),p=Zn(w.none()),m=Zn(null),g=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:Fl([fb.config({mode:"acyclic"}),Sb("pop-dialog-wrap-events",[Di((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return fb.focusIn(e)}))})),Ii((function(e){t.shortcuts.remove("ctrl+F9")}))])])}},v=$t((function(){return LF(e,(function(t){var e=x([t]);fi(i,BF,{forwardContents:g(e)})}))})),y=function(e,n){return Fj(t,{buttons:e,toolbar:n.items,allowToolbarGroups:!1},r,w.some(["form:"]))},b=function(t,e){return TF.buildInitGroups(t,e)},x=function(e){var n=t.ui.registry.getAll().buttons,o=v(),i=h(h({},n),o.formNavigators),a=mC(t)===u_.scrolling?u_.scrolling:u_.default,u=et(G(e,(function(t){return"contexttoolbar"===t.type?y(i,t):b(t,r.backstage.shared.providers)})));return PV({type:a,uid:Aa("context-toolbar"),initGroups:u,onEscape:w.none,cyclicKeying:!0,providers:r.backstage.shared.providers})};t.on(cz,(function(e){var n=v();Vt(n.lookupTable,e.toolbarKey).each((function(n){S([n],e.target===t?w.none():w.some(e)),Bx.getContent(i).each(fb.focusIn)}))}));var _=function(t,e){var n="node"===t?r.backstage.shared.anchors.node(e):r.backstage.shared.anchors.cursor();return Xt(n,qj(t,o()))},S=function(t,e){if(k(),!o()||!r.backstage.isContextMenuOpen()){var n=x(t),u=e.map(er.fromDom),s=_(t[0].position,u);d.set(w.some(s)),p.set(e);var l=i.element;rs(l,"display"),Bx.showWithinBounds(i,s,g(n),(function(){return w.some(a())})),c()&&Zu(l,"display","none")}},C=function(){if(t.hasFocus()){var e=v();PF(e,t).fold((function(){d.set(w.none()),Bx.hide(i)}),(function(t){S(t.toolbars,w.some(t.elem.dom))}))}},k=function(){var t=m.get();null!==t&&(Zx.clearTimeout(t),m.set(null))},T=function(t){k(),m.set(t)};t.on("init",(function(){t.on(lz,l),t.on("ScrollContent ScrollWindow longpress",f),t.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){T(Zx.setEditorTimeout(t,C,0))})),t.on("focusout",(function(e){Zx.setEditorTimeout(t,(function(){tf(n.element).isNone()&&tf(i.element).isNone()&&(d.set(w.none()),Bx.hide(i))}),0)})),t.on("SwitchMode",(function(){t.mode.isReadOnly()&&(d.set(w.none()),Bx.hide(i))})),t.on("NodeChange",(function(e){tf(i.element).fold((function(){T(Zx.setEditorTimeout(t,C,0))}),(function(t){}))}))}))},Xj=function(t,e,n){var r=function(t,r){q([e,n],(function(e){e.broadcastEvent(t,r)}))},o=function(t,r){q([e,n],(function(e){e.broadcastOn([t],r)}))},i=function(t){return o(hp(),{target:t.target})},a=dA(er.fromDom(document),"touchstart",i),u=dA(er.fromDom(document),"touchmove",(function(t){return r($o(),t)})),s=dA(er.fromDom(document),"touchend",(function(t){return r(Ko(),t)})),c=dA(er.fromDom(document),"mousedown",i),l=dA(er.fromDom(document),"mouseup",(function(t){0===t.raw.button&&o(mp(),{target:t.target})})),f=function(t){return o(hp(),{target:er.fromDom(t.target)})},d=function(t){0===t.button&&o(mp(),{target:er.fromDom(t.target)})},h=function(t){return r(Jo(),pA(t))},p=function(t){o(pp(),{}),r(Qo(),pA(t))},m=function(){return o(pp(),{})};t.on("PostRender",(function(){t.on("click",f),t.on("tap",f),t.on("mouseup",d),t.on("ScrollWindow",h),t.on("ResizeWindow",p),t.on("ResizeEditor",m)})),t.on("remove",(function(){t.off("click",f),t.off("tap",f),t.off("mouseup",d),t.off("ScrollWindow",h),t.off("ResizeWindow",p),t.off("ResizeEditor",m),c.unbind(),a.unbind(),u.unbind(),s.unbind(),l.unbind()})),t.on("detach",(function(){qh(e),qh(n),e.destroy(),n.destroy()}))},Zj=$m,$j=Em,Kj=i([zn("shell",!1),bn("makeItem"),zn("setupItem",e),Jp.field("listBehaviours",[wb])]),Jj=function(){return{behaviours:Fl([wb.config({})])}},Qj=Mm({name:"items",overrides:Jj}),tH=i([Qj]),eH=i("CustomList"),nH=function(t,e,n,r){var o=function(e,n){a(e).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=wb.contents(r),i=n.length,a=i-o.length,u=a>0?U(a,(function(){return t.makeItem()})):[],s=o.slice(i);q(s,(function(t){return wb.remove(r,t)})),q(u,(function(t){return wb.append(r,t)}));var c=wb.contents(r);q(c,(function(r,o){t.setupItem(e,r,n[o],o)}))}))},i=t.shell?{behaviours:[wb.config({})],components:[]}:{behaviours:[],components:e},a=function(e){return t.shell?w.some(e):Hm(e,t,"items")};return{uid:t.uid,dom:t.dom,components:i.components,behaviours:Kp(t.listBehaviours,i.behaviours),apis:{setItems:o}}},rH=sg({name:eH(),configFields:Kj(),partFields:tH(),factory:nH,apis:{setItems:function(t,e,n){t.setItems(e,n)}}}),oH=e,iH=l,aH=i([]),uH=Object.freeze({__proto__:null,setup:oH,isDocked:iH,getBehaviours:aH}),sH=function(t){var e=ts(t,"position").is("fixed"),n=e?w.none():Yi(t);return n.orThunk((function(){var e=er.fromTag("span");return Gi(t).bind((function(t){ea(t,e);var n=Yi(e);return aa(e),n}))}))},cH=function(t){return sH(t).map(Ds).getOrThunk((function(){return As(0,0)}))},lH=Ut.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),fH=function(t,e){var n=t.element;Au(n,e.transitionClass),Mu(n,e.fadeOutClass),Au(n,e.fadeInClass),e.onShow(t)},dH=function(t,e){var n=t.element;Au(n,e.transitionClass),Mu(n,e.fadeInClass),Au(n,e.fadeOutClass),e.onHide(t)},hH=function(t,e){return t.y<e.bottom&&t.bottom>e.y},pH=function(t,e){return t.y>=e.y},mH=function(t,e){return t.bottom<=e.bottom},gH=function(t,e,n){return rt(t,(function(t){switch(t){case"bottom":return mH(e,n);case"top":return pH(e,n)}}))},vH=function(t,e){return e.getInitialPosition().map((function(e){return rc(e.bounds.x,e.bounds.y,Ns(t),Ss(t))}))},yH=function(t,e,n){n.setInitialPosition(w.some({style:es(t),position:Ju(t,"position")||"static",bounds:e}))},bH=function(t,e,n){return n.getInitialPosition().bind((function(r){switch(n.setInitialPosition(w.none()),r.position){case"static":return w.some(lH.static());case"absolute":var o=sH(t).map(oc).getOrThunk((function(){return oc(Gu())}));return w.some(lH.absolute(nf("absolute",Vt(r.style,"left").map((function(t){return e.x-o.x})),Vt(r.style,"top").map((function(t){return e.y-o.y})),Vt(r.style,"right").map((function(t){return o.right-e.right})),Vt(r.style,"bottom").map((function(t){return o.bottom-e.bottom})))));default:return w.none()}}))},xH=function(t,e,n){return vH(t,n).filter((function(t){return gH(n.getModes(),t,e)})).bind((function(e){return bH(t,e,n)}))},wH=function(t,e,n){var r=oc(t);if(gH(n.getModes(),r,e))return w.none();yH(t,r,n);var o=ac(),i=r.x-o.x,a=e.y-o.y,u=o.bottom-e.bottom,s=r.y<=e.y;return w.some(lH.fixed(nf("fixed",w.some(i),s?w.some(a):w.none(),w.none(),s?w.none():w.some(u))))},_H=function(t,e,n){var r=t.element,o=ts(r,"position").is("fixed");return o?xH(r,e,n):wH(r,e,n)},SH=function(t,e){var n=t.element;return vH(n,e).bind((function(t){return bH(n,t,e)}))},CH=function(t,e){q(["left","right","top","bottom","position"],(function(e){return rs(t.element,e)})),e.onUndocked(t)},kH=function(t,e,n){rf(t.element,n);var r="fixed"===n.position?e.onDocked:e.onUndocked;r(t)},TH=function(t,e,n,r,o){void 0===o&&(o=!1),e.contextual.each((function(e){e.lazyContext(t).each((function(i){var a=hH(i,r);if(a!==n.isVisible())if(n.setVisible(a),o&&!a)Iu(t.element,[e.fadeOutClass]),e.onHide(t);else{var u=a?fH:dH;u(t,e)}}))}))},AH=function(t,e,n){var r=e.lazyViewport(t),o=n.isDocked();o&&TH(t,e,n,r),_H(t,r,n).each((function(i){n.setDocked(!o),i.fold((function(){return CH(t,e)}),(function(n){return kH(t,e,n)}),(function(o){TH(t,e,n,r,!0),kH(t,e,o)}))}))},OH=function(t,n,r){var o=t.element;r.setDocked(!1),SH(t,r).each((function(r){r.fold((function(){return CH(t,n)}),(function(e){return kH(t,n,e)}),e)})),r.setVisible(!0),n.contextual.each((function(e){Eu(o,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(t)})),MH(t,n,r)},MH=function(t,e,n){t.getSystem().isConnected()&&AH(t,e,n)},DH=function(t,e,n){n.isDocked()&&OH(t,e,n)},IH=function(t,e,n){return n.isDocked()},EH=function(t,e,n,r){return n.setModes(r)},RH=function(t,e,n){return n.getModes()},NH=Object.freeze({__proto__:null,refresh:MH,reset:DH,isDocked:IH,getModes:RH,setModes:EH}),PH=function(t,e){return gi([Mi(Po(),(function(n,r){t.contextual.each((function(t){if(Du(n.element,t.transitionClass)){Eu(n.element,[t.transitionClass,t.fadeInClass]);var o=e.isVisible()?t.onShown:t.onHidden;o(n)}r.stop()}))})),xi(Jo(),(function(n,r){MH(n,t,e)})),xi(Qo(),(function(n,r){DH(n,t,e)}))])},LH=Object.freeze({__proto__:null,events:PH}),BH=[Ln("contextual",[_n("fadeInClass"),_n("fadeOutClass"),_n("transitionClass"),kn("lazyContext"),zc("onShow"),zc("onShown"),zc("onHide"),zc("onHidden")]),Wn("lazyViewport",ac),qn("modes",["top","bottom"],hn),zc("onDocked"),zc("onUndocked")],zH=function(t){var e=Zn(!1),n=Zn(!0),r=Zn(w.none()),o=Zn(t.modes),i=function(){return"docked:  "+e.get()+", visible: "+n.get()+", modes: "+o.get().join(",")};return Xa({isDocked:e.get,setDocked:e.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:i})},VH=Object.freeze({__proto__:null,init:zH}),FH=Hl({fields:BH,name:"docking",active:LH,apis:NH,state:VH}),jH={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},HH="tox-tinymce--toolbar-sticky-on",UH="tox-tinymce--toolbar-sticky-off",WH=function(t,e){var n=ji(e),r=n.dom.defaultView.innerHeight,o=Ws(n),i=er.fromDom(t.elm),a=ic(i),u=Ss(i),s=a.y,c=s+u,l=Ds(e),f=Ss(e),d=l.top,h=d+f,p=Math.abs(d-o.top)<2,m=Math.abs(h-(o.top+r))<2;if(p&&s<h)Gs(o.left,s-f,n);else if(m&&c>d){var g=s-r+u+f;Gs(o.left,g,n)}},GH=function(t,e){return j(FH.getModes(t),e)},qH=function(t){var e=function(t){return Cs(t)+(parseInt(Ju(t,"margin-top"),10)||0)+(parseInt(Ju(t,"margin-bottom"),10)||0)},n=t.element;Gi(n).each((function(r){var o="padding-"+FH.getModes(t)[0];if(FH.isDocked(t)){var i=Ns(r);Zu(n,"width",i+"px"),Zu(r,o,e(n)+"px")}else rs(n,"width"),rs(r,o)}))},YH=function(t,e){e?(Mu(t,jH.fadeOutClass),Iu(t,[jH.transitionClass,jH.fadeInClass])):(Mu(t,jH.fadeInClass),Iu(t,[jH.fadeOutClass,jH.transitionClass]))},XH=function(t,e){var n=er.fromDom(t.getContainer());e?(Au(n,HH),Mu(n,UH)):(Au(n,UH),Mu(n,HH))},ZH=function(t,e){var n=ji(e);Ql(n).filter((function(t){return!oo(e,t)})).filter((function(e){return oo(e,er.fromDom(n.dom.body))||uo(t,e)})).each((function(){return $l(e)}))},$H=function(t,e){return tf(t).orThunk((function(){return e().toOptional().bind((function(t){return tf(t.element)}))}))},KH=function(t,e,n){t.inline||(e.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){n().each(FH.reset)})),t.on("ResizeWindow ResizeEditor",(function(){n().each(qH)})),t.on("SkinLoaded",(function(){n().each((function(t){FH.isDocked(t)?FH.reset(t):FH.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){n().each(FH.reset)}))),t.on("AfterScrollIntoView",(function(t){n().each((function(e){FH.refresh(e);var n=e.element;Rv(n)&&WH(t,n)}))})),t.on("PostRender",(function(){XH(t,!1)}))},JH=function(t){return t().map(FH.isDocked).getOr(!1)},QH=function(){var t;return[ql.config({channels:(t={},t[OV()]={onReceive:qH},t)})]},tU=function(t,e){var n=Zn(w.none()),r=e.getSink,o=function(t){r().each((function(e){return t(e.element)}))},i=function(e){t.inline||qH(e),XH(t,FH.isDocked(e)),e.getSystem().broadcastOn([pp()],{}),r().each((function(t){return t.getSystem().broadcastOn([pp()],{})}))},a=t.inline?[]:QH();return m([Eb.config({}),FH.config({contextual:h({lazyContext:function(e){var n=Cs(e.element),r=t.inline?t.getContentAreaContainer():t.getContainer(),o=oc(er.fromDom(r)),i=o.height-n,a=o.y+(GH(e,"top")?0:n);return w.some(rc(o.x,a,o.width,i))},onShow:function(){o((function(t){return YH(t,!0)}))},onShown:function(t){o((function(t){return Eu(t,[jH.transitionClass,jH.fadeInClass])})),n.get().each((function(e){ZH(t.element,e),n.set(w.none())}))},onHide:function(t){n.set($H(t.element,r)),o((function(t){return YH(t,!1)}))},onHidden:function(){o((function(t){return Eu(t,[jH.transitionClass])}))}},jH),modes:[e.header.getDockingMode()],onDocked:i,onUndocked:i})],a)},eU=Object.freeze({__proto__:null,setup:KH,isDocked:JH,getBehaviours:tU}),nU=function(t){var e=t.editor,n=t.sticky?tU:aH;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Fl(n(e,t.sharedBackstage))}},rU=function(t,e){var n=function(t,n){var r=G(n,(function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}},r=FV(n).mapError((function(t){return an(t)})).getOrDie();return IN(r,"tox-mbtn",e.backstage,w.some("menuitem"))}));wb.set(t,r)},r={focus:fb.focusIn,setMenus:n};return{uid:t.uid,dom:t.dom,components:[],behaviours:Fl([wb.config({}),Sb("menubar-events",[Di((function(e){t.onSetup(e)})),xi(Ao(),(function(t,e){pc(t.element,".tox-mbtn--active").each((function(n){mc(e.event.target,".tox-mbtn").each((function(e){oo(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){gM.expand(t),gM.close(n),Eb.focus(t)}))}))}))}))})),xi(oi(),(function(t,e){e.event.prevFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(n){e.event.newFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(t){gM.isOpen(n)&&(gM.expand(t),gM.close(n))}))}))}))]),fb.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){return t.onEscape(e),w.some(!0)}}),QA.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},oU=ug({factory:rU,name:"silver.Menubar",configFields:[bn("dom"),bn("uid"),bn("onEscape"),bn("backstage"),zn("onSetup",e)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),iU="container",aU=[Zp("slotBehaviours",[])],uU=function(t){return"<alloy.field."+t+">"},sU=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),Bm(iU,uU(e),n)};return{slot:e,record:function(){return t}}}(),n=t(e),r=e.record(),o=G(r,(function(t){return Am({name:t,pname:uU(t)})}));return tg(iU,aU,o,cU,n)},cU=function(t,e){var n=function(e){return qm(t)},r=function(e,n){return Hm(e,t,n)},o=function(e,n){return function(r,o){return Hm(r,t,o).map((function(t){return e(t,o)})).getOr(n)}},i=function(t){return function(e,n){q(n,(function(n){return t(e,n)}))}},a=function(t,e){return"true"!==ma(t.element,"aria-hidden")},u=function(t,e){if(!a(t)){var n=t.element;rs(n,"display"),ya(n,"aria-hidden"),fi(t,ii(),{name:e,visible:!0})}},s=function(t,e){if(a(t)){var n=t.element;Zu(n,"display","none"),ha(n,"aria-hidden","true"),fi(t,ii(),{name:e,visible:!1})}},c=o(a,!1),l=o(s),f=i(l),d=function(t){return f(t,n())},h=o(u),p={getSlotNames:n,getSlot:r,isShowing:c,hideSlot:l,hideAllSlots:d,showSlot:h};return{uid:t.uid,dom:t.dom,components:e,behaviours:$p(t.slotBehaviours),apis:p}},lU=It({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return qa(t)})),fU=h(h({},lU),{sketch:sU}),dU=ze([Rn("icon"),Rn("tooltip"),Wn("onShow",e),Wn("onHide",e),Wn("onSetup",(function(){return e}))]),hU=function(t){return nn("sidebar",dU,t)},pU=function(t){var e=t.ui.registry.getAll().sidebars;q(Ot(e),(function(n){var r=e[n],o=function(){return w.from(t.queryCommandValue("ToggleSidebar")).is(n)};t.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",!1,n),e.setActive(o())},onSetup:function(e){var n=function(){return e.setActive(o())};return t.on("ToggleSidebar",n),function(){t.off("ToggleSidebar",n)}}})}))},mU=function(t){return{element:function(){return t.element.dom}}},gU=function(t,n){var r=G(Ot(n),(function(t){var e=n[t],r=rn(hU(e));return{name:t,getApi:mU,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return G(r,(function(n){var o=Zn(e);return t.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:gS.unnamedEvents([ZC(n,o),$C(n,o),xi(ii(),(function(t,e){var n=e.event,o=Q(r,(function(t){return t.name===n.name}));o.each((function(e){var r=n.visible?e.onShow:e.onHide;r(e.getApi(t))}))}))])})}))},vU=function(t){return fU.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:gU(e,t),slotBehaviours:gS.unnamedEvents([Di((function(t){return fU.hideAllSlots(t)}))])}}))},yU=function(t,e){var n=bg.getCurrent(t);n.each((function(t){return wb.set(t,[vU(e)])}))},bU=function(t,e){var n=bg.getCurrent(t);n.each((function(t){var n=bg.getCurrent(t);n.each((function(n){xV.hasGrown(t)?fU.isShowing(n,e)?xV.shrink(t):(fU.hideAllSlots(n),fU.showSlot(n,e)):(fU.hideAllSlots(n),fU.showSlot(n,e),xV.grow(t))}))}))},xU=function(t){var e=bg.getCurrent(t);return e.bind((function(t){var e=xV.isGrowing(t)||xV.hasGrown(t);if(e){var n=bg.getCurrent(t);return n.bind((function(t){return Q(fU.getSlotNames(t),(function(e){return fU.isShowing(t,e)}))}))}return w.none()}))},wU=Aa("FixSizeEvent"),_U=Aa("AutoSizeEvent"),SU=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Fl([QA.config({}),Eb.config({}),xV.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var e=bg.getCurrent(t);e.each(fU.hideAllSlots),li(t,_U)},onGrown:function(t){li(t,_U)},onStartGrow:function(t){fi(t,wU,{width:ts(t.element,"width").getOr("")})},onStartShrink:function(t){fi(t,wU,{width:Ns(t.element)+"px"})}}),wb.config({}),bg.config({find:function(t){var e=wb.contents(t);return ct(e)}})])}],behaviours:Fl([TE.childAt(0),Sb("sidebar-sliding-events",[xi(wU,(function(t,e){Zu(t.element,"width",e.event.width)})),xi(_U,(function(t,e){rs(t.element,"width")}))])])}},CU=function(t){var e=void 0!==t.dom.attributes?t.dom.attributes:[];return K(e,(function(t,e){var n;return"class"===e.name?t:h(h({},t),(n={},n[e.name]=e.value,n))}),{})},kU=function(t){return Array.prototype.slice.call(t.dom.classList,0)},TU=function(t){var e=er.fromHtml(t),n=Zi(e),r=CU(e),o=kU(e),i=0===n.length?{}:{innerHtml:ca(e)};return h({tag:Ni(e),classes:o,attributes:r},i)},AU=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:TU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Fl([fb.config({mode:"special",onTab:function(){return w.some(!0)},onShiftTab:function(){return w.some(!0)}}),Eb.config({})])}},OU=function(t,e,n){var r=t.element;!0===e?(wb.set(t,[AU(n)]),rs(r,"display"),ya(r,"aria-hidden")):(wb.set(t,[]),Zu(r,"display","none"),ha(r,"aria-hidden","true"))},MU=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Fl([wb.config({})]),components:[]}},DU=function(t,e,n){var r=Zn(!1),o=Zn(w.none()),i=function(t){t!==r.get()&&(OU(e(),t,n.providers),r.set(t))};t.on("ProgressState",(function(e){if(o.get().each(Zx.clearTimeout),N(e.time)){var n=Zx.setEditorTimeout(t,(function(){return i(e.state)}),e.time);o.set(w.some(n))}else i(e.state),o.set(w.none())}))},IU=function(t,e,n){var r={getSocket:function(e){return Zj.getPart(e,t,"socket")},setSidebar:function(e,n){Zj.getPart(e,t,"sidebar").each((function(t){return yU(t,n)}))},toggleSidebar:function(e,n){Zj.getPart(e,t,"sidebar").each((function(t){return bU(t,n)}))},whichSidebar:function(e){return Zj.getPart(e,t,"sidebar").bind(xU).getOrNull()},getHeader:function(e){return Zj.getPart(e,t,"header")},getToolbar:function(e){return Zj.getPart(e,t,"toolbar")},setToolbar:function(e,n){Zj.getPart(e,t,"toolbar").each((function(t){t.getApis().setGroups(t,n)}))},setToolbars:function(e,n){Zj.getPart(e,t,"multiple-toolbar").each((function(t){rH.setItems(t,n)}))},refreshToolbar:function(e){var n=Zj.getPart(e,t,"toolbar");n.each((function(t){return t.getApis().refresh(t)}))},toggleToolbarDrawer:function(e){Zj.getPart(e,t,"toolbar").each((function(t){hg(t.getApis().toggle,(function(e){return e(t)}))}))},isToolbarDrawerToggled:function(e){return Zj.getPart(e,t,"toolbar").bind((function(t){return w.from(t.getApis().isOpen).map((function(e){return e(t)}))})).getOr(!1)},getThrobber:function(e){return Zj.getPart(e,t,"throbber")},focusToolbar:function(e){var n=Zj.getPart(e,t,"toolbar").orThunk((function(){return Zj.getPart(e,t,"multiple-toolbar")}));n.each((function(t){fb.focusIn(t)}))},setMenubar:function(e,n){Zj.getPart(e,t,"menubar").each((function(t){oU.setMenus(t,n)}))},focusMenubar:function(e){Zj.getPart(e,t,"menubar").each((function(t){oU.focus(t)}))}};return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}},EU=$j.optional({factory:oU,name:"menubar",schema:[bn("backstage")]}),RU=function(t){return t.type===u_.sliding?NV:t.type===u_.floating?RV:PV},NU=$j.optional({factory:{sketch:function(t){return rH.sketch({uid:t.uid,dom:t.dom,listBehaviours:Fl([fb.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return PV({type:t.type,uid:Aa("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),w.some(!0)}})},setupItem:function(t,e,n,r){mz.setGroups(e,n)},shell:!0})}},name:"multiple-toolbar",schema:[bn("dom"),bn("onEscape")]}),PU=$j.optional({factory:{sketch:function(t){var e=RU(t),n={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),w.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return e(n)}},name:"toolbar",schema:[bn("dom"),bn("onEscape"),bn("getSink")]}),LU=$j.optional({factory:{sketch:nU},name:"header",schema:[bn("dom")]}),BU=$j.optional({name:"socket",schema:[bn("dom")]}),zU=$j.optional({factory:{sketch:SU},name:"sidebar",schema:[bn("dom")]}),VU=$j.optional({factory:{sketch:MU},name:"throbber",schema:[bn("dom")]}),FU=sg({name:"OuterContainer",factory:IU,configFields:[bn("dom"),bn("behaviours")],partFields:[LU,EU,PU,NU,BU,zU,VU],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var r=G(n,(function(t){return DV(t)}));t.setToolbar(e,r)},setToolbars:function(t,e,n){var r=G(n,(function(t){return G(t,DV)}));t.setToolbars(e,r)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},toggleToolbarDrawer:function(t,e){t.toggleToolbarDrawer(e)},isToolbarDrawerToggled:function(t,e){return t.isToolbarDrawerToggled(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}}),jU="file edit view insert format tools table help",HU={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},UU=function(t,e,n){var r=cC(n).split(/[ ,]/);return{text:t.title,getItems:function(){return nt(t.items,(function(t){var n=t.toLowerCase();return 0===n.trim().length||H(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}},WU=function(t){return"string"===typeof t?t.split(" "):t},GU=function(t,e){var n=h(h({},HU),e.menus),r=Ot(e.menus).length>0,o=void 0===e.menubar||!0===e.menubar?WU(jU):WU(!1===e.menubar?"":e.menubar),i=Z(o,(function(t){return r&&e.menus.hasOwnProperty(t)&&e.menus[t].hasOwnProperty("items")||HU.hasOwnProperty(t)})),a=G(i,(function(r){var o=n[r];return UU({title:o.title,items:WU(o.items)},e,t)}));return Z(a,(function(t){var e=function(t){return"separator"!==t.type};return t.getItems().length>0&&H(t.getItems(),e)}))},qU=function(t){var e=function(){t._skinLoaded=!0,Xk(t)};return function(){t.initialized?e():t.on("init",e)}},YU=function(t,e){return function(){return Zk(t,{message:e})}},XU=function(t,e,n){return new kw((function(r,o){n.load(e,r,o),t.on("remove",(function(){return n.unload(e)}))}))},ZU=function(t,e){var n=e+"/skin.min.css";return XU(t,n,t.ui.styleSheetLoader)},$U=function(t,e){var n=Vu(er.fromDom(t.getElement()));if(n){var r=e+"/skin.shadowdom.min.css";return XU(t,r,MS.DOM.styleSheetLoader)}return kw.resolve()},KU=function(t,e){var n=KS(e);n&&e.contentCSS.push(n+(t?"/content.inline":"/content")+".min.css"),!1===QS(e)&&T(n)?kw.all([ZU(e,n),$U(e,n)]).then(qU(e),YU(e,"Skin could not be loaded")):qU(e)()},JU=u(KU,!1),QU=u(KU,!0),tW=function(t,e,n,r){var o=e.outerContainer,i=n.toolbar,a=n.buttons;if(P(i,T)){var u=i.map((function(e){var o={toolbar:e,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return Fj(t,o,{backstage:r},w.none())}));FU.setToolbars(o,u)}else FU.setToolbar(o,Fj(t,n,{backstage:r},w.none()))},eW=Yr(),nW=eW.os.isiOS()&&eW.os.version.major<=12,rW=function(t,e){var n=t.dom,r=t.getWin(),o=t.getDoc().documentElement,i=Zn(As(r.innerWidth,r.innerHeight)),a=Zn(As(o.offsetWidth,o.offsetHeight)),u=function(){var e=i.get();e.left===r.innerWidth&&e.top===r.innerHeight||(i.set(As(r.innerWidth,r.innerHeight)),Kk(t))},s=function(){var e=t.getDoc().documentElement,n=a.get();n.left===e.offsetWidth&&n.top===e.offsetHeight||(a.set(As(e.offsetWidth,e.offsetHeight)),Kk(t))},c=function(e){return Jk(t,e)};n.bind(r,"resize",u),n.bind(r,"scroll",c);var l=hA(er.fromDom(t.getBody()),"load",s),f=e.uiMothership.element;t.on("hide",(function(){Zu(f,"display","none")})),t.on("show",(function(){rs(f,"display")})),t.on("NodeChange",s),t.on("remove",(function(){l.unbind(),n.unbind(r,"resize",u),n.unbind(r,"scroll",c),r=null}))},oW=function(t,e,n,r,o){var i=Zn(0),a=e.outerContainer;JU(t);var u=er.fromDom(o.targetNode),s=zu(Bu(u));Wh(u,e.mothership),Uh(s,e.uiMothership),t.on("PostRender",(function(){tW(t,e,n,r),i.set(t.getWin().innerWidth),FU.setMenubar(a,GU(t,n)),FU.setSidebar(a,n.sidebar),rW(t,e)}));var c=FU.getSocket(a).getOrDie("Could not find expected socket element");if(nW){$u(c.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var l=sw((function(){t.fire("ScrollContent")}),20),f=dA(c.element,"scroll",l.throttle);t.on("remove",f.unbind)}jC(t,e),t.addCommand("ToggleSidebar",(function(e,n){FU.toggleSidebar(a,n),t.fire("ToggleSidebar")})),t.addQueryValueHandler("ToggleSidebar",(function(){return FU.whichSidebar(a)}));var d=mC(t),h=function(){FU.refreshToolbar(e.outerContainer)};d!==u_.sliding&&d!==u_.floating||t.on("ResizeWindow ResizeEditor ResizeContent",(function(){var e=t.getWin().innerWidth;e!==i.get()&&(h(),i.set(e))}));var p={enable:function(){FC(e,!1)},disable:function(){FC(e,!0)},isDisabled:function(){return ZS.isDisabled(a)}};return{iframeContainer:c.element.dom,editorContainer:a.element.dom,api:p}},iW=Object.freeze({__proto__:null,render:oW}),aW=function(t){var e=/^[0-9\.]+(|px)$/i;return e.test(""+t)?w.some(parseInt(""+t,10)):w.none()},uW=function(t){return N(t)?t+"px":t},sW=function(t,e,n){var r=e.filter((function(e){return t<e})),o=n.filter((function(e){return t>e}));return r.or(o).getOr(t)},cW=function(t){var e=tC(t),n=rC(t),r=iC(t);return aW(e).map((function(t){return sW(t,n,r)}))},lW=function(t){var e=cW(t);return e.getOr(tC(t))},fW=function(t){var e=eC(t),n=nC(t),r=oC(t);return aW(e).map((function(t){return sW(t,n,r)}))},dW=function(t){var e=fW(t);return e.getOr(eC(t))},hW=function(t,e,n,r,o){var i=n.uiMothership,a=n.outerContainer,u=MS.DOM,s=SC(t),c=TC(t),l=oC(t).or(fW(t)),f=r.shared.header,d=f.isPositionedAtTop,h=mC(t),p=h===u_.sliding||h===u_.floating,m=Zn(!1),g=function(){return m.get()&&!t.removed},v=function(t){return p?t.fold((function(){return 0}),(function(t){return t.components().length>1?Ss(t.components()[1].element):0})):0},y=function(n){switch(yC(t)){case pC.auto:var r=FU.getToolbar(a),o=v(r),i=Ss(n.element)-o,u=oc(e),s=u.y>i;if(s)return"top";var c=Ui(e),l=Math.max(c.dom.scrollHeight,Ss(c)),f=u.bottom<l-i;if(f)return"bottom";var d=ac(),h=d.bottom<u.bottom-i;return h?"bottom":"top";case pC.bottom:return"bottom";case pC.top:default:return"top"}},b=function(t){var e=o.get();FH.setModes(e,[t]),f.setDockingMode(t);var n=d()?wc.TopToBottom:wc.BottomToTop;ha(e.element,Ff,n)},x=function(){var t=l.getOrThunk((function(){var t=aW(Ju(Gu(),"margin-left")).getOr(0);return Ns(Gu())-Ds(e).left+t}));Zu(o.get().element,"max-width",t+"px")},w=function(){var t=FU.getToolbar(a),n=v(t),r=oc(e),i=d()?Math.max(r.y-Ss(o.get().element)+n,0):r.bottom;$u(a.element,{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})},_=function(){i.broadcastOn([pp()],{})},S=function(t){if(void 0===t&&(t=!1),g()){if(s||x(),p&&FU.refreshToolbar(a),s||w(),c){var e=o.get();t?FH.reset(e):FH.refresh(e)}_()}},C=function(t){if(void 0===t&&(t=!0),!s&&c&&g()){var e=f.getDockingMode(),n=y(o.get());n!==e&&(b(n),t&&S(!0))}},k=function(){m.set(!0),Zu(a.element,"display","flex"),u.addClass(t.getBody(),"mce-edit-focus"),rs(i.element,"display"),C(!1),S()},T=function(){m.set(!1),n.outerContainer&&(Zu(a.element,"display","none"),u.removeClass(t.getBody(),"mce-edit-focus")),Zu(i.element,"display","none")};return{isVisible:g,isPositionedAtTop:d,show:k,hide:T,update:S,updateMode:C,repositionPopups:_}},pW=function(t,e){var n=oc(t);return{pos:e?n.y:n.bottom,bounds:n}},mW=function(t,e,n,r){var o=Zn(pW(e,n.isPositionedAtTop())),i=function(r){var i=pW(e,n.isPositionedAtTop()),a=i.pos,u=i.bounds,s=o.get(),c=s.pos,l=s.bounds,f=u.height!==l.height||u.width!==l.width;o.set({pos:a,bounds:u}),f&&Kk(t,r),n.isVisible()&&(c!==a?n.update(!0):f&&(n.updateMode(),n.repositionPopups()))};r||(t.on("activate",n.show),t.on("deactivate",n.hide)),t.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),t.on("NodeChange keydown",(function(t){Zx.requestAnimationFrame((function(){return i(t)}))})),t.on("ScrollWindow",(function(){return n.updateMode()}));var a=bj();a.set(hA(er.fromDom(t.getBody()),"load",i)),t.on("remove",(function(){a.clear()}))},gW=function(t,e,n,r,o){var i=e.mothership,a=e.uiMothership,u=e.outerContainer,s=Zn(null),c=er.fromDom(o.targetNode),l=hW(t,c,e,r,s),f=wC(t);QU(t);var d=function(){if(s.get())l.show();else{s.set(FU.getHeader(u).getOrDie());var o=CC(t);Uh(o,i),Uh(o,a),tW(t,e,n,r),FU.setMenubar(u,GU(t,n)),l.show(),mW(t,c,l,f),t.nodeChanged()}};t.on("show",d),t.on("hide",l.hide),f||(t.on("focus",d),t.on("blur",l.hide)),t.on("init",(function(){(t.hasFocus()||f)&&d()})),jC(t,e);var h={show:function(){l.show()},hide:function(){l.hide()},enable:function(){FC(e,!1)},disable:function(){FC(e,!0)},isDisabled:function(){return ZS.isDisabled(u)}};return{editorContainer:u.element.dom,api:h}},vW=Object.freeze({__proto__:null,render:gW}),yW=function(t){var e=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];NE.each(e,(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,onAction:function(){return t.execCommand(e.cmd)},icon:e.icon,onSetup:wj(t,e.name)})}));var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};t.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return t.execCommand(n.cmd)},icon:n.icon})},bW=function(t,e){QF(t,e),aj(t,e),Mj(t,e),Tj(t,e),mj(t,e)},xW=function(t,e){t.setDisabled(!e.queryCommandState("outdent"));var n=function(){t.setDisabled(!e.queryCommandState("outdent"))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}},wW=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return xW(e,t)},onAction:function(){return t.execCommand("outdent")}}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})},_W=function(t){wW(t)},SW=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},CW=function(t){NE.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:wj(t,e.name),onAction:SW(t,e.name)})}));for(var e=1;e<=6;e++){var n="h"+e;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:wj(t,n),onAction:SW(t,n)})}},kW=function(t){NE.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}))},TW=function(t){NE.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)},onSetup:wj(t,e.name)})}))},AW=function(t){CW(t),kW(t),TW(t)},OW=function(t){NE.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:SW(t,"code")})},MW=function(t){AW(t),OW(t)},DW=function(t,e,n){var r=function(){return!!e.undoManager&&e.undoManager[n]()},o=function(){t.setDisabled(e.mode.isReadOnly()||!r())};return t.setDisabled(!r()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},IW=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return DW(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return DW(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})},EW=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return DW(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return DW(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})},RW=function(t){IW(t),EW(t)},NW=function(t,e){t.setActive(e.hasVisual);var n=function(e){t.setActive(e.hasVisual)};return e.on("VisualAid",n),function(){return e.off("VisualAid",n)}},PW=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return NW(e,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})},LW=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})},BW=function(t){LW(t),PW(t)},zW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},VW=function(){var t="[0-9]+",e="[+-]?"+t,n="[eE]"+e,r="\\.",o=function(t){return"(?:"+t+")?"},i=["Infinity",t+r+o(t)+o(n),r+t+o(n),t+o(n)].join("|"),a="[+-]?(?:"+i+")";return new RegExp("^("+a+")(.*)$")}(),FW=function(t,e){return H(e,(function(e){return H(zW[e],(function(e){return t===e}))}))},jW=function(t,e){var n=w.from(VW.exec(t));return n.bind((function(t){var n=Number(t[1]),r=t[2];return FW(r,e)?w.some({value:n,unit:r}):w.none()}))},HW=function(t,e){return jW(t,e).map((function(t){var e=t.value,n=t.unit;return e+n}))},UW=function(t){return HW(t,["fixed","relative","empty"]).getOr(t)},WW=function(t){var e=sC(t),n=new Map,r=yj(),o=function(){var e=UW(t.queryCommandValue("LineHeight"));w.from(n.get(e)).fold((function(){return r.clear()}),(function(t){r.set({destroy:function(){t.setActive(!1)}}),t.setActive(!0)}))};return t.on("nodeChange",o),G(e,(function(i,a){return{type:"togglemenuitem",text:i,onSetup:function(u){return n.set(UW(i),u),a+1===e.length&&o(),function(){0===a&&(t.off("nodeChange",o),r.clear())}},onAction:function(){return t.execCommand("LineHeight",!1,i)}}}))},GW=function(t){t.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return WW(t)}})},qW=function(t){t.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(e){return e(WW(t))}})},YW=function(t){GW(t),qW(t)},XW=function(t,e){yW(t),MW(t),bW(t,e),RW(t),AT(t),BW(t),_W(t),YW(t)},ZW=function(t,e){return{anchor:"makeshift",x:t,y:e}},$W=function(t,e,n){return ZW(t.x+e,t.y+n)},KW=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},JW=function(t){if(KW(t)){var e=t.touches[0];return ZW(e.pageX,e.pageY)}return ZW(t.pageX,t.pageY)},QW=function(t){if(KW(t)){var e=t.touches[0];return ZW(e.clientX,e.clientY)}return ZW(t.clientX,t.clientY)},tG=function(t,e){var n=MS.DOM.getPos(t);return $W(e,n.x,n.y)},eG=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?JW(e):tG(t.getContentAreaContainer(),QW(e)):nG(t)},nG=function(t){return{anchor:"selection",root:er.fromDom(t.selection.getNode())}},rG=function(t){return{anchor:"node",node:w.some(er.fromDom(t.selection.getNode())),root:er.fromDom(t.getBody())}},oG=function(t,e,n,r,o,i){var a=n(),u=i?rG(t):eG(t,e);MN(a,s_.CLOSE_ON_EXECUTE,r,!1).map((function(t){e.preventDefault(),Bx.showMenuAt(o,u,{menu:{markers:R_("normal")},data:t})}))},iG={onLtr:function(){return[xl,ml,gl,vl,yl,bl,Yx,Xx,Gx,Ux,qx,Wx]},onRtl:function(){return[xl,gl,ml,yl,vl,bl,Yx,Xx,qx,Wx,Gx,Ux]}},aG=12,uG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},sG=function(t,e){var n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;var r=e.touches[0],o=n.getRng(),i=Ud(t.getWin(),hd.domRange(o));return i.exists((function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY}))},cG=function(t,e){return h({bubble:Pf(0,aG,uG),layouts:iG,overrides:{maxWidthFunction:sz(),maxHeightFunction:Df()}},eG(t,e))},lG=function(t){var e=t.selection.getRng(),n=function(){Zx.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10),i()};t.once("touchend",n);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var o=function(){return i()};t.once("longpresscancel",o);var i=function(){t.off("touchend",n),t.off("longpresscancel",o),t.off("mousedown",r)}},fG=function(t,e,n,r,o,i,a){var u=i?rG(t):cG(t,e);MN(n,s_.CLOSE_ON_EXECUTE,r,!0).map((function(n){e.preventDefault(),Bx.showMenuWithinBounds(o,u,{menu:{markers:R_("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return w.some(MF(t,r.shared))})),t.fire(lz)}))},dG=function(t,e,n,r,o,i){var a=Yr(),u=a.os.isiOS(),s=a.os.isOSX(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),f=function(){return!(c||u||s&&l)},d=function(){var a=n();fG(t,e,a,r,o,i,f())};if(!s&&!u||i)c&&!i&&t.selection.setCursorLocation(e.target,0),d();else{var h=function(){lG(t),d()};sG(t,e)?h():(t.once("selectionchange",h),t.once("touchend",(function(){return t.off("selectionchange",h)})))}},hG=function(t){return"string"===typeof t?t.split(/[ ,]/):t},pG=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},mG=function(t,e,n){var r=t.ui.registry.getAll().contextMenus;return w.from(t.getParam(e)).map(hG).getOrThunk((function(){return Z(hG(n),(function(t){return Ft(r,t)}))}))},gG=function(t){return!1===t.getParam("contextmenu")},vG=function(t){return mG(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},yG=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},bG=function(t){return T(t)?"|"===t:"separator"===t.type},xG={type:"separator"},wG=function(t){if(T(t))return t;switch(t.type){case"separator":return xG;case"submenu":return{type:"nestedmenuitem",text:t.text,icon:t.icon,getSubmenuItems:function(){var e=t.getSubmenuItems();return T(e)?e:G(e,wG)}};default:return{type:"menuitem",text:t.text,icon:t.icon,onAction:n(t.onAction)}}},_G=function(t,e){if(0===e.length)return t;var n=lt(t).filter((function(t){return!bG(t)})),r=n.fold((function(){return[]}),(function(t){return[xG]}));return t.concat(r).concat(e).concat([xG])},SG=function(t,e,n){var r=K(e,(function(e,r){if(Ft(t,r)){var o=t[r].update(n);if(T(o))return _G(e,o.split(" "));if(o.length>0){var i=G(o,wG);return _G(e,i)}return e}return e.concat([r])}),[]);return r.length>0&&bG(r[r.length-1])&&r.pop(),r},CG=function(t,e){return e.ctrlKey&&!pG(t)},kG=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)},TG=function(t,e){return kG(t,e)?t.selection.getStart(!0):e.target},AG=function(t,e){var n=yG(t);if(kG(t,e))return!0;if(n){var r=TG(t,e);return mA(er.fromDom(r),n)}return!1},OG=function(t,e,n){var r=Yr(),o=r.deviceType.isTouch,i=bs(Bx.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Fl([Sb("dismissContextMenu",[xi(ni(),(function(e,n){dp.close(e),t.focus()}))])])})),a=function(t){return Bx.hide(i)},u=function(e){if(pG(t)&&e.preventDefault(),!CG(t,e)&&!gG(t)){var r=AG(t,e),a=function(){var n=TG(t,e),r=t.ui.registry.getAll(),o=vG(t);return SG(r.contextMenus,o,n)},u=o()?dG:oG;u(t,e,a,n,i,r)}};t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");t.on(e,a),t.on("longpress contextmenu",u)}))},MG=Ut.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),DG=function(t){return function(e){return e.translate(-t.left,-t.top)}},IG=function(t){return function(e){return e.translate(t.left,t.top)}},EG=function(t){return function(e,n){return K(t,(function(t,e){return e(t)}),As(e,n))}},RG=function(t,e,n){return t.fold(EG([IG(n),DG(e)]),EG([DG(e)]),EG([]))},NG=function(t,e,n){return t.fold(EG([IG(n)]),EG([]),EG([IG(e)]))},PG=function(t,e,n){return t.fold(EG([]),EG([DG(n)]),EG([IG(e),DG(n)]))},LG=function(t,e,n,r,o,i){var a=NG(t,o,i),u=NG(e,o,i);return Math.abs(a.left-u.left)<=n&&Math.abs(a.top-u.top)<=r},BG=function(t,e,n,r,o,i){var a=NG(t,o,i),u=NG(e,o,i),s=Math.abs(a.left-u.left),c=Math.abs(a.top-u.top);return As(s,c)},zG=function(t,e,n){var r=t.fold((function(t,e){return{position:w.some("absolute"),left:w.some(t+"px"),top:w.some(e+"px")}}),(function(t,e){return{position:w.some("absolute"),left:w.some(t-n.left+"px"),top:w.some(e-n.top+"px")}}),(function(t,e){return{position:w.some("fixed"),left:w.some(t+"px"),top:w.some(e+"px")}}));return h({right:w.none(),bottom:w.none()},r)},VG=function(t,e,n){return t.fold((function(t,r){return jG(t+e,r+n)}),(function(t,r){return HG(t+e,r+n)}),(function(t,r){return UG(t+e,r+n)}))},FG=function(t,e,n,r){var o=function(t,o){return function(i,a){var u=t(e,n,r);return o(i.getOr(u.left),a.getOr(u.top))}};return t.fold(o(PG,jG),o(NG,HG),o(RG,UG))},jG=MG.offset,HG=MG.absolute,UG=MG.fixed,WG=function(t,e){var n=ma(t,e);return D(n)?NaN:parseInt(n,10)},GG=function(t,e){var n=t.element,r=WG(n,e.leftAttr),o=WG(n,e.topAttr);return isNaN(r)||isNaN(o)?w.none():w.some(As(r,o))},qG=function(t,e,n){var r=t.element;ha(r,e.leftAttr,n.left+"px"),ha(r,e.topAttr,n.top+"px")},YG=function(t,e){var n=t.element;ya(n,e.leftAttr),ya(n,e.topAttr)},XG=function(t,e,n,r){return GG(t,e).fold((function(){return n}),(function(t){return UG(t.left+r.left,t.top+r.top)}))},ZG=function(t,e,n,r,o,i){var a=XG(t,e,n,r),u=e.mustSnap?JG(t,e,a,o,i):QG(t,e,a,o,i),s=RG(a,o,i);return qG(t,e,s),u.fold((function(){return{coord:UG(s.left,s.top),extra:w.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))},$G=function(t,e){YG(t,e)},KG=function(t,e,n,r){return dt(t,(function(t){var o=t.sensor,i=LG(e,o,t.range.left,t.range.top,n,r);return i?w.some({output:FG(t.output,e,n,r),extra:t.extra}):w.none()}))},JG=function(t,e,n,r,o){var i=e.getSnapPoints(t),a=KG(i,n,r,o);return a.orThunk((function(){var t=K(i,(function(t,e){var i=e.sensor,a=BG(n,i,e.range.left,e.range.top,r,o);return t.deltas.fold((function(){return{deltas:w.some(a),snap:w.some(e)}}),(function(n){var r=(a.left+a.top)/2,o=(n.left+n.top)/2;return r<=o?{deltas:w.some(a),snap:w.some(e)}:t}))}),{deltas:w.none(),snap:w.none()});return t.snap.map((function(t){return{output:FG(t.output,n,r,o),extra:t.extra}}))}))},QG=function(t,e,n,r,o){var i=e.getSnapPoints(t);return KG(i,n,r,o)},tq=function(t,e,n){return{coord:FG(t.output,t.output,e,n),extra:t.extra}},eq=function(t,e,n,r){var o=e.getTarget(t.element);if(e.repositionTarget){var i=ji(t.element),a=Ws(i),u=cH(o),s=tq(r,a,u),c=zG(s.coord,a,u);Ku(o,c)}},nq=Object.freeze({__proto__:null,snapTo:eq}),rq="data-initial-z-index",oq=function(t){Gi(t.element).filter(Bi).each((function(t){ga(t,rq).fold((function(){return rs(t,"z-index")}),(function(e){return Zu(t,"z-index",e)})),ya(t,rq)}))},iq=function(t){Gi(t.element).filter(Bi).each((function(e){ts(e,"z-index").each((function(t){ha(e,rq,t)})),Zu(e,"z-index",Ju(t.element,"z-index"))}))},aq=function(t,e){t.getSystem().addToGui(e),iq(e)},uq=function(t){oq(t),t.getSystem().removeFromGui(t)},sq=function(t,e,n){return t.getSystem().build(UA.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))},cq=Ln("snaps",[bn("getSnapPoints"),zc("onSensor"),bn("leftAttr"),bn("topAttr"),zn("lazyViewport",ac),zn("mustSnap",!1)]),lq=[zn("useFixed",l),bn("blockerClass"),zn("getTarget",a),zn("onDrag",e),zn("repositionTarget",!0),zn("onDrop",e),Wn("getBounds",ac),cq],fq=function(t){return dg(ts(t,"left"),ts(t,"top"),ts(t,"position"),(function(t,e,n){var r="fixed"===n?UG:jG;return r(parseInt(t,10),parseInt(e,10))})).getOrThunk((function(){var e=Ds(t);return HG(e.left,e.top)}))},dq=function(t,e,n,r,o){var i=o.bounds,a=NG(e,n,r),u=vf(a.left,i.x,i.x+i.width-o.width),s=vf(a.top,i.y,i.y+i.height-o.height),c=HG(u,s);return e.fold((function(){var t=PG(c,n,r);return jG(t.left,t.top)}),(function(){return c}),(function(){var t=RG(c,n,r);return UG(t.left,t.top)}))},hq=function(t,e,n,r,o,i,a){var u=e.fold((function(){var t=VG(n,i.left,i.top),e=RG(t,r,o);return UG(e.left,e.top)}),(function(e){var a=ZG(t,e,n,i,r,o);return a.extra.each((function(n){e.onSensor(t,n)})),a.coord}));return dq(t,u,r,o,a)},pq=function(t,e,n,r){var o=e.getTarget(t.element);if(e.repositionTarget){var i=ji(t.element),a=Ws(i),u=cH(o),s=fq(o),c=hq(t,e.snaps,s,a,u,r,n),l=zG(c,a,u);Ku(o,l)}e.onDrag(t,o,r)},mq=function(t,e){return{bounds:t.getBounds(),height:Cs(e.element),width:Ps(e.element)}},gq=function(t,e,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk((function(){return mq(e,t)}));i.each((function(n){pq(t,e,a,n)}))},vq=function(t,e,n,r){e.each(uq),n.snaps.each((function(e){$G(t,e)}));var o=n.getTarget(t.element);r.reset(),n.onDrop(t,o)},yq=function(t){return function(e,n){var r=function(t){n.setStartData(mq(e,t))};return gi(m([xi(Jo(),(function(t){n.getStartData().each((function(){return r(t)}))}))],t(e,n,r)))}},bq=function(t){return gi([xi(So(),t.forceDrop),xi(To(),t.drop),xi(Co(),(function(e,n){t.move(n.event)})),xi(ko(),t.delayDrop)])},xq=function(t){return w.from(As(t.x,t.y))},wq=function(t,e){return As(e.left-t.left,e.top-t.top)},_q=Object.freeze({__proto__:null,getData:xq,getDelta:wq}),Sq=function(t,e,n){return[xi(So(),(function(r,o){var i=o.event.raw;if(0===i.button){o.stop();var a=function(){return vq(r,w.some(c),t,e)},u=gA(a,200),s={drop:a,delayDrop:u.schedule,forceDrop:a,move:function(n){u.cancel(),gq(r,t,e,_q,n)}},c=sq(r,t.blockerClass,bq(s)),l=function(){n(r),aq(r,c)};l()}}))]},Cq=m(lq,[Hc("dragger",{handlers:yq(Sq)})]),kq=function(t){return gi([xi(bo(),t.forceDrop),xi(wo(),t.drop),xi(_o(),t.drop),xi(xo(),(function(e,n){t.move(n.event)}))])},Tq=function(t){var e=t[0];return w.some(As(e.clientX,e.clientY))},Aq=function(t){var e=t.raw,n=e.touches;return 1===n.length?Tq(n):w.none()},Oq=function(t,e){return As(e.left-t.left,e.top-t.top)},Mq=Object.freeze({__proto__:null,getData:Aq,getDelta:Oq}),Dq=function(t,e,n){var r=Zn(w.none());return[xi(bo(),(function(o,i){i.stop();var a=function(){vq(o,r.get(),t,e),r.set(w.none())},u={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){gq(o,t,e,Mq,n)}},s=sq(o,t.blockerClass,kq(u));r.set(w.some(s));var c=function(){n(o),aq(o,s)};c()})),xi(xo(),(function(n,r){r.stop(),gq(n,t,e,Mq,r.event)})),xi(wo(),(function(n,o){o.stop(),vq(n,r.get(),t,e),r.set(w.none())})),xi(_o(),(function(n){vq(n,r.get(),t,e),r.set(w.none())}))]},Iq=m(lq,[Hc("dragger",{handlers:yq(Dq)})]),Eq=function(t,e,n){return m(Sq(t,e,n),Dq(t,e,n))},Rq=m(lq,[Hc("dragger",{handlers:yq(Eq)})]),Nq=Cq,Pq=Iq,Lq=Rq,Bq=Object.freeze({__proto__:null,mouse:Nq,touch:Pq,mouseOrTouch:Lq}),zq=function(){var t=w.none(),e=w.none(),n=function(){t=w.none(),e=w.none()},r=function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}));return t=w.some(n),r},o=function(t,e){return t.getData(e).bind((function(e){return r(t,e)}))},a=function(t){e=w.some(t)},u=function(){return e},s=i({});return Xa({readState:s,reset:n,update:o,getStartData:u,setStartData:a})},Vq=Object.freeze({__proto__:null,init:zq}),Fq=Wl({branchKey:"mode",branches:Bq,name:"dragging",active:{events:function(t,e){var n=t.dragger;return n.handlers(t,e)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:w.from(t.extra)}}},state:Vq,apis:nq}),jq=40,Hq=jq/2,Uq=function(t,e,n,r,o,i){return t.fold((function(){return Fq.snap({sensor:HG(n-Hq,r-Hq),range:As(o,i),output:HG(w.some(n),w.some(r)),extra:{td:e}})}),(function(t){var o=n-Hq,i=r-Hq,a=jq,u=jq,s=t.element.dom.getBoundingClientRect();return Fq.snap({sensor:HG(o,i),range:As(a,u),output:HG(w.some(n-s.width/2),w.some(r-s.height/2)),extra:{td:e}})}))},Wq=function(t,e,n){var r=function(t,e){return t.exists((function(t){return oo(t,e)}))};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var i=o.td;r(e.get(),i)||(e.set(w.some(i)),n(i))},mustSnap:!0}},Gq=function(t){return Jx(Kx.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Fl([Fq.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),xM.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},qq=function(t,e){var n=Zn([]),r=Zn([]),o=Zn(!1),i=Zn(w.none()),a=Zn(w.none()),u=function(t){var n=ic(t);return Uq(h.getOpt(e),t,n.x,n.y,n.width,n.height)},s=function(){return G(n.get(),(function(t){return u(t)}))},c=function(t){var n=ic(t);return Uq(p.getOpt(e),t,n.right,n.bottom,n.width,n.height)},l=function(){return G(r.get(),(function(t){return c(t)}))},f=Wq(s,i,(function(e){a.get().each((function(n){t.fire("TableSelectorChange",{start:e,finish:n})}))})),d=Wq(l,a,(function(e){i.get().each((function(n){t.fire("TableSelectorChange",{start:n,finish:e})}))})),h=Gq(f),p=Gq(d),m=bs(h.asSpec()),g=bs(p.asSpec()),v=function(e,n,r,o){var i=n.dom.getBoundingClientRect();rs(e.element,"display");var a=Wi(er.fromDom(t.getBody())).dom.innerHeight,u=r(i),s=o(i,a);(u||s)&&Zu(e.element,"display","none")},y=function(t,e,n,r){var o=n(e);Fq.snapTo(t,o);var i=function(t){return t[r]<0},a=function(t,e){return t[r]>e};v(t,e,i,a)},b=function(t){return y(m,t,u,"top")},x=function(){return i.get().each(b)},_=function(t){return y(g,t,c,"bottom")},S=function(){return a.get().each(_)};Yr().deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){o.get()||(zh(e,m),zh(e,g),o.set(!0)),i.set(w.some(t.start)),a.set(w.some(t.finish)),t.otherCells.each((function(e){n.set(e.upOrLeftCells),r.set(e.downOrRightCells),b(t.start),_(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){x(),S()})),t.on("TableSelectionClear",(function(){o.get()&&(jh(m),jh(g),o.set(!1)),i.set(w.none()),a.set(w.none())})))};(function(t){t[t["None"]=0]="None",t[t["Both"]=1]="Both",t[t["Vertical"]=2]="Vertical"})(YF||(YF={}));var Yq=function(t,e,n,r,o){var i={};return i.height=sW(r+e.top,rC(t),iC(t)),n===YF.Both&&(i.width=sW(o+e.left,nC(t),oC(t))),i},Xq=function(t,e,n){var r=er.fromDom(t.getContainer()),o=Yq(t,e,n,Ss(r),Ns(r));Dt(o,(function(t,e){return Zu(r,e,uW(t))})),$k(t)},Zq=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},$q=function(t,e,n){e.delimiter||(e.delimiter="");var r=function(r){var o=r||[],i=G(o,(function(e,r){return Kx.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:e.name},action:function(n){t.focus(),t.selection.select(e.element),t.nodeChanged()},buttonBehaviours:Fl([YC.button(n.isDisabled),HC()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+e.delimiter+" "}};return K(i.slice(1),(function(t,e){var n=t;return n.push(a),n.push(e),n}),[i[0]])},o=function(e){var n=[],r=e.length;while(r-- >0){var o=e[r];if(1===o.nodeType&&!Zq(o)){var i=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Fl([fb.config({mode:"flow",selector:"div[role=button]"}),ZS.config({disabled:n.isDisabled}),HC(),QA.config({}),wb.config({}),Sb("elementPathEvents",[Di((function(e,n){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return fb.focusIn(e)})),t.on("NodeChange",(function(t){var n=o(t.parents);n.length>0?wb.set(e,r(n)):wb.set(e,[])}))}))])]),components:[]}},Kq=function(t,e){var n,r=function(t,n,r){return wb.set(t,[gs(e.translate(["{0} "+r,n[r]]))])};return Kx.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Fl([YC.button(e.isDisabled),HC(),QA.config({}),wb.config({}),Xp.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Sb("wordcount-events",[Ri((function(t){var e=Xp.getValue(t),n="words"===e.mode?"characters":"words";Xp.setValue(t,{mode:n,count:e.count}),r(t,e.count,n)})),Di((function(e){t.on("wordCountUpdate",(function(t){var n=Xp.getValue(e).mode;Xp.setValue(e,{mode:n,count:t.wordCount}),r(e,t.wordCount,n)}))}))])]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})},Jq=function(t,e){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize"),"aria-hidden":"true"},innerHtml:tw("resize-handle",e.icons)},behaviours:Fl([Fq.config({mode:"mouse",repositionTarget:!1,onDrag:function(e,r,o){Xq(t,o,n)},blockerClass:"tox-blocker"})])}},r=function(){var t=DS.translate(["Powered by {0}","Tiny"]),e='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+t+'">'+t+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:e}}},o=function(t){var e=!t.hasPlugin("autoresize"),n=t.getParam("resize",e);return!1===n?YF.None:"both"===n?YF.Both:YF.Vertical},i=function(){var n=[];return t.getParam("elementpath",!0,"boolean")&&n.push($q(t,{},e)),t.hasPlugin("wordcount")&&n.push(Kq(t,e)),t.getParam("branding",!0,"boolean")&&n.push(r()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]},a=function(){var e=i(),r=o(t);return r!==YF.None&&e.push(n(r)),e};return{dom:{tag:"div",classes:["tox-statusbar"]},components:a()}},Qq=function(t){var e,n=t.inline,r=n?vW:iW,o=TC(t)?eU:uH,i=w.none(),a=Yr(),u=a.browser.isIE(),s=u?["tox-platform-ie"]:[],c=a.deviceType.isTouch(),l="tox-platform-touch",f=c?[l]:[],d=bC(t),p=CC(t),m=DS.isRtl()?{attributes:{dir:"rtl"}}:{},g={attributes:(e={},e[Ff]=d?wc.BottomToTop:wc.TopToBottom,e)},v=function(){return i.bind(FU.getHeader)},y=function(){return o.isDocked(v)},b=function(){Zu(K.element,"width",document.body.clientWidth+"px")},x=function(){var t=oo(Gu(),p)&&"grid"===Ju(p,"display"),e={dom:h({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(s).concat(f)},m),behaviours:Fl([Eh.config({useFixed:function(){return y()}})])},n={dom:{styles:{width:document.body.clientWidth+"px"}},events:gi([xi(Qo(),b)])};return Xt(e,t?n:{})},_=bs(x()),S=function(){return gt.value(_)},C=Jx({dom:{tag:"div",classes:["tox-anchorbar"]}}),k=function(){return i.bind((function(t){return C.getOpt(t)})).getOrDie("Could not find a anchor bar element")},T=function(){return i.bind((function(t){return FU.getToolbar(t)})).getOrDie("Could not find more toolbar element")},A=function(){return i.bind((function(t){return FU.getThrobber(t)})).getOrDie("Could not find throbber element")},O=uz(_,t,k),M=FU.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:O,onEscape:function(){t.focus()}}),D=mC(t),I=FU.parts.toolbar(h({dom:{tag:"div",classes:["tox-toolbar"]},getSink:S,providers:O.shared.providers,onEscape:function(){t.focus()},type:D,lazyToolbar:T,lazyHeader:function(){return v().getOrDie("Could not find header element")}},g)),E=FU.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:O.shared.providers,onEscape:function(){t.focus()},type:D}),R=FU.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),N=FU.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),P=FU.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:O}),L=t.getParam("statusbar",!0,"boolean"),B=L&&!n?w.some(Jq(t,O.shared.providers)):w.none(),z={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[R,N]},V=hC(t),F=fC(t),j=lC(t),H=function(){return V?[E]:F?[I]:[]},U=FU.parts.header({dom:h({tag:"div",classes:["tox-editor-header"]},g),components:et([j?[M]:[],H(),SC(t)?[]:[C.asSpec()]]),sticky:TC(t),editor:t,sharedBackstage:O.shared}),W=et([d?[]:[U],n?[]:[z],d?[U]:[]]),G={dom:{tag:"div",classes:["tox-editor-container"]},components:W},q=et([[G],n?[]:B.toArray(),[P]]),Y=kC(t),X=h(h({role:"application"},DS.isRtl()?{dir:"rtl"}:{}),Y?{"aria-hidden":"true"}:{}),Z=bs(FU.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(d?["tox-tinymce--toolbar-bottom"]:[]).concat(f).concat(s),styles:h({visibility:"hidden"},Y?{opacity:"0",border:"0"}:{}),attributes:X},components:q,behaviours:Fl([HC(),ZS.config({disableClass:"tox-tinymce--disabled"}),fb.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));i=w.some(Z),t.shortcuts.add("alt+F9","focus menubar",(function(){FU.focusMenubar(Z)})),t.shortcuts.add("alt+F10","focus toolbar",(function(){FU.focusToolbar(Z)})),t.addCommand("ToggleToolbarDrawer",(function(){FU.toggleToolbarDrawer(Z)})),t.addQueryStateHandler("ToggleToolbarDrawer",(function(){return FU.isToolbarDrawerToggled(Z)}));var $=WA(Z),K=WA(_);Xj(t,$,K);var J=function(){var t={broadcastAll:K.broadcast,broadcastOn:K.broadcastOn,register:function(){}};return{channels:t}},Q=function(){var e=uW(lW(t)),n=uW(dW(t));return t.inline||(ns("div","width",n)&&Zu(Z.element,"width",n),ns("div","height",e)?Zu(Z.element,"height",e):Zu(Z.element,"height","200px")),e},tt=function(){o.setup(t,O.shared,v),XW(t,O),OG(t,S,O),pU(t),DU(t,A,O.shared),It(vC(t),(function(e,n){t.ui.registry.addGroupToolbarButton(n,e)}));var e=t.ui.registry.getAll(),n=e.buttons,i=e.menuItems,a=e.contextToolbars,u=e.sidebars,s=dC(t),c={menuItems:i,menus:OC(t),menubar:MC(t),toolbar:s.getOrThunk((function(){return DC(t)})),allowToolbarGroups:D===u_.floating,buttons:n,sidebar:u};Yj(t,a,_,{backstage:O}),qq(t,_);var l=t.getElement(),f=Q(),d={mothership:$,uiMothership:K,outerContainer:Z},h={targetNode:l,height:f};return r.render(t,d,c,O,h)};return{mothership:$,uiMothership:K,backstage:O,renderUI:tt,getUi:J}},tY=function(t,e){var n=w.from(ma(t,"id")).fold((function(){var t=Aa("dialog-describe");return ha(e,"id",t),t}),a);ha(t,"aria-describedby",n)},eY=function(t,e){var n=ga(t,"id").fold((function(){var t=Aa("dialog-label");return ha(e,"id",t),t}),a);ha(t,"aria-labelledby",n)},nY=i([bn("lazySink"),Dn("dragBlockClass"),Wn("getBounds",ac),zn("useTabstopAt",f),zn("eventOrder",{}),Zp("modalBehaviours",[fb]),Vc("onExecute"),jc("onEscape")]),rY={sketch:a},oY=i([Mm({name:"draghandle",overrides:function(t,e){return{behaviours:Fl([Fq.config({mode:"mouse",getTarget:function(t){return hc(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),Am({schema:[bn("dom")],name:"title"}),Am({factory:rY,schema:[bn("dom")],name:"close"}),Am({factory:rY,schema:[bn("dom")],name:"body"}),Mm({factory:rY,schema:[bn("dom")],name:"footer"}),Om({factory:{sketch:function(t,e){return h(h({},t),{dom:e.dom,components:e.components})}},schema:[zn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),zn("components",[])],name:"blocker"})]),iY=function(t,e,n,r){ha(t.element,"aria-busy",!0);var o=e.getRoot(t).getOr(t),i=Fl([fb.config({mode:"special",onTab:function(){return w.some(!0)},onShiftTab:function(){return w.some(!0)}}),Eb.config({})]),a=r(o,i),u=o.getSystem().build(a);wb.append(o,xs(u)),u.hasConfigured(fb)&&fb.focusIn(u),n.isBlocked()||e.onBlock(t),n.blockWith((function(){return wb.remove(o,u)}))},aY=function(t,e,n){ya(t.element,"aria-busy"),n.isBlocked()&&e.onUnblock(t),n.clear()},uY=Object.freeze({__proto__:null,block:iY,unblock:aY}),sY=[Wn("getRoot",w.none),zc("onBlock"),zc("onUnblock")],cY=function(){var t=yj(),e=function(e){t.set({destroy:e})};return Xa({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})},lY=Object.freeze({__proto__:null,init:cY}),fY=Hl({fields:sY,name:"blocking",apis:uY,state:lY}),dY=function(t,e,n,r){var o,i=Zn(w.none()),a=function(e){i.set(w.some(e));var n=t.lazySink(e).getOrDie(),o=r.blocker(),a=n.getSystem().build(h(h({},o),{components:o.components.concat([xs(e)]),behaviours:Fl([Eb.config({}),Sb("dialog-blocker-events",[Mi(Oo(),(function(){fb.focusIn(e)}))])])}));zh(n,a),fb.focusIn(e)},u=function(t){i.set(w.none()),Gi(t.element).each((function(e){t.getSystem().getByDom(e).each((function(t){jh(t)}))}))},s=function(e){return Um(e,t,"body")},c=function(e){return Um(e,t,"footer")},l=function(t,e){fY.block(t,e)},f=function(t){fY.unblock(t)},d=Aa("modal-events"),p=h(h({},t.eventOrder),(o={},o[ti()]=[d].concat(t.eventOrder["alloy.system.attached"]||[]),o));return{uid:t.uid,dom:t.dom,components:e,apis:{show:a,hide:u,getBody:s,getFooter:c,setIdle:f,setBusy:l},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Kp(t.modalBehaviours,[wb.config({}),fb.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),fY.config({getRoot:i.get}),Sb(d,[Di((function(e){eY(e.element,Um(e,t,"title").element),tY(e.element,Um(e,t,"body").element)}))])])}},hY=sg({name:"ModalDialog",configFields:nY(),partFields:oY(),factory:dY,apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),pY=ze([_n("type"),_n("name")].concat(Q_)),mY=pn,gY=[qe("name","name",ne((function(){return Aa("button-name")})),hn),Rn("icon"),Hn("align","end",["start","end"]),Un("primary",!1),Un("disabled",!1)],vY=m(gY,[_n("text")]),yY=m([Sn("type",["submit","cancel","custom"])],vY),bY=m([Sn("type",["menu"]),Rn("text"),Rn("tooltip"),Rn("icon"),Mn("items",pY)],gY),xY=sn("type",{submit:yY,cancel:yY,custom:yY,menu:bY}),wY=[_n("type"),_n("text"),Sn("level",["info","warn","error","success"]),_n("icon"),zn("url","")],_Y=ze(wY),SY=function(t){return[_n("type"),t]},CY=[_n("type"),_n("text"),Un("disabled",!1),Un("primary",!1),qe("name","name",ne((function(){return Aa("button-name")})),hn),Rn("icon"),Un("borderless",!1)],kY=ze(CY),TY=[_n("type"),_n("name"),_n("label"),Un("disabled",!1)],AY=ze(TY),OY=pn,MY=[_n("type"),_n("name")],DY=MY.concat([Rn("label")]),IY=DY.concat([zn("columns","auto")]),EY=ze(IY),RY=$e([_n("value"),_n("text"),_n("icon")]),NY=DY,PY=ze(NY),LY=hn,BY=DY,zY=ze(BY),VY=hn,FY=MY.concat([jn("tag","textarea"),_n("scriptId"),_n("scriptUrl"),Gn("settings",void 0)]),jY=MY.concat([jn("tag","textarea"),kn("init")]),HY=Qe((function(t){return nn("customeditor.old",Be(jY),t).orThunk((function(){return nn("customeditor.new",Be(FY),t)}))})),UY=hn,WY=DY,GY=ze(WY),qY=Ke(),YY=function(t){return[_n("type"),wn("columns"),t]},XY=[_n("type"),_n("html"),Hn("presets","presentation",["presentation","document"])],ZY=ze(XY),$Y=DY.concat([Un("sandboxed",!0)]),KY=ze($Y),JY=hn,QY=DY.concat([xn("currentState",ze([bn("blob"),_n("url")]))]),tX=ze(QY),eX=DY.concat([Rn("inputMode"),Rn("placeholder"),Un("maximized",!1),Un("disabled",!1)]),nX=ze(eX),rX=hn,oX=function(t){return[_n("type"),_n("label"),t]},iX=[_n("text"),_n("value")],aX=[_n("text"),Mn("items",cn("items",(function(){return uX})))],uX=Fe([ze(iX),ze(aX)]),sX=DY.concat([Mn("items",uX),Un("disabled",!1)]),cX=ze(sX),lX=hn,fX=DY.concat([On("items",[_n("text"),_n("value")]),Fn("size",1),Un("disabled",!1)]),dX=ze(fX),hX=hn,pX=DY.concat([Un("constrain",!0),Un("disabled",!1)]),mX=ze(pX),gX=ze([_n("width"),_n("height")]),vX=[_n("type"),Mn("header",hn),Mn("cells",Ve(hn))],yX=ze(vX),bX=DY.concat([Rn("placeholder"),Un("maximized",!1),Un("disabled",!1)]),xX=ze(bX),wX=hn,_X=DY.concat([Hn("filetype","file",["image","media","file"]),zn("disabled",!1)]),SX=ze(_X),CX=ze([_n("value"),zn("meta",{})]),kX=function(t){return qe("items","items",te(),Ve(Qe((function(e){return nn("Checking item of "+t,TX,e).fold((function(t){return gt.error(an(t))}),(function(t){return gt.value(t)}))}))))},TX=Je((function(){return un("type",{alertbanner:_Y,bar:ze(SY(kX("bar"))),button:kY,checkbox:AY,colorinput:PY,colorpicker:zY,dropzone:GY,grid:ze(YY(kX("grid"))),iframe:KY,input:nX,listbox:cX,selectbox:dX,sizeinput:mX,textarea:xX,urlinput:SX,customeditor:HY,htmlpanel:ZY,imagetools:tX,collection:EY,label:ze(oX(kX("label"))),table:yX,panel:OX})})),AX=[_n("type"),zn("classes",[]),Mn("items",TX)],OX=ze(AX),MX=[qe("name","name",ne((function(){return Aa("tab-name")})),hn),_n("title"),Mn("items",TX)],DX=[_n("type"),On("tabs",MX)],IX=ze(DX),EX=vY,RX=xY,NX=ze([_n("title"),xn("body",un("type",{panel:OX,tabpanel:IX})),jn("size","normal"),Mn("buttons",RX),zn("initialData",{}),Wn("onAction",e),Wn("onChange",e),Wn("onSubmit",e),Wn("onClose",e),Wn("onCancel",e),zn("onTabChange",e)]),PX=function(t){return nn("dialog",NX,t)},LX=ze(m([Sn("type",["cancel","custom"])],EX)),BX=ze([_n("title"),_n("url"),En("height"),En("width"),Pn("buttons",LX),Wn("onAction",e),Wn("onCancel",e),Wn("onClose",e),Wn("onMessage",e)]),zX=function(t){return nn("dialog",BX,t)},VX=function(t){return A(t)?[t].concat(nt(zt(t),VX)):O(t)?nt(t,VX):[]},FX=function(t){return T(t.type)&&T(t.name)},jX={checkbox:OY,colorinput:LY,colorpicker:VY,dropzone:qY,input:rX,iframe:JY,sizeinput:gX,selectbox:hX,listbox:lX,size:gX,textarea:wX,urlinput:CX,customeditor:UY,collection:RY,togglemenuitem:mY},HX=function(t){return w.from(jX[t.type])},UX=function(t){return Z(VX(t),FX)},WX=function(t){var e=UX(t),n=nt(e,(function(t){return HX(t).fold((function(){return[]}),(function(e){return[xn(t.name,e)]}))}));return ze(n)},GX=function(t){var e=rn(PX(t)),n=WX(t),r=t.initialData;return{internalDialog:e,dataValidator:n,initialData:r}},qX={open:function(t,e){var n=GX(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){var n=rn(zX(e));return t(n)},redial:function(t){return GX(t)}},YX=function(t){var e=[],n={};return Dt(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))})),e.length>0?gt.error(e):gt.value(n)},XX=function(t,e){var n=Jx(mE.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:G(t.items,(function(t){return GL(n,t,e)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Fl([fb.config({mode:"acyclic",useTabstopAt:s(QE)}),TE.memento(n),HE.memento(n,{postprocess:function(t){return YX(t).fold((function(t){return console.error(t),{}}),(function(t){return t}))}})])}},ZX=function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:Qb(t.action),behaviours:Kp(t.tabButtonBehaviours,[Eb.config({}),fb.config({mode:"execution",useSpace:!0,useEnter:!0}),Xp.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},$X=ug({name:"TabButton",configFields:[zn("uid",void 0),bn("value"),qe("dom","dom",re((function(){return{attributes:{role:"tab",id:Aa("aria"),"aria-selected":"false"}}})),ln()),Dn("action"),zn("domModification",{}),Zp("tabButtonBehaviours",[Eb,fb,Xp]),bn("view")],factory:ZX}),KX=i([bn("tabs"),bn("dom"),zn("clickToDismiss",!1),Zp("tabbarBehaviours",[Vg,fb]),Lc(["tabClass","selectedClass"])]),JX=Dm({factory:$X,name:"tabs",unit:"tab",overrides:function(t){var n=function(t,e){Vg.dehighlight(t,e),fi(t,ui(),{tabbar:t,button:e})},r=function(t,e){Vg.highlight(t,e),fi(t,ai(),{tabbar:t,button:e})};return{action:function(o){var i=o.getSystem().getByUid(t.uid).getOrDie(),a=Vg.isHighlighted(i,o),u=function(){return a&&t.clickToDismiss?n:a?e:r}();u(i,o)},domModification:{classes:[t.markers.tabClass]}}}}),QX=i([JX]),tZ=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Kp(t.tabbarBehaviours,[Vg.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){ha(e.element,"aria-selected","true")},onDehighlight:function(t,e){ha(e.element,"aria-selected","false")}}),fb.config({mode:"flow",getInitial:function(t){return Vg.getHighlighted(t).map((function(t){return t.element}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},eZ=sg({name:"Tabbar",configFields:KX(),partFields:QX(),factory:tZ}),nZ=function(t,e){return{uid:t.uid,dom:t.dom,behaviours:Kp(t.tabviewBehaviours,[wb.config({})]),domModification:{attributes:{role:"tabpanel"}}}},rZ=ug({name:"Tabview",configFields:[Zp("tabviewBehaviours",[wb])],factory:nZ}),oZ=i([zn("selectFirst",!0),zc("onChangeTab"),zc("onDismissTab"),zn("tabs",[]),Zp("tabSectionBehaviours",[])]),iZ=Am({factory:eZ,schema:[bn("dom"),An("markers",[bn("tabClass"),bn("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),aZ=Am({factory:rZ,name:"tabview"}),uZ=i([iZ,aZ]),sZ=function(t,e,n,r){var o=function(e){var n=Xp.getValue(e);Hm(e,t,"tabview").each((function(r){var o=Q(t.tabs,(function(t){return t.value===n}));o.each((function(n){var o=n.view();ga(e.element,"id").each((function(t){ha(r.element,"aria-labelledby",t)})),wb.set(r,o),t.onChangeTab(r,e,o)}))}))},i=function(e,n){Hm(e,t,"tabbar").each((function(t){n(t).each(di)}))};return{uid:t.uid,dom:t.dom,components:e,behaviours:$p(t.tabSectionBehaviours),events:gi(et([t.selectFirst?[Di((function(t,e){i(t,Vg.getFirst)}))]:[],[xi(ai(),(function(t,e){var n=e.event.button;o(n)})),xi(ui(),(function(e,n){var r=n.event.button;t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return Hm(e,t,"tabview").map((function(t){return wb.contents(t)})).getOr([])},showTab:function(t,e){var n=function(t){var n=Vg.getCandidates(t),r=Q(n,(function(t){return Xp.getValue(t)===e}));return r.filter((function(e){return!Vg.isHighlighted(t,e)}))};i(t,n)}}}},cZ=sg({name:"TabSection",configFields:oZ(),partFields:uZ(),factory:sZ,apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),lZ=function(t,e,n){return G(t,(function(r,o){wb.set(n,t[o].view());var i=e.dom.getBoundingClientRect();return wb.set(n,[]),i.height}))},fZ=function(t){return ct(ut(t,(function(t,e){return t>e?-1:t<e?1:0})))},dZ=function(t,e,n){var r,o=Ui(t).dom,i=hc(t,".tox-dialog-wrap").getOr(t),a="fixed"===Ju(i,"position");r=a?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var u=Ss(e),s=e.dom.offsetLeft>=n.dom.offsetLeft+Ns(n),c=s?Math.max(Ss(n),u):u,l=parseInt(Ju(t,"margin-top"),10)||0,f=parseInt(Ju(t,"margin-bottom"),10)||0,d=Ss(t)+l+f,h=d-c;return r-h},hZ=function(t,e){ct(t).each((function(t){return cZ.showTab(e,t.value)}))},pZ=function(t,e){Zu(t,"height",e+"px"),Yr().browser.isIE()?rs(t,"flex-basis"):Zu(t,"flex-basis",e+"px")},mZ=function(t,e,n){hc(t,'[role="dialog"]').each((function(t){pc(t,'[role="tablist"]').each((function(r){n.get().map((function(n){return Zu(e,"height","0"),Zu(e,"flex-basis","0"),Math.min(n,dZ(t,e,r))})).each((function(t){pZ(e,t)}))}))}))},gZ=function(t){return pc(t,'[role="tabpanel"]')},vZ=function(t){var e=function(){var e=Zn(w.none()),n=[Di((function(n){var r=n.element;gZ(r).each((function(o){Zu(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((function(n){var r=lZ(t,o,n),i=fZ(r);e.set(i)})),mZ(r,o,e),rs(o,"visibility"),hZ(t,n),Zx.requestAnimationFrame((function(){mZ(r,o,e)}))}))})),xi(Qo(),(function(t){var n=t.element;gZ(n).each((function(t){mZ(n,t,e)}))})),xi(mO,(function(t,n){var r=t.element;gZ(r).each((function(t){var n=Ql();Zu(t,"visibility","hidden");var o=ts(t,"height").map((function(t){return parseInt(t,10)}));rs(t,"height"),rs(t,"flex-basis");var i=t.dom.getBoundingClientRect().height,a=o.forall((function(t){return i>t}));a?(e.set(w.from(i)),mZ(r,t,e)):o.each((function(e){pZ(t,e)})),rs(t,"visibility"),n.each($l)}))}))],r=!1;return{extraEvents:n,selectFirst:r}}(),n=function(){var t=[],e=!0;return{extraEvents:t,selectFirst:e}}();return{smartTabHeight:e,naiveTabHeight:n}},yZ="send-data-to-section",bZ="send-data-to-view",xZ=function(t,e){var n=Zn({}),r=function(t){var e=Xp.getValue(t),r=YX(e).getOr({}),o=n.get(),i=Xt(o,r);n.set(i)},o=function(t){var e=n.get();Xp.setValue(t,e)},i=Zn(null),a=G(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[mE.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:G(t.items,(function(t){return GL(n,t,e)})),formBehaviours:Fl([fb.config({mode:"acyclic",useTabstopAt:s(QE)}),Sb("TabView.form.events",[Di(o),Ii(r)]),ql.config({channels:le([{key:yZ,value:{onReceive:r}},{key:bZ,value:{onReceive:o}}])})])}}))]}}})),u=vZ(a).smartTabHeight;return cZ.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=Xp.getValue(e);fi(t,pO,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[cZ.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[eZ.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Fl([QA.config({})])}),cZ.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:Fl([Sb("tabpanel",u.extraEvents),fb.config({mode:"acyclic"}),bg.config({find:function(t){return ct(cZ.getViewItems(t))}}),Xp.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn([yZ],{}),n.get()},setValue:function(t,e){n.set(e),t.getSystem().broadcastOn([bZ],{})}}})])})},wZ=Aa("update-dialog"),_Z=Aa("update-title"),SZ=Aa("update-body"),CZ=Aa("update-footer"),kZ=Aa("body-send-message"),TZ=function(t,e,n,r){var o=function(t){switch(t.body.type){case"tabpanel":return[xZ(t.body,n)];default:return[XX(t.body,n)]}},i=function(t,e){return w.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:h(h({},e.map((function(t){return{id:t}})).getOr({})),r?a:{})},components:[],behaviours:Fl([TE.childAt(0),$V.config({channel:SZ,updateState:i,renderComponents:o,initialData:t})])}},AZ=function(t,e,n,r){return TZ(t,w.some(e),n,r)},OZ=function(t,e){var n=TZ(t,w.none(),e,!1);return hY.parts.body(n)},MZ=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[$E({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Fl([QA.config({}),Eb.config({})])})]}],behaviours:Fl([fb.config({mode:"acyclic",useTabstopAt:s(QE)})])};return hY.parts.body(e)},DZ=nk.deviceType.isTouch(),IZ=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}},EZ=function(t,e){return hY.parts.close(Kx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:Fl([QA.config({})])}))},RZ=function(){return hY.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},NZ=function(t,e){return hY.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:TU("<p>"+e.translate(t)+"</p>")}]}]})},PZ=function(t){return hY.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},LZ=function(t,e){return[UA.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),UA.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},BZ=function(t){var e,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return hY.sketch({lazySink:t.lazySink,onEscape:function(e){return t.onEscape(e),w.some(!0)},useTabstopAt:function(t){return!QE(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:h({position:"relative"},t.extraStyles)},components:m([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:TU('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:DZ?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Fl(m([Eb.config({}),Sb("dialog-events",t.dialogEvents.concat([Mi(Oo(),(function(t,e){fb.focusIn(t)}))])),Sb("scroll-lock",[Di((function(){Au(Gu(),i)})),Ii((function(){Mu(Gu(),i)}))])],t.extraBehaviours)),eventOrder:h((e={},e[Uo()]=["dialog-events"],e[ti()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[ei()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})},zZ=function(t){return Kx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tw("close",t.icons)}}],action:function(t){li(t,cO)}})},VZ=function(t,e,n){var r=function(t){return[gs(n.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:h({},e.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:Fl([$V.config({channel:_Z,renderComponents:r})])}},FZ=function(){return{dom:TU('<div class="tox-dialog__draghandle"></div>')}},jZ=function(t,e,n){return UA.sketch({dom:TU('<div class="tox-dialog__header"></div>'),components:[VZ(t,w.some(e),n),FZ(),zZ(n)],containerBehaviours:Fl([Fq.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return mc(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},HZ=function(t,e){var n=hY.parts.title(VZ(t,w.none(),e)),r=hY.parts.draghandle(FZ()),o=hY.parts.close(zZ(e)),i=[n].concat(t.draggable?[r]:[]).concat([o]);return UA.sketch({dom:TU('<div class="tox-dialog__header"></div>'),components:i})},UZ=function(t,e){return HZ({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)},WZ=function(t,e){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:e,components:[{dom:TU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},GZ=function(t,e){return{onClose:function(){return e.closeWindow()},onBlock:function(e){hY.setBusy(t(),(function(t,n){return WZ(e.message,n)}))},onUnblock:function(){hY.setIdle(t())}}},qZ=function(t,e,n,r){var o,i=function(t,e){return w.some(e)};return bs(BZ(h(h({},t),{lazySink:r.shared.getSink,extraBehaviours:m([$V.config({channel:wZ,updateState:i,initialData:e}),HE.memory({})],t.extraBehaviours),onEscape:function(t){li(t,cO)},dialogEvents:n,eventOrder:(o={},o[Ho()]=[$V.name(),ql.name()],o[ti()]=["scroll-lock",$V.name(),"messages","dialog-events","alloy.base.behaviour"],o[ei()]=["alloy.base.behaviour","dialog-events","messages",$V.name(),"scroll-lock"],o)})))},YZ=function(t){var e=function(t){var e=G(t.items,(function(t){var e=Zn(!1);return h(h({},t),{storage:e})}));return h(h({},t),{items:e})};return G(t,(function(t){return"menu"===t.type?e(t):t}))},XZ=function(t){return K(t,(function(t,e){if("menu"===e.type){var n=e;return K(n.items,(function(t,e){return t[e.name]=e.storage,t}),t)}return t}),{})},ZZ=function(t,e){return[Ti(Oo(),JE),t(sO,(function(t,n){e.onClose(),n.onClose()})),t(cO,(function(t,e,n,r){e.onCancel(t),li(r,sO)})),xi(hO,(function(t,n){return e.onUnblock()})),xi(dO,(function(t,n){return e.onBlock(n.event)}))]},$Z=function(t,e){var n=function(e,n){return xi(e,(function(e,o){r(e,(function(r,i){n(t(),r,o.event,e)}))}))},r=function(t,e){$V.getState(t).get().each((function(n){e(n,t)}))};return m(ZZ(n,e),[n(lO,(function(t,e,n){e.onAction(t,{name:n.name})}))])},KZ=function(t,e,n){var r=function(e,n){return xi(e,(function(e,r){o(e,(function(o,i){n(t(),o,r.event,e)}))}))},o=function(t,e){$V.getState(t).get().each((function(n){e(n.internalDialog,t)}))};return m(ZZ(r,e),[r(fO,(function(t,e){return e.onSubmit(t)})),r(uO,(function(t,e,n){e.onChange(t,{name:n.name})})),r(lO,(function(t,e,r,o){var i=function(){return fb.focusIn(o)},a=function(t){return va(t,"disabled")||ga(t,"aria-disabled").exists((function(t){return"true"===t}))},u=Bu(o.element),s=Ql(u);e.onAction(t,{name:r.name,value:r.value}),Ql(u).fold(i,(function(t){a(t)||s.exists((function(e){return uo(t,e)&&a(e)}))?i():n().toOptional().filter((function(e){return!uo(e.element,t)})).each(i)}))})),r(pO,(function(t,e,n){e.onTabChange(t,{newTabName:n.name,oldTabName:n.oldName})})),Ii((function(e){var n=t();Xp.setValue(e,n.getData())}))])},JZ={initUrlDialog:$Z,initDialog:KZ},QZ=function(t,e){return jN(t,t.type,e)},t$=function(t,e,n){return Q(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))},e$=function(t,e){var n=e.map((function(t){return t.footerButtons})).getOr([]),r=X(n,(function(t){return"start"===t.align})),o=function(t,e){return UA.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:G(e,(function(t){return t.memento.asSpec()}))})},i=o("start",r.pass),a=o("end",r.fail);return[i,a]},n$=function(t,e){var n=function(t,n){var r=G(n.buttons,(function(t){var n=Jx(QZ(t,e));return{name:t.name,align:t.align,memento:n}})),o=function(t,e){return t$(t,r,e)};return w.some({lookupByName:o,footerButtons:r})};return{dom:TU('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Fl([$V.config({channel:CZ,initialData:t,updateState:n,renderComponents:e$})])}},r$=function(t,e){return n$(t,e)},o$=function(t,e){return hY.parts.footer(n$(t,e))},i$=function(t,e){var n=t.getRoot();if(n.getSystem().isConnected()){var r=bg.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return mE.getField(r,e).fold((function(){var n=t.getFooter(),o=$V.getState(n);return o.get().bind((function(t){return t.lookupByName(r,e)}))}),(function(t){return w.some(t)}))}return w.none()},a$=function(t,e){var n=t.getRoot();return $V.getState(n).get().map((function(t){return rn(nn("data",t.dataValidator,e))})).getOr(e)},u$=function(t,e,n){var r=function(e){var n=t.getRoot();n.getSystem().isConnected()&&e(n)},o=function(){var e=t.getRoot(),r=e.getSystem().isConnected()?t.getFormWrapper():e,o=Xp.getValue(r),i=It(n,(function(t){return t.get()}));return h(h({},o),i)},i=function(e){r((function(r){var o=m.getData(),i=h(h({},o),e),a=a$(t,i),u=t.getFormWrapper();Xp.setValue(u,a),Dt(n,(function(t,e){Ft(i,e)&&t.set(i[e])}))}))},a=function(e){i$(t,e).each(ZS.disable)},u=function(e){i$(t,e).each(ZS.enable)},s=function(e){i$(t,e).each(Eb.focus)},c=function(t){if(!T(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(e){fi(e,dO,{message:t})}))},l=function(){r((function(t){li(t,hO)}))},f=function(e){r((function(n){var r=t.getBody(),o=$V.getState(r);o.get().exists((function(t){return t.isTabPanel()}))&&bg.getCurrent(r).each((function(t){cZ.showTab(t,e)}))}))},d=function(t){r((function(n){var r=e(t);n.getSystem().broadcastOn([wZ],r),n.getSystem().broadcastOn([_Z],r.internalDialog),n.getSystem().broadcastOn([SZ],r.internalDialog),n.getSystem().broadcastOn([CZ],r.internalDialog),m.setData(r.initialData)}))},p=function(){r((function(t){li(t,sO)}))},m={getData:o,setData:i,disable:a,enable:u,focus:s,block:c,unblock:l,showTab:f,redial:d,close:p};return m},s$=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},c$=function(t,e,n){var r=UZ(t.internalDialog.title,n),o=OZ({body:t.internalDialog.body},n),i=YZ(t.internalDialog.buttons),a=XZ(i),u=o$({buttons:i},n),s=JZ.initDialog((function(){return h}),GZ((function(){return f}),e),n.shared.getSink),c=s$(t.internalDialog.size),l={header:r,body:o,footer:w.some(u),extraClasses:c,extraBehaviours:[],extraStyles:{}},f=qZ(l,t,s,n),d=function(){var t=function(){var t=hY.getBody(f);return bg.getCurrent(t).getOr(t)};return{getRoot:function(){return f},getBody:function(){return hY.getBody(f)},getFooter:function(){return hY.getFooter(f)},getFormWrapper:t}}(),h=u$(d,e.redial,a);return{dialog:f,instanceApi:h}},l$=function(t,e,n,r){var o,i,a=Aa("dialog-label"),u=Aa("dialog-content"),s=function(t,e){return w.some(e)},c=Jx(jZ({title:t.internalDialog.title,draggable:!0},a,n.shared.providers)),l=Jx(AZ({body:t.internalDialog.body},u,n,r)),f=YZ(t.internalDialog.buttons),d=XZ(f),h=Jx(r$({buttons:f},n)),p=JZ.initDialog((function(){return g}),{onBlock:function(t){fY.block(m,(function(e,n){return WZ(t.message,n)}))},onUnblock:function(){fY.unblock(m)},onClose:function(){return e.closeWindow()}},n.shared.getSink),m=bs({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=a,o["aria-describedby"]=""+u,o)},eventOrder:(i={},i[Ho()]=[$V.name(),ql.name()],i[Uo()]=["execute-on-form"],i[ti()]=["reflecting","execute-on-form"],i),behaviours:Fl([fb.config({mode:"cyclic",onEscape:function(t){return li(t,sO),w.some(!0)},useTabstopAt:function(t){return!QE(t)&&("button"!==Ni(t)||"disabled"!==ma(t,"disabled"))}}),$V.config({channel:wZ,updateState:s,initialData:t}),Eb.config({}),Sb("execute-on-form",p.concat([Mi(Oo(),(function(t,e){fb.focusIn(t)}))])),fY.config({getRoot:function(){return w.some(m)}}),wb.config({}),HE.memory({})]),components:[c.asSpec(),l.asSpec(),h.asSpec()]}),g=u$({getRoot:function(){return m},getFooter:function(){return h.get(m)},getBody:function(){return l.get(m)},getFormWrapper:function(){var t=l.get(m);return bg.getCurrent(t).getOr(t)}},e.redial,d);return{dialog:m,instanceApi:g}},f$=tinymce.util.Tools.resolve("tinymce.util.URI"),d$=function(t){var e=function(e){t.getSystem().isConnected()&&e(t)},n=function(t){if(!T(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e((function(e){fi(e,dO,{message:t})}))},r=function(){e((function(t){li(t,hO)}))},o=function(){e((function(t){li(t,sO)}))},i=function(t){e((function(e){e.getSystem().broadcastOn([kZ],t)}))};return{block:n,unblock:r,close:o,sendMessage:i}},h$=["insertContent","setContent","execCommand","close","block","unblock"],p$=function(t){return A(t)&&-1!==h$.indexOf(t.mceAction)},m$=function(t){return!p$(t)&&A(t)&&Ft(t,"mceAction")},g$=function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var r=!!M(n.ui)&&n.ui;t.execCommand(n.cmd,r,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock();break}},v$=function(t,e,n,r){var o,i=UZ(t.title,r),a=MZ(t),u=t.buttons.bind((function(t){return 0===t.length?w.none():w.some(o$({buttons:t},r))})),s=JZ.initUrlDialog((function(){return y}),GZ((function(){return v}),e)),c=h(h({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),l=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],f=new f$(t.url,{base_uri:new f$(window.location.href)}),d=f.protocol+"://"+f.host+(f.port?":"+f.port:""),p=Zn(w.none()),m=[Sb("messages",[Di((function(){var e=dA(er.fromDom(window),"message",(function(e){if(f.isSameOrigin(new f$(e.raw.origin))){var r=e.raw.data;p$(r)?g$(n,y,r):m$(r)&&t.onMessage(y,r)}}));p.set(w.some(e))})),Ii((function(){p.get().each((function(t){return t.unbind()}))}))]),ql.config({channels:(o={},o[kZ]={onReceive:function(t,e){pc(t.element,"iframe").each((function(t){var n=t.dom.contentWindow;n.postMessage(e,d)}))}},o)})],g={header:i,body:a,footer:u,extraClasses:l,extraBehaviours:m,extraStyles:c},v=qZ(g,t,s,r),y=d$(v);return{dialog:v,instanceApi:y}},y$=function(t){var e=t.backstage.shared,n=function(n,r){var o=function(){hY.hide(s),r()},i=Jx(jN({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:w.none()},"cancel",t.backstage)),a=RZ(),u=EZ(o,e.providers),s=bs(BZ({lazySink:function(){return e.getSink()},header:IZ(a,u),body:NZ(n,e.providers),footer:w.some(PZ(LZ([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xi(cO,o)],eventOrder:{}}));hY.show(s);var c=i.get(s);Eb.focus(c)};return{open:n}},b$=function(t){var e=t.backstage.shared,n=function(n,r){var o=function(t){hY.hide(c),r(t)},i=Jx(jN({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:w.none()},"submit",t.backstage)),a=jN({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:w.none()},"cancel",t.backstage),u=RZ(),s=EZ((function(){return o(!1)}),e.providers),c=bs(BZ({lazySink:function(){return e.getSink()},header:IZ(u,s),body:NZ(n,e.providers),footer:w.some(PZ(LZ([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xi(cO,(function(){return o(!1)})),xi(fO,(function(){return o(!0)}))],eventOrder:{}}));hY.show(c);var l=i.get(c);Eb.focus(l)};return{open:n}},x$=function(t,e){return rn(nn("data",e,t))},w$=function(t){return mA(t,".tox-alert-dialog")||mA(t,".tox-confirm-dialog")},_$=function(t,e,n){return e&&n?[]:[FH.config({contextual:{lazyContext:function(){return w.some(oc(er.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},S$=function(t){var e=t.backstage,n=t.editor,r=TC(n),o=y$(t),i=b$(t),a=function(t,n,r){return void 0!==n&&"toolbar"===n.inline?l(t,e.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(t,e.shared.anchors.cursor(),r,n.ariaAttrs):c(t,r)},u=function(t,e){return s(t,e)},s=function(t,r){var o=function(t){var o=v$(t,{closeWindow:function(){hY.hide(o.dialog),r(o.instanceApi)}},n,e);return hY.show(o.dialog),o.instanceApi};return qX.openUrl(o,t)},c=function(t,n){var r=function(t,r,o){var i=r,a={dataValidator:o,initialData:i,internalDialog:t},u=c$(a,{redial:qX.redial,closeWindow:function(){hY.hide(u.dialog),n(u.instanceApi)}},e);return hY.show(u.dialog),u.instanceApi.setData(i),u.instanceApi};return qX.open(r,t)},l=function(t,o,i,a){var u=function(t,u,s){var c=x$(u,s),l=xj(),f=e.shared.header.isPositionedAtTop(),d={dataValidator:s,initialData:c,internalDialog:t},p=function(){return l.on((function(t){Bx.reposition(t),FH.refresh(t)}))},g=l$(d,{redial:qX.redial,closeWindow:function(){l.on(Bx.hide),n.off("ResizeEditor",p),l.clear(),i(g.instanceApi)}},e,a),v=bs(Bx.sketch(h(h({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},f?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Fl(m([Sb("window-manager-inline-events",[xi(ni(),(function(t,e){li(g.dialog,cO)}))])],_$(n,r,f))),isExtraPart:function(t,e){return w$(e)}})));return l.set(v),Bx.showWithin(v,o,xs(g.dialog),w.some(Gu())),r&&f||(FH.refresh(v),n.on("ResizeEditor",p)),g.instanceApi.setData(c),fb.focusIn(g.dialog),g.instanceApi};return qX.open(u,t)},f=function(t,e){i.open(t,(function(t){e(t)}))},d=function(t,e){o.open(t,(function(){e()}))},p=function(t){t.close()};return{open:a,openUrl:u,alert:d,close:p,confirm:f}};function C$(){d.add("silver",(function(t){var e=Qq(t),n=e.uiMothership,r=e.backstage,o=e.renderUI,a=e.getUi;lA.register(t,r.shared);var u=S$({editor:t,backstage:r});return{renderUI:o,getWindowManagerImpl:i(u),getNotificationManagerImpl:function(){return aw(t,{backstage:r},n)},ui:a()}}))}C$()})()}).call(this,n("c8ba"))},"0335":function(t,e,n){n("0f58")},"07d1":function(t,e,n){n("94ce")},"07d7":function(t,e,n){n("a8b8")},"07e4":function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o={class:"app-container"},i={class:"filter-container"},a=Object(r["createVNode"])("br",null,null,-1),u={class:"dialog-footer"};function s(t,e,n,s,c,l){var f=Object(r["resolveComponent"])("el-input"),d=Object(r["resolveComponent"])("el-button"),h=Object(r["resolveComponent"])("el-table-column"),p=Object(r["resolveComponent"])("el-table"),m=Object(r["resolveComponent"])("el-pagination"),g=Object(r["resolveComponent"])("el-form-item"),v=Object(r["resolveComponent"])("el-form"),y=Object(r["resolveComponent"])("el-dialog"),b=Object(r["resolveDirective"])("waves"),x=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])("div",i,[Object(r["createVNode"])(f,{modelValue:t.listQuery.findName,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.listQuery.findName=e}),placeholder:t.t("table.userName"),style:{width:"250px","margin-right":"0.5vw"},class:"filter-item",onKeyup:Object(r["withKeys"])(t.handleFindByName,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),Object(r["withDirectives"])(Object(r["createVNode"])(d,{class:"filter-item",style:{"margin-right":"0.5vw"},type:"primary",plain:"",icon:"el-icon-search",onClick:t.handleFindByName},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.search")),1)]})),_:1},8,["onClick"]),[[b]]),Object(r["createVNode"])(f,{modelValue:t.listQuery.findId,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.listQuery.findId=e}),placeholder:t.t("table.userId"),style:{width:"250px","margin-right":"0.5vw"},class:"filter-item",onKeyup:Object(r["withKeys"])(t.handleFindById,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),Object(r["withDirectives"])(Object(r["createVNode"])(d,{class:"filter-item",type:"primary",plain:"",icon:"el-icon-search",onClick:t.handleFindById},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.search")),1)]})),_:1},8,["onClick"]),[[b]]),Object(r["createVNode"])(d,{class:"filter-item",style:{"margin-left":"0.5vw"},type:"primary",icon:"el-icon-edit",onClick:t.handleCreate},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.add")),1)]})),_:1},8,["onClick"])]),Object(r["withDirectives"])(Object(r["createVNode"])(p,{key:t.tableKey,data:t.list,border:"",fit:"","highlight-current-row":"",style:{width:"70%"},"default-sort":{prop:"userId",order:"descending"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{label:t.t("table.userId"),prop:"userId",sortable:"",align:"center",width:"100"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.userId),1)]})),_:1},8,["label"]),Object(r["createVNode"])(h,{label:t.t("table.userName"),prop:"userName",align:"center",width:"200"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.userName),1)]})),_:1},8,["label"]),Object(r["createVNode"])(h,{label:t.t("table.userEmail"),prop:"userEmail",align:"center",width:"250"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.userEmail),1)]})),_:1},8,["label"]),Object(r["createVNode"])(h,{label:t.t("table.actions"),align:"center",width:"287","class-name":"fixed-width"},{default:Object(r["withCtx"])((function(e){var n=e.row,o=e.$index;return[Object(r["createVNode"])(d,{type:"primary",size:"mini",onClick:function(e){return t.handleUpdate(n)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.edit")),1)]})),_:2},1032,["onClick"]),"deleted"!==n.status?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,size:"mini",type:"danger",onClick:function(e){return t.handleDelete(n,o)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.delete")),1)]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0),"deleted"!==n.status?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:1,size:"mini",type:"success",onClick:function(e){return t.showLog(n)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.show")),1)]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["label"])]})),_:1},8,["data"]),[[x,t.listLoading]]),a,Object(r["withDirectives"])(Object(r["createVNode"])(m,{total:t.total,page:t.listQuery.page,"onUpdate:page":e[3]||(e[3]=function(e){return t.listQuery.page=e}),limit:t.listQuery.limit,"onUpdate:limit":e[4]||(e[4]=function(e){return t.listQuery.limit=e}),onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange,"current-page":1,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","page","limit","onSizeChange","onCurrentChange"]),[[r["vShow"],t.total>0]]),Object(r["createVNode"])(y,{findName:t.textMap[t.dialogStatus],modelValue:t.dialogFormVisible,"onUpdate:modelValue":e[11]||(e[11]=function(e){return t.dialogFormVisible=e})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{ref:"dataForm",rules:t.rules,model:t.editData,"label-position":"left","label-width":"100px",style:{width:"400px","margin-left":"50px"}},{default:Object(r["withCtx"])((function(){return["create"!==t.dialogStatus?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,label:t.t("table.userId"),prop:"userId"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.userId,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.editData.userId=e}),disabled:""},null,8,["modelValue"])]})),_:1},8,["label"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(g,{label:t.t("table.userName"),prop:"userName"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.userName,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.editData.userName=e})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(g,{label:t.t("table.userEmail"),prop:"userEmail"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.userEmail,"onUpdate:modelValue":e[7]||(e[7]=function(e){return t.editData.userEmail=e})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(g,{label:t.t("table.userPassword"),prop:"userPassword"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.userPassword,"onUpdate:modelValue":e[8]||(e[8]=function(e){return t.editData.userPassword=e})},null,8,["modelValue"])]})),_:1},8,["label"])]})),_:1},8,["rules","model"]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])(d,{onClick:e[9]||(e[9]=function(e){return t.dialogFormVisible=!1})},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.cancel")),1)]})),_:1}),Object(r["createVNode"])(d,{type:"primary",onClick:e[10]||(e[10]=function(e){return"create"===t.dialogStatus?t.createData():t.updateData()})},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.confirm")),1)]})),_:1})])]})),_:1},8,["findName","modelValue"])])}n("4795");var c=n("5530"),l=(n("96cf"),n("1da1")),f=n("3fd4"),d=n("2ef0"),h={userId:null,userName:"",userEmail:"",userPassword:""},p=n("3a6a"),m=n("0613"),g=n("47e2"),v=n("6c02"),y=Object(r["defineComponent"])({components:{},setup:function(){Object(m["b"])();var t=Object(g["b"])(),e=t.t,n=Object(r["ref"])(f["a"]),o=Object(v["d"])(),i=function(t,e,n){n()},a=function(t,e,n){n()},u=function(t,e,n){n()},s=Object(r["reactive"])({tableKey:0,list:Array(),total:0,listLoading:!0,listQuery:{page:1,limit:10,findName:void 0,findId:void 0},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"",create:""},rules:{userName:[{required:!0,message:"findName is required",trigger:"change"},{validator:i,trigger:"change"}],userEmail:[{required:!0,message:"findName is required",trigger:"change"},{validator:a,trigger:"change"}],userPassword:[{required:!0,message:"findName is required",trigger:"change"},{validator:u,trigger:"change"}]},editData:h,handleCurrentChange:function(t){s.getList(t)},handleSizeChange:function(t){s.getList(null,null,t)},getList:function(t,e,n){return Object(l["a"])(regeneratorRuntime.mark((function r(){var o,i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t&&(s.listQuery.page=t),n&&(s.listQuery.limit=n),console.log(e),s.listLoading=!0,r.next=6,Object(p["g"])(s.listQuery.page,s.listQuery.limit);case 6:a=r.sent,console.log(a),s.list=null!==(o=null===a||void 0===a?void 0:a.data.items)&&void 0!==o?o:[],s.total=null!==(i=null===a||void 0===a?void 0:a.data.total)&&void 0!==i?i:0,setTimeout((function(){s.listLoading=!1}),500);case 11:case"end":return r.stop()}}),r)})))()},handleFindByName:function(){return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s.listQuery.page=1,s.listLoading=!0,!s.listQuery.findName){t.next=10;break}return t.next=5,Object(p["e"])(s.listQuery.findName);case 5:r=t.sent,s.list=null!==(e=null===r||void 0===r?void 0:r.data.items)&&void 0!==e?e:[],s.total=null!==(n=null===r||void 0===r?void 0:r.data.total)&&void 0!==n?n:0,t.next=11;break;case 10:s.getList(null,null,s.listQuery.limit);case 11:setTimeout((function(){s.listLoading=!1}),500);case 12:case"end":return t.stop()}}),t)})))()},handleFindById:function(){return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s.listQuery.page=1,s.listLoading=!0,s.listQuery.findId?Object(p["d"])(s.listQuery.findId).then((function(t){console.log("byid:",t.data),s.list=null!==t&&void 0!==t&&t.data.items?[t.data.items]:[],s.total=null!==t&&void 0!==t&&t.data.items?1:0,console.log(s.list),console.log(s.total)})):s.getList(null,null,s.listQuery.limit),setTimeout((function(){s.listLoading=!1}),500);case 4:case"end":return t.stop()}}),t)})))()},reseteditData:function(){s.editData=Object(d["cloneDeep"])(h)},handleCreate:function(){console.log(""),s.reseteditData(),s.dialogStatus="create",s.dialogFormVisible=!0,Object(r["nextTick"])((function(){n.value.clearValidate()}))},createData:function(){var t=Object(r["unref"])(n);t.validate((function(t){if(t){var e={userName:s.editData.userName,userEmail:s.editData.userEmail,userPassword:s.editData.userPassword};Object(p["a"])(e).then((function(t){"200"===t.code?(f["c"].success({message:"",type:"success",duration:2e3}),t.data.items,s.list.unshift(t.data.items),s.total+=1):f["c"].error({message:"",type:"error",duration:2e3})})),s.dialogFormVisible=!1}}))},handleUpdate:function(t){s.editData=Object.assign({},t),s.dialogStatus="update",s.dialogFormVisible=!0,Object(r["nextTick"])((function(){n.value.clearValidate()}))},updateData:function(){var t=Object(r["unref"])(n);t.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e&&(n=Object.assign({},s.editData),Object(p["i"])(n).then((function(t){"200"===t.code?s.getList(s.listQuery.page,null,s.listQuery.limit).then((function(){f["c"].success({message:"",type:"success",duration:2e3})})):f["c"].error({message:"",type:"error",duration:2e3})})),s.dialogFormVisible=!1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleDelete:function(t,e){console.log(e),Object(p["c"])(t.userId).then((function(t){"200"===t.code?s.getList(s.listQuery.page,null,s.listQuery.limit).then((function(){f["c"].success({message:"",type:"success",duration:2e3})})):f["c"].error({message:"",type:"error",duration:2e3})}))},showLog:function(t){s.editData=Object.assign({},t),o.push("/usermanage/showlog/".concat(t.userId))}});return Object(r["onMounted"])(Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s.getList(null,null,20);case 1:case"end":return t.stop()}}),t)})))),Object(c["a"])(Object(c["a"])({t:e},Object(r["toRefs"])(s)),{},{dataForm:n,router:o})}});y.render=s;var b=y,x=Object(r["defineComponent"])({expose:[],setup:function(t){return{ComplexTable:b}}});x.__scopeId="data-v-e000afb2";e["default"]=x},"080b":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),n=function(t){return t.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")},r=function(t){return t.getParam("pagebreak_split_block",!1)},o=function(){return"mce-pagebreak"},i=function(){return'<img src="'+e.transparentSrc+'" class="'+o()+'" data-mce-resize="false" data-mce-placeholder />'},a=function(t){var e=n(t),o=new RegExp(e.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(t){return"\\"+t})),"gi");t.on("BeforeSetContent",(function(t){t.content=t.content.replace(o,i())})),t.on("PreInit",(function(){t.serializer.addNodeFilter("img",(function(n){var o,i,a=n.length;while(a--)if(o=n[a],i=o.attr("class"),i&&-1!==i.indexOf("mce-pagebreak")){var u=o.parent;if(t.schema.getBlockElements()[u.name]&&r(t)){u.type=3,u.value=e,u.raw=!0,o.remove();continue}o.type=3,o.value=e,o.raw=!0}}))}))},u=function(t){t.addCommand("mcePageBreak",(function(){r(t)?t.insertContent("<p>"+i()+"</p>"):t.insertContent(i())}))},s=function(t){t.on("ResolveName",(function(e){"IMG"===e.target.nodeName&&t.dom.hasClass(e.target,o())&&(e.name="pagebreak")}))},c=function(t){t.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:function(){return t.execCommand("mcePageBreak")}}),t.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:function(){return t.execCommand("mcePageBreak")}})};function l(){t.add("pagebreak",(function(t){u(t),c(t),a(t),s(t)}))}l()})()},"0902":function(t,e,n){n("88b6")},"0a9d":function(t,e,n){n("69a4")},"0aa0":function(t,e,n){n("3b47")},"0d3b":function(t,e,n){var r=n("d039"),o=n("b622"),i=n("c430"),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e["delete"]("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"0d68":function(t,e,n){n("030f")},"0efa":function(t,e,n){n("4bdc")},"0f58":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){},n=function(t){return function(){return t}};function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var o=n(!1),i=n(!0),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=tinymce.util.Tools.resolve("tinymce.util.XHR"),s=function(t){return t.getParam("template_cdate_classes","cdate")},c=function(t){return t.getParam("template_mdate_classes","mdate")},l=function(t){return t.getParam("template_selected_content_classes","selcontent")},f=function(t){return t.getParam("template_preview_replace_values")},d=function(t){return t.getParam("content_style","","string")},h=function(t){return t.getParam("content_css_cors",!1,"boolean")},p=function(t){return t.getParam("template_replace_values")},m=function(t){return t.getParam("templates")},g=function(t){return t.getParam("template_cdate_format",t.translate("%Y-%m-%d"))},v=function(t){return t.getParam("template_mdate_format",t.translate("%Y-%m-%d"))},y=function(t){var e=t.getParam("body_class","","hash");return e[t.id]||""},b=function(t){var e=t.getParam("body_class","","string");return-1===e.indexOf("=")?e:y(t)},x=function(t,e){if(t=""+t,t.length<e)for(var n=0;n<e-t.length;n++)t="0"+t;return t},w=function(t,e,n){var r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),i="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" ");return n=n||new Date,e=e.replace("%D","%m/%d/%Y"),e=e.replace("%r","%I:%M:%S %p"),e=e.replace("%Y",""+n.getFullYear()),e=e.replace("%y",""+n.getYear()),e=e.replace("%m",x(n.getMonth()+1,2)),e=e.replace("%d",x(n.getDate(),2)),e=e.replace("%H",""+x(n.getHours(),2)),e=e.replace("%M",""+x(n.getMinutes(),2)),e=e.replace("%S",""+x(n.getSeconds(),2)),e=e.replace("%I",""+((n.getHours()+11)%12+1)),e=e.replace("%p",n.getHours()<12?"AM":"PM"),e=e.replace("%B",""+t.translate(a[n.getMonth()])),e=e.replace("%b",""+t.translate(i[n.getMonth()])),e=e.replace("%A",""+t.translate(o[n.getDay()])),e=e.replace("%a",""+t.translate(r[n.getDay()])),e=e.replace("%%","%"),e},_=function(t,e){return function(){var n=m(t);"function"!==typeof n?"string"===typeof n?u.send({url:n,success:function(t){e(JSON.parse(t))}}):e(n):n(e)}},S=function(t,e){return a.each(e,(function(e,n){"function"===typeof e&&(e=e(n)),t=t.replace(new RegExp("\\{\\$"+n+"\\}","g"),e)})),t},C=function(t,e){var n=t.dom,r=p(t);a.each(n.select("*",e),(function(t){a.each(r,(function(e,o){n.hasClass(t,o)&&"function"===typeof r[o]&&r[o](t)}))}))},k=function(t,e){return new RegExp("\\b"+e+"\\b","g").test(t.className)},T=function(t,e,n){var r,o=t.dom,i=t.selection.getContent();n=S(n,p(t)),r=o.create("div",null,n);var u=o.select(".mceTmpl",r);u&&u.length>0&&(r=o.create("div",null),r.appendChild(u[0].cloneNode(!0))),a.each(o.select("*",r),(function(e){k(e,s(t).replace(/\s+/g,"|"))&&(e.innerHTML=w(t,g(t))),k(e,c(t).replace(/\s+/g,"|"))&&(e.innerHTML=w(t,v(t))),k(e,l(t).replace(/\s+/g,"|"))&&(e.innerHTML=i)})),C(t,r),t.execCommand("mceInsertContent",!1,r.innerHTML),t.addVisual()},A=function(t){t.addCommand("mceInsertTemplate",r(T,t))},O=function(t){t.on("PreProcess",(function(e){var n=t.dom,r=v(t);a.each(n.select("div",e.node),(function(e){n.hasClass(e,"mceTmpl")&&(a.each(n.select("*",e),(function(e){n.hasClass(e,c(t).replace(/\s+/g,"|"))&&(e.innerHTML=w(t,r))})),C(t,e))}))}))},M=function(){return D},D=function(){var t=function(t){return t.isNone()},r=function(t){return t()},a=function(t){return t},u={fold:function(t,e){return t()},is:o,isSome:o,isNone:i,getOr:a,getOrThunk:r,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:a,orThunk:r,map:M,each:e,bind:M,exists:o,forall:i,filter:M,equals:t,equals_:t,toArray:function(){return[]},toString:n("none()")};return u}(),I=function(t){var e=n(t),r=function(){return u},a=function(e){return e(t)},u={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:i,isNone:o,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:r,orThunk:r,map:function(e){return I(e(t))},each:function(e){e(t)},bind:a,exists:a,forall:a,filter:function(e){return e(t)?u:D},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(o,(function(e){return n(t,e)}))}};return u},E=function(t){return null===t||void 0===t?D:I(t)},R={some:I,none:M,from:E},N=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},P=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return R.some(i);if(n(i,r))break}return R.none()},L=function(t,e){return P(t,e,o)},B=tinymce.util.Tools.resolve("tinymce.Env"),z=tinymce.util.Tools.resolve("tinymce.util.Promise"),V=Object.hasOwnProperty,F=function(t,e){return j(t,e)?R.from(t[e]):R.none()},j=function(t,e){return V.call(t,e)},H={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},U=function(t){return t.replace(/["'<>&]/g,(function(t){return F(H,t).getOr(t)}))},W=function(t,e){if(-1===e.indexOf("<html>")){var n="",r=d(t);r&&(n+='<style type="text/css">'+r+"</style>");var o=h(t)?' crossorigin="anonymous"':"";a.each(t.contentCSS,(function(e){n+='<link type="text/css" rel="stylesheet" href="'+t.documentBaseURI.toAbsolute(e)+'"'+o+">"}));var i=b(t),u=t.dom.encode,s=B.mac?"e.metaKey":"e.ctrlKey && !e.altKey",c='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+s+")) {e.preventDefault();}}}, false);<\/script> ",l=t.getBody().dir,p=l?' dir="'+u(l)+'"':"";e='<!DOCTYPE html><html><head><base href="'+u(t.documentBaseURI.getURI())+'">'+n+c+'</head><body class="'+u(i)+'"'+p+">"+e+"</body></html>"}return S(e,f(t))},G=function(t,e){var n=function(){if(!e||0===e.length){var n=t.translate("No templates defined.");return t.notificationManager.open({text:n,type:"info"}),R.none()}return R.from(a.map(e,(function(t,e){var n=function(t){return void 0!==t.url};return{selected:0===e,text:t.title,value:{url:n(t)?R.from(t.url):R.none(),content:n(t)?R.none():R.from(t.content),description:t.description}}})))},r=function(t){return N(t,(function(t){return{text:t.text,value:t.text}}))},o=function(t,e){return L(t,(function(t){return t.text===e}))},i=function(e){t.windowManager.alert("Could not load the specified template.",(function(){return e.focus("template")}))},s=function(t){return new z((function(e,n){t.value.url.fold((function(){return e(t.value.content.getOr(""))}),(function(t){return u.send({url:t,success:function(t){e(t)},error:function(t){n(t)}})}))}))},c=function(t,e){return function(n,r){if("template"===r.name){var a=n.getData().template;o(t,a).each((function(t){n.block("Loading..."),s(t).then((function(r){e(n,t,r)})).catch((function(){e(n,t,""),n.disable("save"),i(n)}))}))}}},l=function(e){return function(n){var r=n.getData();o(e,r.template).each((function(e){s(e).then((function(e){T(t,!1,e),n.close()})).catch((function(){n.disable("save"),i(n)}))}))}},f=function(e){var n=r(e),o=function(t,n){return{title:"Insert Template",size:"large",body:{type:"panel",items:t},initialData:n,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:l(e),onChange:c(e,a)}},a=function(e,r,i){var a=W(t,i),u=[{type:"selectbox",name:"template",label:"Templates",items:n},{type:"htmlpanel",html:'<p aria-live="polite">'+U(r.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],s={template:r.text,preview:a};e.unblock(),e.redial(o(u,s)),e.focus("template")},u=t.windowManager.open(o([],{template:"",preview:""}));u.block("Loading..."),s(e[0]).then((function(t){a(u,e[0],t)})).catch((function(){a(u,e[0],""),u.disable("save"),i(u)}))},d=n();d.each(f)},q=function(t){return function(e){G(t,e)}},Y=function(t){t.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:_(t,q(t))}),t.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:_(t,q(t))})};function X(){t.add("template",(function(t){Y(t),A(t),O(t)}))}X()})()},1276:function(t,e,n){"use strict";var r=n("d784"),o=n("44e7"),i=n("825a"),a=n("1d80"),u=n("4840"),s=n("8aa5"),c=n("50c4"),l=n("14c3"),f=n("9263"),d=n("d039"),h=[].push,p=Math.min,m=4294967295,g=!d((function(){return!RegExp(m,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?m:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);var u,s,c,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,d+"g");while(u=f.call(g,r)){if(s=g.lastIndex,s>p&&(l.push(r.slice(p,u.index)),u.length>1&&u.index<r.length&&h.apply(l,u.slice(1)),c=u[0].length,p=s,l.length>=i))break;g.lastIndex===u.index&&g.lastIndex++}return p===r.length?!c&&g.test("")||l.push(""):l.push(r.slice(p)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var f=i(t),d=String(this),h=u(f,RegExp),v=f.unicode,y=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),b=new h(g?f:"^(?:"+f.source+")",y),x=void 0===o?m:o>>>0;if(0===x)return[];if(0===d.length)return null===l(b,d)?[d]:[];var w=0,_=0,S=[];while(_<d.length){b.lastIndex=g?_:0;var C,k=l(b,g?d:d.slice(_));if(null===k||(C=p(c(b.lastIndex+(g?0:_)),d.length))===w)_=s(d,_,v);else{if(S.push(d.slice(w,_)),S.length===x)return S;for(var T=1;T<=k.length-1;T++)if(S.push(k[T]),S.length===x)return S;_=w=C}}return S.push(d.slice(w)),S}]}),!g)},"169f":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(t){return t.getParam("allow_html_in_named_anchor",!1,"boolean")},o="a:not([href])",i=function(t){return!t},a=function(t){var e=t.getAttribute("id")||t.getAttribute("name");return e||""},u=function(t){return t&&"a"===t.nodeName.toLowerCase()},s=function(t){return u(t)&&!t.getAttribute("href")&&""!==a(t)},c=function(t){return s(t)&&!t.firstChild},l=function(t){var r=t.dom;e(r).walk(t.selection.getRng(),(function(t){n.each(t,(function(t){c(t)&&r.remove(t,!1)}))}))},f=function(t){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(t)},d=function(t){return t.dom.getParent(t.selection.getStart(),o)},h=function(t){var e=d(t);return e?a(e):""},p=function(t,e){t.undoManager.transact((function(){r(t)||t.selection.collapse(!0),t.selection.isCollapsed()?t.insertContent(t.dom.createHTML("a",{id:e})):(l(t),t.formatter.remove("namedAnchor",null,null,!0),t.formatter.apply("namedAnchor",{value:e}),t.addVisual())}))},m=function(t,e,n){n.removeAttribute("name"),n.id=e,t.addVisual(),t.undoManager.add()},g=function(t,e){var n=d(t);n?m(t,e,n):p(t,e),t.focus()},v=function(t,e){return f(e)?(g(t,e),!0):(t.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},y=function(t){var e=h(t);t.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:e},onSubmit:function(e){v(t,e.getData().id)&&e.close()}})},b=function(t){t.addCommand("mceAnchor",(function(){y(t)}))},x=function(t){return t&&i(t.attr("href"))&&!i(t.attr("id")||t.attr("name"))},w=function(t){return x(t)&&!t.firstChild},_=function(t){return function(e){for(var n=0;n<e.length;n++){var r=e[n];w(r)&&r.attr("contenteditable",t)}}},S=function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("a",_("false")),t.serializer.addNodeFilter("a",_(null))}))},C=function(t){t.formatter.register("namedAnchor",{inline:"a",selector:o,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(t,e,n){return s(t)}})},k=function(t){t.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return t.execCommand("mceAnchor")},onSetup:function(e){return t.selection.selectorChangedWithUnbind("a:not([href])",e.setActive).unbind}}),t.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return t.execCommand("mceAnchor")}})};function T(){t.add("anchor",(function(t){S(t),b(t),k(t),t.on("PreInit",(function(){C(t)}))}))}T()})()},"16f1":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,e){return t.fire("insertCustomChar",{chr:e})},n=function(t,n){var r=e(t,n).chr;t.execCommand("mceInsertContent",!1,r)},r=function(){},o=function(t){return function(){return t}},i=o(!1),a=o(!0),u=function(){return s},s=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},s={fold:function(t,e){return t()},is:i,isSome:i,isNone:a,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:n,orThunk:e,map:u,each:r,bind:u,exists:i,forall:a,filter:u,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")};return s}(),c=function(t){var e=o(t),n=function(){return u},r=function(e){return e(t)},u={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:a,isNone:i,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return c(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?u:s},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(i,(function(e){return n(t,e)}))}};return u},l=function(t){return null===t||void 0===t?s:c(t)},f={some:c,none:u,from:l},d=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},h=function(t){return function(e){return d(e)===t}},p=h("array"),m=Array.prototype.push,g=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},v=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},y=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return f.some(i);if(n(i,r))break}return f.none()},b=function(t,e){return y(t,e,i)},x=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!p(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);m.apply(e,t[n])}return e},w=function(t,e){return x(g(t,e))},_=tinymce.util.Tools.resolve("tinymce.util.Tools"),S=function(t){return t.getParam("charmap")},C=function(t){return t.getParam("charmap_append")},k=_.isArray,T="User Defined",A=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},O=function(t){return _.grep(t,(function(t){return k(t)&&2===t.length}))},M=function(t){return k(t)?[].concat(O(t)):"function"===typeof t?t():[]},D=function(t,e){var n=S(t);n&&(e=[{name:T,characters:M(n)}]);var r=C(t);if(r){var o=_.grep(e,(function(t){return t.name===T}));return o.length?(o[0].characters=[].concat(o[0].characters).concat(M(r)),e):[].concat(e).concat({name:T,characters:M(r)})}return e},I=function(t){var e=D(t,A());return e.length>1?[{name:"All",characters:w(e,(function(t){return t.characters}))}].concat(e):e},E=function(t){var e=function(){return I(t)},r=function(e){n(t,e)};return{getCharMap:e,insertChar:r}},R=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},N=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){t.apply(null,r),n=null}),e)};return{cancel:r,throttle:o}},P=String.fromCodePoint,L=function(t,e){return-1!==t.indexOf(e)},B=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(P)return P.apply(void 0,t);for(var n=[],r=0,o="",i=0,a=t.length;i!==a;++i){var u=+t[i];if(!(u<1114111&&u>>>0===u))throw RangeError("Invalid code point: "+u);u<=65535?r=n.push(u):(u-=65536,r=n.push(55296+(u>>10),u%1024+56320)),r>=16383&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+String.fromCharCode.apply(null,n)},z=function(t,e,n){return!!L(B(t).toLowerCase(),n)||(L(e.toLowerCase(),n)||L(e.toLowerCase().replace(/\s+/g,""),n))},V=function(t,e){var n=[],r=e.toLowerCase();return v(t.characters,(function(t){z(t[0],t[1],r)&&n.push(t)})),g(n,(function(t){return{text:t[1],value:B(t[0]),icon:B(t[0])}}))},F="pattern",j=function(t,e){var r=function(){return[{label:"Search",type:"input",name:F},{type:"collection",name:"results"}]},o=function(){return g(e,(function(t){return{title:t.name,name:t.name,items:r()}}))},i=function(){return{type:"panel",items:r()}},a=function(){return{type:"tabpanel",tabs:o()}},u=1===e.length?R(T):R("All"),s=function(t,n){b(e,(function(t){return t.name===u.get()})).each((function(e){var r=V(e,n);t.setData({results:r})}))},c=40,l=N((function(t){var e=t.getData().pattern;s(t,e)}),c),f=1===e.length?i():a(),d={pattern:"",results:V(e[0],"")},h={title:"Special Character",size:"normal",body:f,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:d,onAction:function(e,r){"results"===r.name&&(n(t,r.value),e.close())},onTabChange:function(t,e){u.set(e.newTabName),l.throttle(t)},onChange:function(t,e){e.name===F&&l.throttle(t)}},p=t.windowManager.open(h);p.focus(F)},H=function(t,e){t.addCommand("mceShowCharmap",(function(){j(t,e)}))},U=tinymce.util.Tools.resolve("tinymce.util.Promise"),W=function(t,e){t.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(t,n){return new U((function(n,r){n(V(e,t))}))},onAction:function(e,n,r){t.selection.setRng(n),t.insertContent(r),e.hide()}})},G=function(t){t.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return t.execCommand("mceShowCharmap")}}),t.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return t.execCommand("mceShowCharmap")}})};function q(){t.add("charmap",(function(t){var e=I(t);return H(t,e),G(t),W(t,e[0]),E(t)}))}q()})()},1740:function(t,e,n){"use strict";n("2f9c")},1748:function(t,e,n){t.exports=n.p+"static/img/shoppings.07af2b96.png"},"1d2b":function(t,e,n){"use strict";function r(t,e){return function(){return t.apply(e,arguments)}}n.d(e,"a",(function(){return r}))},"1f1e":function(t,e,n){},"1fb5":function(t,e,n){"use strict";e.byteLength=l,e.toByteArray=d,e.fromByteArray=m;for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],o[a.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function l(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function f(t,e,n){return 3*(e+n)/4-n}function d(t){var e,n,r=c(t),a=r[0],u=r[1],s=new i(f(t,a,u)),l=0,d=u>0?a-4:a;for(n=0;n<d;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;return 2===u&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,s[l++]=255&e),1===u&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e),s}function h(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(h(r));return o.join("")}function m(t){for(var e,n=t.length,o=n%3,i=[],a=16383,u=0,s=n-o;u<s;u+=a)i.push(p(t,u,u+a>s?s:u+a));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},"21a6":function(t,e,n){(function(n){var r,o,i;(function(n,a){o=[],r=a,i="function"===typeof r?r.apply(e,o):r,void 0===i||(t.exports=i)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function r(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){s(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,u=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(t,e,n){var u=a.URL||a.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?i(s):o(s.href)?r(t,e,n):i(s,s.target="_blank")):(s.href=u.createObjectURL(t),setTimeout((function(){u.revokeObjectURL(s.href)}),4e4),setTimeout((function(){i(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,a){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,a),n);else if(o(t))r(t,n,a);else{var u=document.createElement("a");u.href=t,u.target="_blank",setTimeout((function(){i(u)}))}}:function(t,e,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return r(t,e,n);var i="application/octet-stream"===t.type,s=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&s||u)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},l.readAsDataURL(t)}else{var f=a.URL||a.webkitURL,d=f.createObjectURL(t);o?o.location=d:location.href=d,o=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});a.saveAs=s.saveAs=s,t.exports=s}))}).call(this,n("c8ba"))},2401:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){},n=function(t){return function(){return t}},r=function(t){return function(e){return!t(e)}},o=n(!1),i=n(!0),a=function(){return u},u=function(){var t=function(t){return t.isNone()},r=function(t){return t()},u=function(t){return t},s={fold:function(t,e){return t()},is:o,isSome:o,isNone:i,getOr:u,getOrThunk:r,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:u,orThunk:r,map:a,each:e,bind:a,exists:o,forall:i,filter:a,equals:t,equals_:t,toArray:function(){return[]},toString:n("none()")};return s}(),s=function(t){var e=n(t),r=function(){return c},a=function(e){return e(t)},c={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:i,isNone:o,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:r,orThunk:r,map:function(e){return s(e(t))},each:function(e){e(t)},bind:a,exists:a,forall:a,filter:function(e){return e(t)?c:u},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(o,(function(e){return n(t,e)}))}};return c},c=function(t){return null===t||void 0===t?u:s(t)},l={some:s,none:a,from:c},f=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},d=function(t){return function(e){return f(e)===t}},h=function(t){return function(e){return typeof e===t}},p=d("string"),m=d("array"),g=h("boolean"),v=h("function"),y=h("number"),b=Array.prototype.slice,x=Array.prototype.push,w=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},_=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},S=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},C=function(t,e){if(0===t.length)return[];for(var n=e(t[0]),r=[],o=[],i=0,a=t.length;i<a;i++){var u=t[i],s=e(u);s!==n&&(r.push(o),o=[]),n=s,o.push(u)}return 0!==o.length&&r.push(o),r},k=function(t,e,n){return _(t,(function(t){n=e(n,t)})),n},T=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return l.some(i);if(n(i,r))break}return l.none()},A=function(t,e){return T(t,e,o)},O=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!m(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);x.apply(e,t[n])}return e},M=function(t,e){return O(w(t,e))},D=function(t){var e=b.call(t,0);return e.reverse(),e},I=function(t,e){return e>=0&&e<t.length?l.some(t[e]):l.none()},E=function(t){return I(t,0)},R=function(t){return I(t,t.length-1)},N=function(){return N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},N.apply(this,arguments)},P=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},L=function(t,e,r,o){var i=t.isiOS()&&!0===/ipad/i.test(r),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),s=u||o("(pointer:coarse)"),c=i||!a&&u&&o("(min-device-width:768px)"),l=a||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),d=!l&&!c&&!f;return{isiPad:n(i),isiPhone:n(a),isTablet:n(c),isPhone:n(l),isTouch:n(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:n(f),isDesktop:n(d)}},B=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},z=function(t,e){var n=B(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return j(r(1),r(2))},V=function(t,e){var n=String(e).toLowerCase();return 0===t.length?F():z(t,n)},F=function(){return j(0,0)},j=function(t,e){return{major:t,minor:e}},H={nu:j,detect:V,unknown:F},U=function(t,e){var n=String(e).toLowerCase();return A(t,(function(t){return t.search(n)}))},W=function(t,e){return U(t,e).map((function(t){var n=H.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},G=function(t,e){return U(t,e).map((function(t){var n=H.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},q={detectBrowser:W,detectOs:G},Y=function(t,e){return-1!==t.indexOf(e)},X=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Z=function(t){return function(e){return Y(e,t)}},$=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Y(t,"edge/")&&Y(t,"chrome")&&Y(t,"safari")&&Y(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,X],search:function(t){return Y(t,"chrome")&&!Y(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Y(t,"msie")||Y(t,"trident")}},{name:"Opera",versionRegexes:[X,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Z("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Z("firefox")},{name:"Safari",versionRegexes:[X,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Y(t,"safari")||Y(t,"mobile/"))&&Y(t,"applewebkit")}}],K=[{name:"Windows",search:Z("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Y(t,"iphone")||Y(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Z("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Z("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Z("linux"),versionRegexes:[]},{name:"Solaris",search:Z("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Z("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Z("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],J={browsers:n($),oses:n(K)},Q="Edge",tt="Chrome",et="IE",nt="Opera",rt="Firefox",ot="Safari",it=function(){return at({current:void 0,version:H.unknown()})},at=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(Q),isChrome:r(tt),isIE:r(et),isOpera:r(nt),isFirefox:r(rt),isSafari:r(ot)}},ut={unknown:it,nu:at,edge:n(Q),chrome:n(tt),ie:n(et),opera:n(nt),firefox:n(rt),safari:n(ot)},st="Windows",ct="iOS",lt="Android",ft="Linux",dt="OSX",ht="Solaris",pt="FreeBSD",mt="ChromeOS",gt=function(){return vt({current:void 0,version:H.unknown()})},vt=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(st),isiOS:r(ct),isAndroid:r(lt),isOSX:r(dt),isLinux:r(ft),isSolaris:r(ht),isFreeBSD:r(pt),isChromeOS:r(mt)}},yt={unknown:gt,nu:vt,windows:n(st),ios:n(ct),android:n(lt),linux:n(ft),osx:n(dt),solaris:n(ht),freebsd:n(pt),chromeos:n(mt)},bt=function(t,e){var n=J.browsers(),r=J.oses(),o=q.detectBrowser(n,t).fold(ut.unknown,ut.nu),i=q.detectOs(r,t).fold(yt.unknown,yt.nu),a=L(i,o,t,e);return{browser:o,os:i,deviceType:a}},xt={detect:bt},wt=function(t){return window.matchMedia(t).matches},_t=P((function(){return xt.detect(navigator.userAgent,wt)})),St=function(){return _t()},Ct=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},kt=function(t,e){return Ct(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},Tt=1,At=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Dt(r.childNodes[0])},Ot=function(t,e){var n=e||document,r=n.createElement(t);return Dt(r)},Mt=function(t,e){var n=e||document,r=n.createTextNode(t);return Dt(r)},Dt=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},It=function(t,e,n){return l.from(t.dom.elementFromPoint(e,n)).map(Dt)},Et={fromHtml:At,fromTag:Ot,fromText:Mt,fromDom:Dt,fromPoint:It},Rt=function(t,e){var n=t.dom;if(n.nodeType!==Tt)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Nt=function(t,e){return t.dom===e.dom},Pt=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},Lt=function(t,e){return kt(t.dom,e.dom)},Bt=function(t,e){return St().browser.isIE()?Lt(t,e):Pt(t,e)},zt=Rt,Vt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ft=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),jt=tinymce.util.Tools.resolve("tinymce.util.VK"),Ht=Object.keys,Ut=function(t,e){for(var n=Ht(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},Wt=function(t){return function(e,n){t[n]=e}},Gt=function(t,e,n,r){var o={};return Ut(t,(function(t,o){(e(t,o)?n:r)(t,o)})),o},qt=function(t,n){var r={};return Gt(t,n,Wt(r),e),r},Yt=("undefined"!==typeof window?window:Function("return this;")(),function(t){var e=t.dom.nodeName;return e.toLowerCase()}),Xt=function(t){return t.dom.nodeType},Zt=function(t){return function(e){return Xt(e)===t}},$t=Zt(Tt),Kt=function(t,e,n){if(!(p(n)||g(n)||y(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},Jt=function(t,e){var n=t.dom;Ut(e,(function(t,e){Kt(n,e,t)}))},Qt=function(t){return k(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},te=function(t){return l.from(t.dom.parentNode).map(Et.fromDom)},ee=function(t){return w(t.dom.childNodes,Et.fromDom)},ne=function(t,e){var n=t.dom.childNodes;return l.from(n[e]).map(Et.fromDom)},re=function(t){return ne(t,0)},oe=function(t){return ne(t,t.dom.childNodes.length-1)},ie=function(t,e){var n=te(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},ae=function(t,e){t.dom.appendChild(e.dom)},ue=function(t,e){_(e,(function(e){ie(t,e)}))},se=function(t,e){_(e,(function(e){ae(t,e)}))},ce=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},le=function(t,e){return Et.fromDom(t.dom.cloneNode(e))},fe=function(t){return le(t,!0)},de=function(t,e){var n=Et.fromTag(e),r=Qt(t);return Jt(n,r),n},he=function(t,e){var n=de(t,e);ie(t,n);var r=ee(t);return se(n,r),ce(t),n},pe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),me=tinymce.util.Tools.resolve("tinymce.util.Tools"),ge=function(t){return function(e){return e&&e.nodeName.toLowerCase()===t}},ve=function(t){return function(e){return e&&t.test(e.nodeName)}},ye=function(t){return t&&3===t.nodeType},be=ve(/^(OL|UL|DL)$/),xe=ve(/^(OL|UL)$/),we=ge("ol"),_e=ve(/^(LI|DT|DD)$/),Se=ve(/^(DT|DD)$/),Ce=ve(/^(TH|TD)$/),ke=ge("br"),Te=function(t){return t.parentNode.firstChild===t},Ae=function(t,e){return e&&!!t.schema.getTextBlockElements()[e.nodeName]},Oe=function(t,e){return t&&t.nodeName in e},Me=function(t,e){return!!ke(e)&&(t.isBlock(e.nextSibling)&&!ke(e.previousSibling))},De=function(t,e,n){var r=t.isEmpty(e);return!(n&&t.select("span[data-mce-type=bookmark]",e).length>0)&&r},Ie=function(t,e){return t.isChildOf(e,t.getRoot())},Ee=function(t){return t.getParam("lists_indent_on_tab",!0)},Re=function(t){var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},Ne=function(t){return t.getParam("forced_root_block_attrs",{})},Pe=function(t,e){var n,r,o,i=t.dom,a=t.schema.getBlockElements(),u=i.createFragment(),s=Re(t);if(s&&(r=i.create(s),r.tagName===s.toUpperCase()&&i.setAttribs(r,Ne(t)),Oe(e.firstChild,a)||u.appendChild(r)),e)while(n=e.firstChild){var c=n.nodeName;o||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),Oe(n,a)?(u.appendChild(n),r=null):s?(r||(r=i.create(s),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return s?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},Le=pe.DOM,Be=function(t,e,n){var r=function(t){me.each(o,(function(e){t.parentNode.insertBefore(e,n.parentNode)})),Le.remove(t)},o=Le.select('span[data-mce-type="bookmark"]',e),i=Pe(t,n),a=Le.createRng();a.setStartAfter(n),a.setEndAfter(e);for(var u=a.extractContents(),s=u.firstChild;s;s=s.firstChild)if("LI"===s.nodeName&&t.dom.isEmpty(s)){Le.remove(s);break}t.dom.isEmpty(u)||Le.insertAfter(u,e),Le.insertAfter(i,e),De(t.dom,n.parentNode)&&r(n.parentNode),Le.remove(n),De(t.dom,e)&&Le.remove(e)},ze=function(t,e){zt(e,"dd")?he(e,"dt"):zt(e,"dt")&&te(e).each((function(n){return Be(t,n.dom,e.dom)}))},Ve=function(t){zt(t,"dt")&&he(t,"dd")},Fe=function(t,e,n){_(n,"Indent"===e?Ve:function(e){return ze(t,e)})},je=function(t,e){if(ye(t))return{container:t,offset:e};var n=Vt.getNode(t,e);return ye(n)?{container:n,offset:e>=t.childNodes.length?n.data.length:0}:n.previousSibling&&ye(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&ye(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:t,offset:e}},He=function(t){var e=t.cloneRange(),n=je(t.startContainer,t.startOffset);e.setStart(n.container,n.offset);var r=je(t.endContainer,t.endOffset);return e.setEnd(r.container,r.offset),e},Ue=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),We=function(t,e){var n=e||t.selection.getStart(!0);return t.dom.getParent(n,"OL,UL,DL",Ke(t,n))},Ge=function(t,e){return t&&1===e.length&&e[0]===t},qe=function(t){return me.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return be(t)}))},Ye=function(t){var e=We(t),n=t.selection.getSelectedBlocks();return Ge(e,n)?qe(e):me.grep(n,(function(t){return be(t)&&e!==t}))},Xe=function(t,e){var n=me.map(e,(function(e){var n=t.dom.getParent(e,"li,dd,dt",Ke(t,e));return n||e}));return Ue.unique(n)},Ze=function(t){var e=t.selection.getSelectedBlocks();return me.grep(Xe(t,e),(function(t){return _e(t)}))},$e=function(t){return S(Ze(t),Se)},Ke=function(t,e){var n=t.dom.getParents(e,"TD,TH"),r=n.length>0?n[0]:t.getBody();return r},Je=function(t,e){var n=t.dom.getParents(e,"ol,ul",Ke(t,e));return R(n)},Qe=function(t){var e=Je(t,t.selection.getStart()),n=S(t.selection.getSelectedBlocks(),xe);return e.toArray().concat(n)},tn=function(t){var e=Qe(t);return en(t,e)},en=function(t,e){var n=w(e,(function(e){return Je(t,e).getOr(e)}));return Ue.unique(n)},nn=function(t,e,n){return t.isSome()&&e.isSome()?l.some(n(t.getOrDie(),e.getOrDie())):l.none()},rn=function(t,e){var n=e||document,r=n.createDocumentFragment();return _(t,(function(t){r.appendChild(t.dom)})),Et.fromDom(r)},on=function(t,e,n){return t.fire("ListMutation",{action:e,element:n})},an=function(t){return void 0!==t.style&&v(t.style.getPropertyValue)},un=function(t,e,n){if(!p(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);an(t)&&t.style.setProperty(e,n)},sn=function(t,e,n){var r=t.dom;un(r,e,n)},cn=function(t,e){ae(t.item,e.list)},ln=function(t){for(var e=1;e<t.length;e++)cn(t[e-1],t[e])},fn=function(t,e){nn(R(t),E(e),cn)},dn=function(t,e){var n={list:Et.fromTag(e,t),item:Et.fromTag("li",t)};return ae(n.list,n.item),n},hn=function(t,e,n){for(var r=[],o=0;o<n;o++)r.push(dn(t,e.listType));return r},pn=function(t,e){for(var n=0;n<t.length-1;n++)sn(t[n].item,"list-style-type","none");R(t).each((function(t){Jt(t.list,e.listAttributes),Jt(t.item,e.itemAttributes),se(t.item,e.content)}))},mn=function(t,e){Yt(t.list)!==e.listType&&(t.list=he(t.list,e.listType)),Jt(t.list,e.listAttributes)},gn=function(t,e,n){var r=Et.fromTag("li",t);return Jt(r,e),se(r,n),r},vn=function(t,e){ae(t.list,e),t.item=e},yn=function(t,e,n){var r=e.slice(0,n.depth);return R(r).each((function(e){var r=gn(t,n.itemAttributes,n.content);vn(e,r),mn(e,n)})),r},bn=function(t,e,n){var r=hn(t,n,n.depth-e.length);return ln(r),pn(r,n),fn(e,r),e.concat(r)},xn=function(t,e){var n=k(e,(function(e,n){return n.depth>e.length?bn(t,e,n):yn(t,e,n)}),[]);return E(n).map((function(t){return t.list}))},wn=function(t){return zt(t,"OL,UL")},_n=function(t){return re(t).map(wn).getOr(!1)},Sn=function(t){return oe(t).map(wn).getOr(!1)},Cn=function(t){return t.depth>0},kn=function(t){return t.isSelected},Tn=function(t){var e=ee(t),n=Sn(t)?e.slice(0,-1):e;return w(n,fe)},An=function(t,e,n){return te(t).filter($t).map((function(r){return{depth:e,dirty:!1,isSelected:n,content:Tn(t),itemAttributes:Qt(t),listAttributes:Qt(r),listType:Yt(r)}}))},On=function(t,e){switch(t){case"Indent":e.depth++;break;case"Outdent":e.depth--;break;case"Flatten":e.depth=0}e.dirty=!0},Mn=function(t,e){t.listType=e.listType,t.listAttributes=N({},e.listAttributes)},Dn=function(t){t.listAttributes=qt(t.listAttributes,(function(t,e){return"start"!==e}))},In=function(t,e){var n=t[e].depth,r=function(t){return t.depth===n&&!t.dirty},o=function(t){return t.depth<n};return T(D(t.slice(0,e)),r,o).orThunk((function(){return T(t.slice(e+1),r,o)}))},En=function(t){return _(t,(function(e,n){In(t,n).fold((function(){e.dirty&&Dn(e)}),(function(t){return Mn(e,t)}))})),t},Rn=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},Nn=function(t,e,n,r){return re(r).filter(wn).fold((function(){e.each((function(t){Nt(t.start,r)&&n.set(!0)}));var o=An(r,t,n.get());e.each((function(t){Nt(t.end,r)&&n.set(!1)}));var i=oe(r).filter(wn).map((function(r){return Pn(t,e,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return Pn(t,e,n,r)}))},Pn=function(t,e,n,r){return M(ee(r),(function(r){var o=wn(r)?Pn:Nn,i=t+1;return o(i,e,n,r)}))},Ln=function(t,e){var n=Rn(!1),r=0;return w(t,(function(t){return{sourceList:t,entries:Pn(r,e,n,t)}}))},Bn=function(t,e){var n=En(e);return w(n,(function(e){var n=rn(e.content);return Et.fromDom(Pe(t,n.dom))}))},zn=function(t,e){var n=En(e);return xn(t.contentDocument,n).toArray()},Vn=function(t,e){return M(C(e,Cn),(function(e){var n=E(e).map(Cn).getOr(!1);return n?zn(t,e):Bn(t,e)}))},Fn=function(t,e){_(S(t,kn),(function(t){return On(e,t)}))},jn=function(t){var e=w(Ze(t),Et.fromDom);return nn(A(e,r(_n)),A(D(e),r(_n)),(function(t,e){return{start:t,end:e}}))},Hn=function(t,e,n){var r=Ln(e,jn(t));_(r,(function(e){Fn(e.entries,n);var r=Vn(t,e.entries);_(r,(function(e){on(t,"Indent"===n?"IndentList":"OutdentList",e.dom)})),ue(e.sourceList,r),ce(e.sourceList)}))},Un=function(t,e){var n=w(tn(t),Et.fromDom),r=w($e(t),Et.fromDom),o=!1;if(n.length||r.length){var i=t.selection.getBookmark();Hn(t,n,e),Fe(t,e,r),t.selection.moveToBookmark(i),t.selection.setRng(He(t.selection.getRng())),t.nodeChanged(),o=!0}return o},Wn=function(t){return Un(t,"Indent")},Gn=function(t){return Un(t,"Outdent")},qn=function(t){return Un(t,"Flatten")},Yn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Xn=pe.DOM,Zn=function(t){var e={},n=function(n){var r,o,i;o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(r=Xn.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):Xn.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),e[n?"startContainer":"endContainer"]=o,e[n?"startOffset":"endOffset"]=i};return n(!0),t.collapsed||n(),e},$n=function(t){function e(e){var n,r,o,i=function(t){var e=t.parentNode.firstChild,n=0;while(e){if(e===t)return n;1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||n++,e=e.nextSibling}return-1};n=o=t[e?"startContainer":"endContainer"],r=t[e?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=i(n),n=n.parentNode,Xn.remove(o),!n.hasChildNodes()&&Xn.isBlock(n)&&n.appendChild(Xn.create("br"))),t[e?"startContainer":"endContainer"]=n,t[e?"startOffset":"endOffset"]=r)}e(!0),e();var n=Xn.createRng();return n.setStart(t.startContainer,t.startOffset),t.endContainer&&n.setEnd(t.endContainer,t.endOffset),He(n)},Kn=function(t){switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Jn=function(t){return/\btox\-/.test(t.className)},Qn=function(t,e,n){var r=function(t){var r=T(t.parents,be,Ce).filter((function(t){return t.nodeName===e&&!Jn(t)})).isSome();n(r)},o=t.dom.getParents(t.selection.getNode());return r({parents:o}),t.on("NodeChange",r),function(){return t.off("NodeChange",r)}},tr=function(t,e,n){var r=n["list-style-type"]?n["list-style-type"]:null;t.setStyle(e,"list-style-type",r)},er=function(t,e){me.each(e,(function(e,n){t.setAttribute(n,e)}))},nr=function(t,e,n){er(e,n["list-attributes"]),me.each(t.select("li",e),(function(t){er(t,n["list-item-attributes"])}))},rr=function(t,e,n){tr(t,e,n),nr(t,e,n)},or=function(t,e,n){me.each(n,(function(n){var r;return t.setStyle(e,(r={},r[n]="",r))}))},ir=function(t,e,n,r){var o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"];1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&ke(o.nextSibling)&&(o=o.nextSibling);while(o.parentNode!==r){if(Ae(t,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},ar=function(t,e,n){for(var r,o=[],i=t.dom,a=ir(t,e,!0,n),u=ir(t,e,!1,n),s=[],c=a;c;c=c.nextSibling)if(s.push(c),c===u)break;return me.each(s,(function(e){if(Ae(t,e))return o.push(e),void(r=null);if(i.isBlock(e)||ke(e))return ke(e)&&i.remove(e),void(r=null);var a=e.nextSibling;Yn.isBookmarkNode(e)&&(Ae(t,a)||!a&&e.parentNode===n)?r=null:(r||(r=i.create("p"),e.parentNode.insertBefore(r,e),o.push(r)),r.appendChild(e))})),o},ur=function(t,e,n){var r=t.getStyle(e,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},sr=function(t,e,n){void 0===n&&(n={});var r=t.selection.getRng(),o="LI",i=Ke(t,t.selection.getStart(!0)),a=t.dom;if("false"!==a.getContentEditable(t.selection.getNode())){e=e.toUpperCase(),"DL"===e&&(o="DT");var u=Zn(r);me.each(ar(t,r,i),(function(r){var i,u=r.previousSibling;u&&be(u)&&u.nodeName===e&&ur(a,u,n)?(i=u,r=a.rename(r,o),u.appendChild(r)):(i=a.create(e),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),or(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),rr(a,i,n),hr(t.dom,i)})),t.selection.setRng($n(u))}},cr=function(t,e){return t&&e&&be(t)&&t.nodeName===e.nodeName},lr=function(t,e,n){var r=t.getStyle(e,"list-style-type",!0),o=t.getStyle(n,"list-style-type",!0);return r===o},fr=function(t,e){return t.className===e.className},dr=function(t,e,n){return cr(e,n)&&lr(t,e,n)&&fr(e,n)},hr=function(t,e){var n,r;if(n=e.nextSibling,dr(t,e,n)){while(r=n.firstChild)e.appendChild(r);t.remove(n)}if(n=e.previousSibling,dr(t,e,n)){while(r=n.lastChild)e.insertBefore(r,e.firstChild);t.remove(n)}},pr=function(t,e,n,r){if(e.nodeName!==n){var o=t.dom.rename(e,n);rr(t.dom,o,r),on(t,Kn(n),o)}else rr(t.dom,e,r),on(t,Kn(n),e)},mr=function(t,e,n,r,o){if(e.nodeName!==r||gr(o)){var i=Zn(t.selection.getRng(!0));me.each([e].concat(n),(function(e){pr(t,e,r,o)})),t.selection.setRng($n(i))}else qn(t)},gr=function(t){return"list-style-type"in t},vr=function(t,e,n,r){if(e!==t.getBody())if(e)if(e.nodeName!==n||gr(r)||Jn(e)){var o=Zn(t.selection.getRng(!0));rr(t.dom,e,r);var i=t.dom.rename(e,n);hr(t.dom,i),t.selection.setRng($n(o)),on(t,Kn(n),i)}else qn(t);else sr(t,n,r),on(t,Kn(n),e)},yr=function(t,e,n){var r=We(t),o=Ye(t);n=n||{},r&&o.length>0?mr(t,r,o,e,n):vr(t,r,e,n)},br=pe.DOM,xr=function(t,e){var n,r=e.parentNode;"LI"===r.nodeName&&r.firstChild===e&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(e),De(t,r)&&br.remove(r)):br.setStyle(r,"listStyleType","none")),be(r)&&(n=r.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(e))},wr=function(t,e){me.each(me.grep(t.select("ol,ul",e)),(function(e){xr(t,e)}))},_r=function(t,e,n,r){var o=e.startContainer,i=e.startOffset;if(ye(o)&&(n?i<o.data.length:i>0))return o;var a=t.schema.getNonEmptyElements();1===o.nodeType&&(o=Vt.getNode(o,i));var u=new Ft(o,r);n&&Me(t.dom,o)&&u.next();while(o=u[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(ye(o)&&o.data.length>0)return o}},Sr=function(t,e){var n=e.childNodes;return 1===n.length&&!be(n[0])&&t.isBlock(n[0])},Cr=function(t,e){Sr(t,e)&&t.remove(e.firstChild,!0)},kr=function(t,e,n){var r,o=Sr(t,n)?n.firstChild:n;if(Cr(t,e),!De(t,e,!0))while(r=e.firstChild)o.appendChild(r)},Tr=function(t,e,n){var r,o=e.parentNode;if(Ie(t,e)&&Ie(t,n)){be(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&ke(o.previousSibling)&&t.remove(o.previousSibling);var i=n.lastChild;i&&ke(i)&&e.hasChildNodes()&&t.remove(i),De(t,n,!0)&&t.$(n).empty(),kr(t,e,n),r&&n.appendChild(r);var a=Bt(Et.fromDom(n),Et.fromDom(e)),u=a?t.getParents(e,be,n):[];t.remove(e),_(u,(function(e){De(t,e)&&e!==t.getRoot()&&t.remove(e)}))}},Ar=function(t,e,n){t.dom.$(n).empty(),Tr(t.dom,e,n),t.selection.setCursorLocation(n)},Or=function(t,e,n,r){var o=t.dom;if(o.isEmpty(r))Ar(t,n,r);else{var i=Zn(e);Tr(o,n,r),t.selection.setRng($n(i))}},Mr=function(t,e,n,r){var o=Zn(e);Tr(t.dom,n,r);var i=$n(o);t.selection.setRng(i)},Dr=function(t,e){var n=t.dom,r=t.selection,o=r.getStart(),i=Ke(t,o),a=n.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===t.getBody()&&De(n,u))return!0;var s=He(r.getRng()),c=n.getParent(_r(t,s,e,i),"LI",i);if(c&&c!==a)return t.undoManager.transact((function(){e?Or(t,s,c,a):Te(a)?Gn(t):Mr(t,s,a,c)})),!0;if(!c&&!e&&0===s.startOffset&&0===s.endOffset)return t.undoManager.transact((function(){qn(t)})),!0}return!1},Ir=function(t,e,n){var r=t.getParent(e.parentNode,t.isBlock,n);t.remove(e),r&&t.isEmpty(r)&&t.remove(r)},Er=function(t,e){var n=t.dom,r=t.selection.getStart(),o=Ke(t,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=He(t.selection.getRng()),u=n.getParent(_r(t,a,e,o),"LI",o);if(u)return t.undoManager.transact((function(){Ir(n,i,o),hr(n,u.parentNode),t.selection.select(u,!0),t.selection.collapse(e)})),!0}return!1},Rr=function(t,e){return Dr(t,e)||Er(t,e)},Nr=function(t){var e=t.selection.getStart(),n=Ke(t,e),r=t.dom.getParent(e,"LI,DT,DD",n);return!!(r||Ze(t).length>0)&&(t.undoManager.transact((function(){t.execCommand("Delete"),wr(t.dom,t.getBody())})),!0)},Pr=function(t,e){return t.selection.isCollapsed()?Rr(t,e):Nr(t)},Lr=function(t){t.on("keydown",(function(e){e.keyCode===jt.BACKSPACE?Pr(t,!1)&&e.preventDefault():e.keyCode===jt.DELETE&&Pr(t,!0)&&e.preventDefault()}))},Br=function(t){return{backspaceDelete:function(e){Pr(t,e)}}},zr=function(t){var e=t.dom,n=We(t);we(n)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:e.getAttrib(n,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var r=n.getData();t.undoManager.transact((function(){e.setAttrib(We(t),"start","1"===r.start?"":r.start)})),n.close()}})},Vr=function(t,e){return function(){var n=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===e}},Fr=function(t){t.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase();"indent"===n?Wn(t):"outdent"===n&&Gn(t)})),t.addCommand("InsertUnorderedList",(function(e,n){yr(t,"UL",n)})),t.addCommand("InsertOrderedList",(function(e,n){yr(t,"OL",n)})),t.addCommand("InsertDefinitionList",(function(e,n){yr(t,"DL",n)})),t.addCommand("RemoveList",(function(){qn(t)})),t.addCommand("mceListProps",(function(){zr(t)})),t.addQueryStateHandler("InsertUnorderedList",Vr(t,"UL")),t.addQueryStateHandler("InsertOrderedList",Vr(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",Vr(t,"DL"))},jr=function(t){t.on("keydown",(function(e){e.keyCode!==jt.TAB||jt.metaKeyPressed(e)||t.undoManager.transact((function(){(e.shiftKey?Gn(t):Wn(t))&&e.preventDefault()}))}))},Hr=function(t){Ee(t)&&jr(t),Lr(t)},Ur=function(t){var e=function(e){return function(){return t.execCommand(e)}};t.hasPlugin("advlist")||(t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:function(e){return Qn(t,"OL",e.setActive)}}),t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:function(e){return Qn(t,"UL",e.setActive)}}))},Wr=function(t){var e={text:"List properties...",icon:"ordered-list",onAction:function(){return zr(t)},onSetup:function(e){return Qn(t,"OL",(function(t){return e.setDisabled(!t)}))}};t.ui.registry.addMenuItem("listprops",e),t.ui.registry.addContextMenu("lists",{update:function(e){var n=We(t,e);return we(n)?["listprops"]:[]}})};function Gr(){t.add("lists",(function(t){return!1===t.hasPlugin("rtc",!0)&&(Hr(t),Fr(t)),Ur(t),Wr(t),Br(t)}))}Gr()})()},"24e8":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),n=function(t){return t.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)},r=function(t){return t.getParam("default_link_target",!1)},o=function(t){return t.getParam("link_default_protocol","http","string")},i=function(t,e){return t===e||" "===t||160===t.charCodeAt(0)},a=function(t){d(t,-1,"(")},u=function(t){d(t,0,"")},s=function(t){d(t,-1,"")},c=function(t,e){if(e<0&&(e=0),3===t.nodeType){var n=t.data.length;e>n&&(e=n)}return e},l=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setStart(e,c(e,n)):t.setStartBefore(e)},f=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setEnd(e,c(e,n)):t.setEndAfter(e)},d=function(t,e,a){var u,s,c,d,h,p,m,g=n(t),v=r(t);if("A"!==t.selection.getNode().tagName){var y=t.selection.getRng().cloneRange();if(y.startOffset<5){if(h=y.endContainer.previousSibling,!h){if(!y.endContainer.firstChild||!y.endContainer.firstChild.nextSibling)return;h=y.endContainer.firstChild.nextSibling}if(p=h.length,l(y,h,p),f(y,h,p),y.endOffset<5)return;u=y.endOffset,s=h}else{if(s=y.endContainer,3!==s.nodeType&&s.firstChild){while(3!==s.nodeType&&s.firstChild)s=s.firstChild;3===s.nodeType&&(l(y,s,0),f(y,s,s.nodeValue.length))}u=1===y.endOffset?2:y.endOffset-1-e}var b=u;do{l(y,s,u>=2?u-2:0),f(y,s,u>=1?u-1:0),u-=1,m=y.toString()}while(" "!==m&&""!==m&&160!==m.charCodeAt(0)&&u-2>=0&&m!==a);i(y.toString(),a)?(l(y,s,u),f(y,s,b),u+=1):0===y.startOffset?(l(y,s,0),f(y,s,b)):(l(y,s,u),f(y,s,b)),d=y.toString(),"."===d.charAt(d.length-1)&&f(y,s,b-1),d=y.toString().trim();var x=d.match(g),w=o(t);x&&("www."===x[1]?x[1]=w+"://www.":/@$/.test(x[1])&&!/^mailto:/.test(x[1])&&(x[1]="mailto:"+x[1]),c=t.selection.getBookmark(),t.selection.setRng(y),t.execCommand("createlink",!1,x[1]+x[2]),!1!==v&&t.dom.setAttrib(t.selection.getNode(),"target",v),t.selection.moveToBookmark(c),t.nodeChanged())}},h=function(t){var n;t.on("keydown",(function(e){if(13===e.keyCode)return s(t)})),e.browser.isIE()?t.on("focus",(function(){if(!n){n=!0;try{t.execCommand("AutoUrlDetect",!1,!0)}catch(e){}}})):(t.on("keypress",(function(e){if(41===e.keyCode)return a(t)})),t.on("keyup",(function(e){if(32===e.keyCode)return u(t)})))};function p(){t.add("autolink",(function(t){h(t)}))}p()})()},2519:function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=function(){},o=function(t){return function(){return t}},i=o(!1),a=o(!0),u="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",s=o(u),c=function(){return l},l=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},u={fold:function(t,e){return t()},is:i,isSome:i,isNone:a,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:n,orThunk:e,map:c,each:r,bind:c,exists:i,forall:a,filter:c,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")};return u}(),f=function(t){var e=o(t),n=function(){return u},r=function(e){return e(t)},u={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:a,isNone:i,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return f(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?u:l},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(i,(function(e){return n(t,e)}))}};return u},d=function(t){return null===t||void 0===t?l:f(t)},h={some:f,none:c,from:d},p=s,m=tinymce.util.Tools.resolve("tinymce.util.Tools"),g=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},v=function(t){return function(e){return g(e)===t}},y=function(t){return function(e){return typeof e===t}},b=v("string"),x=v("array"),w=y("boolean"),_=y("number"),S=Array.prototype.slice,C=Array.prototype.push,k=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},T=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},A=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},O=function(t,e){if(0===t.length)return[];for(var n=e(t[0]),r=[],o=[],i=0,a=t.length;i<a;i++){var u=t[i],s=e(u);s!==n&&(r.push(o),o=[]),n=s,o.push(u)}return 0!==o.length&&r.push(o),r},M=function(t,e,n){return T(t,(function(t){n=e(n,t)})),n},D=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!x(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);C.apply(e,t[n])}return e},I=function(t,e){return D(k(t,e))},E=function(t,e){var n=S.call(t,0);return n.sort(e),n},R=Object.hasOwnProperty,N=function(t,e){return R.call(t,e)},P=("undefined"!==typeof window?window:Function("return this;")(),9),L=11,B=1,z=3,V=function(t){return t.dom.nodeType},F=function(t){return function(e){return V(e)===t}},j=F(z),H=function(t,e,n){if(!(b(n)||w(n)||_(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},U=function(t,e,n){H(t.dom,e,n)},W=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},G=function(t,e){return W(t,e,Node.DOCUMENT_POSITION_PRECEDING)},q=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Z(r.childNodes[0])},Y=function(t,e){var n=e||document,r=n.createElement(t);return Z(r)},X=function(t,e){var n=e||document,r=n.createTextNode(t);return Z(r)},Z=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},$=function(t,e,n){return h.from(t.dom.elementFromPoint(e,n)).map(Z)},K={fromHtml:q,fromTag:Y,fromText:X,fromDom:Z,fromPoint:$},J=function(t){return t.nodeType!==B&&t.nodeType!==P&&t.nodeType!==L||0===t.childElementCount},Q=function(t,e){var n=void 0===e?document:e.dom;return J(n)?[]:k(n.querySelectorAll(t),K.fromDom)},tt=function(t){return h.from(t.dom.parentNode).map(K.fromDom)},et=function(t){return k(t.dom.childNodes,K.fromDom)},nt=function(t,e){return{element:t,offset:e}},rt=function(t,e){var n=et(t);return n.length>0&&e<n.length?nt(n[e],0):nt(t,e)},ot=function(t,e){var n=tt(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},it=function(t,e){t.dom.appendChild(e.dom)},at=function(t,e){ot(t,e),it(e,t)};function ut(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?h.from(e.dom.nodeValue):h.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}}var st=ut(j,"text"),ct=function(t){return st.get(t)},lt=function(t,e){return Q(e,t)},ft=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),dt=function(t,e){return t.isBlock(e)||N(t.schema.getShortEndedElements(),e.nodeName)},ht=function(t,e){return"false"===t.getContentEditable(e)},pt=function(t,e){return"true"===t.getContentEditable(e)&&"false"===t.getContentEditableParent(e.parentNode)},mt=function(t,e){return!t.isBlock(e)&&N(t.schema.getWhiteSpaceElements(),e.nodeName)},gt=function(t,e){return dt(t,e)||ht(t,e)||mt(t,e)||pt(t,e)},vt=function(t){return 3===t.nodeType},yt=function(){return{sOffset:0,fOffset:0,elements:[]}},bt=function(t,e){return rt(K.fromDom(t),e)},xt=function(t,e,n,r,o,i){void 0===i&&(i=!0);var a=i?e(!1):n;while(a){var u=ht(t,a);if(u||mt(t,a)){var s=u?r.cef(a):r.boundary(a);if(s)break;a=e(!0)}else{if(dt(t,a)){if(r.boundary(a))break}else vt(a)&&r.text(a);if(a===o)break;a=e(!1)}}},wt=function(t,e,n,r,o){if(!gt(t,n)){var i=t.getParent(r,t.isBlock),u=new ft(n,i),s=o?u.next:u.prev;xt(t,s,n,{boundary:a,cef:a,text:function(t){o?e.fOffset+=t.length:e.sOffset+=t.length,e.elements.push(K.fromDom(t))}})}},_t=function(t,e,n,r,o,i){void 0===i&&(i=!0);var a=new ft(n,e),u=[],s=yt();wt(t,s,n,e,!1);var c=function(){return s.elements.length>0&&(u.push(s),s=yt()),!1};return xt(t,a.next,n,{boundary:c,cef:function(t){return c(),o&&u.push.apply(u,o.cef(t)),!1},text:function(t){s.elements.push(K.fromDom(t)),o&&o.text(t,s)}},r,i),r&&wt(t,s,r,e,!0),c(),u},St=function(t,e){var n=bt(e.startContainer,e.startOffset),r=n.element.dom,o=bt(e.endContainer,e.endOffset),i=o.element.dom;return _t(t,e.commonAncestorContainer,r,i,{text:function(t,e){t===i?e.fOffset+=t.length-o.offset:t===r&&(e.sOffset+=n.offset)},cef:function(e){var n=I(lt(K.fromDom(e),"*[contenteditable=true]"),(function(e){var n=e.dom;return _t(t,n,n)}));return E(n,(function(t,e){return G(t.elements[0].dom,e.elements[0].dom)?1:-1}))}},!1)},Ct=function(t,e){return e.collapsed?[]:St(t,e)},kt=function(t,e){var n=t.createRng();return n.selectNode(e),Ct(t,n)},Tt=function(t,e){return I(e,(function(e){return kt(t,e)}))},At=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);var o=e.regex;o.lastIndex=n;var i,a=[];while(i=o.exec(t)){var u=i[e.matchIndex],s=i.index+i[0].indexOf(u),c=s+u.length;if(c>r)break;a.push({start:s,finish:c}),o.lastIndex=c}return a},Ot=function(t,e){var n=M(t,(function(t,n){var r=ct(n),o=t.last,i=o+r.length,a=I(e,(function(t,e){return t.start<i&&t.finish>o?[{element:n,start:Math.max(o,t.start)-o,finish:Math.min(i,t.finish)-o,matchId:e}]:[]}));return{results:t.results.concat(a),last:i}}),{results:[],last:0}).results;return O(n,(function(t){return t.matchId}))},Mt=function(t,e){return I(e,(function(e){var n=e.elements,r=k(n,ct).join(""),o=At(r,t,e.sOffset,r.length-e.fOffset);return Ot(n,o)}))},Dt=function(t,e){A(t,(function(t,n){A(t,(function(t){var r=K.fromDom(e.cloneNode(!1));U(r,"data-mce-index",n);var o=t.element.dom;if(o.length===t.finish&&0===t.start)at(t.element,r);else{o.length!==t.finish&&o.splitText(t.finish);var i=o.splitText(t.start);at(K.fromDom(i),r)}}))}))},It=function(t,e,n,r){var o=kt(t,n),i=Mt(e,o);return Dt(i,r),i.length},Et=function(t,e,n,r){var o=n.getBookmark(),i=t.select("td[data-mce-selected],th[data-mce-selected]"),a=i.length>0?Tt(t,i):Ct(t,n.getRng()),u=Mt(e,a);return Dt(u,r),n.moveToBookmark(o),u.length},Rt=function(t){var e=t.getAttribute("data-mce-index");return"number"===typeof e?""+e:e},Nt=function(t,e,n,r){var o=t.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i=t.getBody();return Gt(t,e,!1),r?Et(t.dom,n,t.selection,o):It(t.dom,n,i,o)},Pt=function(t){var e=t.parentNode;t.firstChild&&e.insertBefore(t.firstChild,t),t.parentNode.removeChild(t)},Lt=function(t,e){var n=[],r=m.toArray(t.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=Rt(r[o]);null!==i&&i.length&&(i===e.toString()&&n.push(r[o]))}return n},Bt=function(t,e,n){var r=e.get(),o=r.index,i=t.dom;n=!1!==n,n?o+1===r.count?o=0:o++:o-1===-1?o=r.count-1:o--,i.removeClass(Lt(t,r.index),"mce-match-marker-selected");var a=Lt(t,o);return a.length?(i.addClass(Lt(t,o),"mce-match-marker-selected"),t.selection.scrollIntoView(a[0]),o):-1},zt=function(t,e){var n=e.parentNode;t.remove(e),t.isEmpty(n)&&t.remove(n)},Vt=function(t,e){var n=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),r="("+n+")";return e?"(?:^|\\s|"+p()+")"+r+"(?=$|\\s|"+p()+")":r},Ft=function(t,e,n,r,o,i){var a=Vt(n,o),u={regex:new RegExp(a,r?"g":"gi"),matchIndex:1},s=Nt(t,e,u,i);if(s){var c=Bt(t,e,!0);e.set({index:c,count:s,text:n,matchCase:r,wholeWord:o,inSelection:i})}return s},jt=function(t,e){var r=Bt(t,e,!0);e.set(n(n({},e.get()),{index:r}))},Ht=function(t,e){var r=Bt(t,e,!1);e.set(n(n({},e.get()),{index:r}))},Ut=function(t){var e=Rt(t);return null!==e&&e.length>0},Wt=function(t,e,r,o,i){var a,u=e.get(),s=u.index,c=s;o=!1!==o;for(var l=t.getBody(),f=m.grep(m.toArray(l.getElementsByTagName("span")),Ut),d=0;d<f.length;d++){var h=Rt(f[d]),p=a=parseInt(h,10);if(i||p===u.index){r.length?(f[d].firstChild.nodeValue=r,Pt(f[d])):zt(t.dom,f[d]);while(f[++d]){if(p=parseInt(Rt(f[d]),10),p!==a){d--;break}zt(t.dom,f[d])}o&&c--}else a>s&&f[d].setAttribute("data-mce-index",String(a-1))}return e.set(n(n({},u),{count:i?0:u.count-1,index:c})),o?jt(t,e):Ht(t,e),!i&&e.get().count>0},Gt=function(t,e,r){var o,i,a,u=e.get(),s=m.toArray(t.getBody().getElementsByTagName("span"));for(o=0;o<s.length;o++){var c=Rt(s[o]);null!==c&&c.length&&(c===u.index.toString()&&(i||(i=s[o].firstChild),a=s[o].firstChild),Pt(s[o]))}if(e.set(n(n({},u),{index:-1,count:0,text:""})),i&&a){var l=t.dom.createRng();return l.setStart(i,0),l.setEnd(a,a.data.length),!1!==r&&t.selection.setRng(l),l}},qt=function(t,e){return e.get().count>1},Yt=function(t,e){return e.get().count>1},Xt=function(t,e){var n=function(n){return Gt(t,e,n)},r=function(n,r,o,i){return void 0===i&&(i=!1),Ft(t,e,n,r,o,i)},o=function(){return jt(t,e)},i=function(){return Ht(t,e)},a=function(n,r,o){return Wt(t,e,n,r,o)};return{done:n,find:r,next:o,prev:i,replace:a}},Zt=function(){var e=t(h.none()),n=function(){return e.set(h.none())},r=function(t){return e.set(h.some(t))},o=function(){return e.get().isSome()},i=function(t){return e.get().each(t)};return{clear:n,set:r,isSet:o,on:i}},$t=tinymce.util.Tools.resolve("tinymce.Env"),Kt=function(t,e){var r=Zt();t.undoManager.add();var o=m.trim(t.selection.getContent({format:"text"}));function i(n){var r=qt(t,e)?n.enable:n.disable;r("next");var o=Yt(t,e)?n.enable:n.disable;o("prev")}var a=function(t){var r=t.getData(),o=e.get();e.set(n(n({},o),{matchCase:r.matchcase,wholeWord:r.wholewords,inSelection:r.inselection}))},u=function(t,e){var n=["replace","replaceall","prev","next"],r=e?t.disable:t.enable;T(n,r)};function s(e){t.windowManager.alert("Could not find the specified string.",(function(){e.focus("findtext")}))}var c=function(t,e){$t.browser.isSafari()&&$t.deviceType.isTouch()&&("find"===e||"replace"===e||"replaceall"===e)&&t.focus(e)},l=function(n){Gt(t,e,!1),u(n,!0),i(n)},f=function(n){var r=n.getData(),o=e.get();if(r.findtext.length){if(o.text===r.findtext&&o.matchCase===r.matchcase&&o.wholeWord===r.wholewords)jt(t,e);else{var a=Ft(t,e,r.findtext,r.matchcase,r.wholewords,r.inselection);a<=0&&s(n),u(n,0===a)}i(n)}else l(n)},d=e.get(),h={findtext:o,replacetext:"",wholewords:d.wholeWord,matchcase:d.matchCase,inselection:d.inSelection},p={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:h,onChange:function(t,n){"findtext"===n.name&&e.get().count>0&&l(t)},onAction:function(n,r){var o=n.getData();switch(r.name){case"find":f(n);break;case"replace":Wt(t,e,o.replacetext)?i(n):l(n);break;case"replaceall":Wt(t,e,o.replacetext,!0,!0),l(n);break;case"prev":Ht(t,e),i(n);break;case"next":jt(t,e),i(n);break;case"matchcase":case"wholewords":case"inselection":a(n),l(n);break}c(n,r.name)},onSubmit:function(t){f(t),c(t,"find")},onClose:function(){t.focus(),Gt(t,e),t.undoManager.add()}};r.set(t.windowManager.open(p,{inline:"toolbar"}))},Jt=function(t,e){t.addCommand("SearchReplace",(function(){Kt(t,e)}))},Qt=function(t,e){return function(){Kt(t,e)}},te=function(t,e){t.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Qt(t,e),icon:"search"}),t.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Qt(t,e),icon:"search"}),t.shortcuts.add("Meta+F","",Qt(t,e))};function ee(){e.add("searchreplace",(function(e){var n=t({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Jt(e,n),te(e,n),Xt(e,n)}))}ee()})()},"2b07":function(t,e,n){n("dbbc")},"2b3d":function(t,e,n){"use strict";n("3ca3");var r,o=n("23e7"),i=n("83ab"),a=n("0d3b"),u=n("da84"),s=n("37e8"),c=n("6eeb"),l=n("19aa"),f=n("5135"),d=n("60da"),h=n("4df4"),p=n("6547").codeAt,m=n("5fb2"),g=n("d44e"),v=n("9861"),y=n("69f3"),b=u.URL,x=v.URLSearchParams,w=v.getState,_=y.set,S=y.getterFor("URL"),C=Math.floor,k=Math.pow,T="Invalid authority",A="Invalid scheme",O="Invalid host",M="Invalid port",D=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,E=/\d/,R=/^(0x|0X)/,N=/^[0-7]+$/,P=/^\d+$/,L=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,z=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,V=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,j=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return O;if(n=U(e.slice(1,-1)),!n)return O;t.host=n}else if(J(t)){if(e=m(e),B.test(e))return O;if(n=H(e),null===n)return O;t.host=n}else{if(z.test(e))return O;for(n="",r=h(e),o=0;o<r.length;o++)n+=$(r[o],q);t.host=n}},H=function(t){var e,n,r,o,i,a,u,s=t.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),e=s.length,e>4)return t;for(n=[],r=0;r<e;r++){if(o=s[r],""==o)return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=R.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?P:8==i?N:L).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=k(256,5-e))return null}else if(a>255)return null;for(u=n.pop(),r=0;r<n.length;r++)u+=n[r]*k(256,3-r);return u},U=function(t){var e,n,r,o,i,a,u,s=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return t.charAt(f)};if(":"==d()){if(":"!=t.charAt(1))return;f+=2,c++,l=c}while(d()){if(8==c)return;if(":"!=d()){e=n=0;while(n<4&&L.test(d()))e=16*e+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;r=0;while(d()){if(o=null,r>0){if(!("."==d()&&r<4))return;f++}if(!E.test(d()))return;while(E.test(d())){if(i=parseInt(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}s[c]=256*s[c]+o,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;s[c++]=e}else{if(null!==l)return;f++,c++,l=c}}if(null!==l){a=c-l,c=7;while(0!=c&&a>0)u=s[c],s[c--]=s[l+a-1],s[l+--a]=u}else if(8!=c)return;return s},W=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e},G=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=C(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=W(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},q={},Y=d({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),X=d({},Y,{"#":1,"?":1,"{":1,"}":1}),Z=d({},X,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),$=function(t,e){var n=p(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(t){return f(K,t.scheme)},Q=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var n;return 2==t.length&&D.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},nt=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},rt=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&et(e[0],!0)||e.pop()},ot=function(t){return"."===t||"%2e"===t.toLowerCase()},it=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},at={},ut={},st={},ct={},lt={},ft={},dt={},ht={},pt={},mt={},gt={},vt={},yt={},bt={},xt={},wt={},_t={},St={},Ct={},kt={},Tt={},At=function(t,e,n,o){var i,a,u,s,c=n||at,l=0,d="",p=!1,m=!1,g=!1;n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(V,"")),e=e.replace(F,""),i=h(e);while(l<=i.length){switch(a=i[l],c){case at:if(!a||!D.test(a)){if(n)return A;c=st;continue}d+=a.toLowerCase(),c=ut;break;case ut:if(a&&(I.test(a)||"+"==a||"-"==a||"."==a))d+=a.toLowerCase();else{if(":"!=a){if(n)return A;d="",c=st,l=0;continue}if(n&&(J(t)!=f(K,d)||"file"==d&&(Q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(J(t)&&K[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?c=bt:J(t)&&o&&o.scheme==t.scheme?c=ct:J(t)?c=ht:"/"==i[l+1]?(c=lt,l++):(t.cannotBeABaseURL=!0,t.path.push(""),c=Ct)}break;case st:if(!o||o.cannotBeABaseURL&&"#"!=a)return A;if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,c=Tt;break}c="file"==o.scheme?bt:ft;continue;case ct:if("/"!=a||"/"!=i[l+1]){c=ft;continue}c=pt,l++;break;case lt:if("/"==a){c=mt;break}c=St;continue;case ft:if(t.scheme=o.scheme,a==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&J(t))c=dt;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",c=kt;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),c=St;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",c=Tt}break;case dt:if(!J(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,c=St;continue}c=mt}else c=pt;break;case ht:if(c=pt,"/"!=a||"/"!=d.charAt(l+1))continue;l++;break;case pt:if("/"!=a&&"\\"!=a){c=mt;continue}break;case mt:if("@"==a){p&&(d="%40"+d),p=!0,u=h(d);for(var v=0;v<u.length;v++){var y=u[v];if(":"!=y||g){var b=$(y,Z);g?t.password+=b:t.username+=b}else g=!0}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)){if(p&&""==d)return T;l-=h(d).length+1,d="",c=gt}else d+=a;break;case gt:case vt:if(n&&"file"==t.scheme){c=wt;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)){if(J(t)&&""==d)return O;if(n&&""==d&&(Q(t)||null!==t.port))return;if(s=j(t,d),s)return s;if(d="",c=_t,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),d+=a}else{if(""==d)return O;if(s=j(t,d),s)return s;if(d="",c=yt,n==vt)return}break;case yt:if(!E.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)||n){if(""!=d){var x=parseInt(d,10);if(x>65535)return M;t.port=J(t)&&x===K[t.scheme]?null:x,d=""}if(n)return;c=_t;continue}return M}d+=a;break;case bt:if(t.scheme="file","/"==a||"\\"==a)c=xt;else{if(!o||"file"!=o.scheme){c=St;continue}if(a==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",c=kt;else{if("#"!=a){nt(i.slice(l).join(""))||(t.host=o.host,t.path=o.path.slice(),rt(t)),c=St;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",c=Tt}}break;case xt:if("/"==a||"\\"==a){c=wt;break}o&&"file"==o.scheme&&!nt(i.slice(l).join(""))&&(et(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),c=St;continue;case wt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&et(d))c=St;else if(""==d){if(t.host="",n)return;c=_t}else{if(s=j(t,d),s)return s;if("localhost"==t.host&&(t.host=""),n)return;d="",c=_t}continue}d+=a;break;case _t:if(J(t)){if(c=St,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(c=St,"/"!=a))continue}else t.fragment="",c=Tt;else t.query="",c=kt;break;case St:if(a==r||"/"==a||"\\"==a&&J(t)||!n&&("?"==a||"#"==a)){if(it(d)?(rt(t),"/"==a||"\\"==a&&J(t)||t.path.push("")):ot(d)?"/"==a||"\\"==a&&J(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(a==r||"?"==a||"#"==a))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==a?(t.query="",c=kt):"#"==a&&(t.fragment="",c=Tt)}else d+=$(a,X);break;case Ct:"?"==a?(t.query="",c=kt):"#"==a?(t.fragment="",c=Tt):a!=r&&(t.path[0]+=$(a,q));break;case kt:n||"#"!=a?a!=r&&("'"==a&&J(t)?t.query+="%27":t.query+="#"==a?"%23":$(a,q)):(t.fragment="",c=Tt);break;case Tt:a!=r&&(t.fragment+=$(a,Y));break}l++}},Ot=function(t){var e,n,r=l(this,Ot,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),u=_(r,{type:"URL"});if(void 0!==o)if(o instanceof Ot)e=S(o);else if(n=At(e={},String(o)),n)throw TypeError(n);if(n=At(u,a,null,e),n)throw TypeError(n);var s=u.searchParams=new x,c=w(s);c.updateSearchParams(u.query),c.updateURL=function(){u.query=String(s)||null},i||(r.href=Dt.call(r),r.origin=It.call(r),r.protocol=Et.call(r),r.username=Rt.call(r),r.password=Nt.call(r),r.host=Pt.call(r),r.hostname=Lt.call(r),r.port=Bt.call(r),r.pathname=zt.call(r),r.search=Vt.call(r),r.searchParams=Ft.call(r),r.hash=jt.call(r))},Mt=Ot.prototype,Dt=function(){var t=S(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,u=t.query,s=t.fragment,c=e+":";return null!==o?(c+="//",Q(t)&&(c+=n+(r?":"+r:"")+"@"),c+=G(o),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(c+="?"+u),null!==s&&(c+="#"+s),c},It=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&J(t)?e+"://"+G(t.host)+(null!==n?":"+n:""):"null"},Et=function(){return S(this).scheme+":"},Rt=function(){return S(this).username},Nt=function(){return S(this).password},Pt=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?G(e):G(e)+":"+n},Lt=function(){var t=S(this).host;return null===t?"":G(t)},Bt=function(){var t=S(this).port;return null===t?"":String(t)},zt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Vt=function(){var t=S(this).query;return t?"?"+t:""},Ft=function(){return S(this).searchParams},jt=function(){var t=S(this).fragment;return t?"#"+t:""},Ht=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&s(Mt,{href:Ht(Dt,(function(t){var e=S(this),n=String(t),r=At(e,n);if(r)throw TypeError(r);w(e.searchParams).updateSearchParams(e.query)})),origin:Ht(It),protocol:Ht(Et,(function(t){var e=S(this);At(e,String(t)+":",at)})),username:Ht(Rt,(function(t){var e=S(this),n=h(String(t));if(!tt(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=$(n[r],Z)}})),password:Ht(Nt,(function(t){var e=S(this),n=h(String(t));if(!tt(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=$(n[r],Z)}})),host:Ht(Pt,(function(t){var e=S(this);e.cannotBeABaseURL||At(e,String(t),gt)})),hostname:Ht(Lt,(function(t){var e=S(this);e.cannotBeABaseURL||At(e,String(t),vt)})),port:Ht(Bt,(function(t){var e=S(this);tt(e)||(t=String(t),""==t?e.port=null:At(e,t,yt))})),pathname:Ht(zt,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],At(e,t+"",_t))})),search:Ht(Vt,(function(t){var e=S(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",At(e,t,kt)),w(e.searchParams).updateSearchParams(e.query)})),searchParams:Ht(Ft),hash:Ht(jt,(function(t){var e=S(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",At(e,t,Tt)):e.fragment=null}))}),c(Mt,"toJSON",(function(){return Dt.call(this)}),{enumerable:!0}),c(Mt,"toString",(function(){return Dt.call(this)}),{enumerable:!0}),b){var Ut=b.createObjectURL,Wt=b.revokeObjectURL;Ut&&c(Ot,"createObjectURL",(function(t){return Ut.apply(b,arguments)})),Wt&&c(Ot,"revokeObjectURL",(function(t){return Wt.apply(b,arguments)}))}g(Ot,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Ot})},"2b75":function(t,e,n){"use strict";n("433f")},"2ef0":function(t,e,n){(function(t,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,a="4.17.20",u=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",h=1,p=2,m=4,g=1,v=2,y=1,b=2,x=4,w=8,_=16,S=32,C=64,k=128,T=256,A=512,O=30,M="...",D=800,I=16,E=1,R=2,N=3,P=1/0,L=9007199254740991,B=17976931348623157e292,z=NaN,V=4294967295,F=V-1,j=V>>>1,H=[["ary",k],["bind",y],["bindKey",b],["curry",w],["curryRight",_],["flip",A],["partial",S],["partialRight",C],["rearg",T]],U="[object Arguments]",W="[object Array]",G="[object AsyncFunction]",q="[object Boolean]",Y="[object Date]",X="[object DOMException]",Z="[object Error]",$="[object Function]",K="[object GeneratorFunction]",J="[object Map]",Q="[object Number]",tt="[object Null]",et="[object Object]",nt="[object Promise]",rt="[object Proxy]",ot="[object RegExp]",it="[object Set]",at="[object String]",ut="[object Symbol]",st="[object Undefined]",ct="[object WeakMap]",lt="[object WeakSet]",ft="[object ArrayBuffer]",dt="[object DataView]",ht="[object Float32Array]",pt="[object Float64Array]",mt="[object Int8Array]",gt="[object Int16Array]",vt="[object Int32Array]",yt="[object Uint8Array]",bt="[object Uint8ClampedArray]",xt="[object Uint16Array]",wt="[object Uint32Array]",_t=/\b__p \+= '';/g,St=/\b(__p \+=) '' \+/g,Ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,At=RegExp(kt.source),Ot=RegExp(Tt.source),Mt=/<%-([\s\S]+?)%>/g,Dt=/<%([\s\S]+?)%>/g,It=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(Pt.source),Bt=/^\s+|\s+$/g,zt=/^\s+/,Vt=/\s+$/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ht=/,? & /,Ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/\\(\\)?/g,Gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Xt=/^0b[01]+$/i,Zt=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,te=/['\n\r\u2028\u2029\\]/g,ee="\\ud800-\\udfff",ne="\\u0300-\\u036f",re="\\ufe20-\\ufe2f",oe="\\u20d0-\\u20ff",ie=ne+re+oe,ae="\\u2700-\\u27bf",ue="a-z\\xdf-\\xf6\\xf8-\\xff",se="\\xac\\xb1\\xd7\\xf7",ce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",le="\\u2000-\\u206f",fe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="A-Z\\xc0-\\xd6\\xd8-\\xde",he="\\ufe0e\\ufe0f",pe=se+ce+le+fe,me="[']",ge="["+ee+"]",ve="["+pe+"]",ye="["+ie+"]",be="\\d+",xe="["+ae+"]",we="["+ue+"]",_e="[^"+ee+pe+be+ae+ue+de+"]",Se="\\ud83c[\\udffb-\\udfff]",Ce="(?:"+ye+"|"+Se+")",ke="[^"+ee+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+de+"]",Me="\\u200d",De="(?:"+we+"|"+_e+")",Ie="(?:"+Oe+"|"+_e+")",Ee="(?:"+me+"(?:d|ll|m|re|s|t|ve))?",Re="(?:"+me+"(?:D|LL|M|RE|S|T|VE))?",Ne=Ce+"?",Pe="["+he+"]?",Le="(?:"+Me+"(?:"+[ke,Te,Ae].join("|")+")"+Pe+Ne+")*",Be="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ze="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ve=Pe+Ne+Le,Fe="(?:"+[xe,Te,Ae].join("|")+")"+Ve,je="(?:"+[ke+ye+"?",ye,Te,Ae,ge].join("|")+")",He=RegExp(me,"g"),Ue=RegExp(ye,"g"),We=RegExp(Se+"(?="+Se+")|"+je+Ve,"g"),Ge=RegExp([Oe+"?"+we+"+"+Ee+"(?="+[ve,Oe,"$"].join("|")+")",Ie+"+"+Re+"(?="+[ve,Oe+De,"$"].join("|")+")",Oe+"?"+De+"+"+Ee,Oe+"+"+Re,ze,Be,be,Fe].join("|"),"g"),qe=RegExp("["+Me+ee+ie+he+"]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ze=-1,$e={};$e[ht]=$e[pt]=$e[mt]=$e[gt]=$e[vt]=$e[yt]=$e[bt]=$e[xt]=$e[wt]=!0,$e[U]=$e[W]=$e[ft]=$e[q]=$e[dt]=$e[Y]=$e[Z]=$e[$]=$e[J]=$e[Q]=$e[et]=$e[ot]=$e[it]=$e[at]=$e[ct]=!1;var Ke={};Ke[U]=Ke[W]=Ke[ft]=Ke[dt]=Ke[q]=Ke[Y]=Ke[ht]=Ke[pt]=Ke[mt]=Ke[gt]=Ke[vt]=Ke[J]=Ke[Q]=Ke[et]=Ke[ot]=Ke[it]=Ke[at]=Ke[ut]=Ke[yt]=Ke[bt]=Ke[xt]=Ke[wt]=!0,Ke[Z]=Ke[$]=Ke[ct]=!1;var Je={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,on="object"==typeof t&&t&&t.Object===Object&&t,an="object"==typeof self&&self&&self.Object===Object&&self,un=on||an||Function("return this")(),sn=e&&!e.nodeType&&e,cn=sn&&"object"==typeof r&&r&&!r.nodeType&&r,ln=cn&&cn.exports===sn,fn=ln&&on.process,dn=function(){try{var t=cn&&cn.require&&cn.require("util").types;return t||fn&&fn.binding&&fn.binding("util")}catch(e){}}(),hn=dn&&dn.isArrayBuffer,pn=dn&&dn.isDate,mn=dn&&dn.isMap,gn=dn&&dn.isRegExp,vn=dn&&dn.isSet,yn=dn&&dn.isTypedArray;function bn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xn(t,e,n,r){var o=-1,i=null==t?0:t.length;while(++o<i){var a=t[o];e(r,a,n(a),t)}return r}function wn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function _n(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function Sn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function Cn(t,e){var n=-1,r=null==t?0:t.length,o=0,i=[];while(++n<r){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function kn(t,e){var n=null==t?0:t.length;return!!n&&Bn(t,e,0)>-1}function Tn(t,e,n){var r=-1,o=null==t?0:t.length;while(++r<o)if(n(e,t[r]))return!0;return!1}function An(t,e){var n=-1,r=null==t?0:t.length,o=Array(r);while(++n<r)o[n]=e(t[n],n,t);return o}function On(t,e){var n=-1,r=e.length,o=t.length;while(++n<r)t[o+n]=e[n];return t}function Mn(t,e,n,r){var o=-1,i=null==t?0:t.length;r&&i&&(n=t[++o]);while(++o<i)n=e(n,t[o],o,t);return n}function Dn(t,e,n,r){var o=null==t?0:t.length;r&&o&&(n=t[--o]);while(o--)n=e(n,t[o],o,t);return n}function In(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var En=jn("length");function Rn(t){return t.split("")}function Nn(t){return t.match(Ut)||[]}function Pn(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Ln(t,e,n,r){var o=t.length,i=n+(r?1:-1);while(r?i--:++i<o)if(e(t[i],i,t))return i;return-1}function Bn(t,e,n){return e===e?dr(t,e,n):Ln(t,Vn,n)}function zn(t,e,n,r){var o=n-1,i=t.length;while(++o<i)if(r(t[o],e))return o;return-1}function Vn(t){return t!==t}function Fn(t,e){var n=null==t?0:t.length;return n?Gn(t,e)/n:z}function jn(t){return function(e){return null==e?i:e[t]}}function Hn(t){return function(e){return null==t?i:t[e]}}function Un(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function Wn(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function Gn(t,e){var n,r=-1,o=t.length;while(++r<o){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function qn(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}function Yn(t,e){return An(e,(function(e){return[e,t[e]]}))}function Xn(t){return function(e){return t(e)}}function Zn(t,e){return An(e,(function(e){return t[e]}))}function $n(t,e){return t.has(e)}function Kn(t,e){var n=-1,r=t.length;while(++n<r&&Bn(e,t[n],0)>-1);return n}function Jn(t,e){var n=t.length;while(n--&&Bn(e,t[n],0)>-1);return n}function Qn(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}var tr=Hn(Je),er=Hn(Qe);function nr(t){return"\\"+en[t]}function rr(t,e){return null==t?i:t[e]}function or(t){return qe.test(t)}function ir(t){return Ye.test(t)}function ar(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function ur(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function sr(t,e){return function(n){return t(e(n))}}function cr(t,e){var n=-1,r=t.length,o=0,i=[];while(++n<r){var a=t[n];a!==e&&a!==d||(t[n]=d,i[o++]=n)}return i}function lr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function fr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function dr(t,e,n){var r=n-1,o=t.length;while(++r<o)if(t[r]===e)return r;return-1}function hr(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}function pr(t){return or(t)?vr(t):En(t)}function mr(t){return or(t)?yr(t):Rn(t)}var gr=Hn(tn);function vr(t){var e=We.lastIndex=0;while(We.test(t))++e;return e}function yr(t){return t.match(We)||[]}function br(t){return t.match(Ge)||[]}var xr=function t(e){e=null==e?un:wr.defaults(un.Object(),e,wr.pick(un,Xe));var n=e.Array,r=e.Date,o=e.Error,Ut=e.Function,ee=e.Math,ne=e.Object,re=e.RegExp,oe=e.String,ie=e.TypeError,ae=n.prototype,ue=Ut.prototype,se=ne.prototype,ce=e["__core-js_shared__"],le=ue.toString,fe=se.hasOwnProperty,de=0,he=function(){var t=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=se.toString,me=le.call(ne),ge=un._,ve=re("^"+le.call(fe).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=ln?e.Buffer:i,be=e.Symbol,xe=e.Uint8Array,we=ye?ye.allocUnsafe:i,_e=sr(ne.getPrototypeOf,ne),Se=ne.create,Ce=se.propertyIsEnumerable,ke=ae.splice,Te=be?be.isConcatSpreadable:i,Ae=be?be.iterator:i,Oe=be?be.toStringTag:i,Me=function(){try{var t=Ga(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),De=e.clearTimeout!==un.clearTimeout&&e.clearTimeout,Ie=r&&r.now!==un.Date.now&&r.now,Ee=e.setTimeout!==un.setTimeout&&e.setTimeout,Re=ee.ceil,Ne=ee.floor,Pe=ne.getOwnPropertySymbols,Le=ye?ye.isBuffer:i,Be=e.isFinite,ze=ae.join,Ve=sr(ne.keys,ne),Fe=ee.max,je=ee.min,We=r.now,Ge=e.parseInt,qe=ee.random,Ye=ae.reverse,Je=Ga(e,"DataView"),Qe=Ga(e,"Map"),tn=Ga(e,"Promise"),en=Ga(e,"Set"),on=Ga(e,"WeakMap"),an=Ga(ne,"create"),sn=on&&new on,cn={},fn=Du(Je),dn=Du(Qe),En=Du(tn),Rn=Du(en),Hn=Du(on),dr=be?be.prototype:i,vr=dr?dr.valueOf:i,yr=dr?dr.toString:i;function xr(t){if(Sl(t)&&!al(t)&&!(t instanceof kr)){if(t instanceof Cr)return t;if(fe.call(t,"__wrapped__"))return Eu(t)}return new Cr(t)}var _r=function(){function t(){}return function(e){if(!_l(e))return{};if(Se)return Se(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Sr(){}function Cr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function kr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function Tr(){var t=new kr(this.__wrapped__);return t.__actions__=na(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=na(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=na(this.__views__),t}function Ar(){if(this.__filtered__){var t=new kr(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Or(){var t=this.__wrapped__.value(),e=this.__dir__,n=al(t),r=e<0,o=n?t.length:0,i=$a(0,o,this.__views__),a=i.start,u=i.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,d=0,h=je(s,this.__takeCount__);if(!n||!r&&o==s&&h==s)return Bi(t,this.__actions__);var p=[];t:while(s--&&d<h){c+=e;var m=-1,g=t[c];while(++m<f){var v=l[m],y=v.iteratee,b=v.type,x=y(g);if(b==R)g=x;else if(!x){if(b==E)continue t;break t}}p[d++]=g}return p}function Mr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Dr(){this.__data__=an?an(null):{},this.size=0}function Ir(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Er(t){var e=this.__data__;if(an){var n=e[t];return n===l?i:n}return fe.call(e,t)?e[t]:i}function Rr(t){var e=this.__data__;return an?e[t]!==i:fe.call(e,t)}function Nr(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=an&&e===i?l:e,this}function Pr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Lr(){this.__data__=[],this.size=0}function Br(t){var e=this.__data__,n=so(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ke.call(e,n,1),--this.size,!0}function zr(t){var e=this.__data__,n=so(e,t);return n<0?i:e[n][1]}function Vr(t){return so(this.__data__,t)>-1}function Fr(t,e){var n=this.__data__,r=so(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function jr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Hr(){this.size=0,this.__data__={hash:new Mr,map:new(Qe||Pr),string:new Mr}}function Ur(t){var e=Ua(this,t)["delete"](t);return this.size-=e?1:0,e}function Wr(t){return Ua(this,t).get(t)}function Gr(t){return Ua(this,t).has(t)}function qr(t,e){var n=Ua(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Yr(t){var e=-1,n=null==t?0:t.length;this.__data__=new jr;while(++e<n)this.add(t[e])}function Xr(t){return this.__data__.set(t,l),this}function Zr(t){return this.__data__.has(t)}function $r(t){var e=this.__data__=new Pr(t);this.size=e.size}function Kr(){this.__data__=new Pr,this.size=0}function Jr(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Qr(t){return this.__data__.get(t)}function to(t){return this.__data__.has(t)}function eo(t,e){var n=this.__data__;if(n instanceof Pr){var r=n.__data__;if(!Qe||r.length<u-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jr(r)}return n.set(t,e),this.size=n.size,this}function no(t,e){var n=al(t),r=!n&&il(t),o=!n&&!r&&fl(t),i=!n&&!r&&!o&&zl(t),a=n||r||o||i,u=a?qn(t.length,oe):[],s=u.length;for(var c in t)!e&&!fe.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ou(c,s))||u.push(c);return u}function ro(t){var e=t.length;return e?t[gi(0,e-1)]:i}function oo(t,e){return Au(na(t),mo(e,0,t.length))}function io(t){return Au(na(t))}function ao(t,e,n){(n!==i&&!nl(t[e],n)||n===i&&!(e in t))&&ho(t,e,n)}function uo(t,e,n){var r=t[e];fe.call(t,e)&&nl(r,n)&&(n!==i||e in t)||ho(t,e,n)}function so(t,e){var n=t.length;while(n--)if(nl(t[n][0],e))return n;return-1}function co(t,e,n,r){return wo(t,(function(t,o,i){e(r,t,n(t),i)})),r}function lo(t,e){return t&&ra(e,wf(e),t)}function fo(t,e){return t&&ra(e,_f(e),t)}function ho(t,e,n){"__proto__"==e&&Me?Me(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function po(t,e){var r=-1,o=e.length,a=n(o),u=null==t;while(++r<o)a[r]=u?i:mf(t,e[r]);return a}function mo(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function go(t,e,n,r,o,a){var u,s=e&h,c=e&p,l=e&m;if(n&&(u=o?n(t,r,o,a):n(t)),u!==i)return u;if(!_l(t))return t;var f=al(t);if(f){if(u=Qa(t),!s)return na(t,u)}else{var d=Za(t),g=d==$||d==K;if(fl(t))return qi(t,s);if(d==et||d==U||g&&!o){if(u=c||g?{}:tu(t),!s)return c?ia(t,fo(u,t)):oa(t,lo(u,t))}else{if(!Ke[d])return o?t:{};u=eu(t,d,s)}}a||(a=new $r);var v=a.get(t);if(v)return v;a.set(t,u),Pl(t)?t.forEach((function(r){u.add(go(r,e,n,r,t,a))})):Cl(t)&&t.forEach((function(r,o){u.set(o,go(r,e,n,o,t,a))}));var y=l?c?za:Ba:c?_f:wf,b=f?i:y(t);return wn(b||t,(function(r,o){b&&(o=r,r=t[o]),uo(u,o,go(r,e,n,o,t,a))})),u}function vo(t){var e=wf(t);return function(n){return yo(n,t,e)}}function yo(t,e,n){var r=n.length;if(null==t)return!r;t=ne(t);while(r--){var o=n[r],a=e[o],u=t[o];if(u===i&&!(o in t)||!a(u))return!1}return!0}function bo(t,e,n){if("function"!=typeof t)throw new ie(c);return Su((function(){t.apply(i,n)}),e)}function xo(t,e,n,r){var o=-1,i=kn,a=!0,s=t.length,c=[],l=e.length;if(!s)return c;n&&(e=An(e,Xn(n))),r?(i=Tn,a=!1):e.length>=u&&(i=$n,a=!1,e=new Yr(e));t:while(++o<s){var f=t[o],d=null==n?f:n(f);if(f=r||0!==f?f:0,a&&d===d){var h=l;while(h--)if(e[h]===d)continue t;c.push(f)}else i(e,d,r)||c.push(f)}return c}xr.templateSettings={escape:Mt,evaluate:Dt,interpolate:It,variable:"",imports:{_:xr}},xr.prototype=Sr.prototype,xr.prototype.constructor=xr,Cr.prototype=_r(Sr.prototype),Cr.prototype.constructor=Cr,kr.prototype=_r(Sr.prototype),kr.prototype.constructor=kr,Mr.prototype.clear=Dr,Mr.prototype["delete"]=Ir,Mr.prototype.get=Er,Mr.prototype.has=Rr,Mr.prototype.set=Nr,Pr.prototype.clear=Lr,Pr.prototype["delete"]=Br,Pr.prototype.get=zr,Pr.prototype.has=Vr,Pr.prototype.set=Fr,jr.prototype.clear=Hr,jr.prototype["delete"]=Ur,jr.prototype.get=Wr,jr.prototype.has=Gr,jr.prototype.set=qr,Yr.prototype.add=Yr.prototype.push=Xr,Yr.prototype.has=Zr,$r.prototype.clear=Kr,$r.prototype["delete"]=Jr,$r.prototype.get=Qr,$r.prototype.has=to,$r.prototype.set=eo;var wo=sa(Do),_o=sa(Io,!0);function So(t,e){var n=!0;return wo(t,(function(t,r,o){return n=!!e(t,r,o),n})),n}function Co(t,e,n){var r=-1,o=t.length;while(++r<o){var a=t[r],u=e(a);if(null!=u&&(s===i?u===u&&!Bl(u):n(u,s)))var s=u,c=a}return c}function ko(t,e,n,r){var o=t.length;n=ql(n),n<0&&(n=-n>o?0:o+n),r=r===i||r>o?o:ql(r),r<0&&(r+=o),r=n>r?0:Yl(r);while(n<r)t[n++]=e;return t}function To(t,e){var n=[];return wo(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function Ao(t,e,n,r,o){var i=-1,a=t.length;n||(n=ru),o||(o=[]);while(++i<a){var u=t[i];e>0&&n(u)?e>1?Ao(u,e-1,n,r,o):On(o,u):r||(o[o.length]=u)}return o}var Oo=ca(),Mo=ca(!0);function Do(t,e){return t&&Oo(t,e,wf)}function Io(t,e){return t&&Mo(t,e,wf)}function Eo(t,e){return Cn(e,(function(e){return bl(t[e])}))}function Ro(t,e){e=Hi(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[Mu(e[n++])];return n&&n==r?t:i}function No(t,e,n){var r=e(t);return al(t)?r:On(r,n(t))}function Po(t){return null==t?t===i?st:tt:Oe&&Oe in ne(t)?qa(t):vu(t)}function Lo(t,e){return t>e}function Bo(t,e){return null!=t&&fe.call(t,e)}function zo(t,e){return null!=t&&e in ne(t)}function Vo(t,e,n){return t>=je(e,n)&&t<Fe(e,n)}function Fo(t,e,r){var o=r?Tn:kn,a=t[0].length,u=t.length,s=u,c=n(u),l=1/0,f=[];while(s--){var d=t[s];s&&e&&(d=An(d,Xn(e))),l=je(d.length,l),c[s]=!r&&(e||a>=120&&d.length>=120)?new Yr(s&&d):i}d=t[0];var h=-1,p=c[0];t:while(++h<a&&f.length<l){var m=d[h],g=e?e(m):m;if(m=r||0!==m?m:0,!(p?$n(p,g):o(f,g,r))){s=u;while(--s){var v=c[s];if(!(v?$n(v,g):o(t[s],g,r)))continue t}p&&p.push(g),f.push(m)}}return f}function jo(t,e,n,r){return Do(t,(function(t,o,i){e(r,n(t),o,i)})),r}function Ho(t,e,n){e=Hi(e,t),t=bu(t,e);var r=null==t?t:t[Mu(rs(e))];return null==r?i:bn(r,t,n)}function Uo(t){return Sl(t)&&Po(t)==U}function Wo(t){return Sl(t)&&Po(t)==ft}function Go(t){return Sl(t)&&Po(t)==Y}function qo(t,e,n,r,o){return t===e||(null==t||null==e||!Sl(t)&&!Sl(e)?t!==t&&e!==e:Yo(t,e,n,r,qo,o))}function Yo(t,e,n,r,o,i){var a=al(t),u=al(e),s=a?W:Za(t),c=u?W:Za(e);s=s==U?et:s,c=c==U?et:c;var l=s==et,f=c==et,d=s==c;if(d&&fl(t)){if(!fl(e))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new $r),a||zl(t)?Ra(t,e,n,r,o,i):Na(t,e,s,n,r,o,i);if(!(n&g)){var h=l&&fe.call(t,"__wrapped__"),p=f&&fe.call(e,"__wrapped__");if(h||p){var m=h?t.value():t,v=p?e.value():e;return i||(i=new $r),o(m,v,n,r,i)}}return!!d&&(i||(i=new $r),Pa(t,e,n,r,o,i))}function Xo(t){return Sl(t)&&Za(t)==J}function Zo(t,e,n,r){var o=n.length,a=o,u=!r;if(null==t)return!a;t=ne(t);while(o--){var s=n[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}while(++o<a){s=n[o];var c=s[0],l=t[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in t))return!1}else{var d=new $r;if(r)var h=r(l,f,c,t,e,d);if(!(h===i?qo(f,l,g|v,r,d):h))return!1}}return!0}function $o(t){if(!_l(t)||cu(t))return!1;var e=bl(t)?ve:Zt;return e.test(Du(t))}function Ko(t){return Sl(t)&&Po(t)==ot}function Jo(t){return Sl(t)&&Za(t)==it}function Qo(t){return Sl(t)&&wl(t.length)&&!!$e[Po(t)]}function ti(t){return"function"==typeof t?t:null==t?Md:"object"==typeof t?al(t)?ai(t[0],t[1]):ii(t):Hd(t)}function ei(t){if(!fu(t))return Ve(t);var e=[];for(var n in ne(t))fe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ni(t){if(!_l(t))return gu(t);var e=fu(t),n=[];for(var r in t)("constructor"!=r||!e&&fe.call(t,r))&&n.push(r);return n}function ri(t,e){return t<e}function oi(t,e){var r=-1,o=sl(t)?n(t.length):[];return wo(t,(function(t,n,i){o[++r]=e(t,n,i)})),o}function ii(t){var e=Wa(t);return 1==e.length&&e[0][2]?hu(e[0][0],e[0][1]):function(n){return n===t||Zo(n,t,e)}}function ai(t,e){return au(t)&&du(e)?hu(Mu(t),e):function(n){var r=mf(n,t);return r===i&&r===e?vf(n,t):qo(e,r,g|v)}}function ui(t,e,n,r,o){t!==e&&Oo(e,(function(a,u){if(o||(o=new $r),_l(a))si(t,e,u,n,ui,r,o);else{var s=r?r(wu(t,u),a,u+"",t,e,o):i;s===i&&(s=a),ao(t,u,s)}}),_f)}function si(t,e,n,r,o,a,u){var s=wu(t,n),c=wu(e,n),l=u.get(c);if(l)ao(t,n,l);else{var f=a?a(s,c,n+"",t,e,u):i,d=f===i;if(d){var h=al(c),p=!h&&fl(c),m=!h&&!p&&zl(c);f=c,h||p||m?al(s)?f=s:cl(s)?f=na(s):p?(d=!1,f=qi(c,!0)):m?(d=!1,f=Ki(c,!0)):f=[]:El(c)||il(c)?(f=s,il(s)?f=Zl(s):_l(s)&&!bl(s)||(f=tu(c))):d=!1}d&&(u.set(c,f),o(f,c,r,a,u),u["delete"](c)),ao(t,n,f)}}function ci(t,e){var n=t.length;if(n)return e+=e<0?n:0,ou(e,n)?t[e]:i}function li(t,e,n){e=e.length?An(e,(function(t){return al(t)?function(e){return Ro(e,1===t.length?t[0]:t)}:t})):[Md];var r=-1;e=An(e,Xn(Ha()));var o=oi(t,(function(t,n,o){var i=An(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return Wn(o,(function(t,e){return Qi(t,e,n)}))}function fi(t,e){return di(t,e,(function(e,n){return vf(t,n)}))}function di(t,e,n){var r=-1,o=e.length,i={};while(++r<o){var a=e[r],u=Ro(t,a);n(u,a)&&_i(i,Hi(a,t),u)}return i}function hi(t){return function(e){return Ro(e,t)}}function pi(t,e,n,r){var o=r?zn:Bn,i=-1,a=e.length,u=t;t===e&&(e=na(e)),n&&(u=An(t,Xn(n)));while(++i<a){var s=0,c=e[i],l=n?n(c):c;while((s=o(u,l,s,r))>-1)u!==t&&ke.call(u,s,1),ke.call(t,s,1)}return t}function mi(t,e){var n=t?e.length:0,r=n-1;while(n--){var o=e[n];if(n==r||o!==i){var i=o;ou(o)?ke.call(t,o,1):Ni(t,o)}}return t}function gi(t,e){return t+Ne(qe()*(e-t+1))}function vi(t,e,r,o){var i=-1,a=Fe(Re((e-t)/(r||1)),0),u=n(a);while(a--)u[o?a:++i]=t,t+=r;return u}function yi(t,e){var n="";if(!t||e<1||e>L)return n;do{e%2&&(n+=t),e=Ne(e/2),e&&(t+=t)}while(e);return n}function bi(t,e){return Cu(yu(t,e,Md),t+"")}function xi(t){return ro(Ff(t))}function wi(t,e){var n=Ff(t);return Au(n,mo(e,0,n.length))}function _i(t,e,n,r){if(!_l(t))return t;e=Hi(e,t);var o=-1,a=e.length,u=a-1,s=t;while(null!=s&&++o<a){var c=Mu(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=u){var f=s[c];l=r?r(f,c,s):i,l===i&&(l=_l(f)?f:ou(e[o+1])?[]:{})}uo(s,c,l),s=s[c]}return t}var Si=sn?function(t,e){return sn.set(t,e),t}:Md,Ci=Me?function(t,e){return Me(t,"toString",{configurable:!0,enumerable:!1,value:kd(e),writable:!0})}:Md;function ki(t){return Au(Ff(t))}function Ti(t,e,r){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;var a=n(i);while(++o<i)a[o]=t[o+e];return a}function Ai(t,e){var n;return wo(t,(function(t,r,o){return n=e(t,r,o),!n})),!!n}function Oi(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e===e&&o<=j){while(r<o){var i=r+o>>>1,a=t[i];null!==a&&!Bl(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return Mi(t,e,Md,n)}function Mi(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;e=n(e);var u=e!==e,s=null===e,c=Bl(e),l=e===i;while(o<a){var f=Ne((o+a)/2),d=n(t[f]),h=d!==i,p=null===d,m=d===d,g=Bl(d);if(u)var v=r||m;else v=l?m&&(r||h):s?m&&h&&(r||!p):c?m&&h&&!p&&(r||!g):!p&&!g&&(r?d<=e:d<e);v?o=f+1:a=f}return je(a,F)}function Di(t,e){var n=-1,r=t.length,o=0,i=[];while(++n<r){var a=t[n],u=e?e(a):a;if(!n||!nl(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function Ii(t){return"number"==typeof t?t:Bl(t)?z:+t}function Ei(t){if("string"==typeof t)return t;if(al(t))return An(t,Ei)+"";if(Bl(t))return yr?yr.call(t):"";var e=t+"";return"0"==e&&1/t==-P?"-0":e}function Ri(t,e,n){var r=-1,o=kn,i=t.length,a=!0,s=[],c=s;if(n)a=!1,o=Tn;else if(i>=u){var l=e?null:Aa(t);if(l)return lr(l);a=!1,o=$n,c=new Yr}else c=e?[]:s;t:while(++r<i){var f=t[r],d=e?e(f):f;if(f=n||0!==f?f:0,a&&d===d){var h=c.length;while(h--)if(c[h]===d)continue t;e&&c.push(d),s.push(f)}else o(c,d,n)||(c!==s&&c.push(d),s.push(f))}return s}function Ni(t,e){return e=Hi(e,t),t=bu(t,e),null==t||delete t[Mu(rs(e))]}function Pi(t,e,n,r){return _i(t,e,n(Ro(t,e)),r)}function Li(t,e,n,r){var o=t.length,i=r?o:-1;while((r?i--:++i<o)&&e(t[i],i,t));return n?Ti(t,r?0:i,r?i+1:o):Ti(t,r?i+1:0,r?o:i)}function Bi(t,e){var n=t;return n instanceof kr&&(n=n.value()),Mn(e,(function(t,e){return e.func.apply(e.thisArg,On([t],e.args))}),n)}function zi(t,e,r){var o=t.length;if(o<2)return o?Ri(t[0]):[];var i=-1,a=n(o);while(++i<o){var u=t[i],s=-1;while(++s<o)s!=i&&(a[i]=xo(a[i]||u,t[s],e,r))}return Ri(Ao(a,1),e,r)}function Vi(t,e,n){var r=-1,o=t.length,a=e.length,u={};while(++r<o){var s=r<a?e[r]:i;n(u,t[r],s)}return u}function Fi(t){return cl(t)?t:[]}function ji(t){return"function"==typeof t?t:Md}function Hi(t,e){return al(t)?t:au(t,e)?[t]:Ou(Kl(t))}var Ui=bi;function Wi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:Ti(t,e,n)}var Gi=De||function(t){return un.clearTimeout(t)};function qi(t,e){if(e)return t.slice();var n=t.length,r=we?we(n):new t.constructor(n);return t.copy(r),r}function Yi(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function Xi(t,e){var n=e?Yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Zi(t){var e=new t.constructor(t.source,qt.exec(t));return e.lastIndex=t.lastIndex,e}function $i(t){return vr?ne(vr.call(t)):{}}function Ki(t,e){var n=e?Yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ji(t,e){if(t!==e){var n=t!==i,r=null===t,o=t===t,a=Bl(t),u=e!==i,s=null===e,c=e===e,l=Bl(e);if(!s&&!l&&!a&&t>e||a&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&t<e||l&&n&&o&&!r&&!a||s&&n&&o||!u&&o||!c)return-1}return 0}function Qi(t,e,n){var r=-1,o=t.criteria,i=e.criteria,a=o.length,u=n.length;while(++r<a){var s=Ji(o[r],i[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}function ta(t,e,r,o){var i=-1,a=t.length,u=r.length,s=-1,c=e.length,l=Fe(a-u,0),f=n(c+l),d=!o;while(++s<c)f[s]=e[s];while(++i<u)(d||i<a)&&(f[r[i]]=t[i]);while(l--)f[s++]=t[i++];return f}function ea(t,e,r,o){var i=-1,a=t.length,u=-1,s=r.length,c=-1,l=e.length,f=Fe(a-s,0),d=n(f+l),h=!o;while(++i<f)d[i]=t[i];var p=i;while(++c<l)d[p+c]=e[c];while(++u<s)(h||i<a)&&(d[p+r[u]]=t[i++]);return d}function na(t,e){var r=-1,o=t.length;e||(e=n(o));while(++r<o)e[r]=t[r];return e}function ra(t,e,n,r){var o=!n;n||(n={});var a=-1,u=e.length;while(++a<u){var s=e[a],c=r?r(n[s],t[s],s,n,t):i;c===i&&(c=t[s]),o?ho(n,s,c):uo(n,s,c)}return n}function oa(t,e){return ra(t,Ya(t),e)}function ia(t,e){return ra(t,Xa(t),e)}function aa(t,e){return function(n,r){var o=al(n)?xn:co,i=e?e():{};return o(n,t,Ha(r,2),i)}}function ua(t){return bi((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,u=o>2?n[2]:i;a=t.length>3&&"function"==typeof a?(o--,a):i,u&&iu(n[0],n[1],u)&&(a=o<3?i:a,o=1),e=ne(e);while(++r<o){var s=n[r];s&&t(e,s,r,a)}return e}))}function sa(t,e){return function(n,r){if(null==n)return n;if(!sl(n))return t(n,r);var o=n.length,i=e?o:-1,a=ne(n);while(e?i--:++i<o)if(!1===r(a[i],i,a))break;return n}}function ca(t){return function(e,n,r){var o=-1,i=ne(e),a=r(e),u=a.length;while(u--){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}function la(t,e,n){var r=e&y,o=ha(t);function i(){var e=this&&this!==un&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}return i}function fa(t){return function(e){e=Kl(e);var n=or(e)?mr(e):i,r=n?n[0]:e.charAt(0),o=n?Wi(n,1).join(""):e.slice(1);return r[t]()+o}}function da(t){return function(e){return Mn(xd(Yf(e).replace(He,"")),t,"")}}function ha(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=_r(t.prototype),r=t.apply(n,e);return _l(r)?r:n}}function pa(t,e,r){var o=ha(t);function a(){var u=arguments.length,s=n(u),c=u,l=ja(a);while(c--)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:cr(s,l);if(u-=f.length,u<r)return ka(t,e,va,a.placeholder,i,s,f,i,i,r-u);var d=this&&this!==un&&this instanceof a?o:t;return bn(d,this,s)}return a}function ma(t){return function(e,n,r){var o=ne(e);if(!sl(e)){var a=Ha(n,3);e=wf(e),n=function(t){return a(o[t],t,o)}}var u=t(e,n,r);return u>-1?o[a?e[u]:u]:i}}function ga(t){return La((function(e){var n=e.length,r=n,o=Cr.prototype.thru;t&&e.reverse();while(r--){var a=e[r];if("function"!=typeof a)throw new ie(c);if(o&&!u&&"wrapper"==Fa(a))var u=new Cr([],!0)}r=u?r:n;while(++r<n){a=e[r];var s=Fa(a),l="wrapper"==s?Va(a):i;u=l&&su(l[0])&&l[1]==(k|w|S|T)&&!l[4].length&&1==l[9]?u[Fa(l[0])].apply(u,l[3]):1==a.length&&su(a)?u[s]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&al(r))return u.plant(r).value();var o=0,i=n?e[o].apply(this,t):r;while(++o<n)i=e[o].call(this,i);return i}}))}function va(t,e,r,o,a,u,s,c,l,f){var d=e&k,h=e&y,p=e&b,m=e&(w|_),g=e&A,v=p?i:ha(t);function x(){var i=arguments.length,y=n(i),b=i;while(b--)y[b]=arguments[b];if(m)var w=ja(x),_=Qn(y,w);if(o&&(y=ta(y,o,a,m)),u&&(y=ea(y,u,s,m)),i-=_,m&&i<f){var S=cr(y,w);return ka(t,e,va,x.placeholder,r,y,S,c,l,f-i)}var C=h?r:this,k=p?C[t]:t;return i=y.length,c?y=xu(y,c):g&&i>1&&y.reverse(),d&&l<i&&(y.length=l),this&&this!==un&&this instanceof x&&(k=v||ha(k)),k.apply(C,y)}return x}function ya(t,e){return function(n,r){return jo(n,t,e(r),{})}}function ba(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=Ei(n),r=Ei(r)):(n=Ii(n),r=Ii(r)),o=t(n,r)}return o}}function xa(t){return La((function(e){return e=An(e,Xn(Ha())),bi((function(n){var r=this;return t(e,(function(t){return bn(t,r,n)}))}))}))}function wa(t,e){e=e===i?" ":Ei(e);var n=e.length;if(n<2)return n?yi(e,t):e;var r=yi(e,Re(t/pr(e)));return or(e)?Wi(mr(r),0,t).join(""):r.slice(0,t)}function _a(t,e,r,o){var i=e&y,a=ha(t);function u(){var e=-1,s=arguments.length,c=-1,l=o.length,f=n(l+s),d=this&&this!==un&&this instanceof u?a:t;while(++c<l)f[c]=o[c];while(s--)f[c++]=arguments[++e];return bn(d,i?r:this,f)}return u}function Sa(t){return function(e,n,r){return r&&"number"!=typeof r&&iu(e,n,r)&&(n=r=i),e=Gl(e),n===i?(n=e,e=0):n=Gl(n),r=r===i?e<n?1:-1:Gl(r),vi(e,n,r,t)}}function Ca(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Xl(e),n=Xl(n)),t(e,n)}}function ka(t,e,n,r,o,a,u,s,c,l){var f=e&w,d=f?u:i,h=f?i:u,p=f?a:i,m=f?i:a;e|=f?S:C,e&=~(f?C:S),e&x||(e&=~(y|b));var g=[t,e,o,p,d,m,h,s,c,l],v=n.apply(i,g);return su(t)&&_u(v,g),v.placeholder=r,ku(v,t,e)}function Ta(t){var e=ee[t];return function(t,n){if(t=Xl(t),n=null==n?0:je(ql(n),292),n&&Be(t)){var r=(Kl(t)+"e").split("e"),o=e(r[0]+"e"+(+r[1]+n));return r=(Kl(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var Aa=en&&1/lr(new en([,-0]))[1]==P?function(t){return new en(t)}:Bd;function Oa(t){return function(e){var n=Za(e);return n==J?ur(e):n==it?fr(e):Yn(e,t(e))}}function Ma(t,e,n,r,o,a,u,s){var l=e&b;if(!l&&"function"!=typeof t)throw new ie(c);var f=r?r.length:0;if(f||(e&=~(S|C),r=o=i),u=u===i?u:Fe(ql(u),0),s=s===i?s:ql(s),f-=o?o.length:0,e&C){var d=r,h=o;r=o=i}var p=l?i:Va(t),m=[t,e,n,r,o,d,h,a,u,s];if(p&&mu(m,p),t=m[0],e=m[1],n=m[2],r=m[3],o=m[4],s=m[9]=m[9]===i?l?0:t.length:Fe(m[9]-f,0),!s&&e&(w|_)&&(e&=~(w|_)),e&&e!=y)g=e==w||e==_?pa(t,e,s):e!=S&&e!=(y|S)||o.length?va.apply(i,m):_a(t,e,n,r);else var g=la(t,e,n);var v=p?Si:_u;return ku(v(g,m),t,e)}function Da(t,e,n,r){return t===i||nl(t,se[n])&&!fe.call(r,n)?e:t}function Ia(t,e,n,r,o,a){return _l(t)&&_l(e)&&(a.set(e,t),ui(t,e,i,Ia,a),a["delete"](e)),t}function Ea(t){return El(t)?i:t}function Ra(t,e,n,r,o,a){var u=n&g,s=t.length,c=e.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(t),f=a.get(e);if(l&&f)return l==e&&f==t;var d=-1,h=!0,p=n&v?new Yr:i;a.set(t,e),a.set(e,t);while(++d<s){var m=t[d],y=e[d];if(r)var b=u?r(y,m,d,e,t,a):r(m,y,d,t,e,a);if(b!==i){if(b)continue;h=!1;break}if(p){if(!In(e,(function(t,e){if(!$n(p,e)&&(m===t||o(m,t,n,r,a)))return p.push(e)}))){h=!1;break}}else if(m!==y&&!o(m,y,n,r,a)){h=!1;break}}return a["delete"](t),a["delete"](e),h}function Na(t,e,n,r,o,i,a){switch(n){case dt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ft:return!(t.byteLength!=e.byteLength||!i(new xe(t),new xe(e)));case q:case Y:case Q:return nl(+t,+e);case Z:return t.name==e.name&&t.message==e.message;case ot:case at:return t==e+"";case J:var u=ur;case it:var s=r&g;if(u||(u=lr),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=v,a.set(t,e);var l=Ra(u(t),u(e),r,o,i,a);return a["delete"](t),l;case ut:if(vr)return vr.call(t)==vr.call(e)}return!1}function Pa(t,e,n,r,o,a){var u=n&g,s=Ba(t),c=s.length,l=Ba(e),f=l.length;if(c!=f&&!u)return!1;var d=c;while(d--){var h=s[d];if(!(u?h in e:fe.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var v=!0;a.set(t,e),a.set(e,t);var y=u;while(++d<c){h=s[d];var b=t[h],x=e[h];if(r)var w=u?r(x,b,h,e,t,a):r(b,x,h,t,e,a);if(!(w===i?b===x||o(b,x,n,r,a):w)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var _=t.constructor,S=e.constructor;_==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof S&&S instanceof S||(v=!1)}return a["delete"](t),a["delete"](e),v}function La(t){return Cu(yu(t,i,qu),t+"")}function Ba(t){return No(t,wf,Ya)}function za(t){return No(t,_f,Xa)}var Va=sn?function(t){return sn.get(t)}:Bd;function Fa(t){var e=t.name+"",n=cn[e],r=fe.call(cn,e)?n.length:0;while(r--){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function ja(t){var e=fe.call(xr,"placeholder")?xr:t;return e.placeholder}function Ha(){var t=xr.iteratee||Dd;return t=t===Dd?ti:t,arguments.length?t(arguments[0],arguments[1]):t}function Ua(t,e){var n=t.__data__;return uu(e)?n["string"==typeof e?"string":"hash"]:n.map}function Wa(t){var e=wf(t),n=e.length;while(n--){var r=e[n],o=t[r];e[n]=[r,o,du(o)]}return e}function Ga(t,e){var n=rr(t,e);return $o(n)?n:i}function qa(t){var e=fe.call(t,Oe),n=t[Oe];try{t[Oe]=i;var r=!0}catch(a){}var o=pe.call(t);return r&&(e?t[Oe]=n:delete t[Oe]),o}var Ya=Pe?function(t){return null==t?[]:(t=ne(t),Cn(Pe(t),(function(e){return Ce.call(t,e)})))}:qd,Xa=Pe?function(t){var e=[];while(t)On(e,Ya(t)),t=_e(t);return e}:qd,Za=Po;function $a(t,e,n){var r=-1,o=n.length;while(++r<o){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=je(e,t+a);break;case"takeRight":t=Fe(t,e-a);break}}return{start:t,end:e}}function Ka(t){var e=t.match(jt);return e?e[1].split(Ht):[]}function Ja(t,e,n){e=Hi(e,t);var r=-1,o=e.length,i=!1;while(++r<o){var a=Mu(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:(o=null==t?0:t.length,!!o&&wl(o)&&ou(a,o)&&(al(t)||il(t)))}function Qa(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&fe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function tu(t){return"function"!=typeof t.constructor||fu(t)?{}:_r(_e(t))}function eu(t,e,n){var r=t.constructor;switch(e){case ft:return Yi(t);case q:case Y:return new r(+t);case dt:return Xi(t,n);case ht:case pt:case mt:case gt:case vt:case yt:case bt:case xt:case wt:return Ki(t,n);case J:return new r;case Q:case at:return new r(t);case ot:return Zi(t);case it:return new r;case ut:return $i(t)}}function nu(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}function ru(t){return al(t)||il(t)||!!(Te&&t&&t[Te])}function ou(t,e){var n=typeof t;return e=null==e?L:e,!!e&&("number"==n||"symbol"!=n&&Kt.test(t))&&t>-1&&t%1==0&&t<e}function iu(t,e,n){if(!_l(n))return!1;var r=typeof e;return!!("number"==r?sl(n)&&ou(e,n.length):"string"==r&&e in n)&&nl(n[e],t)}function au(t,e){if(al(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Bl(t))||(Rt.test(t)||!Et.test(t)||null!=e&&t in ne(e))}function uu(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function su(t){var e=Fa(t),n=xr[e];if("function"!=typeof n||!(e in kr.prototype))return!1;if(t===n)return!0;var r=Va(n);return!!r&&t===r[0]}function cu(t){return!!he&&he in t}(Je&&Za(new Je(new ArrayBuffer(1)))!=dt||Qe&&Za(new Qe)!=J||tn&&Za(tn.resolve())!=nt||en&&Za(new en)!=it||on&&Za(new on)!=ct)&&(Za=function(t){var e=Po(t),n=e==et?t.constructor:i,r=n?Du(n):"";if(r)switch(r){case fn:return dt;case dn:return J;case En:return nt;case Rn:return it;case Hn:return ct}return e});var lu=ce?bl:Yd;function fu(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||se;return t===n}function du(t){return t===t&&!_l(t)}function hu(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in ne(n)))}}function pu(t){var e=zc(t,(function(t){return n.size===f&&n.clear(),t})),n=e.cache;return e}function mu(t,e){var n=t[1],r=e[1],o=n|r,i=o<(y|b|k),a=r==k&&n==w||r==k&&n==T&&t[7].length<=e[8]||r==(k|T)&&e[7].length<=e[8]&&n==w;if(!i&&!a)return t;r&y&&(t[2]=e[2],o|=n&y?0:x);var u=e[3];if(u){var s=t[3];t[3]=s?ta(s,u,e[4]):u,t[4]=s?cr(t[3],d):e[4]}return u=e[5],u&&(s=t[5],t[5]=s?ea(s,u,e[6]):u,t[6]=s?cr(t[5],d):e[6]),u=e[7],u&&(t[7]=u),r&k&&(t[8]=null==t[8]?e[8]:je(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function gu(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function vu(t){return pe.call(t)}function yu(t,e,r){return e=Fe(e===i?t.length-1:e,0),function(){var o=arguments,i=-1,a=Fe(o.length-e,0),u=n(a);while(++i<a)u[i]=o[e+i];i=-1;var s=n(e+1);while(++i<e)s[i]=o[i];return s[e]=r(u),bn(t,this,s)}}function bu(t,e){return e.length<2?t:Ro(t,Ti(e,0,-1))}function xu(t,e){var n=t.length,r=je(e.length,n),o=na(t);while(r--){var a=e[r];t[r]=ou(a,n)?o[a]:i}return t}function wu(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var _u=Tu(Si),Su=Ee||function(t,e){return un.setTimeout(t,e)},Cu=Tu(Ci);function ku(t,e,n){var r=e+"";return Cu(t,nu(r,Iu(Ka(r),n)))}function Tu(t){var e=0,n=0;return function(){var r=We(),o=I-(r-n);if(n=r,o>0){if(++e>=D)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Au(t,e){var n=-1,r=t.length,o=r-1;e=e===i?r:e;while(++n<e){var a=gi(n,o),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var Ou=pu((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Nt,(function(t,n,r,o){e.push(r?o.replace(Wt,"$1"):n||t)})),e}));function Mu(t){if("string"==typeof t||Bl(t))return t;var e=t+"";return"0"==e&&1/t==-P?"-0":e}function Du(t){if(null!=t){try{return le.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Iu(t,e){return wn(H,(function(n){var r="_."+n[0];e&n[1]&&!kn(t,r)&&t.push(r)})),t.sort()}function Eu(t){if(t instanceof kr)return t.clone();var e=new Cr(t.__wrapped__,t.__chain__);return e.__actions__=na(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ru(t,e,r){e=(r?iu(t,e,r):e===i)?1:Fe(ql(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];var a=0,u=0,s=n(Re(o/e));while(a<o)s[u++]=Ti(t,a,a+=e);return s}function Nu(t){var e=-1,n=null==t?0:t.length,r=0,o=[];while(++e<n){var i=t[e];i&&(o[r++]=i)}return o}function Pu(){var t=arguments.length;if(!t)return[];var e=n(t-1),r=arguments[0],o=t;while(o--)e[o-1]=arguments[o];return On(al(r)?na(r):[r],Ao(e,1))}var Lu=bi((function(t,e){return cl(t)?xo(t,Ao(e,1,cl,!0)):[]})),Bu=bi((function(t,e){var n=rs(e);return cl(n)&&(n=i),cl(t)?xo(t,Ao(e,1,cl,!0),Ha(n,2)):[]})),zu=bi((function(t,e){var n=rs(e);return cl(n)&&(n=i),cl(t)?xo(t,Ao(e,1,cl,!0),i,n):[]}));function Vu(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:ql(e),Ti(t,e<0?0:e,r)):[]}function Fu(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:ql(e),e=r-e,Ti(t,0,e<0?0:e)):[]}function ju(t,e){return t&&t.length?Li(t,Ha(e,3),!0,!0):[]}function Hu(t,e){return t&&t.length?Li(t,Ha(e,3),!0):[]}function Uu(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&iu(t,e,n)&&(n=0,r=o),ko(t,e,n,r)):[]}function Wu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ql(n);return o<0&&(o=Fe(r+o,0)),Ln(t,Ha(e,3),o)}function Gu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ql(n),o=n<0?Fe(r+o,0):je(o,r-1)),Ln(t,Ha(e,3),o,!0)}function qu(t){var e=null==t?0:t.length;return e?Ao(t,1):[]}function Yu(t){var e=null==t?0:t.length;return e?Ao(t,P):[]}function Xu(t,e){var n=null==t?0:t.length;return n?(e=e===i?1:ql(e),Ao(t,e)):[]}function Zu(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var o=t[e];r[o[0]]=o[1]}return r}function $u(t){return t&&t.length?t[0]:i}function Ku(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ql(n);return o<0&&(o=Fe(r+o,0)),Bn(t,e,o)}function Ju(t){var e=null==t?0:t.length;return e?Ti(t,0,-1):[]}var Qu=bi((function(t){var e=An(t,Fi);return e.length&&e[0]===t[0]?Fo(e):[]})),ts=bi((function(t){var e=rs(t),n=An(t,Fi);return e===rs(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Fo(n,Ha(e,2)):[]})),es=bi((function(t){var e=rs(t),n=An(t,Fi);return e="function"==typeof e?e:i,e&&n.pop(),n.length&&n[0]===t[0]?Fo(n,i,e):[]}));function ns(t,e){return null==t?"":ze.call(t,e)}function rs(t){var e=null==t?0:t.length;return e?t[e-1]:i}function os(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=ql(n),o=o<0?Fe(r+o,0):je(o,r-1)),e===e?hr(t,e,o):Ln(t,Vn,o,!0)}function is(t,e){return t&&t.length?ci(t,ql(e)):i}var as=bi(us);function us(t,e){return t&&t.length&&e&&e.length?pi(t,e):t}function ss(t,e,n){return t&&t.length&&e&&e.length?pi(t,e,Ha(n,2)):t}function cs(t,e,n){return t&&t.length&&e&&e.length?pi(t,e,i,n):t}var ls=La((function(t,e){var n=null==t?0:t.length,r=po(t,e);return mi(t,An(e,(function(t){return ou(t,n)?+t:t})).sort(Ji)),r}));function fs(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;e=Ha(e,3);while(++r<i){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return mi(t,o),n}function ds(t){return null==t?t:Ye.call(t)}function hs(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&iu(t,e,n)?(e=0,n=r):(e=null==e?0:ql(e),n=n===i?r:ql(n)),Ti(t,e,n)):[]}function ps(t,e){return Oi(t,e)}function ms(t,e,n){return Mi(t,e,Ha(n,2))}function gs(t,e){var n=null==t?0:t.length;if(n){var r=Oi(t,e);if(r<n&&nl(t[r],e))return r}return-1}function vs(t,e){return Oi(t,e,!0)}function ys(t,e,n){return Mi(t,e,Ha(n,2),!0)}function bs(t,e){var n=null==t?0:t.length;if(n){var r=Oi(t,e,!0)-1;if(nl(t[r],e))return r}return-1}function xs(t){return t&&t.length?Di(t):[]}function ws(t,e){return t&&t.length?Di(t,Ha(e,2)):[]}function _s(t){var e=null==t?0:t.length;return e?Ti(t,1,e):[]}function Ss(t,e,n){return t&&t.length?(e=n||e===i?1:ql(e),Ti(t,0,e<0?0:e)):[]}function Cs(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:ql(e),e=r-e,Ti(t,e<0?0:e,r)):[]}function ks(t,e){return t&&t.length?Li(t,Ha(e,3),!1,!0):[]}function Ts(t,e){return t&&t.length?Li(t,Ha(e,3)):[]}var As=bi((function(t){return Ri(Ao(t,1,cl,!0))})),Os=bi((function(t){var e=rs(t);return cl(e)&&(e=i),Ri(Ao(t,1,cl,!0),Ha(e,2))})),Ms=bi((function(t){var e=rs(t);return e="function"==typeof e?e:i,Ri(Ao(t,1,cl,!0),i,e)}));function Ds(t){return t&&t.length?Ri(t):[]}function Is(t,e){return t&&t.length?Ri(t,Ha(e,2)):[]}function Es(t,e){return e="function"==typeof e?e:i,t&&t.length?Ri(t,i,e):[]}function Rs(t){if(!t||!t.length)return[];var e=0;return t=Cn(t,(function(t){if(cl(t))return e=Fe(t.length,e),!0})),qn(e,(function(e){return An(t,jn(e))}))}function Ns(t,e){if(!t||!t.length)return[];var n=Rs(t);return null==e?n:An(n,(function(t){return bn(e,i,t)}))}var Ps=bi((function(t,e){return cl(t)?xo(t,e):[]})),Ls=bi((function(t){return zi(Cn(t,cl))})),Bs=bi((function(t){var e=rs(t);return cl(e)&&(e=i),zi(Cn(t,cl),Ha(e,2))})),zs=bi((function(t){var e=rs(t);return e="function"==typeof e?e:i,zi(Cn(t,cl),i,e)})),Vs=bi(Rs);function Fs(t,e){return Vi(t||[],e||[],uo)}function js(t,e){return Vi(t||[],e||[],_i)}var Hs=bi((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,Ns(t,n)}));function Us(t){var e=xr(t);return e.__chain__=!0,e}function Ws(t,e){return e(t),t}function Gs(t,e){return e(t)}var qs=La((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return po(e,t)};return!(e>1||this.__actions__.length)&&r instanceof kr&&ou(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Gs,args:[o],thisArg:i}),new Cr(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));function Ys(){return Us(this)}function Xs(){return new Cr(this.value(),this.__chain__)}function Zs(){this.__values__===i&&(this.__values__=Wl(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function $s(){return this}function Ks(t){var e,n=this;while(n instanceof Sr){var r=Eu(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}function Js(){var t=this.__wrapped__;if(t instanceof kr){var e=t;return this.__actions__.length&&(e=new kr(this)),e=e.reverse(),e.__actions__.push({func:Gs,args:[ds],thisArg:i}),new Cr(e,this.__chain__)}return this.thru(ds)}function Qs(){return Bi(this.__wrapped__,this.__actions__)}var tc=aa((function(t,e,n){fe.call(t,n)?++t[n]:ho(t,n,1)}));function ec(t,e,n){var r=al(t)?Sn:So;return n&&iu(t,e,n)&&(e=i),r(t,Ha(e,3))}function nc(t,e){var n=al(t)?Cn:To;return n(t,Ha(e,3))}var rc=ma(Wu),oc=ma(Gu);function ic(t,e){return Ao(pc(t,e),1)}function ac(t,e){return Ao(pc(t,e),P)}function uc(t,e,n){return n=n===i?1:ql(n),Ao(pc(t,e),n)}function sc(t,e){var n=al(t)?wn:wo;return n(t,Ha(e,3))}function cc(t,e){var n=al(t)?_n:_o;return n(t,Ha(e,3))}var lc=aa((function(t,e,n){fe.call(t,n)?t[n].push(e):ho(t,n,[e])}));function fc(t,e,n,r){t=sl(t)?t:Ff(t),n=n&&!r?ql(n):0;var o=t.length;return n<0&&(n=Fe(o+n,0)),Ll(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Bn(t,e,n)>-1}var dc=bi((function(t,e,r){var o=-1,i="function"==typeof e,a=sl(t)?n(t.length):[];return wo(t,(function(t){a[++o]=i?bn(e,t,r):Ho(t,e,r)})),a})),hc=aa((function(t,e,n){ho(t,n,e)}));function pc(t,e){var n=al(t)?An:oi;return n(t,Ha(e,3))}function mc(t,e,n,r){return null==t?[]:(al(e)||(e=null==e?[]:[e]),n=r?i:n,al(n)||(n=null==n?[]:[n]),li(t,e,n))}var gc=aa((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function vc(t,e,n){var r=al(t)?Mn:Un,o=arguments.length<3;return r(t,Ha(e,4),n,o,wo)}function yc(t,e,n){var r=al(t)?Dn:Un,o=arguments.length<3;return r(t,Ha(e,4),n,o,_o)}function bc(t,e){var n=al(t)?Cn:To;return n(t,Vc(Ha(e,3)))}function xc(t){var e=al(t)?ro:xi;return e(t)}function wc(t,e,n){e=(n?iu(t,e,n):e===i)?1:ql(e);var r=al(t)?oo:wi;return r(t,e)}function _c(t){var e=al(t)?io:ki;return e(t)}function Sc(t){if(null==t)return 0;if(sl(t))return Ll(t)?pr(t):t.length;var e=Za(t);return e==J||e==it?t.size:ei(t).length}function Cc(t,e,n){var r=al(t)?In:Ai;return n&&iu(t,e,n)&&(e=i),r(t,Ha(e,3))}var kc=bi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&iu(t,e[0],e[1])?e=[]:n>2&&iu(e[0],e[1],e[2])&&(e=[e[0]]),li(t,Ao(e,1),[])})),Tc=Ie||function(){return un.Date.now()};function Ac(t,e){if("function"!=typeof e)throw new ie(c);return t=ql(t),function(){if(--t<1)return e.apply(this,arguments)}}function Oc(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Ma(t,k,i,i,i,i,e)}function Mc(t,e){var n;if("function"!=typeof e)throw new ie(c);return t=ql(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Dc=bi((function(t,e,n){var r=y;if(n.length){var o=cr(n,ja(Dc));r|=S}return Ma(t,r,e,n,o)})),Ic=bi((function(t,e,n){var r=y|b;if(n.length){var o=cr(n,ja(Ic));r|=S}return Ma(e,r,t,n,o)}));function Ec(t,e,n){e=n?i:e;var r=Ma(t,w,i,i,i,i,i,e);return r.placeholder=Ec.placeholder,r}function Rc(t,e,n){e=n?i:e;var r=Ma(t,_,i,i,i,i,i,e);return r.placeholder=Rc.placeholder,r}function Nc(t,e,n){var r,o,a,u,s,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new ie(c);function m(e){var n=r,a=o;return r=o=i,f=e,u=t.apply(a,n),u}function g(t){return f=t,s=Su(b,e),d?m(t):u}function v(t){var n=t-l,r=t-f,o=e-n;return h?je(o,a-r):o}function y(t){var n=t-l,r=t-f;return l===i||n>=e||n<0||h&&r>=a}function b(){var t=Tc();if(y(t))return x(t);s=Su(b,v(t))}function x(t){return s=i,p&&r?m(t):(r=o=i,u)}function w(){s!==i&&Gi(s),f=0,r=l=o=s=i}function _(){return s===i?u:x(Tc())}function S(){var t=Tc(),n=y(t);if(r=arguments,o=this,l=t,n){if(s===i)return g(l);if(h)return Gi(s),s=Su(b,e),m(l)}return s===i&&(s=Su(b,e)),u}return e=Xl(e)||0,_l(n)&&(d=!!n.leading,h="maxWait"in n,a=h?Fe(Xl(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),S.cancel=w,S.flush=_,S}var Pc=bi((function(t,e){return bo(t,1,e)})),Lc=bi((function(t,e,n){return bo(t,Xl(e)||0,n)}));function Bc(t){return Ma(t,A)}function zc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(c);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(zc.Cache||jr),n}function Vc(t){if("function"!=typeof t)throw new ie(c);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Fc(t){return Mc(2,t)}zc.Cache=jr;var jc=Ui((function(t,e){e=1==e.length&&al(e[0])?An(e[0],Xn(Ha())):An(Ao(e,1),Xn(Ha()));var n=e.length;return bi((function(r){var o=-1,i=je(r.length,n);while(++o<i)r[o]=e[o].call(this,r[o]);return bn(t,this,r)}))})),Hc=bi((function(t,e){var n=cr(e,ja(Hc));return Ma(t,S,i,e,n)})),Uc=bi((function(t,e){var n=cr(e,ja(Uc));return Ma(t,C,i,e,n)})),Wc=La((function(t,e){return Ma(t,T,i,i,i,e)}));function Gc(t,e){if("function"!=typeof t)throw new ie(c);return e=e===i?e:ql(e),bi(t,e)}function qc(t,e){if("function"!=typeof t)throw new ie(c);return e=null==e?0:Fe(ql(e),0),bi((function(n){var r=n[e],o=Wi(n,0,e);return r&&On(o,r),bn(t,this,o)}))}function Yc(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new ie(c);return _l(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Nc(t,e,{leading:r,maxWait:e,trailing:o})}function Xc(t){return Oc(t,1)}function Zc(t,e){return Hc(ji(e),t)}function $c(){if(!arguments.length)return[];var t=arguments[0];return al(t)?t:[t]}function Kc(t){return go(t,m)}function Jc(t,e){return e="function"==typeof e?e:i,go(t,m,e)}function Qc(t){return go(t,h|m)}function tl(t,e){return e="function"==typeof e?e:i,go(t,h|m,e)}function el(t,e){return null==e||yo(t,e,wf(e))}function nl(t,e){return t===e||t!==t&&e!==e}var rl=Ca(Lo),ol=Ca((function(t,e){return t>=e})),il=Uo(function(){return arguments}())?Uo:function(t){return Sl(t)&&fe.call(t,"callee")&&!Ce.call(t,"callee")},al=n.isArray,ul=hn?Xn(hn):Wo;function sl(t){return null!=t&&wl(t.length)&&!bl(t)}function cl(t){return Sl(t)&&sl(t)}function ll(t){return!0===t||!1===t||Sl(t)&&Po(t)==q}var fl=Le||Yd,dl=pn?Xn(pn):Go;function hl(t){return Sl(t)&&1===t.nodeType&&!El(t)}function pl(t){if(null==t)return!0;if(sl(t)&&(al(t)||"string"==typeof t||"function"==typeof t.splice||fl(t)||zl(t)||il(t)))return!t.length;var e=Za(t);if(e==J||e==it)return!t.size;if(fu(t))return!ei(t).length;for(var n in t)if(fe.call(t,n))return!1;return!0}function ml(t,e){return qo(t,e)}function gl(t,e,n){n="function"==typeof n?n:i;var r=n?n(t,e):i;return r===i?qo(t,e,i,n):!!r}function vl(t){if(!Sl(t))return!1;var e=Po(t);return e==Z||e==X||"string"==typeof t.message&&"string"==typeof t.name&&!El(t)}function yl(t){return"number"==typeof t&&Be(t)}function bl(t){if(!_l(t))return!1;var e=Po(t);return e==$||e==K||e==G||e==rt}function xl(t){return"number"==typeof t&&t==ql(t)}function wl(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=L}function _l(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Sl(t){return null!=t&&"object"==typeof t}var Cl=mn?Xn(mn):Xo;function kl(t,e){return t===e||Zo(t,e,Wa(e))}function Tl(t,e,n){return n="function"==typeof n?n:i,Zo(t,e,Wa(e),n)}function Al(t){return Il(t)&&t!=+t}function Ol(t){if(lu(t))throw new o(s);return $o(t)}function Ml(t){return null===t}function Dl(t){return null==t}function Il(t){return"number"==typeof t||Sl(t)&&Po(t)==Q}function El(t){if(!Sl(t)||Po(t)!=et)return!1;var e=_e(t);if(null===e)return!0;var n=fe.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&le.call(n)==me}var Rl=gn?Xn(gn):Ko;function Nl(t){return xl(t)&&t>=-L&&t<=L}var Pl=vn?Xn(vn):Jo;function Ll(t){return"string"==typeof t||!al(t)&&Sl(t)&&Po(t)==at}function Bl(t){return"symbol"==typeof t||Sl(t)&&Po(t)==ut}var zl=yn?Xn(yn):Qo;function Vl(t){return t===i}function Fl(t){return Sl(t)&&Za(t)==ct}function jl(t){return Sl(t)&&Po(t)==lt}var Hl=Ca(ri),Ul=Ca((function(t,e){return t<=e}));function Wl(t){if(!t)return[];if(sl(t))return Ll(t)?mr(t):na(t);if(Ae&&t[Ae])return ar(t[Ae]());var e=Za(t),n=e==J?ur:e==it?lr:Ff;return n(t)}function Gl(t){if(!t)return 0===t?t:0;if(t=Xl(t),t===P||t===-P){var e=t<0?-1:1;return e*B}return t===t?t:0}function ql(t){var e=Gl(t),n=e%1;return e===e?n?e-n:e:0}function Yl(t){return t?mo(ql(t),0,V):0}function Xl(t){if("number"==typeof t)return t;if(Bl(t))return z;if(_l(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_l(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Bt,"");var n=Xt.test(t);return n||$t.test(t)?rn(t.slice(2),n?2:8):Yt.test(t)?z:+t}function Zl(t){return ra(t,_f(t))}function $l(t){return t?mo(ql(t),-L,L):0===t?t:0}function Kl(t){return null==t?"":Ei(t)}var Jl=ua((function(t,e){if(fu(e)||sl(e))ra(e,wf(e),t);else for(var n in e)fe.call(e,n)&&uo(t,n,e[n])})),Ql=ua((function(t,e){ra(e,_f(e),t)})),tf=ua((function(t,e,n,r){ra(e,_f(e),t,r)})),ef=ua((function(t,e,n,r){ra(e,wf(e),t,r)})),nf=La(po);function rf(t,e){var n=_r(t);return null==e?n:lo(n,e)}var of=bi((function(t,e){t=ne(t);var n=-1,r=e.length,o=r>2?e[2]:i;o&&iu(e[0],e[1],o)&&(r=1);while(++n<r){var a=e[n],u=_f(a),s=-1,c=u.length;while(++s<c){var l=u[s],f=t[l];(f===i||nl(f,se[l])&&!fe.call(t,l))&&(t[l]=a[l])}}return t})),af=bi((function(t){return t.push(i,Ia),bn(Tf,i,t)}));function uf(t,e){return Pn(t,Ha(e,3),Do)}function sf(t,e){return Pn(t,Ha(e,3),Io)}function cf(t,e){return null==t?t:Oo(t,Ha(e,3),_f)}function lf(t,e){return null==t?t:Mo(t,Ha(e,3),_f)}function ff(t,e){return t&&Do(t,Ha(e,3))}function df(t,e){return t&&Io(t,Ha(e,3))}function hf(t){return null==t?[]:Eo(t,wf(t))}function pf(t){return null==t?[]:Eo(t,_f(t))}function mf(t,e,n){var r=null==t?i:Ro(t,e);return r===i?n:r}function gf(t,e){return null!=t&&Ja(t,e,Bo)}function vf(t,e){return null!=t&&Ja(t,e,zo)}var yf=ya((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n}),kd(Md)),bf=ya((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),fe.call(t,e)?t[e].push(n):t[e]=[n]}),Ha),xf=bi(Ho);function wf(t){return sl(t)?no(t):ei(t)}function _f(t){return sl(t)?no(t,!0):ni(t)}function Sf(t,e){var n={};return e=Ha(e,3),Do(t,(function(t,r,o){ho(n,e(t,r,o),t)})),n}function Cf(t,e){var n={};return e=Ha(e,3),Do(t,(function(t,r,o){ho(n,r,e(t,r,o))})),n}var kf=ua((function(t,e,n){ui(t,e,n)})),Tf=ua((function(t,e,n,r){ui(t,e,n,r)})),Af=La((function(t,e){var n={};if(null==t)return n;var r=!1;e=An(e,(function(e){return e=Hi(e,t),r||(r=e.length>1),e})),ra(t,za(t),n),r&&(n=go(n,h|p|m,Ea));var o=e.length;while(o--)Ni(n,e[o]);return n}));function Of(t,e){return Df(t,Vc(Ha(e)))}var Mf=La((function(t,e){return null==t?{}:fi(t,e)}));function Df(t,e){if(null==t)return{};var n=An(za(t),(function(t){return[t]}));return e=Ha(e),di(t,n,(function(t,n){return e(t,n[0])}))}function If(t,e,n){e=Hi(e,t);var r=-1,o=e.length;o||(o=1,t=i);while(++r<o){var a=null==t?i:t[Mu(e[r])];a===i&&(r=o,a=n),t=bl(a)?a.call(t):a}return t}function Ef(t,e,n){return null==t?t:_i(t,e,n)}function Rf(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:_i(t,e,n,r)}var Nf=Oa(wf),Pf=Oa(_f);function Lf(t,e,n){var r=al(t),o=r||fl(t)||zl(t);if(e=Ha(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:_l(t)&&bl(i)?_r(_e(t)):{}}return(o?wn:Do)(t,(function(t,r,o){return e(n,t,r,o)})),n}function Bf(t,e){return null==t||Ni(t,e)}function zf(t,e,n){return null==t?t:Pi(t,e,ji(n))}function Vf(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Pi(t,e,ji(n),r)}function Ff(t){return null==t?[]:Zn(t,wf(t))}function jf(t){return null==t?[]:Zn(t,_f(t))}function Hf(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=Xl(n),n=n===n?n:0),e!==i&&(e=Xl(e),e=e===e?e:0),mo(Xl(t),e,n)}function Uf(t,e,n){return e=Gl(e),n===i?(n=e,e=0):n=Gl(n),t=Xl(t),Vo(t,e,n)}function Wf(t,e,n){if(n&&"boolean"!=typeof n&&iu(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Gl(t),e===i?(e=t,t=0):e=Gl(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=qe();return je(t+o*(e-t+nn("1e-"+((o+"").length-1))),e)}return gi(t,e)}var Gf=da((function(t,e,n){return e=e.toLowerCase(),t+(n?qf(e):e)}));function qf(t){return bd(Kl(t).toLowerCase())}function Yf(t){return t=Kl(t),t&&t.replace(Jt,tr).replace(Ue,"")}function Xf(t,e,n){t=Kl(t),e=Ei(e);var r=t.length;n=n===i?r:mo(ql(n),0,r);var o=n;return n-=e.length,n>=0&&t.slice(n,o)==e}function Zf(t){return t=Kl(t),t&&Ot.test(t)?t.replace(Tt,er):t}function $f(t){return t=Kl(t),t&&Lt.test(t)?t.replace(Pt,"\\$&"):t}var Kf=da((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Jf=da((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Qf=fa("toLowerCase");function td(t,e,n){t=Kl(t),e=ql(e);var r=e?pr(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return wa(Ne(o),n)+t+wa(Re(o),n)}function ed(t,e,n){t=Kl(t),e=ql(e);var r=e?pr(t):0;return e&&r<e?t+wa(e-r,n):t}function nd(t,e,n){t=Kl(t),e=ql(e);var r=e?pr(t):0;return e&&r<e?wa(e-r,n)+t:t}function rd(t,e,n){return n||null==e?e=0:e&&(e=+e),Ge(Kl(t).replace(zt,""),e||0)}function od(t,e,n){return e=(n?iu(t,e,n):e===i)?1:ql(e),yi(Kl(t),e)}function id(){var t=arguments,e=Kl(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var ad=da((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function ud(t,e,n){return n&&"number"!=typeof n&&iu(t,e,n)&&(e=n=i),n=n===i?V:n>>>0,n?(t=Kl(t),t&&("string"==typeof e||null!=e&&!Rl(e))&&(e=Ei(e),!e&&or(t))?Wi(mr(t),0,n):t.split(e,n)):[]}var sd=da((function(t,e,n){return t+(n?" ":"")+bd(e)}));function cd(t,e,n){return t=Kl(t),n=null==n?0:mo(ql(n),0,t.length),e=Ei(e),t.slice(n,n+e.length)==e}function ld(t,e,n){var r=xr.templateSettings;n&&iu(t,e,n)&&(e=i),t=Kl(t),e=tf({},e,r,Da);var o,a,u=tf({},e.imports,r.imports,Da),s=wf(u),c=Zn(u,s),l=0,f=e.interpolate||Qt,d="__p += '",h=re((e.escape||Qt).source+"|"+f.source+"|"+(f===It?Gt:Qt).source+"|"+(e.evaluate||Qt).source+"|$","g"),p="//# sourceURL="+(fe.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ze+"]")+"\n";t.replace(h,(function(e,n,r,i,u,s){return r||(r=i),d+=t.slice(l,s).replace(te,nr),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e})),d+="';\n";var m=fe.call(e,"variable")&&e.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(_t,""):d).replace(St,"$1").replace(Ct,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=wd((function(){return Ut(s,p+"return "+d).apply(i,c)}));if(g.source=d,vl(g))throw g;return g}function fd(t){return Kl(t).toLowerCase()}function dd(t){return Kl(t).toUpperCase()}function hd(t,e,n){if(t=Kl(t),t&&(n||e===i))return t.replace(Bt,"");if(!t||!(e=Ei(e)))return t;var r=mr(t),o=mr(e),a=Kn(r,o),u=Jn(r,o)+1;return Wi(r,a,u).join("")}function pd(t,e,n){if(t=Kl(t),t&&(n||e===i))return t.replace(Vt,"");if(!t||!(e=Ei(e)))return t;var r=mr(t),o=Jn(r,mr(e))+1;return Wi(r,0,o).join("")}function md(t,e,n){if(t=Kl(t),t&&(n||e===i))return t.replace(zt,"");if(!t||!(e=Ei(e)))return t;var r=mr(t),o=Kn(r,mr(e));return Wi(r,o).join("")}function gd(t,e){var n=O,r=M;if(_l(e)){var o="separator"in e?e.separator:o;n="length"in e?ql(e.length):n,r="omission"in e?Ei(e.omission):r}t=Kl(t);var a=t.length;if(or(t)){var u=mr(t);a=u.length}if(n>=a)return t;var s=n-pr(r);if(s<1)return r;var c=u?Wi(u,0,s).join(""):t.slice(0,s);if(o===i)return c+r;if(u&&(s+=c.length-s),Rl(o)){if(t.slice(s).search(o)){var l,f=c;o.global||(o=re(o.source,Kl(qt.exec(o))+"g")),o.lastIndex=0;while(l=o.exec(f))var d=l.index;c=c.slice(0,d===i?s:d)}}else if(t.indexOf(Ei(o),s)!=s){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r}function vd(t){return t=Kl(t),t&&At.test(t)?t.replace(kt,gr):t}var yd=da((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),bd=fa("toUpperCase");function xd(t,e,n){return t=Kl(t),e=n?i:e,e===i?ir(t)?br(t):Nn(t):t.match(e)||[]}var wd=bi((function(t,e){try{return bn(t,i,e)}catch(n){return vl(n)?n:new o(n)}})),_d=La((function(t,e){return wn(e,(function(e){e=Mu(e),ho(t,e,Dc(t[e],t))})),t}));function Sd(t){var e=null==t?0:t.length,n=Ha();return t=e?An(t,(function(t){if("function"!=typeof t[1])throw new ie(c);return[n(t[0]),t[1]]})):[],bi((function(n){var r=-1;while(++r<e){var o=t[r];if(bn(o[0],this,n))return bn(o[1],this,n)}}))}function Cd(t){return vo(go(t,h))}function kd(t){return function(){return t}}function Td(t,e){return null==t||t!==t?e:t}var Ad=ga(),Od=ga(!0);function Md(t){return t}function Dd(t){return ti("function"==typeof t?t:go(t,h))}function Id(t){return ii(go(t,h))}function Ed(t,e){return ai(t,go(e,h))}var Rd=bi((function(t,e){return function(n){return Ho(n,t,e)}})),Nd=bi((function(t,e){return function(n){return Ho(t,n,e)}}));function Pd(t,e,n){var r=wf(e),o=Eo(e,r);null!=n||_l(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Eo(e,wf(e)));var i=!(_l(n)&&"chain"in n)||!!n.chain,a=bl(t);return wn(o,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),o=n.__actions__=na(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,On([this.value()],arguments))})})),t}function Ld(){return un._===this&&(un._=ge),this}function Bd(){}function zd(t){return t=ql(t),bi((function(e){return ci(e,t)}))}var Vd=xa(An),Fd=xa(Sn),jd=xa(In);function Hd(t){return au(t)?jn(Mu(t)):hi(t)}function Ud(t){return function(e){return null==t?i:Ro(t,e)}}var Wd=Sa(),Gd=Sa(!0);function qd(){return[]}function Yd(){return!1}function Xd(){return{}}function Zd(){return""}function $d(){return!0}function Kd(t,e){if(t=ql(t),t<1||t>L)return[];var n=V,r=je(t,V);e=Ha(e),t-=V;var o=qn(r,e);while(++n<t)e(n);return o}function Jd(t){return al(t)?An(t,Mu):Bl(t)?[t]:na(Ou(Kl(t)))}function Qd(t){var e=++de;return Kl(t)+e}var th=ba((function(t,e){return t+e}),0),eh=Ta("ceil"),nh=ba((function(t,e){return t/e}),1),rh=Ta("floor");function oh(t){return t&&t.length?Co(t,Md,Lo):i}function ih(t,e){return t&&t.length?Co(t,Ha(e,2),Lo):i}function ah(t){return Fn(t,Md)}function uh(t,e){return Fn(t,Ha(e,2))}function sh(t){return t&&t.length?Co(t,Md,ri):i}function ch(t,e){return t&&t.length?Co(t,Ha(e,2),ri):i}var lh=ba((function(t,e){return t*e}),1),fh=Ta("round"),dh=ba((function(t,e){return t-e}),0);function hh(t){return t&&t.length?Gn(t,Md):0}function ph(t,e){return t&&t.length?Gn(t,Ha(e,2)):0}return xr.after=Ac,xr.ary=Oc,xr.assign=Jl,xr.assignIn=Ql,xr.assignInWith=tf,xr.assignWith=ef,xr.at=nf,xr.before=Mc,xr.bind=Dc,xr.bindAll=_d,xr.bindKey=Ic,xr.castArray=$c,xr.chain=Us,xr.chunk=Ru,xr.compact=Nu,xr.concat=Pu,xr.cond=Sd,xr.conforms=Cd,xr.constant=kd,xr.countBy=tc,xr.create=rf,xr.curry=Ec,xr.curryRight=Rc,xr.debounce=Nc,xr.defaults=of,xr.defaultsDeep=af,xr.defer=Pc,xr.delay=Lc,xr.difference=Lu,xr.differenceBy=Bu,xr.differenceWith=zu,xr.drop=Vu,xr.dropRight=Fu,xr.dropRightWhile=ju,xr.dropWhile=Hu,xr.fill=Uu,xr.filter=nc,xr.flatMap=ic,xr.flatMapDeep=ac,xr.flatMapDepth=uc,xr.flatten=qu,xr.flattenDeep=Yu,xr.flattenDepth=Xu,xr.flip=Bc,xr.flow=Ad,xr.flowRight=Od,xr.fromPairs=Zu,xr.functions=hf,xr.functionsIn=pf,xr.groupBy=lc,xr.initial=Ju,xr.intersection=Qu,xr.intersectionBy=ts,xr.intersectionWith=es,xr.invert=yf,xr.invertBy=bf,xr.invokeMap=dc,xr.iteratee=Dd,xr.keyBy=hc,xr.keys=wf,xr.keysIn=_f,xr.map=pc,xr.mapKeys=Sf,xr.mapValues=Cf,xr.matches=Id,xr.matchesProperty=Ed,xr.memoize=zc,xr.merge=kf,xr.mergeWith=Tf,xr.method=Rd,xr.methodOf=Nd,xr.mixin=Pd,xr.negate=Vc,xr.nthArg=zd,xr.omit=Af,xr.omitBy=Of,xr.once=Fc,xr.orderBy=mc,xr.over=Vd,xr.overArgs=jc,xr.overEvery=Fd,xr.overSome=jd,xr.partial=Hc,xr.partialRight=Uc,xr.partition=gc,xr.pick=Mf,xr.pickBy=Df,xr.property=Hd,xr.propertyOf=Ud,xr.pull=as,xr.pullAll=us,xr.pullAllBy=ss,xr.pullAllWith=cs,xr.pullAt=ls,xr.range=Wd,xr.rangeRight=Gd,xr.rearg=Wc,xr.reject=bc,xr.remove=fs,xr.rest=Gc,xr.reverse=ds,xr.sampleSize=wc,xr.set=Ef,xr.setWith=Rf,xr.shuffle=_c,xr.slice=hs,xr.sortBy=kc,xr.sortedUniq=xs,xr.sortedUniqBy=ws,xr.split=ud,xr.spread=qc,xr.tail=_s,xr.take=Ss,xr.takeRight=Cs,xr.takeRightWhile=ks,xr.takeWhile=Ts,xr.tap=Ws,xr.throttle=Yc,xr.thru=Gs,xr.toArray=Wl,xr.toPairs=Nf,xr.toPairsIn=Pf,xr.toPath=Jd,xr.toPlainObject=Zl,xr.transform=Lf,xr.unary=Xc,xr.union=As,xr.unionBy=Os,xr.unionWith=Ms,xr.uniq=Ds,xr.uniqBy=Is,xr.uniqWith=Es,xr.unset=Bf,xr.unzip=Rs,xr.unzipWith=Ns,xr.update=zf,xr.updateWith=Vf,xr.values=Ff,xr.valuesIn=jf,xr.without=Ps,xr.words=xd,xr.wrap=Zc,xr.xor=Ls,xr.xorBy=Bs,xr.xorWith=zs,xr.zip=Vs,xr.zipObject=Fs,xr.zipObjectDeep=js,xr.zipWith=Hs,xr.entries=Nf,xr.entriesIn=Pf,xr.extend=Ql,xr.extendWith=tf,Pd(xr,xr),xr.add=th,xr.attempt=wd,xr.camelCase=Gf,xr.capitalize=qf,xr.ceil=eh,xr.clamp=Hf,xr.clone=Kc,xr.cloneDeep=Qc,xr.cloneDeepWith=tl,xr.cloneWith=Jc,xr.conformsTo=el,xr.deburr=Yf,xr.defaultTo=Td,xr.divide=nh,xr.endsWith=Xf,xr.eq=nl,xr.escape=Zf,xr.escapeRegExp=$f,xr.every=ec,xr.find=rc,xr.findIndex=Wu,xr.findKey=uf,xr.findLast=oc,xr.findLastIndex=Gu,xr.findLastKey=sf,xr.floor=rh,xr.forEach=sc,xr.forEachRight=cc,xr.forIn=cf,xr.forInRight=lf,xr.forOwn=ff,xr.forOwnRight=df,xr.get=mf,xr.gt=rl,xr.gte=ol,xr.has=gf,xr.hasIn=vf,xr.head=$u,xr.identity=Md,xr.includes=fc,xr.indexOf=Ku,xr.inRange=Uf,xr.invoke=xf,xr.isArguments=il,xr.isArray=al,xr.isArrayBuffer=ul,xr.isArrayLike=sl,xr.isArrayLikeObject=cl,xr.isBoolean=ll,xr.isBuffer=fl,xr.isDate=dl,xr.isElement=hl,xr.isEmpty=pl,xr.isEqual=ml,xr.isEqualWith=gl,xr.isError=vl,xr.isFinite=yl,xr.isFunction=bl,xr.isInteger=xl,xr.isLength=wl,xr.isMap=Cl,xr.isMatch=kl,xr.isMatchWith=Tl,xr.isNaN=Al,xr.isNative=Ol,xr.isNil=Dl,xr.isNull=Ml,xr.isNumber=Il,xr.isObject=_l,xr.isObjectLike=Sl,xr.isPlainObject=El,xr.isRegExp=Rl,xr.isSafeInteger=Nl,xr.isSet=Pl,xr.isString=Ll,xr.isSymbol=Bl,xr.isTypedArray=zl,xr.isUndefined=Vl,xr.isWeakMap=Fl,xr.isWeakSet=jl,xr.join=ns,xr.kebabCase=Kf,xr.last=rs,xr.lastIndexOf=os,xr.lowerCase=Jf,xr.lowerFirst=Qf,xr.lt=Hl,xr.lte=Ul,xr.max=oh,xr.maxBy=ih,xr.mean=ah,xr.meanBy=uh,xr.min=sh,xr.minBy=ch,xr.stubArray=qd,xr.stubFalse=Yd,xr.stubObject=Xd,xr.stubString=Zd,xr.stubTrue=$d,xr.multiply=lh,xr.nth=is,xr.noConflict=Ld,xr.noop=Bd,xr.now=Tc,xr.pad=td,xr.padEnd=ed,xr.padStart=nd,xr.parseInt=rd,xr.random=Wf,xr.reduce=vc,xr.reduceRight=yc,xr.repeat=od,xr.replace=id,xr.result=If,xr.round=fh,xr.runInContext=t,xr.sample=xc,xr.size=Sc,xr.snakeCase=ad,xr.some=Cc,xr.sortedIndex=ps,xr.sortedIndexBy=ms,xr.sortedIndexOf=gs,xr.sortedLastIndex=vs,xr.sortedLastIndexBy=ys,xr.sortedLastIndexOf=bs,xr.startCase=sd,xr.startsWith=cd,xr.subtract=dh,xr.sum=hh,xr.sumBy=ph,xr.template=ld,xr.times=Kd,xr.toFinite=Gl,xr.toInteger=ql,xr.toLength=Yl,xr.toLower=fd,xr.toNumber=Xl,xr.toSafeInteger=$l,xr.toString=Kl,xr.toUpper=dd,xr.trim=hd,xr.trimEnd=pd,xr.trimStart=md,xr.truncate=gd,xr.unescape=vd,xr.uniqueId=Qd,xr.upperCase=yd,xr.upperFirst=bd,xr.each=sc,xr.eachRight=cc,xr.first=$u,Pd(xr,function(){var t={};return Do(xr,(function(e,n){fe.call(xr.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),xr.VERSION=a,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){xr[t].placeholder=xr})),wn(["drop","take"],(function(t,e){kr.prototype[t]=function(n){n=n===i?1:Fe(ql(n),0);var r=this.__filtered__&&!e?new kr(this):this.clone();return r.__filtered__?r.__takeCount__=je(n,r.__takeCount__):r.__views__.push({size:je(n,V),type:t+(r.__dir__<0?"Right":"")}),r},kr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),wn(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==E||n==N;kr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ha(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),wn(["head","last"],(function(t,e){var n="take"+(e?"Right":"");kr.prototype[t]=function(){return this[n](1).value()[0]}})),wn(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");kr.prototype[t]=function(){return this.__filtered__?new kr(this):this[n](1)}})),kr.prototype.compact=function(){return this.filter(Md)},kr.prototype.find=function(t){return this.filter(t).head()},kr.prototype.findLast=function(t){return this.reverse().find(t)},kr.prototype.invokeMap=bi((function(t,e){return"function"==typeof t?new kr(this):this.map((function(n){return Ho(n,t,e)}))})),kr.prototype.reject=function(t){return this.filter(Vc(Ha(t)))},kr.prototype.slice=function(t,e){t=ql(t);var n=this;return n.__filtered__&&(t>0||e<0)?new kr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(e=ql(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},kr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},kr.prototype.toArray=function(){return this.take(V)},Do(kr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=xr[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(xr.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,s=e instanceof kr,c=u[0],l=s||al(e),f=function(t){var e=o.apply(xr,On([t],u));return r&&d?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,m=s&&!h;if(!a&&l){e=m?e:new kr(this);var g=t.apply(e,u);return g.__actions__.push({func:Gs,args:[f],thisArg:i}),new Cr(g,d)}return p&&m?t.apply(this,u):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),wn(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ae[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);xr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(al(o)?o:[],t)}return this[n]((function(n){return e.apply(al(n)?n:[],t)}))}})),Do(kr.prototype,(function(t,e){var n=xr[e];if(n){var r=n.name+"";fe.call(cn,r)||(cn[r]=[]),cn[r].push({name:e,func:n})}})),cn[va(i,b).name]=[{name:"wrapper",func:i}],kr.prototype.clone=Tr,kr.prototype.reverse=Ar,kr.prototype.value=Or,xr.prototype.at=qs,xr.prototype.chain=Ys,xr.prototype.commit=Xs,xr.prototype.next=Zs,xr.prototype.plant=Ks,xr.prototype.reverse=Js,xr.prototype.toJSON=xr.prototype.valueOf=xr.prototype.value=Qs,xr.prototype.first=xr.prototype.head,Ae&&(xr.prototype[Ae]=$s),xr},wr=xr();un._=wr,o=function(){return wr}.call(e,n,e,r),o===i||(r.exports=o)}).call(this)}).call(this,n("c8ba"),n("62e4")(t))},"2f9c":function(t,e,n){},"2fec":function(t,e,n){n("24e8")},3154:function(t,e,n){n("f034")},"365e":function(t,e,n){n("cf08")},3699:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){return e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},e.apply(this,arguments)},n=function(){},r=function(t){return function(){return t}},o=r(!1),i=r(!0),a=function(){return u},u=function(){var t=function(t){return t.isNone()},e=function(t){return t()},u=function(t){return t},s={fold:function(t,e){return t()},is:o,isSome:o,isNone:i,getOr:u,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:u,orThunk:e,map:a,each:n,bind:a,exists:o,forall:i,filter:a,equals:t,equals_:t,toArray:function(){return[]},toString:r("none()")};return s}(),s=function(t){var e=r(t),n=function(){return c},a=function(e){return e(t)},c={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:i,isNone:o,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return s(e(t))},each:function(e){e(t)},bind:a,exists:a,forall:a,filter:function(e){return e(t)?c:u},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(o,(function(e){return n(t,e)}))}};return c},c=function(t){return null===t||void 0===t?u:s(t)},l={some:s,none:a,from:c},f=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},d=function(t){return function(e){return f(e)===t}},h=d("string"),p=d("object"),m=d("array"),g=Array.prototype.push,v=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},y=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!m(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);g.apply(e,t[n])}return e},b=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},x=Object.keys,w=Object.hasOwnProperty,_=function(t,e){for(var n=x(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},S=function(t,e){return C(t,e)?l.from(t[e]):l.none()},C=function(t,e){return w.call(t,e)},k=function(t){return t.getParam("media_scripts")},T=function(t){return t.getParam("audio_template_callback")},A=function(t){return t.getParam("video_template_callback")},O=function(t){return t.getParam("media_live_embeds",!0)},M=function(t){return t.getParam("media_filter_html",!0)},D=function(t){return t.getParam("media_url_resolver")},I=function(t){return t.getParam("media_alt_source",!0)},E=function(t){return t.getParam("media_poster",!0)},R=function(t){return t.getParam("media_dimensions",!0)},N=tinymce.util.Tools.resolve("tinymce.util.Tools"),P=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),L=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),B=function(t,e){if(t)for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n].filter))return t[n]},z=P.DOM,V=function(t){return t.replace(/px$/,"")},F=function(t){var e=t.map.style,n=e?z.parseStyle(e):{};return{type:"ephox-embed-iri",source:t.map["data-ephox-embed-iri"],altsource:"",poster:"",width:S(n,"max-width").map(V).getOr(""),height:S(n,"max-height").map(V).getOr("")}},j=function(t,e){var n=b(!1),r={};return L({validate:!1,allow_conditional_comments:!0,start:function(e,o){if(n.get());else if(C(o.map,"data-ephox-embed-iri"))n.set(!0),r=F(o);else{if(r.source||"param"!==e||(r.source=o.map.movie),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(r.type||(r.type=e),r=N.extend(o.map,r)),"script"===e){var i=B(t,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===e&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==e||r.poster||(r.poster=o.map.src)}}}).parse(e),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},H=function(t){var e={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n=t.toLowerCase().split(".").pop(),r=e[n];return r||""},U=tinymce.util.Tools.resolve("tinymce.html.Schema"),W=tinymce.util.Tools.resolve("tinymce.html.Writer"),G=P.DOM,q=function(t){return/^[0-9.]+$/.test(t)?t+"px":t},Y=function(t,e){_(e,(function(e,n){var r=""+e;if(t.map[n]){var o=t.length;while(o--){var i=t[o];i.name===n&&(r?(t.map[n]=r,i.value=r):(delete t.map[n],t.splice(o,1)))}}else r&&(t.push({name:n,value:r}),t.map[n]=r)}))},X=function(t,e){var n=e.map.style,r=n?G.parseStyle(n):{};r["max-width"]=q(t.width),r["max-height"]=q(t.height),Y(e,{style:G.serializeStyle(r)})},Z=["source","altsource"],$=function(t,e,n){var r,o=W(),i=b(!1),a=0;return L({validate:!1,allow_conditional_comments:!0,comment:function(t){o.comment(t)},cdata:function(t){o.cdata(t)},text:function(t,e){o.text(t,e)},start:function(t,u,s){if(i.get());else if(C(u.map,"data-ephox-embed-iri"))i.set(!0),X(e,u);else{switch(t){case"video":case"object":case"embed":case"img":case"iframe":void 0!==e.height&&void 0!==e.width&&Y(u,{width:e.width,height:e.height});break}if(n)switch(t){case"video":Y(u,{poster:e.poster,src:""}),e.altsource&&Y(u,{src:""});break;case"iframe":Y(u,{src:e.source});break;case"source":if(a<2&&(Y(u,{src:e[Z[a]],type:e[Z[a]+"mime"]}),!e[Z[a]]))return;a++;break;case"img":if(!e.poster)return;r=!0;break}}o.start(t,u,s)},end:function(t){if(!i.get()){if("video"===t&&n)for(var u=0;u<2;u++)if(e[Z[u]]){var s=[];s.map={},a<=u&&(Y(s,{src:e[Z[u]],type:e[Z[u]+"mime"]}),o.start("source",s,!0))}if(e.poster&&"object"===t&&n&&!r){var c=[];c.map={},Y(c,{src:e.poster,width:e.width,height:e.height}),o.start("img",c,!0)}}o.end(t)}},U({})).parse(t),o.getContent()},K=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],J=function(t){var e=t.match(/^(https?:\/\/|www\.)(.+)$/i);return e&&e.length>1?"www."===e[1]?"https://":e[1]:"https://"},Q=function(t,e){for(var n=J(e),r=t.regex.exec(e),o=n+t.url,i=function(t){o=o.replace("$"+t,(function(){return r[t]?r[t]:""}))},a=0;a<r.length;a++)i(a);return o.replace(/\?$/,"")},tt=function(t){var e=K.filter((function(e){return e.regex.test(t)}));return e.length>0?N.extend({},e[0],{url:Q(e[0],t)}):null},et=function(t){var e=t.allowFullscreen?' allowFullscreen="1"':"";return'<iframe src="'+t.source+'" width="'+t.width+'" height="'+t.height+'"'+e+"></iframe>"},nt=function(t){var e='<object data="'+t.source+'" width="'+t.width+'" height="'+t.height+'" type="application/x-shockwave-flash">';return t.poster&&(e+='<img src="'+t.poster+'" width="'+t.width+'" height="'+t.height+'" />'),e+="</object>",e},rt=function(t,e){return e?e(t):'<audio controls="controls" src="'+t.source+'">'+(t.altsource?'\n<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</audio>"},ot=function(t,e){return e?e(t):'<video width="'+t.width+'" height="'+t.height+'"'+(t.poster?' poster="'+t.poster+'"':"")+' controls="controls">\n<source src="'+t.source+'"'+(t.sourcemime?' type="'+t.sourcemime+'"':"")+" />\n"+(t.altsource?'<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</video>"},it=function(t){return'<script src="'+t.source+'"><\/script>'},at=function(t,e){var n=N.extend({},e);if(!n.source&&(N.extend(n,j(k(t),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=t.convertURL(n.source,"source"),n.altsource=t.convertURL(n.altsource,"source"),n.sourcemime=H(n.source),n.altsourcemime=H(n.altsource),n.poster=t.convertURL(n.poster,"poster");var r=tt(n.source);if(r&&(n.source=r.url,n.type=r.type,n.allowFullscreen=r.allowFullscreen,n.width=n.width||String(r.w),n.height=n.height||String(r.h)),n.embed)return $(n.embed,n,!0);var o=B(k(t),n.source);o&&(n.type="script",n.width=String(o.width),n.height=String(o.height));var i=T(t),a=A(t);return n.width=n.width||"300",n.height=n.height||"150",N.each(n,(function(e,r){n[r]=t.dom.encode(""+e)})),"iframe"===n.type?et(n):"application/x-shockwave-flash"===n.sourcemime?nt(n):-1!==n.sourcemime.indexOf("audio")?rt(n,i):"script"===n.type?it(n):ot(n,a)},ut=tinymce.util.Tools.resolve("tinymce.util.Promise"),st={},ct=function(t,e,n){return new ut((function(r,o){var i=function(n){return n.html&&(st[t.source]=n),r({url:t.source,html:n.html?n.html:e(t)})};st[t.source]?i(st[t.source]):n({url:t.source},i,o)}))},lt=function(t,e){return new ut((function(n){n({html:e(t),url:t.source})}))},ft=function(t){return function(e){return at(t,e)}},dt=function(t,e){var n=D(t);return n?ct(e,ft(t),n):lt(e,ft(t))},ht=function(t){return st.hasOwnProperty(t)},pt=function(t,e){return S(e,t).bind((function(t){return S(t,"meta")}))},mt=function(t,e,n){return function(r){var o,i=function(){return S(t,r)},a=function(){return S(e,r)},u=function(t){return S(t,"value").bind((function(t){return t.length>0?l.some(t):l.none()}))},s=function(){return i().bind((function(t){return p(t)?u(t).orThunk(a):a().orThunk((function(){return l.from(t)}))}))},c=function(){return a().orThunk((function(){return i().bind((function(t){return p(t)?u(t):l.from(t)}))}))};return o={},o[r]=(r===n?s():c()).getOr(""),o}},gt=function(t,e){var n={};return S(t,"dimensions").each((function(t){v(["width","height"],(function(r){S(e,r).orThunk((function(){return S(t,r)})).each((function(t){return n[r]=t}))}))})),n},vt=function(t,n){var r=n?pt(n,t).getOr({}):{},o=mt(t,r,n);return e(e(e(e(e({},o("source")),o("altsource")),o("poster")),o("embed")),gt(t,r))},yt=function(t){var n=e(e({},t),{source:{value:S(t,"source").getOr("")},altsource:{value:S(t,"altsource").getOr("")},poster:{value:S(t,"poster").getOr("")}});return v(["width","height"],(function(e){S(t,e).each((function(t){var r=n.dimensions||{};r[e]=t,n.dimensions=r}))})),n},bt=function(t){return function(e){var n=e&&e.msg?"Media embed handler error: "+e.msg:"Media embed handler threw unknown error.";t.notificationManager.open({type:"error",text:n})}},xt=function(t,e){return j(k(t),e)},wt=function(t){return t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri")},_t=function(t){var n=t.selection.getNode(),r=wt(n)?t.serializer.serialize(n,{selection:!0}):"";return e({embed:r},j(k(t),r))},St=function(t,n){return function(r){if(h(r.url)&&r.url.trim().length>0){var o=r.html,i=xt(n,o),a=e(e({},i),{source:r.url,embed:o});t.setData(yt(a))}}},Ct=function(t,e){for(var n=t.dom.select("img[data-mce-object]"),r=0;r<e.length;r++)for(var o=n.length-1;o>=0;o--)e[r]===n[o]&&n.splice(o,1);t.selection.select(n[0])},kt=function(t,e){var n=t.dom.select("img[data-mce-object]");t.insertContent(e),Ct(t,n),t.nodeChanged()},Tt=function(t,e,n){e.embed=$(e.embed,e),e.embed&&(t.source===e.source||ht(e.source))?kt(n,e.embed):dt(n,e).then((function(t){kt(n,t.html)})).catch(bt(n))},At=function(t){var n=_t(t),r=b(n),o=yt(n),i=function(e,n){var r=vt(n.getData(),"source");e.source!==r.source&&(St(v,t)({url:r.source,html:""}),dt(t,r).then(St(v,t)).catch(bt(t)))},a=function(e){var n=vt(e.getData()),r=xt(t,n.embed);e.setData(yt(r))},u=function(n,r){var o=vt(n.getData(),r),i=at(t,o);n.setData(yt(e(e({},o),{embed:i})))},s=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],c=R(t)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],l={title:"General",name:"general",items:y([s,c])},f={type:"textarea",name:"embed",label:"Paste your embed code below:"},d={title:"Embed",items:[f]},h=[];I(t)&&h.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),E(t)&&h.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var p={title:"Advanced",name:"advanced",items:h},m=[l,d];h.length>0&&m.push(p);var g={type:"tabpanel",tabs:m},v=t.windowManager.open({title:"Insert/Edit Media",size:"normal",body:g,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(e){var n=vt(e.getData());Tt(r.get(),n,t),e.close()},onChange:function(t,e){switch(e.name){case"source":i(r.get(),t);break;case"embed":a(t);break;case"dimensions":case"altsource":case"poster":u(t,e.name);break}r.set(vt(t.getData()))},initialData:o})},Ot=function(t){var e=function(){At(t)};return{showDialog:e}},Mt=function(t){var e=function(){At(t)};t.addCommand("mceMedia",e)},Dt=tinymce.util.Tools.resolve("tinymce.html.Node"),It=tinymce.util.Tools.resolve("tinymce.Env"),Et=function(t,e){if(!1===M(t))return e;var n,r=W();return L({validate:!1,allow_conditional_comments:!1,comment:function(t){r.comment(t)},cdata:function(t){r.cdata(t)},text:function(t,e){r.text(t,e)},start:function(e,o,i){if(n=!0,"script"!==e&&"noscript"!==e&&"svg"!==e){for(var a=o.length-1;a>=0;a--){var u=o[a].name;0===u.indexOf("on")&&(delete o.map[u],o.splice(a,1)),"style"===u&&(o[a].value=t.dom.serializeStyle(t.dom.parseStyle(o[a].value),e))}r.start(e,o,i),n=!1}},end:function(t){n||r.end(t)}},U({})).parse(e),r.getContent()},Rt=function(t,e){var n=e.name,r=new Dt("img",1);return r.shortEnded=!0,Pt(t,e,r),r.attr({width:e.attr("width")||"300",height:e.attr("height")||("audio"===n?"30":"150"),style:e.attr("style"),src:It.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),r},Nt=function(t,e){var n=e.name,r=new Dt("span",1);r.attr({contentEditable:"false",style:e.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),Pt(t,e,r);var o=new Dt(n,1);o.attr({src:e.attr("src"),allowfullscreen:e.attr("allowfullscreen"),style:e.attr("style"),class:e.attr("class"),width:e.attr("width"),height:e.attr("height"),frameborder:"0"});var i=new Dt("span",1);return i.attr("class","mce-shim"),r.append(o),r.append(i),r},Pt=function(t,e,n){var r,o,i,a=e.attributes;i=a.length;while(i--)r=a[i].name,o=a[i].value,"width"!==r&&"height"!==r&&"style"!==r&&("data"!==r&&"src"!==r||(o=t.convertURL(o,r)),n.attr("data-mce-p-"+r,o));var u=e.firstChild&&e.firstChild.value;u&&(n.attr("data-mce-html",escape(Et(t,u))),n.firstChild=null)},Lt=function(t){var e=t.attr("class");return e&&/\btiny-pageembed\b/.test(e)},Bt=function(t){while(t=t.parent)if(t.attr("data-ephox-embed-iri")||Lt(t))return!0;return!1},zt=function(t){return function(e){var n,r,o=e.length;while(o--)n=e[o],n.parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=B(k(t),n.attr("src")),r))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),"iframe"===n.name&&O(t)&&It.ceFalse?Bt(n)||n.replace(Nt(t,n)):Bt(n)||n.replace(Rt(t,n))))}},Vt=function(t){t.on("preInit",(function(){var e=t.schema.getSpecialElements();N.each("video audio iframe object".split(" "),(function(t){e[t]=new RegExp("</"+t+"[^>]*>","gi")}));var n=t.schema.getBoolAttrs();N.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(t){n[t]={}})),t.parser.addNodeFilter("iframe,video,audio,object,embed,script",zt(t)),t.serializer.addAttributeFilter("data-mce-object",(function(e,n){var r,o,i,a,u,s,c,l,f=e.length;while(f--)if(r=e[f],r.parent){c=r.attr(n),o=new Dt(c,1),"audio"!==c&&"script"!==c&&(l=r.attr("class"),l&&-1!==l.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),a=r.attributes,i=a.length;while(i--){var d=a[i].name;0===d.indexOf("data-mce-p-")&&o.attr(d.substr(11),a[i].value)}"script"===c&&o.attr("type","text/javascript"),u=r.attr("data-mce-html"),u&&(s=new Dt("#text",3),s.raw=!0,s.value=Et(t,unescape(u)),o.append(s)),r.replace(o)}}))})),t.on("SetContent",(function(){t.$("span.mce-preview-object").each((function(e,n){var r=t.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},Ft=function(t){t.on("ResolveName",(function(t){var e;1===t.target.nodeType&&(e=t.target.getAttribute("data-mce-object"))&&(t.name=e)}))},jt=function(t){t.on("click keyup touchend",(function(){var e=t.selection.getNode();e&&t.dom.hasClass(e,"mce-preview-object")&&t.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")})),t.on("ObjectSelected",(function(t){var e=t.target.getAttribute("data-mce-object");"audio"!==e&&"script"!==e||t.preventDefault()})),t.on("ObjectResized",(function(t){var e,n=t.target;n.getAttribute("data-mce-object")&&(e=n.getAttribute("data-mce-html"),e&&(e=unescape(e),n.setAttribute("data-mce-html",escape($(e,{width:String(t.width),height:String(t.height)})))))}))},Ht=function(t,e){return function(n){return t.selection.selectorChangedWithUnbind(e.join(","),n.setActive).unbind}},Ut=function(t){t.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){t.execCommand("mceMedia")},onSetup:Ht(t,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),t.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){t.execCommand("mceMedia")}})};function Wt(){t.add("media",(function(t){return Mt(t),Ut(t),Ft(t),Vt(t),jt(t),Ot(t)}))}Wt()})()},"3ad8":function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var o=function(){},i=function(t){return function(){return t}},a=function(t){return t},u=function(t){return function(){throw new Error(t)}},s=i(!1),c=i(!0),l=function(){return f},f=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:s,isSome:s,isNone:c,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:e,map:l,each:o,bind:l,exists:s,forall:c,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")};return r}(),d=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return o},h=function(t){return null===t||void 0===t?f:d(t)},p={some:d,none:l,from:h},m=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},g=function(t){return function(e){return m(e)===t}},v=g("string"),y=g("object"),b=g("array"),x=Array.prototype.slice,w=Array.prototype.indexOf,_=function(t,e){return w.call(t,e)},S=function(t,e){return _(t,e)>-1},C=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},k=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},T=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},A=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},O=function(t,e,n){return T(t,(function(t){n=e(n,t)})),n},M=function(t,e,n){return k(t,(function(t){n=e(n,t)})),n},D=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return p.some(i);if(n(i,r))break}return p.none()},I=function(t,e){return D(t,e,s)},E=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},R=function(t,e){var n=x.call(t,0);return n.sort(e),n},N=function(t,e){return e>=0&&e<t.length?p.some(t[e]):p.none()},P=function(t){return N(t,0)},L=Object.keys,B=Object.hasOwnProperty,z=function(t,e){return B.call(t,e)},V=function(t){if(!b(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return k(t,(function(r,o){var i=L(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!b(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){var n=arguments.length;if(n!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var s=function(t){var n=L(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=E(e,(function(t){return S(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,r)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[o];return e.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:a,params:r})}}}})),n},F={generate:V},j=(F.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){var e=[],n=[];return k(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}),H=function(t){var e=function(e){return t===e},n=function(e){return H(t)},r=function(e){return H(t)},o=function(e){return H(e(t))},a=function(e){return H(t)},u=function(e){e(t)},l=function(e){return e(t)},f=function(e,n){return n(t)},d=function(e){return e(t)},h=function(e){return e(t)},m=function(){return p.some(t)};return{is:e,isValue:c,isError:s,getOr:i(t),getOrThunk:i(t),getOrDie:i(t),or:n,orThunk:r,fold:f,map:o,mapError:a,each:u,bind:l,exists:d,forall:h,toOptional:m}},U=function(t){var e=function(t){return t()},n=function(){return u(String(t))()},r=function(t){return t},i=function(t){return t()},l=function(e){return U(t)},f=function(e){return U(e(t))},d=function(e){return U(t)},h=function(e,n){return e(t)};return{is:s,isValue:s,isError:c,getOr:a,getOrThunk:e,getOrDie:n,or:r,orThunk:i,fold:h,map:l,mapError:f,each:o,bind:d,exists:s,forall:c,toOptional:p.none}},W=function(t,e){return t.fold((function(){return U(e)}),H)},G={value:H,error:U,fromOption:W},q=function(t){return"inline-command"===t.type||"inline-format"===t.type},Y=function(t){return"block-command"===t.type||"block-format"===t.type},X=function(t){return R(t,(function(t,e){return t.start.length===e.start.length?0:t.start.length>e.start.length?-1:1}))},Z=function(t){var e=function(e){return G.error({message:e,pattern:t})},n=function(n,r,o){if(void 0!==t.format){var i=void 0;if(b(t.format)){if(!E(t.format,v))return e(n+" pattern has non-string items in the `format` array");i=t.format}else{if(!v(t.format))return e(n+" pattern has non-string `format` parameter");i=[t.format]}return G.value(r(i))}return void 0!==t.cmd?v(t.cmd)?G.value(o(t.cmd,t.value)):e(n+" pattern has non-string `cmd` parameter"):e(n+" pattern is missing both `format` and `cmd` parameters")};if(!y(t))return e("Raw pattern is not an object");if(!v(t.start))return e("Raw pattern is missing `start` parameter");if(void 0!==t.end){if(!v(t.end))return e("Inline pattern has non-string `end` parameter");if(0===t.start.length&&0===t.end.length)return e("Inline pattern has empty `start` and `end` parameters");var r=t.start,o=t.end;return 0===o.length&&(o=r,r=""),n("Inline",(function(t){return{type:"inline-format",start:r,end:o,format:t}}),(function(t,e){return{type:"inline-command",start:r,end:o,cmd:t,value:e}}))}return void 0!==t.replacement?v(t.replacement)?0===t.start.length?e("Replacement pattern has empty `start` parameter"):G.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):e("Replacement pattern has non-string `replacement` parameter"):0===t.start.length?e("Block pattern has empty `start` parameter"):n("Block",(function(e){return{type:"block-format",start:t.start,format:e[0]}}),(function(e,n){return{type:"block-command",start:t.start,cmd:e,value:n}}))},$=function(t){return"block-command"===t.type?{start:t.start,cmd:t.cmd,value:t.value}:"block-format"===t.type?{start:t.start,format:t.format}:"inline-command"===t.type?"mceInsertContent"===t.cmd&&""===t.start?{start:t.end,replacement:t.value}:{start:t.start,end:t.end,cmd:t.cmd,value:t.value}:"inline-format"===t.type?{start:t.start,end:t.end,format:1===t.format.length?t.format[0]:t.format}:void 0},K=function(t){return{inlinePatterns:A(t,q),blockPatterns:X(A(t,Y))}},J=function(t){var e=function(e){var n=j(C(e,Z));if(n.errors.length>0){var r=n.errors[0];throw new Error(r.message+":\n"+JSON.stringify(r.pattern,null,2))}t.set(K(n.values))},n=function(){return r(C(t.get().inlinePatterns,$),C(t.get().blockPatterns,$))};return{setPatterns:e,getPatterns:n}},Q="undefined"!==typeof window?window:Function("return this;")(),tt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Q.console;n&&(n.error?n.error.apply(n,t):n.log.apply(n,t))},et=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],nt=function(t){var e=t.getParam("textpattern_patterns",et,"array");if(!b(e))return tt("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var n=j(C(e,Z));return k(n.errors,(function(t){return tt(t.message,t.pattern)})),K(n.values)},rt=function(t){var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},ot=tinymce.util.Tools.resolve("tinymce.util.Delay"),it=tinymce.util.Tools.resolve("tinymce.util.VK"),at="\ufeff",ut="",st=tinymce.util.Tools.resolve("tinymce.util.Tools"),ct=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),ft=function(t,e){return{container:t,offset:e}},dt=function(t){return t.nodeType===Node.TEXT_NODE},ht=function(t,e,n){if(e&&t.isEmpty(e)&&!n(e)){var r=e.parentNode;t.remove(e),ht(t,r,n)}},pt=function(t,e,n,r){void 0===r&&(r=!0);var o=e.startContainer.parentNode,i=e.endContainer.parentNode;e.deleteContents(),r&&!n(e.startContainer)&&(dt(e.startContainer)&&0===e.startContainer.data.length&&t.remove(e.startContainer),dt(e.endContainer)&&0===e.endContainer.data.length&&t.remove(e.endContainer),ht(t,o,n),o!==i&&ht(t,i,n))},mt=function(t,e){var n=e.get(t);return b(n)&&P(n).exists((function(t){return z(t,"block")}))},gt=function(t){return 0===t.start.length},vt=function(t,e){var n=p.from(t.dom.getParent(e.startContainer,t.dom.isBlock));return""===rt(t)?n.orThunk((function(){return p.some(t.getBody())})):n},yt=ct.DOM,bt=function(t){return function(e){return t===e?-1:0}},xt=function(t){return function(e){return t.isBlock(e)||S(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}},wt=function(t,e,n){if(dt(t)&&e>=0)return p.some(ft(t,e));var r=lt(yt);return p.from(r.backwards(t,e,bt(t),n)).map((function(t){return ft(t.container,t.container.data.length)}))},_t=function(t,e,n){if(dt(t)&&e>=t.length)return p.some(ft(t,e));var r=lt(yt);return p.from(r.forwards(t,e,bt(t),n)).map((function(t){return ft(t.container,0)}))},St=function(t,e,n){if(!dt(t))return p.none();var r=t.textContent;if(e>=0&&e<=r.length)return p.some(ft(t,e));var o=lt(yt);return p.from(o.backwards(t,e,bt(t),n)).bind((function(t){var r=t.container.data;return St(t.container,e+r.length,n)}))},Ct=function(t,e,n){if(!dt(t))return p.none();var r=t.textContent;if(e<=r.length)return p.some(ft(t,e));var o=lt(yt);return p.from(o.forwards(t,e,bt(t),n)).bind((function(t){return Ct(t.container,e-r.length,n)}))},kt=function(t,e,n,r,o){var i=lt(t,xt(t));return p.from(i.backwards(e,n,r,o))},Tt=function(t,e,n){if(dt(e)&&(n<0||n>e.data.length))return[];var r=[n],o=e;while(o!==t&&o.parentNode){for(var i=o.parentNode,a=0;a<i.childNodes.length;a++)if(i.childNodes[a]===o){r.push(a);break}o=i}return o===t?r.reverse():[]},At=function(t,e,n,r,o){var i=Tt(t,e,n),a=Tt(t,r,o);return{start:i,end:a}},Ot=function(t,e){var n=e.slice(),r=n.pop(),o=M(n,(function(t,e){return t.bind((function(t){return p.from(t.childNodes[e])}))}),p.some(t));return o.bind((function(t){return dt(t)&&(r<0||r>t.data.length)?p.none():p.some({node:t,offset:r})}))},Mt=function(t,e){return Ot(t,e.start).bind((function(n){var r=n.node,o=n.offset;return Ot(t,e.end).map((function(t){var e=t.node,n=t.offset,i=document.createRange();return i.setStart(r,o),i.setEnd(e,n),i}))}))},Dt=function(t,e){return At(t,e.startContainer,e.startOffset,e.endContainer,e.endOffset)},It=function(t,e,n){var r=_t(e,0,e);r.each((function(r){var o=r.container;Ct(o,n.start.length,e).each((function(n){var r=t.createRng();r.setStart(o,0),r.setEnd(n.container,n.offset),pt(t,r,(function(t){return t===e}))}))}))},Et=function(t,e){var n=t.dom,r=e.pattern,o=Mt(n.getRoot(),e.range).getOrDie("Unable to resolve path range");return vt(t,o).each((function(e){"block-format"===r.type?mt(r.format,t.formatter)&&t.undoManager.transact((function(){It(t.dom,e,r),t.formatter.apply(r.format)})):"block-command"===r.type&&t.undoManager.transact((function(){It(t.dom,e,r),t.execCommand(r.cmd,!1,r.value)}))})),!0},Rt=function(t,e){var n=e.replace(ut," ");return I(t,(function(t){return 0===e.indexOf(t.start)||0===n.indexOf(t.start)}))},Nt=function(t,e){var n=t.dom,r=t.selection.getRng();return vt(t,r).filter((function(e){var r=rt(t),o=""===r&&n.is(e,"body")||n.is(e,r);return null!==e&&o})).bind((function(t){var r=t.textContent,o=Rt(e,r);return o.map((function(e){return st.trim(r).length===e.start.length?[]:[{pattern:e,range:At(n.getRoot(),t,0,t,0)}]}))})).getOr([])},Pt=function(t,e){if(0!==e.length){var n=t.selection.getBookmark();k(e,(function(e){return Et(t,e)})),t.selection.moveToBookmark(n)}},Lt=0,Bt=function(t){var e=new Date,n=e.getTime(),r=Math.floor(1e9*Math.random());return Lt++,t+"_"+r+Lt+String(n)},zt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},Vt=function(t,e){return zt(t,e,t.length-e.length)},Ft=function(t,e){return t.create("span",{"data-mce-type":"bookmark",id:e})},jt=function(t,e){var n=t.createRng();return n.setStartAfter(e.start),n.setEndBefore(e.end),n},Ht=function(t,e,n){var r=Mt(t.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,i=r.endContainer,a=0===r.endOffset?i:i.splitText(r.endOffset),u=0===r.startOffset?o:o.splitText(r.startOffset);return{prefix:e,end:a.parentNode.insertBefore(Ft(t,e+"-end"),a),start:u.parentNode.insertBefore(Ft(t,e+"-start"),u)}},Ut=function(t,e,n){ht(t,t.get(e.prefix+"-end"),n),ht(t,t.get(e.prefix+"-start"),n)},Wt=function(t,e,n){return function(t,e){var r=t.data,o=r.substring(0,e),i=o.lastIndexOf(n.charAt(n.length-1)),a=o.lastIndexOf(n);return-1!==a?a+n.length:-1!==i?i+1:-1}},Gt=function(t,e,n,r){var o=e.start,i=kt(t,r.container,r.offset,Wt(t,n,o),n);return i.bind((function(r){if(r.offset>=o.length){var i=t.createRng();return i.setStart(r.container,r.offset-o.length),i.setEnd(r.container,r.offset),p.some(i)}var a=r.offset-o.length;return St(r.container,a,n).map((function(e){var n=t.createRng();return n.setStart(e.container,e.offset),n.setEnd(r.container,r.offset),n})).filter((function(t){return t.toString()===o})).orThunk((function(){return Gt(t,e,n,ft(r.container,0))}))}))},qt=function(t,e,n,r,o,i){if(void 0===i&&(i=!1),0===e.start.length&&!i){var a=t.createRng();return a.setStart(n,r),a.setEnd(n,r),p.some(a)}return wt(n,r,o).bind((function(n){var r=Gt(t,e,o,n);return r.bind((function(t){if(i){if(t.endContainer===n.container&&t.endOffset===n.offset)return p.none();if(0===n.offset&&t.endContainer.textContent.length===t.endOffset)return p.none()}return p.some(t)}))}))},Yt=function(t,e,n){var r=t.dom,o=r.getRoot(),i=n.pattern,a=n.position.container,u=n.position.offset;return St(a,u-n.pattern.end.length,e).bind((function(s){var c=At(o,s.container,s.offset,a,u);if(gt(i))return p.some({matches:[{pattern:i,startRng:c,endRng:c}],position:s});var l=Xt(t,n.remainingPatterns,s.container,s.offset,e),f=l.getOr({matches:[],position:s}),d=f.position,h=qt(r,i,d.container,d.offset,e,l.isNone());return h.map((function(t){var e=Dt(o,t);return{matches:f.matches.concat([{pattern:i,startRng:e,endRng:c}]),position:ft(t.startContainer,t.startOffset)}}))}))},Xt=function(t,e,n,r,o){var i=t.dom;return wt(n,r,i.getRoot()).bind((function(a){var u=i.createRng();u.setStart(o,0),u.setEnd(n,r);for(var s=u.toString(),c=0;c<e.length;c++){var l=e[c];if(Vt(s,l.end)){var f=e.slice();f.splice(c,1);var d=Yt(t,o,{pattern:l,remainingPatterns:f,position:a});if(d.isSome())return d}}return p.none()}))},Zt=function(t,e,n){t.selection.setRng(n),"inline-format"===e.type?k(e.format,(function(e){t.formatter.apply(e)})):t.execCommand(e.cmd,!1,e.value)},$t=function(t,e,n,r){var o=jt(t.dom,n);pt(t.dom,o,r),Zt(t,e,o)},Kt=function(t,e,n,r,o){var i=t.dom,a=jt(i,r),u=jt(i,n);pt(i,u,o),pt(i,a,o);var s={prefix:n.prefix,start:n.end,end:r.start},c=jt(i,s);Zt(t,e,c)},Jt=function(t,e){var r=Bt("mce_textpattern"),o=O(e,(function(e,o){var i=Ht(t,r+"_end"+e.length,o.endRng);return e.concat([n(n({},o),{endMarker:i})])}),[]);return O(o,(function(e,i){var a=o.length-e.length-1,u=gt(i.pattern)?i.endMarker:Ht(t,r+"_start"+a,i.startRng);return e.concat([n(n({},i),{startMarker:u})])}),[])},Qt=function(t,e,n){var r=t.selection.getRng();return!1===r.collapsed?[]:vt(t,r).bind((function(o){var i=r.startOffset-(n?1:0);return Xt(t,e,r.startContainer,i,o)})).fold((function(){return[]}),(function(t){return t.matches}))},te=function(t,e){if(0!==e.length){var n=t.dom,r=t.selection.getBookmark(),o=Jt(n,e);k(o,(function(e){var r=n.getParent(e.startMarker.start,n.isBlock),o=function(t){return t===r};gt(e.pattern)?$t(t,e.pattern,e.endMarker,o):Kt(t,e.pattern,e.startMarker,e.endMarker,o),Ut(n,e.endMarker,o),Ut(n,e.startMarker,o)})),t.selection.moveToBookmark(r)}},ee=function(t,e){if(!t.selection.isCollapsed())return!1;var n=Qt(t,e.inlinePatterns,!1),r=Nt(t,e.blockPatterns);return(r.length>0||n.length>0)&&(t.undoManager.add(),t.undoManager.extra((function(){t.execCommand("mceInsertNewLine")}),(function(){t.insertContent(at),te(t,n),Pt(t,r);var e=t.selection.getRng(),o=wt(e.startContainer,e.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),o.each((function(e){var n=e.container;n.data.charAt(e.offset-1)===at&&(n.deleteData(e.offset-1,1),ht(t.dom,n.parentNode,(function(e){return e===t.dom.getRoot()})))}))})),!0)},ne=function(t,e){var n=Qt(t,e.inlinePatterns,!0);n.length>0&&t.undoManager.transact((function(){te(t,n)}))},re=function(t,e,n){for(var r=0;r<t.length;r++)if(n(t[r],e))return!0},oe=function(t,e){return re(t,e,(function(t,e){return t===e.keyCode&&!1===it.modifierPressed(e)}))},ie=function(t,e){return re(t,e,(function(t,e){return t.charCodeAt(0)===e.charCode}))},ae=function(t,e){var n=[",",".",";",":","!","?"],r=[32];t.on("keydown",(function(n){13!==n.keyCode||it.modifierPressed(n)||ee(t,e.get())&&n.preventDefault()}),!0),t.on("keyup",(function(n){oe(r,n)&&ne(t,e.get())})),t.on("keypress",(function(r){ie(n,r)&&ot.setEditorTimeout(t,(function(){ne(t,e.get())}))}))};function ue(){e.add("textpattern",(function(e){var n=t(nt(e));return ae(e,n),J(n)}))}ue()})()},"3aea":function(t,e,n){n("3699")},"3b47":function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){var e=function(e){var n=t.get();n[e.name]=e,t.set(n)};return{addTab:e}},r=function(t,e){t.addCommand("mceHelp",e)},o=function(t,e){t.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:e}),t.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:e})},i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=function(){},u=function(t){return function(){return t}},s=u(!1),c=u(!0),l=function(){return f},f=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:s,isSome:s,isNone:c,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:e,map:l,each:a,bind:l,exists:s,forall:c,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:u("none()")};return r}(),d=function(t){var e=u(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return o},h=function(t){return null===t||void 0===t?f:d(t)},p={some:d,none:l,from:h},m=Array.prototype.indexOf,g=function(t,e){return m.call(t,e)},v=function(t,e){return g(t,e)>-1},y=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},b=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},x=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return p.some(i);if(n(i,r))break}return p.none()},w=function(t,e){return x(t,e,s)},_=Object.keys,S=Object.hasOwnProperty,C=function(t,e){return k(t,e)?p.from(t[e]):p.none()},k=function(t,e){return S.call(t,e)},T=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},A=function(t){return p.from(t.getParam("help_tabs"))},O=function(t){return t.getParam("forced_plugins")},M="<h1>Editor UI keyboard navigation</h1>\n\n<h2>Activating keyboard navigation</h2>\n\n<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>\n<ul>\n  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>\n  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>\n  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>\n</ul>\n\n<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>\n\n<h2>Moving between UI sections</h2>\n\n<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>\n<ul>\n  <li>the menubar</li>\n  <li>each group of the toolbar </li>\n  <li>the sidebar</li>\n  <li>the element path in the footer </li>\n  <li>the wordcount toggle button in the footer </li>\n  <li>the branding link in the footer </li>\n</ul>\n\n<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>\n\n<h2>Moving within UI sections</h2>\n\n<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>\n<ul>\n  <li>moving between menus in the menubar</li>\n  <li>moving between buttons in a toolbar group</li>\n  <li>moving between items in the element path</li>\n</ul>\n\n<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>\n\n<h1>Executing buttons</h1>\n\n<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>\n\n<h1>Opening, navigating and closing menus</h1>\n\n<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>\n\n<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>\n\n<h1>Context toolbars and menus</h1>\n\n<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>\n\n<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>\n\n<h1>Dialog navigation</h1>\n\n<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>\n\n<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>\n\n<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tabs components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>",D=function(){var t={type:"htmlpanel",presets:"document",html:M};return{name:"keyboardnav",title:"Keyboard Navigation",items:[t]}},I=tinymce.util.Tools.resolve("tinymce.Env"),E=function(t){var e={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl ",access:"Shift + Alt "},r=I.mac?e:n,o=t.split("+"),i=y(o,(function(t){var e=t.toLowerCase().trim();return k(r,e)?r[e]:t}));return I.mac?i.join("").replace(/\s/,""):i.join("+")},R=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],N=function(){var t=y(R,(function(t){var e=y(t.shortcuts,E).join(" or ");return[t.action,e]})),e={type:"table",header:["Action","Shortcut"],cells:t};return{name:"shortcuts",title:"Handy Shortcuts",items:[e]}},P=tinymce.util.Tools.resolve("tinymce.util.I18n"),L=[{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"advcode",name:"Advanced Code Editor*"},{key:"formatpainter",name:"Format Painter*"},{key:"powerpaste",name:"PowerPaste*"},{key:"tinydrive",name:"Tiny Drive*",slug:"drive"},{key:"tinymcespellchecker",name:"Spell Checker Pro*"},{key:"a11ychecker",name:"Accessibility Checker*"},{key:"linkchecker",name:"Link Checker*"},{key:"mentions",name:"Mentions*"},{key:"mediaembed",name:"Enhanced Media Embed*"},{key:"checklist",name:"Checklist*"},{key:"casechange",name:"Case Change*"},{key:"permanentpen",name:"Permanent Pen*"},{key:"pageembed",name:"Page Embed*"},{key:"tinycomments",name:"Tiny Comments*",slug:"comments"},{key:"advtable",name:"Advanced Tables*"},{key:"autocorrect",name:"Autocorrect*"}],B=function(t){var e=function(){var t=["Accessibility Checker","Advanced Code Editor","Advanced Tables","Case Change","Checklist","Tiny Comments","Tiny Drive","Enhanced Media Embed","Format Painter","Link Checker","Mentions","MoxieManager","Page Embed","Permanent Pen","PowerPaste","Spell Checker Pro"],e=y(t,(function(t){return"<li>"+P.translate(t)+"</li>"})).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+P.translate("Premium plugins:")+"</b></p><ul>"+e+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+P.translate("Learn more...")+"</a></li></ul></div>"},n=function(t){return'<a href="'+t.url+'" target="_blank" rel="noopener">'+t.name+"</a>"},r=function(t,e){return w(L,(function(t){return t.key===e})).fold((function(){var r=t.plugins[e].getMetadata;return"function"===typeof r?n(r()):e}),(function(t){var e=t.slug||t.key;return n({name:t.name,url:"https://www.tiny.cloud/docs/plugins/"+e})}))},o=function(t){var e=_(t.plugins),n=O(t);return void 0===n?e:b(e,(function(t){return!v(n,t)}))},i=function(t){var e=o(t),n=y(e,(function(e){return"<li>"+r(t,e)+"</li>"})),i=n.length,a=n.join(""),u="<p><b>"+P.translate(["Plugins installed ({0}):",i])+"</b></p><ul>"+a+"</ul>";return u},a=function(t){return null==t?"":'<div data-mce-tabstop="1" tabindex="-1">'+i(t)+"</div>"},u={type:"htmlpanel",presets:"document",html:[a(t),e()].join("")};return{name:"plugins",title:"Plugins",items:[u]}},z=tinymce.util.Tools.resolve("tinymce.EditorManager"),V=function(){var t=function(t,e){return 0===t.indexOf("@")?"X.X.X":t+"."+e},e=t(z.majorVersion,z.minorVersion),n='<a href="https://www.tinymce.com/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+e+"</a>",r={type:"htmlpanel",html:"<p>"+P.translate(["You are using {0}",n])+"</p>",presets:"document"};return{name:"versions",title:"Version",items:[r]}},F=function(t,e){var n={},r=y(t,(function(t){return"string"===typeof t?(k(e,t)&&(n[t]=e[t]),t):(n[t.name]=t,t.name)}));return{tabs:n,names:r}},j=function(t){var e=_(t),n=e.indexOf("versions");return-1!==n&&(e.splice(n,1),e.push("versions")),{tabs:t,names:e}},H=function(t,e){var n,r=N(),o=D(),a=B(t),u=V(),s=i((n={},n[r.name]=r,n[o.name]=o,n[a.name]=a,n[u.name]=u,n),e.get());return A(t).fold((function(){return j(s)}),(function(t){return F(t,s)}))},U=function(t,e){return function(){var n=H(t,e),r=n.tabs,o=n.names,i=y(o,(function(t){return C(r,t)})),a=T(i),u={type:"tabpanel",tabs:a};t.windowManager.open({title:"Help",size:"medium",body:u,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};function W(){e.add("help",(function(e){var i=t({}),a=n(i),u=U(e,i);return o(e,u),r(e,u),e.shortcuts.add("Alt+0","Open help dialog","mceHelp"),a}))}W()})()},4026:function(t,e,n){!function(e,r){t.exports=r(n("7a23"))}("undefined"!=typeof self&&self,(function(t){return function(){var n={598:function(t,e,n){"use strict";n.r(e),n.d(e,{CountTo:function(){return dn},default:function(){return gn}});var r=n(197),o=function(){this.__data__=[],this.size=0},i=function(t,e){return t===e||t!=t&&e!=e},a=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1},u=Array.prototype.splice,s=function(t){var e=this.__data__,n=a(e,t);return!(n<0)&&(n==e.length-1?e.pop():u.call(e,n,1),--this.size,!0)},c=function(t){var e=this.__data__,n=a(e,t);return n<0?void 0:e[n][1]},l=function(t){return a(this.__data__,t)>-1},f=function(t,e){var n=this.__data__,r=a(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function d(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}d.prototype.clear=o,d.prototype.delete=s,d.prototype.get=c,d.prototype.has=l,d.prototype.set=f;var h,p=d,m=function(){this.__data__=new p,this.size=0},g=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},v=function(t){return this.__data__.get(t)},y=function(t){return this.__data__.has(t)},b=n(169),x=b.Z.Symbol,w=Object.prototype,_=w.hasOwnProperty,S=w.toString,C=x?x.toStringTag:void 0,k=function(t){var e=_.call(t,C),n=t[C];try{t[C]=void 0;var r=!0}catch(t){}var o=S.call(t);return r&&(e?t[C]=n:delete t[C]),o},T=Object.prototype.toString,A=function(t){return T.call(t)},O=x?x.toStringTag:void 0,M=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":O&&O in Object(t)?k(t):A(t)},D=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},I=function(t){if(!D(t))return!1;var e=M(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},E=b.Z["__core-js_shared__"],R=(h=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",N=function(t){return!!R&&R in t},P=Function.prototype.toString,L=function(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""},B=/^\[object .+?Constructor\]$/,z=Function.prototype,V=Object.prototype,F=z.toString,j=V.hasOwnProperty,H=RegExp("^"+F.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=function(t){return!(!D(t)||N(t))&&(I(t)?H:B).test(L(t))},W=function(t,e){return null==t?void 0:t[e]},G=function(t,e){var n=W(t,e);return U(n)?n:void 0},q=G(b.Z,"Map"),Y=G(Object,"create"),X=function(){this.__data__=Y?Y(null):{},this.size=0},Z=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},$=Object.prototype.hasOwnProperty,K=function(t){var e=this.__data__;if(Y){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return $.call(e,t)?e[t]:void 0},J=Object.prototype.hasOwnProperty,Q=function(t){var e=this.__data__;return Y?void 0!==e[t]:J.call(e,t)},tt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Y&&void 0===e?"__lodash_hash_undefined__":e,this};function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}et.prototype.clear=X,et.prototype.delete=Z,et.prototype.get=K,et.prototype.has=Q,et.prototype.set=tt;var nt=et,rt=function(){this.size=0,this.__data__={hash:new nt,map:new(q||p),string:new nt}},ot=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},it=function(t,e){var n=t.__data__;return ot(e)?n["string"==typeof e?"string":"hash"]:n.map},at=function(t){var e=it(this,t).delete(t);return this.size-=e?1:0,e},ut=function(t){return it(this,t).get(t)},st=function(t){return it(this,t).has(t)},ct=function(t,e){var n=it(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function lt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lt.prototype.clear=rt,lt.prototype.delete=at,lt.prototype.get=ut,lt.prototype.has=st,lt.prototype.set=ct;var ft=lt,dt=function(t,e){var n=this.__data__;if(n instanceof p){var r=n.__data__;if(!q||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ft(r)}return n.set(t,e),this.size=n.size,this};function ht(t){var e=this.__data__=new p(t);this.size=e.size}ht.prototype.clear=m,ht.prototype.delete=g,ht.prototype.get=v,ht.prototype.has=y,ht.prototype.set=dt;var pt=ht,mt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},gt=function(){try{var t=G(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),vt=function(t,e,n){"__proto__"==e&&gt?gt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},yt=Object.prototype.hasOwnProperty,bt=function(t,e,n){var r=t[e];yt.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||vt(t,e,n)},xt=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],s=r?r(n[u],t[u],u,n,t):void 0;void 0===s&&(s=t[u]),o?vt(n,u,s):bt(n,u,s)}return n},wt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},_t=function(t){return null!=t&&"object"==typeof t},St=function(t){return _t(t)&&"[object Arguments]"==M(t)},Ct=Object.prototype,kt=Ct.hasOwnProperty,Tt=Ct.propertyIsEnumerable,At=St(function(){return arguments}())?St:function(t){return _t(t)&&kt.call(t,"callee")&&!Tt.call(t,"callee")},Ot=Array.isArray,Mt=n(710),Dt=/^(?:0|[1-9]\d*)$/,It=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Dt.test(t))&&t>-1&&t%1==0&&t<e},Et=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Rt={};Rt["[object Float32Array]"]=Rt["[object Float64Array]"]=Rt["[object Int8Array]"]=Rt["[object Int16Array]"]=Rt["[object Int32Array]"]=Rt["[object Uint8Array]"]=Rt["[object Uint8ClampedArray]"]=Rt["[object Uint16Array]"]=Rt["[object Uint32Array]"]=!0,Rt["[object Arguments]"]=Rt["[object Array]"]=Rt["[object ArrayBuffer]"]=Rt["[object Boolean]"]=Rt["[object DataView]"]=Rt["[object Date]"]=Rt["[object Error]"]=Rt["[object Function]"]=Rt["[object Map]"]=Rt["[object Number]"]=Rt["[object Object]"]=Rt["[object RegExp]"]=Rt["[object Set]"]=Rt["[object String]"]=Rt["[object WeakMap]"]=!1;var Nt=function(t){return _t(t)&&Et(t.length)&&!!Rt[M(t)]},Pt=function(t){return function(e){return t(e)}},Lt=n(730),Bt=Lt.Z&&Lt.Z.isTypedArray,zt=Bt?Pt(Bt):Nt,Vt=Object.prototype.hasOwnProperty,Ft=function(t,e){var n=Ot(t),r=!n&&At(t),o=!n&&!r&&(0,Mt.Z)(t),i=!n&&!r&&!o&&zt(t),a=n||r||o||i,u=a?wt(t.length,String):[],s=u.length;for(var c in t)!e&&!Vt.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||It(c,s))||u.push(c);return u},jt=Object.prototype,Ht=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jt)},Ut=function(t,e){return function(n){return t(e(n))}},Wt=Ut(Object.keys,Object),Gt=Object.prototype.hasOwnProperty,qt=function(t){if(!Ht(t))return Wt(t);var e=[];for(var n in Object(t))Gt.call(t,n)&&"constructor"!=n&&e.push(n);return e},Yt=function(t){return null!=t&&Et(t.length)&&!I(t)},Xt=function(t){return Yt(t)?Ft(t):qt(t)},Zt=function(t,e){return t&&xt(e,Xt(e),t)},$t=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Kt=Object.prototype.hasOwnProperty,Jt=function(t){if(!D(t))return $t(t);var e=Ht(t),n=[];for(var r in t)("constructor"!=r||!e&&Kt.call(t,r))&&n.push(r);return n},Qt=function(t){return Yt(t)?Ft(t,!0):Jt(t)},te=function(t,e){return t&&xt(e,Qt(e),t)},ee=n(896),ne=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},re=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i},oe=function(){return[]},ie=Object.prototype.propertyIsEnumerable,ae=Object.getOwnPropertySymbols,ue=ae?function(t){return null==t?[]:(t=Object(t),re(ae(t),(function(e){return ie.call(t,e)})))}:oe,se=function(t,e){return xt(t,ue(t),e)},ce=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},le=Ut(Object.getPrototypeOf,Object),fe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ce(e,ue(t)),t=le(t);return e}:oe,de=function(t,e){return xt(t,fe(t),e)},he=function(t,e,n){var r=e(t);return Ot(t)?r:ce(r,n(t))},pe=function(t){return he(t,Xt,ue)},me=function(t){return he(t,Qt,fe)},ge=G(b.Z,"DataView"),ve=G(b.Z,"Promise"),ye=G(b.Z,"Set"),be=G(b.Z,"WeakMap"),xe="[object Map]",we="[object Promise]",_e="[object Set]",Se="[object WeakMap]",Ce="[object DataView]",ke=L(ge),Te=L(q),Ae=L(ve),Oe=L(ye),Me=L(be),De=M;(ge&&De(new ge(new ArrayBuffer(1)))!=Ce||q&&De(new q)!=xe||ve&&De(ve.resolve())!=we||ye&&De(new ye)!=_e||be&&De(new be)!=Se)&&(De=function(t){var e=M(t),n="[object Object]"==e?t.constructor:void 0,r=n?L(n):"";if(r)switch(r){case ke:return Ce;case Te:return xe;case Ae:return we;case Oe:return _e;case Me:return Se}return e});var Ie=De,Ee=Object.prototype.hasOwnProperty,Re=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ee.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ne=b.Z.Uint8Array,Pe=function(t){var e=new t.constructor(t.byteLength);return new Ne(e).set(new Ne(t)),e},Le=function(t,e){var n=e?Pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Be=/\w*$/,ze=function(t){var e=new t.constructor(t.source,Be.exec(t));return e.lastIndex=t.lastIndex,e},Ve=x?x.prototype:void 0,Fe=Ve?Ve.valueOf:void 0,je=function(t){return Fe?Object(Fe.call(t)):{}},He=function(t,e){var n=e?Pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Ue=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Pe(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Le(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return He(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ze(t);case"[object Set]":return new r;case"[object Symbol]":return je(t)}},We=Object.create,Ge=function(){function t(){}return function(e){if(!D(e))return{};if(We)return We(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),qe=function(t){return"function"!=typeof t.constructor||Ht(t)?{}:Ge(le(t))},Ye=function(t){return _t(t)&&"[object Map]"==Ie(t)},Xe=Lt.Z&&Lt.Z.isMap,Ze=Xe?Pt(Xe):Ye,$e=function(t){return _t(t)&&"[object Set]"==Ie(t)},Ke=Lt.Z&&Lt.Z.isSet,Je=Ke?Pt(Ke):$e,Qe="[object Arguments]",tn="[object Function]",en="[object Object]",nn={};nn[Qe]=nn["[object Array]"]=nn["[object ArrayBuffer]"]=nn["[object DataView]"]=nn["[object Boolean]"]=nn["[object Date]"]=nn["[object Float32Array]"]=nn["[object Float64Array]"]=nn["[object Int8Array]"]=nn["[object Int16Array]"]=nn["[object Int32Array]"]=nn["[object Map]"]=nn["[object Number]"]=nn["[object Object]"]=nn["[object RegExp]"]=nn["[object Set]"]=nn["[object String]"]=nn["[object Symbol]"]=nn["[object Uint8Array]"]=nn["[object Uint8ClampedArray]"]=nn["[object Uint16Array]"]=nn["[object Uint32Array]"]=!0,nn["[object Error]"]=nn[tn]=nn["[object WeakMap]"]=!1;var rn=function t(e,n,r,o,i,a){var u,s=1&n,c=2&n,l=4&n;if(r&&(u=i?r(e,o,i,a):r(e)),void 0!==u)return u;if(!D(e))return e;var f=Ot(e);if(f){if(u=Re(e),!s)return ne(e,u)}else{var d=Ie(e),h=d==tn||"[object GeneratorFunction]"==d;if((0,Mt.Z)(e))return(0,ee.Z)(e,s);if(d==en||d==Qe||h&&!i){if(u=c||h?{}:qe(e),!s)return c?de(e,te(u,e)):se(e,Zt(u,e))}else{if(!nn[d])return i?e:{};u=Ue(e,d,s)}}a||(a=new pt);var p=a.get(e);if(p)return p;a.set(e,u),Je(e)?e.forEach((function(o){u.add(t(o,n,r,o,e,a))})):Ze(e)&&e.forEach((function(o,i){u.set(i,t(o,n,r,i,e,a))}));var m=l?c?me:pe:c?keysIn:Xt,g=f?void 0:m(e);return mt(g||e,(function(o,i){g&&(o=e[i=o]),bt(u,i,t(o,n,r,i,e,a))})),u},on=function(t){return rn(t,5)};let an=0;const un="webkit moz ms o".split(" ");let sn,cn;if("undefined"==typeof window)sn=function(){},cn=function(){};else{let t;sn=window.requestAnimationFrame,cn=window.cancelAnimationFrame;for(let e=0;e<un.length&&(!sn||!cn);e++)t=un[e],sn=sn||window[t+"RequestAnimationFrame"],cn=cn||window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];sn&&cn||(sn=function(t){const e=(new Date).getTime(),n=Math.max(0,16-(e-an)),r=window.setTimeout(()=>{t(e+n)},n);return an=e+n,r},cn=function(t){window.clearTimeout(t)})}var ln={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:t=>t>=0},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:(t,e,n,r)=>n*(1-Math.pow(2,-10*t/r))*1024/1023+e}},data(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown(){return this.startVal>this.endVal}},watch:{startVal(){this.autoplay&&this.start()},endVal(){this.autoplay&&this.start()}},mounted(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=sn(this.count)},pauseResume(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause(){cn(this.rAF)},resume(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,sn(this.count)},reset(){this.startTime=null,cn(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count(t){this.startTime||(this.startTime=t),this.timestamp=t;const e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=sn(this.count):this.$emit("callback")},isNumber:t=>!isNaN(parseFloat(t)),formatNumber(t){t=t.toFixed(this.decimals);const e=(t+="").split(".");let n=e[0];const r=e.length>1?this.decimal+e[1]:"",o=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;o.test(n);)n=n.replace(o,"$1"+this.separator+"$2");return this.prefix+n+r+this.suffix}},destroyed(){cn(this.rAF)},render:function(t,e,n,o,i,a){return(0,r.openBlock)(),(0,r.createBlock)("span",null,(0,r.toDisplayString)(i.displayValue),1)}},fn=on(ln);fn.unmounted=fn.destroyed,Reflect.deleteProperty(fn,"destroyed");var dn,hn,pn={name:"CountTo",render:function(){return(0,r.createVNode)(fn,this.$attrs,null)}};function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}try{hn=Object.keys(r)||[]}catch(t){hn=[]}dn=hn.length>1?pn:function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return function(t,e){for(var n in e)mn(e,n)&&!mn(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}(e,{a:e}),e}(n(347))();var gn={install:function(t){t.component("count-to",dn)},version:"1.0.7"}},896:function(t,n,r){"use strict";var o=r(169);t=r.hmd(t);var i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?o.Z.Buffer:void 0,s=u?u.allocUnsafe:void 0;n.Z=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},277:function(t,e,n){"use strict";var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.Z=r},730:function(t,n,r){"use strict";var o=r(277);t=r.hmd(t);var i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.Z.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();n.Z=s},169:function(t,e,n){"use strict";var r=n(277),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.Z||o||Function("return this")();e.Z=i},710:function(t,n,r){"use strict";r.d(n,{Z:function(){return c}});var o=r(169),i=function(){return!1};t=r.hmd(t);var a=e&&!e.nodeType&&e,u=a&&t&&!t.nodeType&&t,s=u&&u.exports===a?o.Z.Buffer:void 0,c=(s?s.isBuffer:void 0)||i},347:function(t){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,n){var r=n(4)(n(1),n(5),null,null);t.exports=r.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,n,r){return n*(1-Math.pow(2,-10*t/r))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,r.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,r.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,r.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,r.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,r.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals);var e=(t+="").split("."),n=e[0],r=e.length>1?this.decimal+e[1]:"",o=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;o.test(n);)n=n.replace(o,"$1"+this.separator+"$2");return this.prefix+n+r+this.suffix}},destroyed:function(){(0,r.cancelAnimationFrame)(this.rAF)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0));e.default=r.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",r.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=0,o="webkit moz ms o".split(" "),i=void 0,a=void 0;if("undefined"==typeof window)e.requestAnimationFrame=i=function(){},e.cancelAnimationFrame=a=function(){};else{e.requestAnimationFrame=i=window.requestAnimationFrame,e.cancelAnimationFrame=a=window.cancelAnimationFrame;for(var u=void 0,s=0;s<o.length&&(!i||!a);s++)u=o[s],e.requestAnimationFrame=i=i||window[u+"RequestAnimationFrame"],e.cancelAnimationFrame=a=a||window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"];i&&a||(e.requestAnimationFrame=i=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-r)),o=window.setTimeout((function(){t(e+n)}),n);return r=e+n,o},e.cancelAnimationFrame=a=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=i,e.cancelAnimationFrame=a},function(t,e){t.exports=function(t,e,n,r){var o,i=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(o=t,i=t.default);var u="function"==typeof i?i.options:i;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),n&&(u._scopeId=n),r){var s=Object.create(u.computed||null);Object.keys(r).forEach((function(t){var e=r[t];s[t]=function(){return e}})),u.computed=s}return{esModule:o,exports:i,options:u}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])},197:function(e){"use strict";e.exports=t}},r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={id:t,loaded:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}return o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o(598)}()}))},4237:function(t,e,n){n("be7f")},"42bf":function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o=Object(r["withScopeId"])("data-v-1d8f7bb4");Object(r["pushScopeId"])("data-v-1d8f7bb4");var i={class:"components-container"},a={class:"filter-container"},u={style:{display:"inline-block"}},s=Object(r["createVNode"])("div",{class:"el-upload__text"}," 3D ",-1),c={class:"show_list"},l=Object(r["createTextVNode"])("  "),f={style:{display:"inline-block"}},d=Object(r["createVNode"])("div",{class:"el-upload__text"}," 3D ",-1),h={class:"show_list"};Object(r["popScopeId"])();var p=o((function(t,e){var n=Object(r["resolveComponent"])("el-input"),p=Object(r["resolveComponent"])("el-button"),m=Object(r["resolveComponent"])("upload-filled"),g=Object(r["resolveComponent"])("el-icon"),v=Object(r["resolveComponent"])("el-upload"),y=Object(r["resolveComponent"])("CloseBold"),b=Object(r["resolveComponent"])("Tinymce");return Object(r["openBlock"])(),Object(r["createBlock"])("div",i,[Object(r["createVNode"])("div",a,[Object(r["createVNode"])(n,{modelValue:t.title,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.title=e}),placeholder:t.t("table.title"),style:{width:"300px","margin-right":"1vw"},class:"filter-item"},null,8,["modelValue","placeholder"]),Object(r["createVNode"])(p,{class:"filter-item",style:{"margin-left":"10px"},type:"primary",icon:"el-icon-edit",onClick:t.handlePublish},{default:o((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.publish")),1)]})),_:1},8,["onClick"]),Object(r["createVNode"])("div",null,[Object(r["withDirectives"])(Object(r["createVNode"])("div",u,[Object(r["createVNode"])(v,{action:"#","on-change":t.handleChange,limit:1,"auto-upload":!1,drag:"",style:{"margin-bottom":"1vh"},"show-file-list":!1},{default:o((function(){return[Object(r["createVNode"])(g,{class:"el-icon-upload"},{default:o((function(){return[Object(r["createVNode"])(m)]})),_:1}),s]})),_:1},8,["on-change"]),Object(r["withDirectives"])(Object(r["createVNode"])("div",c,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.fileName)+" ",1),Object(r["createVNode"])(g,null,{default:o((function(){return[Object(r["createVNode"])(y)]})),_:1})],512),[[r["vShow"],t.fileName]])],512),[[r["vShow"],"create"==t.showupload]]),l,Object(r["withDirectives"])(Object(r["createVNode"])("div",f,[Object(r["createVNode"])(v,{action:"#","on-change":t.handleChange1,limit:1,"auto-upload":!1,drag:"",style:{"margin-bottom":"1vh"},"show-file-list":!1},{default:o((function(){return[Object(r["createVNode"])(g,{class:"el-icon-upload"},{default:o((function(){return[Object(r["createVNode"])(m)]})),_:1}),d]})),_:1},8,["on-change"]),Object(r["withDirectives"])(Object(r["createVNode"])("div",h,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.fileName1)+" ",1),Object(r["createVNode"])(g,null,{default:o((function(){return[Object(r["createVNode"])(y)]})),_:1})],512),[[r["vShow"],t.fileName1]])],512),[[r["vShow"],"create"==t.showupload]])]),Object(r["createVNode"])("div",null,[t.tinymceActive?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,value:t.content,"onUpdate:value":e[2]||(e[2]=function(e){return t.content=e}),height:400,onInput:t.input},null,8,["value","onInput"])):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])("div",{class:"editor-content",innerHTML:t.content},null,8,["innerHTML"])])])})),m=(n("b0c0"),n("5530")),g=Object(r["withScopeId"])("data-v-12b7dff4");Object(r["pushScopeId"])("data-v-12b7dff4");var v={class:"editor-custom-btn-container"};Object(r["popScopeId"])();var y=g((function(t,e,n,o,i,a){var u=Object(r["resolveComponent"])("TinymceEditor"),s=Object(r["resolveComponent"])("EditorImageUpload");return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:[{fullscreen:t.fullscreen},"tinymce-container"],style:{width:t.containerWidth()}},[Object(r["createVNode"])(u,{id:t.id,value:t.tinymceContent,"onUpdate:value":e[1]||(e[1]=function(e){return t.tinymceContent=e}),init:t.initOptions},null,8,["id","value","init"]),Object(r["createVNode"])("div",v,[Object(r["createVNode"])(s,{color:t.uploadButtonColor,class:"editor-upload-btn",onSuccessCallback:t.imageSuccessCBK,onExportCallback:t.exportContent},null,8,["color","onSuccessCallback","onExportCallback"])])],6)})),b=(n("99af"),n("4160"),n("caad"),n("0d03"),n("a9e3"),n("b680"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("1276"),n("159b"),n("e562"),n("ec27"),n("0d68"),n("ecb9"),n("0902"),n("d2dc"),n("7193"),n("2fec"),n("ffbe"),n("c3d7"),n("64d8"),n("07d7"),n("855b"),n("69e4"),n("e455"),n("3154"),n("0aa0"),n("2b07"),n("4ea8"),n("8863"),n("4bd0"),n("4237"),n("84ec"),n("3aea"),n("eda9"),n("cfb0"),n("ebac"),n("bc54"),n("0a9d"),n("840a"),n("6957"),n("62e5"),n("dcb7"),n("55a0"),n("07d1"),n("0335"),n("78e4"),n("0efa"),n("365e"),n("9434"),["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"]),x=function(t){return-1!==b.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},w=function(t,e,n){Object.keys(e).filter(x).forEach((function(r){var o=e[r];"function"===typeof o&&("onInit"===r?o(t,n):n.on(r.substring(2),(function(t){return o(t,n)})))}))},_=function(t,e,n,o){var i=t.modelEvents?t.modelEvents:null,a=Array.isArray(i)?i.join(" "):i;Object(r["watch"])(o,(function(e,r){n&&"string"===typeof e&&e!==r&&e!==n.getContent({format:t.outputFormat})&&n.setContent(e)})),n.on(a||"change input undo redo",(function(){e.emit("update:modelValue",n.getContent({format:t.outputFormat}))}))},S=function(t,e,n,r,o,i){r.setContent(i()),n.attrs["onUpdate:modelValue"]&&_(e,n,r,o),w(t,n.attrs,r)},C=0,k=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return C++,t+"_"+n+C+String(e)},T=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},A=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},O=function(t,e){return A(t).concat(A(e))},M=function(t){return null===t||void 0===t},D=function(){return{listeners:[],scriptId:k("tiny-script"),scriptLoaded:!1}},I=function(){var t=D(),e=function(t,e,n,r){var o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),e.head&&e.head.appendChild(o)},n=function(n,r,o){t.scriptLoaded?o():(t.listeners.push(o),n.getElementById(t.scriptId)||e(t.scriptId,n,r,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},r=function(){t=D()};return{load:n,reinitialize:r}},E=I(),R=n("c4a9"),N={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},P=function(){return P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},P.apply(this,arguments)},L=function(t,e,n,r){return t(r||"div",{id:e,ref:n})},B=function(t,e,n){return t("textarea",{id:e,visibility:"hidden",ref:n})},z=Object(r["defineComponent"])({props:N,setup:function(t,e){var n=Object(r["toRefs"])(t),o=n.disabled,i=n.modelValue,a=Object(r["ref"])(null),u=null,s=t.id||k("tiny-vue"),c=t.init&&t.init.inline||t.inline,l=!!e.attrs["onUpdate:modelValue"],f=!0,d=t.initialValue?t.initialValue:"",h="",p=function(t){return l?function(){return(null===i||void 0===i?void 0:i.value)?i.value:""}:function(){return t?d:h}},m=function(){var n=p(f),r=P(P({},t.init),{readonly:t.disabled,selector:"#"+s,plugins:O(t.init&&t.init.plugins,t.plugins),toolbar:t.toolbar||t.init&&t.init.toolbar,inline:c,setup:function(r){u=r,r.on("init",(function(o){return S(o,t,e,r,i,n)})),t.init&&"function"===typeof t.init.setup&&t.init.setup(r)}});T(a.value)&&(a.value.style.visibility=""),Object(R["a"])().init(r),f=!1};return Object(r["watch"])(o,(function(t){null!==u&&u.setMode(t?"readonly":"design")})),Object(r["onMounted"])((function(){if(null!==Object(R["a"])())m();else if(a.value&&a.value.ownerDocument){var e=t.cloudChannel?t.cloudChannel:"5",n=t.apiKey?t.apiKey:"no-api-key",r=M(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+e+"/tinymce.min.js":t.tinymceScriptSrc;E.load(a.value.ownerDocument,r,m)}})),Object(r["onBeforeUnmount"])((function(){null!==Object(R["a"])()&&Object(R["a"])().remove(u)})),c||(Object(r["onActivated"])((function(){f||m()})),Object(r["onDeactivated"])((function(){var t;l||(h=u.getContent()),null===(t=Object(R["a"])())||void 0===t||t.remove(u)}))),function(){return c?L(r["h"],s,a,t.tagName):B(r["h"],s,a)}}}),V=z,F=n("21a6"),j=n("4f15"),H=n.n(j),U=Object(r["withScopeId"])("data-v-80d05012");Object(r["pushScopeId"])("data-v-80d05012");var W={class:"upload-container"},G=Object(r["createTextVNode"])("  "),q=Object(r["createTextVNode"])("  "),Y=Object(r["createTextVNode"])(" Click upload "),X=Object(r["createTextVNode"])(" Cancel "),Z=Object(r["createTextVNode"])(" Confirm ");Object(r["popScopeId"])();var $=U((function(t,e,n,o,i,a){var u=Object(r["resolveComponent"])("el-button"),s=Object(r["resolveComponent"])("el-upload"),c=Object(r["resolveComponent"])("el-dialog");return Object(r["openBlock"])(),Object(r["createBlock"])("div",W,[Object(r["createVNode"])(u,{style:{background:t.color,borderColor:t.color},icon:"el-icon-upload",size:"mini",type:"primary",onClick:e[1]||(e[1]=function(e){return t.dialogVisible=!0})},{default:U((function(){return[G]})),_:1},8,["style"]),Object(r["createVNode"])(u,{style:{background:t.color,borderColor:t.color},icon:"el-icon-download",size:"mini",type:"primary",onClick:t.handleExport},{default:U((function(){return[q]})),_:1},8,["style","onClick"]),Object(r["createVNode"])(c,{modelValue:t.dialogVisible,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.dialogVisible=e}),"modal-append-to-body":!1},{default:U((function(){return[Object(r["createVNode"])(s,{multiple:!0,"file-list":t.defaultFileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,class:"editor-slide-upload",action:"https://httpbin.org/post","list-type":"picture-card"},{default:U((function(){return[Object(r["createVNode"])(u,{size:"small",type:"primary"},{default:U((function(){return[Y]})),_:1})]})),_:1},8,["file-list","on-remove","on-success","before-upload"]),Object(r["createVNode"])(u,{onClick:e[2]||(e[2]=function(e){return t.dialogVisible=!1})},{default:U((function(){return[X]})),_:1}),Object(r["createVNode"])(u,{type:"primary",onClick:t.handleSubmit},{default:U((function(){return[Z]})),_:1},8,["onClick"])]})),_:1},8,["modelValue"])])})),K=(n("a623"),n("d81d"),n("b64b"),n("3ca3"),n("ddb0"),n("2b3d"),n("3fd4")),J=Object(r["defineComponent"])({props:{color:{type:String,default:""}},emits:["success-callback","export-callback"],setup:function(t,e){var n={},o=Object(r["reactive"])({dialogVisible:!1,defaultFileList:[],checkAllSuccess:function(){return Object.keys(n).every((function(t){return n[t].hasSuccess}))},handleSubmi:function(){var t=Object.keys(n).map((function(t){return n[t]}));o.checkAllSuccess()||K["c"].success("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!"),e.emit("success-callback",t),n={},o.defaultFileList=[],o.dialogVisible=!1},handleExport:function(){e.emit("export-callback")},handleSuccess:function(t,e){for(var r=e.uid,o=Object.keys(n),i=0,a=o.length;i<a;i++)if(n[o[i]].uid===r)return n[o[i]].url=t.files.file,void(n[o[i]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,r=Object.keys(n),o=0,i=r.length;o<i;o++)if(n[r[o]].uid===e)return void delete n[r[o]]},beforeUpload:function(t){var e=t.uid,r=new Image;r.src=window.URL.createObjectURL(t),r.onload=function(){n[e]={hasSuccess:!1,uid:t.uid,url:"",width:r.width,height:r.height}}},handleSubmit:function(){var t=Object.keys(n).map((function(t){return n[t]}));o.checkAllSuccess()?(e.emit("success-callback",t),n={},o.defaultFileList=[],o.dialogVisible=!1):K["c"].warning("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")}});return Object(m["a"])(Object(m["a"])({},Object(r["toRefs"])(o)),{},{listObj:n})}});n("9658"),n("be6c");J.render=$,J.__scopeId="data-v-80d05012";var Q=J,tt=["advlist anchor autolink autoresize autosave charmap code codesample directionality emoticons fullpage fullscreen help hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textpattern visualblocks visualchars wordcount"],et=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent blockquote undo redo removeformat subscript superscript code codesample help","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons charmap forecolor backcolor fullpage fullscreen"],nt=n("0613"),rt=function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)},ot=Object(r["defineComponent"])({components:{TinymceEditor:V,EditorImageUpload:Q},props:{value:{type:String,default:""},id:{type:String,default:rt},toolbar:{type:Array,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:String||Number,default:"360px"},width:{type:String||Number,default:"auto"}},emits:["input"],setup:function(t,e){var n=Object(nt["b"])(),o=Object(r["reactive"])({hasChange:!1,hasInit:!1,fullscreen:!0,getlanguage:function(){return n.state.app.language},uploadButtonColor:function(){return n.state.settings.theme},tinymceContent:Object(r["computed"])((function(){return t.value})),containerWidth:function(){var e=t.width;return/^[\d]+(\.[\d]+)?$/.test(e.toString())?"".concat(e,"px"):e},exportContent:function(){var e="",n=t.value;if(t.value.includes("</h1>")){var r=t.value.split("</h1>")[0].split(">");e="".concat(r[r.length-1],".docx")}else e="tinyMce.docx";Object(F["saveAs"])(H.a.asBlob(n,{orientation:"landscape"}),e)}}),i=Object(r["ref"])({selector:"#".concat(t.id),height:t.height,body_class:"panel-body",object_resizing:!1,toolbar:t.toolbar.length>0?t.toolbar:et,menubar:t.menubar,plugins:tt,language_url:"en"===n.state.app.language?"":"".concat("/","tinymce/langs/").concat(n.state.app.language,".js"),language:"zh_CN",skin_url:"".concat("/","tinymce/skins/"),emoticons_database_url:"".concat("/","tinymce/emojis.min.js"),end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,convert_urls:!1,init_instance_callback:function(n){t.value&&n.setContent(t.value),o.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",(function(){o.hasChange=!0,e.emit("input",n.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){o.fullscreen=t.state}))}});Object(r["watch"])((function(){return n.state.app.language}),(function(){var e=window.tinymce,n=e.get(t.id);o.fullscreen&&n.execCommand("mceFullScreen"),n&&n.destroy(),Object(r["nextTick"])((function(){e.init(i)}))})),Object(r["watch"])((function(){return o.tinymceContent}),(function(t){console.log(t)}));var a=function(e){var n=window.tinymce.get(t.id);e.forEach((function(t){n.insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))};return Object(m["a"])(Object(m["a"])({},Object(r["toRefs"])(o)),{},{imageSuccessCBK:a,initOptions:i})}});n("8a7e");ot.render=y,ot.__scopeId="data-v-12b7dff4";var it=ot,at=n("47e2"),ut=n("6c02"),st=n("b0d2"),ct=n("c532"),lt=n("1d2b"),ft=n("e467");function dt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function ht(t,e){this._pairs=[],t&&Object(ft["a"])(t,this,e)}const pt=ht.prototype;pt.append=function(t,e){this._pairs.push([t,e])},pt.toString=function(t){const e=t?function(e){return t.call(this,e,dt)}:dt;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var mt=ht;function gt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vt(t,e,n){if(!e)return t;const r=n&&n.encode||gt,o=n&&n.serialize;let i;if(i=o?o(e,n):ct["a"].isURLSearchParams(e)?e.toString():new mt(e,n).toString(r),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}class yt{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ct["a"].forEach(this.handlers,(function(e){null!==e&&t(e)}))}}var bt=yt,xt=n("7917"),wt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_t="undefined"!==typeof URLSearchParams?URLSearchParams:mt,St="undefined"!==typeof FormData?FormData:null,Ct="undefined"!==typeof Blob?Blob:null;const kt=(()=>{let t;return("undefined"===typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!==typeof window&&"undefined"!==typeof document)})(),Tt=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)();var At={isBrowser:!0,classes:{URLSearchParams:_t,FormData:St,Blob:Ct},isStandardBrowserEnv:kt,isStandardBrowserWebWorkerEnv:Tt,protocols:["http","https","file","blob","url","data"]};function Ot(t,e){return Object(ft["a"])(t,new At.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return At.isNode&&ct["a"].isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Mt(t){return ct["a"].matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}function Dt(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function It(t){function e(t,n,r,o){let i=t[o++];const a=Number.isFinite(+i),u=o>=t.length;if(i=!i&&ct["a"].isArray(r)?r.length:i,u)return ct["a"].hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&ct["a"].isObject(r[i])||(r[i]=[]);const s=e(t,n,r[i],o);return s&&ct["a"].isArray(r[i])&&(r[i]=Dt(r[i])),!a}if(ct["a"].isFormData(t)&&ct["a"].isFunction(t.entries)){const n={};return ct["a"].forEachEntry(t,(t,r)=>{e(Mt(t),r,n,0)}),n}return null}var Et=It;const Rt={"Content-Type":void 0};function Nt(t,e,n){if(ct["a"].isString(t))try{return(e||JSON.parse)(t),ct["a"].trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}const Pt={transitional:wt,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=ct["a"].isObject(t);o&&ct["a"].isHTMLForm(t)&&(t=new FormData(t));const i=ct["a"].isFormData(t);if(i)return r&&r?JSON.stringify(Et(t)):t;if(ct["a"].isArrayBuffer(t)||ct["a"].isBuffer(t)||ct["a"].isStream(t)||ct["a"].isFile(t)||ct["a"].isBlob(t))return t;if(ct["a"].isArrayBufferView(t))return t.buffer;if(ct["a"].isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ot(t,this.formSerializer).toString();if((a=ct["a"].isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Object(ft["a"])(a?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),Nt(t)):t}],transformResponse:[function(t){const e=this.transitional||Pt.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&ct["a"].isString(t)&&(n&&!this.responseType||r)){const n=e&&e.silentJSONParsing,i=!n&&r;try{return JSON.parse(t)}catch(o){if(i){if("SyntaxError"===o.name)throw xt["a"].from(o,xt["a"].ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ct["a"].forEach(["delete","get","head"],(function(t){Pt.headers[t]={}})),ct["a"].forEach(["post","put","patch"],(function(t){Pt.headers[t]=ct["a"].merge(Rt)}));var Lt=Pt;const Bt=ct["a"].toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var zt=t=>{const e={};let n,r,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),r=t.substring(o+1).trim(),!n||e[n]&&Bt[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e};const Vt=Symbol("internals");function Ft(t){return t&&String(t).trim().toLowerCase()}function jt(t){return!1===t||null==t?t:ct["a"].isArray(t)?t.map(jt):String(t)}function Ht(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;while(r=n.exec(t))e[r[1]]=r[2];return e}const Ut=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wt(t,e,n,r,o){return ct["a"].isFunction(r)?r.call(this,e,n):(o&&(e=n),ct["a"].isString(e)?ct["a"].isString(r)?-1!==e.indexOf(r):ct["a"].isRegExp(r)?r.test(e):void 0:void 0)}function Gt(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function qt(t,e){const n=ct["a"].toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})})}class Yt{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(t,e,n){const o=Ft(e);if(!o)throw new Error("header name must be a non-empty string");const i=ct["a"].findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||e]=jt(t))}const i=(t,e)=>ct["a"].forEach(t,(t,n)=>o(t,n,e));return ct["a"].isPlainObject(t)||t instanceof this.constructor?i(t,e):ct["a"].isString(t)&&(t=t.trim())&&!Ut(t)?i(zt(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=Ft(t),t){const n=ct["a"].findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return Ht(t);if(ct["a"].isFunction(e))return e.call(this,t,n);if(ct["a"].isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ft(t),t){const n=ct["a"].findKey(this,t);return!(!n||void 0===this[n]||e&&!Wt(this,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function o(t){if(t=Ft(t),t){const o=ct["a"].findKey(n,t);!o||e&&!Wt(n,n[o],o,e)||(delete n[o],r=!0)}}return ct["a"].isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;while(n--){const o=e[n];t&&!Wt(this,this[o],o,t,!0)||(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return ct["a"].forEach(this,(r,o)=>{const i=ct["a"].findKey(n,o);if(i)return e[i]=jt(r),void delete e[o];const a=t?Gt(o):String(o).trim();a!==o&&delete e[o],e[a]=jt(r),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return ct["a"].forEach(this,(n,r)=>{null!=n&&!1!==n&&(e[r]=t&&ct["a"].isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(t=>n.set(t)),n}static accessor(t){const e=this[Vt]=this[Vt]={accessors:{}},n=e.accessors,r=this.prototype;function o(t){const e=Ft(t);n[e]||(qt(r,t),n[e]=!0)}return ct["a"].isArray(t)?t.forEach(o):o(t),this}}Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ct["a"].freezeMethods(Yt.prototype),ct["a"].freezeMethods(Yt);var Xt=Yt;function Zt(t,e){const n=this||Lt,r=e||n,o=Xt.from(r.headers);let i=r.data;return ct["a"].forEach(t,(function(t){i=t.call(n,i,o.normalize(),e?e.status:void 0)})),o.normalize(),i}function $t(t){return!(!t||!t.__CANCEL__)}function Kt(t,e,n){xt["a"].call(this,null==t?"canceled":t,xt["a"].ERR_CANCELED,e,n),this.name="CanceledError"}ct["a"].inherits(Kt,xt["a"],{__CANCEL__:!0});var Jt=Kt,Qt=n("4581");function te(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new xt["a"]("Request failed with status code "+n.status,[xt["a"].ERR_BAD_REQUEST,xt["a"].ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}var ee=At.isStandardBrowserEnv?function(){return{write:function(t,e,n,r,o,i){const a=[];a.push(t+"="+encodeURIComponent(e)),ct["a"].isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ct["a"].isString(r)&&a.push("path="+r),ct["a"].isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ne(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function re(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function oe(t,e){return t&&!ne(e)?re(t,e):e}var ie=At.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=ct["a"].isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return function(){return!0}}();function ae(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ue(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o,i=0,a=0;return e=void 0!==e?e:1e3,function(u){const s=Date.now(),c=r[a];o||(o=s),n[i]=u,r[i]=s;let l=a,f=0;while(l!==i)f+=n[l++],l%=t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),s-o<e)return;const d=c&&s-c;return d?Math.round(1e3*f/d):void 0}}var se=ue;function ce(t,e){let n=0;const r=se(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,u=i-n,s=r(u),c=i<=a;n=i;const l={loaded:i,total:a,progress:a?i/a:void 0,bytes:u,rate:s||void 0,estimated:s&&a&&c?(a-i)/s:void 0,event:o};l[e?"download":"upload"]=!0,t(l)}}const le="undefined"!==typeof XMLHttpRequest;var fe=le&&function(t){return new Promise((function(e,n){let r=t.data;const o=Xt.from(t.headers).normalize(),i=t.responseType;let a;function u(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}ct["a"].isFormData(r)&&(At.isStandardBrowserEnv||At.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let s=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const c=oe(t.baseURL,t.url);function l(){if(!s)return;const r=Xt.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders()),o=i&&"text"!==i&&"json"!==i?s.response:s.responseText,a={data:o,status:s.status,statusText:s.statusText,headers:r,config:t,request:s};te((function(t){e(t),u()}),(function(t){n(t),u()}),a),s=null}if(s.open(t.method.toUpperCase(),vt(c,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,"onloadend"in s?s.onloadend=l:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(l)},s.onabort=function(){s&&(n(new xt["a"]("Request aborted",xt["a"].ECONNABORTED,t,s)),s=null)},s.onerror=function(){n(new xt["a"]("Network Error",xt["a"].ERR_NETWORK,t,s)),s=null},s.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||wt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new xt["a"](e,r.clarifyTimeoutError?xt["a"].ETIMEDOUT:xt["a"].ECONNABORTED,t,s)),s=null},At.isStandardBrowserEnv){const e=(t.withCredentials||ie(c))&&t.xsrfCookieName&&ee.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===r&&o.setContentType(null),"setRequestHeader"in s&&ct["a"].forEach(o.toJSON(),(function(t,e){s.setRequestHeader(e,t)})),ct["a"].isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),i&&"json"!==i&&(s.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&s.addEventListener("progress",ce(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",ce(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=e=>{s&&(n(!e||e.type?new Jt(null,t,s):e),s.abort(),s=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=ae(c);f&&-1===At.protocols.indexOf(f)?n(new xt["a"]("Unsupported protocol "+f+":",xt["a"].ERR_BAD_REQUEST,t)):s.send(r||null)}))};const de={http:Qt["a"],xhr:fe};ct["a"].forEach(de,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}});var he={getAdapter:t=>{t=ct["a"].isArray(t)?t:[t];const{length:e}=t;let n,r;for(let o=0;o<e;o++)if(n=t[o],r=ct["a"].isString(n)?de[n.toLowerCase()]:n)break;if(!r){if(!1===r)throw new xt["a"](`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(ct["a"].hasOwnProp(de,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!ct["a"].isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:de};function pe(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jt(null,t)}function me(t){pe(t),t.headers=Xt.from(t.headers),t.data=Zt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);const e=he.getAdapter(t.adapter||Lt.adapter);return e(t).then((function(e){return pe(t),e.data=Zt.call(t,t.transformResponse,e),e.headers=Xt.from(e.headers),e}),(function(e){return $t(e)||(pe(t),e&&e.response&&(e.response.data=Zt.call(t,t.transformResponse,e.response),e.response.headers=Xt.from(e.response.headers))),Promise.reject(e)}))}const ge=t=>t instanceof Xt?t.toJSON():t;function ve(t,e){e=e||{};const n={};function r(t,e,n){return ct["a"].isPlainObject(t)&&ct["a"].isPlainObject(e)?ct["a"].merge.call({caseless:n},t,e):ct["a"].isPlainObject(e)?ct["a"].merge({},e):ct["a"].isArray(e)?e.slice():e}function o(t,e,n){return ct["a"].isUndefined(e)?ct["a"].isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function i(t,e){if(!ct["a"].isUndefined(e))return r(void 0,e)}function a(t,e){return ct["a"].isUndefined(e)?ct["a"].isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function u(n,o,i){return i in e?r(n,o):i in t?r(void 0,n):void 0}const s={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(t,e)=>o(ge(t),ge(e),!0)};return ct["a"].forEach(Object.keys(t).concat(Object.keys(e)),(function(r){const i=s[r]||o,a=i(t[r],e[r],r);ct["a"].isUndefined(a)&&i!==u||(n[r]=a)})),n}const ye="1.3.5",be={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{be[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const xe={};function we(t,e,n){if("object"!==typeof t)throw new xt["a"]("options must be an object",xt["a"].ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;while(o-- >0){const i=r[o],a=e[i];if(a){const e=t[i],n=void 0===e||a(e,i,t);if(!0!==n)throw new xt["a"]("option "+i+" must be "+n,xt["a"].ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new xt["a"]("Unknown option "+i,xt["a"].ERR_BAD_OPTION)}}be.transitional=function(t,e,n){function r(t,e){return"[Axios v"+ye+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,i)=>{if(!1===t)throw new xt["a"](r(o," has been removed"+(e?" in "+e:"")),xt["a"].ERR_DEPRECATED);return e&&!xe[o]&&(xe[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,i)}};var _e={assertOptions:we,validators:be};const Se=_e.validators;class Ce{constructor(t){this.defaults=t,this.interceptors={request:new bt,response:new bt}}request(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=ve(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;let i;void 0!==n&&_e.assertOptions(n,{silentJSONParsing:Se.transitional(Se.boolean),forcedJSONParsing:Se.transitional(Se.boolean),clarifyTimeoutError:Se.transitional(Se.boolean)},!1),null!=r&&(ct["a"].isFunction(r)?e.paramsSerializer={serialize:r}:_e.assertOptions(r,{encode:Se.function,serialize:Se.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),i=o&&ct["a"].merge(o.common,o[e.method]),i&&ct["a"].forEach(["delete","get","head","post","put","patch","common"],t=>{delete o[t]}),e.headers=Xt.concat(i,o);const a=[];let u=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(u=u&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const s=[];let c;this.interceptors.response.forEach((function(t){s.push(t.fulfilled,t.rejected)}));let l,f=0;if(!u){const t=[me.bind(this),void 0];t.unshift.apply(t,a),t.push.apply(t,s),l=t.length,c=Promise.resolve(e);while(f<l)c=c.then(t[f++],t[f++]);return c}l=a.length;let d=e;f=0;while(f<l){const t=a[f++],e=a[f++];try{d=t(d)}catch(h){e.call(this,h);break}}try{c=me.call(this,d)}catch(h){return Promise.reject(h)}f=0,l=s.length;while(f<l)c=c.then(s[f++],s[f++]);return c}getUri(t){t=ve(this.defaults,t);const e=oe(t.baseURL,t.url);return vt(e,t.params,t.paramsSerializer)}}ct["a"].forEach(["delete","get","head","options"],(function(t){Ce.prototype[t]=function(e,n){return this.request(ve(n||{},{method:t,url:e,data:(n||{}).data}))}})),ct["a"].forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,o){return this.request(ve(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ce.prototype[t]=e(),Ce.prototype[t+"Form"]=e(!0)}));var ke=Ce;class Te{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then(t=>{if(!n._listeners)return;let e=n._listeners.length;while(e-- >0)n._listeners[e](t);n._listeners=null}),this.promise.then=t=>{let e;const r=new Promise(t=>{n.subscribe(t),e=t}).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,o){n.reason||(n.reason=new Jt(t,r,o),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new Te((function(e){t=e}));return{token:e,cancel:t}}}var Ae=Te;function Oe(t){return function(e){return t.apply(null,e)}}function Me(t){return ct["a"].isObject(t)&&!0===t.isAxiosError}const De={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(De).forEach(([t,e])=>{De[e]=t});var Ie=De;function Ee(t){const e=new ke(t),n=Object(lt["a"])(ke.prototype.request,e);return ct["a"].extend(n,ke.prototype,e,{allOwnKeys:!0}),ct["a"].extend(n,e,null,{allOwnKeys:!0}),n.create=function(e){return Ee(ve(t,e))},n}const Re=Ee(Lt);Re.Axios=ke,Re.CanceledError=Jt,Re.CancelToken=Ae,Re.isCancel=$t,Re.VERSION=ye,Re.toFormData=ft["a"],Re.AxiosError=xt["a"],Re.Cancel=Re.CanceledError,Re.all=function(t){return Promise.all(t)},Re.spread=Oe,Re.isAxiosError=Me,Re.mergeConfig=ve,Re.AxiosHeaders=Xt,Re.formToJSON=t=>Et(ct["a"].isHTMLForm(t)?new FormData(t):t),Re.HttpStatusCode=Ie,Re.default=Re;var Ne=Re,Pe=Object(r["defineComponent"])({components:{Tinymce:it},setup:function(){var t=Object(ut["c"])(),e=t.query,n=Object(at["b"])(),o=n.t,i=Object(r["ref"])(void 0),a=Object(r["ref"])(void 0),u=Object(r["ref"])(""),s=Object(r["ref"])(""),c=Object(r["reactive"])({title:e.introTitle||"",content:e.introContent||'<h1 style="text-align: center;"></h1>',tinymceActive:!0,input:function(t){c.content=t}}),l=function(){if("edit"==e.handle){var t={introId:e.introId,introTitle:c.title,introContent:c.content};Object(st["c"])(t).then((function(t){"200"===t.code?K["c"].success({message:"",type:"success",duration:2e3}):K["c"].error({message:"",type:"error",duration:2e3})}))}else if("create"==e.handle){var n=new FormData;console.log(i.value),n.append("medical_file",a.value),n.append("intro_title",c.title||"title"),n.append("intro_content",c.content),n.append("whole_file",i.value),n.get("medical_file");try{Ne({url:"/api/admin/introduction/add",method:"POST",data:n,headers:{Authorization:Object(nt["b"])().state.user.token}}),K["c"].success({message:"",type:"success",duration:2e3})}catch(r){K["c"].error({message:"",type:"error",duration:2e3})}}},f=function(t,e,n){console.log("uploadFile:",t),u.value=t.name,i.value=t.raw,console.log("file1:",i)},d=function(t,e,n){console.log("uploadFile:",t),s.value=t.name,a.value=t.raw,console.log("file1:",i)};return Object(r["onActivated"])((function(){c.tinymceActive=!1})),Object(r["onDeactivated"])((function(){c.tinymceActive=!0})),Object(m["a"])({t:o,showupload:e.handle,fileName:u,fileName1:s,handlePublish:l,handleChange:f,handleChange1:d},Object(r["toRefs"])(c))}});n("f758");Pe.render=p,Pe.__scopeId="data-v-1d8f7bb4";e["default"]=Pe},"433f":function(t,e,n){},"43fc":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")},r=function(t){return t.getParam("noneditable_editable_class","mceEditable")},o=function(t){var e=t.getParam("noneditable_regexp",[]);return e&&e.constructor===RegExp?[e]:e},i=function(t){return function(e){return-1!==(" "+e.attr("class")+" ").indexOf(t)}},a=function(t,e,n){return function(r){var o=arguments,i=o[o.length-2],a=i>0?e.charAt(i-1):"";if('"'===a)return r;if(">"===a){var u=e.lastIndexOf("<",i);if(-1!==u){var s=e.substring(u,i);if(-1!==s.indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(o[0])+'">'+t.dom.encode("string"===typeof o[1]?o[1]:o[0])+"</span>"}},u=function(t,e,r){var o=e.length,i=r.content;if("raw"!==r.format){while(o--)i=i.replace(e[o],a(t,i,n(t)));r.content=i}},s=function(t){var a="contenteditable",s=" "+e.trim(r(t))+" ",c=" "+e.trim(n(t))+" ",l=i(s),f=i(c),d=o(t);t.on("PreInit",(function(){d.length>0&&t.on("BeforeSetContent",(function(e){u(t,d,e)})),t.parser.addAttributeFilter("class",(function(t){var e,n=t.length;while(n--)e=t[n],l(e)?e.attr(a,"true"):f(e)&&e.attr(a,"false")})),t.serializer.addAttributeFilter(a,(function(t){var e,n=t.length;while(n--)e=t[n],(l(e)||f(e))&&(d.length>0&&e.attr("data-mce-content")?(e.name="#text",e.type=3,e.raw=!0,e.value=e.attr("data-mce-content")):e.attr(a,null))}))}))};function c(){t.add("noneditable",(function(t){s(t)}))}c()})()},4581:function(t,e,n){"use strict";e["a"]=null},4795:function(t,e,n){var r=n("23e7"),o=n("da84"),i=n("342f"),a=[].slice,u=/MSIE .\./.test(i),s=function(t){return function(e,n){var r=arguments.length>2,o=r?a.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};r({global:!0,bind:!0,forced:u},{setTimeout:s(o.setTimeout),setInterval:s(o.setInterval)})},"4bd0":function(t,e,n){n("a376")},"4bdc":function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t,e){t.fire("VisualBlocks",{state:e})},r=function(t,e,r){var o=t.dom;o.toggleClass(t.getBody(),"mce-visualblocks"),r.set(!r.get()),n(t,r.get())},o=function(t,e,n){t.addCommand("mceVisualBlocks",(function(){r(t,e,n)}))},i=function(t){return t.getParam("visualblocks_default_state",!1,"boolean")},a=function(t,e,n){t.on("PreviewFormats AfterPreviewFormats",(function(e){n.get()&&t.dom.toggleClass(t.getBody(),"mce-visualblocks","afterpreviewformats"===e.type)})),t.on("init",(function(){i(t)&&r(t,e,n)}))},u=function(t,e){return function(n){n.setActive(e.get());var r=function(t){return n.setActive(t.state)};return t.on("VisualBlocks",r),function(){return t.off("VisualBlocks",r)}}},s=function(t,e){t.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:u(t,e)}),t.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:u(t,e)})};function c(){e.add("visualblocks",(function(e,n){var r=t(!1);o(e,n,r),s(e,r),a(e,n,r)}))}c()})()},"4ea8":function(t,e,n){n("cdd9")},"4f15":function(module,exports,__webpack_require__){var require,require;!function(t){module.exports=t()}((function(){var define,module,exports;return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return require(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){var n=e[a][1][t];return o(n||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=t("base64-js"),o=t("ieee754"),i=t("is-array");n.Buffer=u,n.SlowBuffer=u,n.INSPECT_MAX_BYTES=50,u.poolSize=8192;var a=1073741823;function u(t,e,n){if(!(this instanceof u))return new u(t,e,n);var r,o,s,c=typeof t;if("number"===c)r=t>0?t>>>0:0;else if("string"===c)"base64"===e&&(t=M(t)),r=u.byteLength(t,e);else{if("object"!==c||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&i(t.data)&&(t=t.data),r=+t.length>0?Math.floor(+t.length):0}if(this.length>a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");if(u.TYPED_ARRAY_SUPPORT?o=u._augment(new Uint8Array(r)):(o=this,o.length=r,o._isBuffer=!0),u.TYPED_ARRAY_SUPPORT&&"number"===typeof t.byteLength)o._set(t);else if(I(t))if(u.isBuffer(t))for(s=0;s<r;s++)o[s]=t.readUInt8(s);else for(s=0;s<r;s++)o[s]=(t[s]%256+256)%256;else if("string"===c)o.write(t,0,e);else if("number"===c&&!u.TYPED_ARRAY_SUPPORT&&!n)for(s=0;s<r;s++)o[s]=0;return o}function s(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;a++){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[n+a]=u}return a}function c(t,e,n,r){var o=B(R(e),t,n,r);return o}function l(t,e,n,r){var o=B(N(e),t,n,r);return o}function f(t,e,n,r){return l(t,e,n,r)}function d(t,e,n,r){var o=B(L(e),t,n,r);return o}function h(t,e,n,r){var o=B(P(e),t,n,r,2);return o}function p(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function m(t,e,n){var r="",o="";n=Math.min(t.length,n);for(var i=e;i<n;i++)t[i]<=127?(r+=z(o)+String.fromCharCode(t[i]),o=""):o+="%"+t[i].toString(16);return r+z(o)}function g(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;o++)r+=String.fromCharCode(t[o]);return r}function v(t,e,n){return g(t,e,n)}function y(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;i++)o+=E(t[i]);return o}function b(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function x(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function w(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||e<i)throw new TypeError("value is out of bounds");if(n+r>t.length)throw new TypeError("index out of range")}function _(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;o++)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function S(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;o++)t[n+o]=e>>>8*(r?o:3-o)&255}function C(t,e,n,r,o,i){if(e>o||e<i)throw new TypeError("value is out of bounds");if(n+r>t.length)throw new TypeError("index out of range")}function k(t,e,n,r,i){return i||C(t,e,n,4,34028234663852886e22,-34028234663852886e22),o.write(t,e,n,r,23,4),n+4}function T(t,e,n,r,i){return i||C(t,e,n,8,17976931348623157e292,-17976931348623157e292),o.write(t,e,n,r,52,8),n+8}u.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"===typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i&&t[o]===e[o];o++);return o!==i&&(n=t[o],r=e[o]),n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new u(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=new u(e),o=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(r,o),o+=a.length}return r},u.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=R(t).length;break;case"base64":n=L(t).length;break;default:n=t.length}return n},u.prototype.length=void 0,u.prototype.parent=void 0,u.prototype.toString=function(t,e,n){var r=!1;if(e>>>=0,n=void 0===n||n===1/0?this.length:n>>>0,t||(t="utf8"),e<0&&(e=0),n>this.length&&(n=this.length),n<=e)return"";while(1)switch(t){case"hex":return y(this,e,n);case"utf8":case"utf-8":return m(this,e,n);case"ascii":return g(this,e,n);case"binary":return v(this,e,n);case"base64":return p(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===u.compare(this,t)},u.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return u.compare(this,t)},u.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},u.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},u.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var o=r;r=e,e=n,n=o}e=Number(e)||0;var i,a=this.length-e;switch(n?(n=Number(n),n>a&&(n=a)):n=a,r=String(r||"utf8").toLowerCase(),r){case"hex":i=s(this,t,e,n);break;case"utf8":case"utf-8":i=c(this,t,e,n);break;case"ascii":i=l(this,t,e,n);break;case"binary":i=f(this,t,e,n);break;case"base64":i=d(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=h(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+r)}return i},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(t,e){var n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)return u._augment(this.subarray(t,e));for(var r=e-t,o=new u(r,void 0,!0),i=0;i<r;i++)o[i]=this[i+t];return o},u.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):_(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):S(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):S(this,t,e,!1),e+4},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):_(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):S(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):S(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return k(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return k(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return T(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return T(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){var o=this;if(n||(n=0),r||0===r||(r=this.length),e||(e=0),r!==n&&0!==t.length&&0!==o.length){if(r<n)throw new TypeError("sourceEnd < sourceStart");if(e<0||e>=t.length)throw new TypeError("targetStart out of bounds");if(n<0||n>=o.length)throw new TypeError("sourceStart out of bounds");if(r<0||r>o.length)throw new TypeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(var a=0;a<i;a++)t[a+e]=this[a+n];else t._set(this.subarray(n,n+i),e)}},u.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),n<e)throw new TypeError("end < start");if(n!==e&&0!==this.length){if(e<0||e>=this.length)throw new TypeError("start out of bounds");if(n<0||n>this.length)throw new TypeError("end out of bounds");var r;if("number"===typeof t)for(r=e;r<n;r++)this[r]=t;else{var o=R(t.toString()),i=o.length;for(r=e;r<n;r++)this[r]=o[r%i]}return this}},u.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(u.TYPED_ARRAY_SUPPORT)return new u(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var A=u.prototype;u._augment=function(t){return t.constructor=u,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=A.get,t.set=A.set,t.write=A.write,t.toString=A.toString,t.toLocaleString=A.toString,t.toJSON=A.toJSON,t.equals=A.equals,t.compare=A.compare,t.copy=A.copy,t.slice=A.slice,t.readUInt8=A.readUInt8,t.readUInt16LE=A.readUInt16LE,t.readUInt16BE=A.readUInt16BE,t.readUInt32LE=A.readUInt32LE,t.readUInt32BE=A.readUInt32BE,t.readInt8=A.readInt8,t.readInt16LE=A.readInt16LE,t.readInt16BE=A.readInt16BE,t.readInt32LE=A.readInt32LE,t.readInt32BE=A.readInt32BE,t.readFloatLE=A.readFloatLE,t.readFloatBE=A.readFloatBE,t.readDoubleLE=A.readDoubleLE,t.readDoubleBE=A.readDoubleBE,t.writeUInt8=A.writeUInt8,t.writeUInt16LE=A.writeUInt16LE,t.writeUInt16BE=A.writeUInt16BE,t.writeUInt32LE=A.writeUInt32LE,t.writeUInt32BE=A.writeUInt32BE,t.writeInt8=A.writeInt8,t.writeInt16LE=A.writeInt16LE,t.writeInt16BE=A.writeInt16BE,t.writeInt32LE=A.writeInt32LE,t.writeInt32BE=A.writeInt32BE,t.writeFloatLE=A.writeFloatLE,t.writeFloatBE=A.writeFloatBE,t.writeDoubleLE=A.writeDoubleLE,t.writeDoubleBE=A.writeDoubleBE,t.fill=A.fill,t.inspect=A.inspect,t.toArrayBuffer=A.toArrayBuffer,t};var O=/[^+\/0-9A-z]/g;function M(t){t=D(t).replace(O,"");while(t.length%4!==0)t+="=";return t}function D(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function I(t){return i(t)||u.isBuffer(t)||t&&"object"===typeof t&&"number"===typeof t.length}function E(t){return t<16?"0"+t.toString(16):t.toString(16)}function R(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else{var o=n;r>=55296&&r<=57343&&n++;for(var i=encodeURIComponent(t.slice(o,n+1)).substr(1).split("%"),a=0;a<i.length;a++)e.push(parseInt(i[a],16))}}return e}function N(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function P(t){for(var e,n,r,o=[],i=0;i<t.length;i++)e=t.charCodeAt(i),n=e>>8,r=e%256,o.push(r),o.push(n);return o}function L(t){return r.toByteArray(t)}function B(t,e,n,r,o){o&&(r-=r%o);for(var i=0;i<r;i++){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function z(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}},{"base64-js":2,ieee754:3,"is-array":4}],2:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(t){"use strict";var e="undefined"!==typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),o="/".charCodeAt(0),i="0".charCodeAt(0),a="a".charCodeAt(0),u="A".charCodeAt(0);function s(t){var e=t.charCodeAt(0);return e===n?62:e===o?63:e<i?-1:e<i+10?e-i+26+26:e<u+26?e-u:e<a+26?e-a+26:void 0}function c(t){var n,r,o,i,a,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;a="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,u=new e(3*t.length/4-a),o=a>0?t.length-4:t.length;var l=0;function f(t){u[l++]=t}for(n=0,r=0;n<o;n+=4,r+=3)i=s(t.charAt(n))<<18|s(t.charAt(n+1))<<12|s(t.charAt(n+2))<<6|s(t.charAt(n+3)),f((16711680&i)>>16),f((65280&i)>>8),f(255&i);return 2===a?(i=s(t.charAt(n))<<2|s(t.charAt(n+1))>>4,f(255&i)):1===a&&(i=s(t.charAt(n))<<10|s(t.charAt(n+1))<<4|s(t.charAt(n+2))>>2,f(i>>8&255),f(255&i)),u}function l(t){var e,n,o,i=t.length%3,a="";function u(t){return r.charAt(t)}function s(t){return u(t>>18&63)+u(t>>12&63)+u(t>>6&63)+u(63&t)}for(e=0,o=t.length-i;e<o;e+=3)n=(t[e]<<16)+(t[e+1]<<8)+t[e+2],a+=s(n);switch(i){case 1:n=t[t.length-1],a+=u(n>>2),a+=u(n<<4&63),a+="==";break;case 2:n=(t[t.length-2]<<8)+t[t.length-1],a+=u(n>>10),a+=u(n>>4&63),a+=u(n<<2&63),a+="=";break}return a}t.toByteArray=c,t.fromByteArray=l})("undefined"===typeof n?this.base64js={}:n)},{}],3:[function(t,e,n){n.read=function(t,e,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=u;l>0;i=256*i+t[e+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(t,e,n,r,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+f>=1?d/s:d*Math.pow(2,1-f),e*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*s-1)*Math.pow(2,o),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&u,h+=p,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*m}},{}],4:[function(t,e,n){var r=Array.isArray,o=Object.prototype.toString;e.exports=r||function(t){return!!t&&"[object Array]"==o.call(t)}},{}],5:[function(t,e,n){"use strict";var r=t("./dataReader");function o(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}o.prototype=new r,o.prototype.byteAt=function(t){return this.data[this.zero+t]},o.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),o=t.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===e&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"./dataReader":10}],6:[function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t,e){var n,o,i,a,u,s,c,l="",f=0;while(f<t.length)n=t.charCodeAt(f++),o=t.charCodeAt(f++),i=t.charCodeAt(f++),a=n>>2,u=(3&n)<<4|o>>4,s=(15&o)<<2|i>>6,c=63&i,isNaN(o)?s=c=64:isNaN(i)&&(c=64),l=l+r.charAt(a)+r.charAt(u)+r.charAt(s)+r.charAt(c);return l},n.decode=function(t,e){var n,o,i,a,u,s,c,l="",f=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<t.length)a=r.indexOf(t.charAt(f++)),u=r.indexOf(t.charAt(f++)),s=r.indexOf(t.charAt(f++)),c=r.indexOf(t.charAt(f++)),n=a<<2|u>>4,o=(15&u)<<4|s>>2,i=(3&s)<<6|c,l+=String.fromCharCode(n),64!=s&&(l+=String.fromCharCode(o)),64!=c&&(l+=String.fromCharCode(i));return l}},{}],7:[function(t,e,n){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=r},{}],8:[function(t,e,n){"use strict";n.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},n.DEFLATE=t("./flate")},{"./flate":13}],9:[function(t,e,n){"use strict";var r=t("./utils"),o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if("undefined"===typeof t||!t.length)return 0;var n="string"!==r.getTypeOf(t);"undefined"==typeof e&&(e=0);var i=0,a=0,u=0;e^=-1;for(var s=0,c=t.length;s<c;s++)u=n?t[s]:t.charCodeAt(s),a=255&(e^u),i=o[a],e=e>>>8^i;return-1^e}},{"./utils":26}],10:[function(t,e,n){"use strict";var r=t("./utils");function o(t){this.data=null,this.length=0,this.index=0,this.zero=0}o.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=o},{"./utils":26}],11:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],12:[function(t,e,n){"use strict";var r=t("./utils");n.string2binary=function(t){return r.string2binary(t)},n.string2Uint8Array=function(t){return r.transformTo("uint8array",t)},n.uint8Array2String=function(t){return r.transformTo("string",t)},n.string2Blob=function(t){var e=r.transformTo("arraybuffer",t);return r.arrayBuffer2Blob(e)},n.arrayBuffer2Blob=function(t){return r.arrayBuffer2Blob(t)},n.transformTo=function(t,e){return r.transformTo(t,e)},n.getTypeOf=function(t){return r.getTypeOf(t)},n.checkSupport=function(t){return r.checkSupport(t)},n.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,n.pretty=function(t){return r.pretty(t)},n.findCompression=function(t){return r.findCompression(t)},n.isRegExp=function(t){return r.isRegExp(t)}},{"./utils":26}],13:[function(t,e,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array,o=t("pako");n.uncompressInputType=r?"uint8array":"array",n.compressInputType=r?"uint8array":"array",n.magic="\b\0",n.compress=function(t,e){return o.deflateRaw(t,{level:e.level||-1})},n.uncompress=function(t){return o.inflateRaw(t)}},{pako:29}],14:[function(t,e,n){"use strict";var r=t("./base64");function o(t,e){if(!(this instanceof o))return new o(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new o;for(var e in this)"function"!==typeof this[e]&&(t[e]=this[e]);return t}}o.prototype=t("./object"),o.prototype.load=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.utils=t("./deprecatedPublicUtils"),o.base64={encode:function(t){return r.encode(t)},decode:function(t){return r.decode(t)}},o.compressions=t("./compressions"),e.exports=o},{"./base64":6,"./compressions":8,"./defaults":11,"./deprecatedPublicUtils":12,"./load":15,"./object":18,"./support":22}],15:[function(t,e,n){"use strict";var r=t("./base64"),o=t("./utf8"),i=t("./utils"),a=t("./zipEntries");e.exports=function(t,e){var n,u,s,c;for(e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),e.base64&&(t=r.decode(t)),u=new a(t,e),n=u.files,s=0;s<n.length;s++)c=n[s],this.file(c.fileNameStr,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:e.createFolders});return u.zipComment.length&&(this.comment=u.zipComment),this}},{"./base64":6,"./utf8":25,"./utils":26,"./zipEntries":27}],16:[function(t,e,n){(function(t){"use strict";e.exports=function(e,n){return new t(e,n)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,t("buffer").Buffer)},{buffer:1}],17:[function(t,e,n){"use strict";var r=t("./uint8ArrayReader");function o(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}o.prototype=new r,o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"./uint8ArrayReader":23}],18:[function(t,e,n){"use strict";var r=t("./support"),o=t("./utils"),i=t("./crc32"),a=t("./signature"),u=t("./defaults"),s=t("./base64"),c=t("./compressions"),l=t("./compressedObject"),f=t("./nodeBuffer"),d=t("./utf8"),h=t("./stringWriter"),p=t("./uint8ArrayWriter"),m=function(t){if(t._data instanceof l&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===o.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=m(t),n=o.getTypeOf(e);return"string"===n?!t.options.binary&&r.nodebuffer?f(e,"utf-8"):t.asBinary():e},v=function(t){var e=m(this);return null===e||"undefined"===typeof e?"":(this.options.base64&&(e=s.decode(e)),e=t&&this.options.binary?M.utf8decode(e):o.transformTo("string",e),t||this.options.binary||(e=o.transformTo("string",M.utf8encode(e))),e)},y=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=g(this);return o.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return o.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},x=function(t){return t=t||{},!0!==t.base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=o.extend(t,u),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},w=function(t,e,n){var r,i=o.getTypeOf(e);if(n=x(n),"string"===typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=S(t)),n.createFolders&&(r=_(t))&&C.call(this,r,!0),n.dir||null===e||"undefined"===typeof e)n.base64=!1,n.binary=!1,e=null,i=null;else if("string"===i)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(e=o.string2binary(e));else{if(n.base64=!1,n.binary=!0,!i&&!(e instanceof l))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===i&&(e=o.transformTo("uint8array",e))}var a=new y(t,e,n);return this.files[t]=a,a},_=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},S=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},C=function(t,e){return e="undefined"!==typeof e&&e,t=S(t),this.files[t]||w.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},k=function(t,e,n){var r,a=new l;return t._data instanceof l?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=c["STORE"],a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),a.compressedContent=e.compress(o.transformTo(e.compressInputType,r),n))):(r=g(t),r&&0!==r.length&&!t.dir||(e=c["STORE"],r=""),a.uncompressedSize=r.length,a.crc32=i(r),a.compressedContent=e.compress(o.transformTo(e.compressInputType,r),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},T=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},A=function(t,e){return 63&(t||0)},O=function(t,e,n,r,u,s){n.compressedContent;var c,l,f,h,p=s!==d.utf8encode,m=o.transformTo("string",s(e.name)),g=o.transformTo("string",d.utf8encode(e.name)),v=e.comment||"",y=o.transformTo("string",s(v)),x=o.transformTo("string",d.utf8encode(v)),w=g.length!==e.name.length,_=x.length!==v.length,S=e.options,C="",k="",O="";f=e._initialMetadata.dir!==e.dir?e.dir:S.dir,h=e._initialMetadata.date!==e.date?e.date:S.date;var M=0,D=0;f&&(M|=16),"UNIX"===u?(D=798,M|=T(e.unixPermissions,f)):(D=20,M|=A(e.dosPermissions,f)),c=h.getHours(),c<<=6,c|=h.getMinutes(),c<<=5,c|=h.getSeconds()/2,l=h.getFullYear()-1980,l<<=4,l|=h.getMonth()+1,l<<=5,l|=h.getDate(),w&&(k=b(1,1)+b(i(m),4)+g,C+="up"+b(k.length,2)+k),_&&(O=b(1,1)+b(this.crc32(y),4)+x,C+="uc"+b(O.length,2)+O);var I="";I+="\n\0",I+=p||!w&&!_?"\0\0":"\0\b",I+=n.compressionMethod,I+=b(c,2),I+=b(l,2),I+=b(n.crc32,4),I+=b(n.compressedSize,4),I+=b(n.uncompressedSize,4),I+=b(m.length,2),I+=b(C.length,2);var E=a.LOCAL_FILE_HEADER+I+m+C,R=a.CENTRAL_FILE_HEADER+b(D,2)+I+b(y.length,2)+"\0\0\0\0"+b(M,4)+b(r,4)+m+C+y;return{fileRecord:E,dirRecord:R,compressedObject:n}},M={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,r,i,a=[];for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],i=new y(r.name,r._data,o.extend(r.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,i)&&a.push(i));return a},file:function(t,e,n){if(1===arguments.length){if(o.isRegExp(t)){var r=t;return this.filter((function(t,e){return!e.dir&&r.test(t)}))}return this.filter((function(e,n){return!n.dir&&e===t}))[0]||null}return t=this.root+t,w.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(o.isRegExp(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=C.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){t=o.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode}),o.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,r=[],i=0,u=0,l=o.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var f in this.files)if(this.files.hasOwnProperty(f)){var m=this.files[f],g=m.options.compression||t.compression.toUpperCase(),v=c[g];if(!v)throw new Error(g+" is not a valid compression method !");var y=m.options.compressionOptions||t.compressionOptions||{},x=k.call(this,m,v,y),w=O.call(this,f,m,x,i,t.platform,t.encodeFileName);i+=w.fileRecord.length+x.compressedSize,u+=w.dirRecord.length,r.push(w)}var _="";_=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(u,4)+b(i,4)+b(l.length,2)+l;var S=t.type.toLowerCase();for(e="uint8array"===S||"arraybuffer"===S||"blob"===S||"nodebuffer"===S?new p(i+u+_.length):new h(i+u+_.length),n=0;n<r.length;n++)e.append(r[n].fileRecord),e.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)e.append(r[n].dirRecord);e.append(_);var C=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return o.transformTo(t.type.toLowerCase(),C);case"blob":return o.arrayBuffer2Blob(o.transformTo("arraybuffer",C),t.mimeType);case"base64":return t.base64?s.encode(C):C;default:return C}},crc32:function(t,e){return i(t,e)},utf8encode:function(t){return o.transformTo("string",d.utf8encode(t))},utf8decode:function(t){return d.utf8decode(t)}};e.exports=M},{"./base64":6,"./compressedObject":7,"./compressions":8,"./crc32":9,"./defaults":11,"./nodeBuffer":16,"./signature":19,"./stringWriter":21,"./support":22,"./uint8ArrayWriter":24,"./utf8":25,"./utils":26}],19:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],20:[function(t,e,n){"use strict";var r=t("./dataReader"),o=t("./utils");function i(t,e){this.data=t,e||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}i.prototype=new r,i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":10,"./utils":26}],21:[function(t,e,n){"use strict";var r=t("./utils"),o=function(){this.data=[]};o.prototype={append:function(t){t=r.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=o},{"./utils":26}],22:[function(t,e,n){(function(t){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array,n.nodebuffer="undefined"!==typeof t,n.uint8array="undefined"!==typeof Uint8Array,"undefined"===typeof ArrayBuffer)n.blob=!1;else{var e=new ArrayBuffer(0);try{n.blob=0===new Blob([e],{type:"application/zip"}).size}catch(i){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;o.append(e),n.blob=0===o.getBlob("application/zip").size}catch(i){n.blob=!1}}}}).call(this,t("buffer").Buffer)},{buffer:1}],23:[function(t,e,n){"use strict";var r=t("./arrayReader");function o(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}o.prototype=new r,o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"./arrayReader":5}],24:[function(t,e,n){"use strict";var r=t("./utils"),o=function(t){this.data=new Uint8Array(t),this.index=0};o.prototype={append:function(t){0!==t.length&&(t=r.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=o},{"./utils":26}],25:[function(t,e,n){"use strict";for(var r=t("./utils"),o=t("./support"),i=t("./nodeBuffer"),a=new Array(256),u=0;u<256;u++)a[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;a[254]=a[254]=1;var s=function(t){var e,n,r,i,a,u=t.length,s=0;for(i=0;i<u;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<u&&(r=t.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=o.uint8array?new Uint8Array(s):new Array(s),a=0,i=0;a<s;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<u&&(r=t.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},c=function(t,e){var n;e=e||t.length,e>t.length&&(e=t.length),n=e-1;while(n>=0&&128===(192&t[n]))n--;return n<0||0===n?e:n+a[t[n]]>e?n:e},l=function(t){var e,n,o,i,u=t.length,s=new Array(2*u);for(n=0,e=0;e<u;)if(o=t[e++],o<128)s[n++]=o;else if(i=a[o],i>4)s[n++]=65533,e+=i-1;else{o&=2===i?31:3===i?15:7;while(i>1&&e<u)o=o<<6|63&t[e++],i--;i>1?s[n++]=65533:o<65536?s[n++]=o:(o-=65536,s[n++]=55296|o>>10&1023,s[n++]=56320|1023&o)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),r.applyFromCharCode(s)};n.utf8encode=function(t){return o.nodebuffer?i(t,"utf-8"):s(t)},n.utf8decode=function(t){if(o.nodebuffer)return r.transformTo("nodebuffer",t).toString("utf-8");t=r.transformTo(o.uint8array?"uint8array":"array",t);var e=[],n=0,i=t.length,a=65536;while(n<i){var u=c(t,Math.min(n+a,i));o.uint8array?e.push(l(t.subarray(n,u))):e.push(l(t.slice(n,u))),n=u}return e.join("")}},{"./nodeBuffer":16,"./support":22,"./utils":26}],26:[function(t,e,n){"use strict";var r=t("./support"),o=t("./compressions"),i=t("./nodeBuffer");function a(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function s(t){var e=65536,r=[],o=t.length,a=n.getTypeOf(t),u=0,s=!0;try{switch(a){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,i(0));break}}catch(f){s=!1}if(!s){for(var c="",l=0;l<t.length;l++)c+=String.fromCharCode(t[l]);return c}while(u<o&&e>1)try{"array"===a||"nodebuffer"===a?r.push(String.fromCharCode.apply(null,t.slice(u,Math.min(u+e,o)))):r.push(String.fromCharCode.apply(null,t.subarray(u,Math.min(u+e,o)))),u+=e}catch(f){e=Math.floor(e/2)}return r.join("")}function c(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},n.arrayBuffer2Blob=function(t,e){n.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(i){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;return o.append(t),o.getBlob(e)}catch(i){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=s;var l={};l["string"]={string:a,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return l["string"]["uint8array"](t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,i(t.length))}},l["array"]={string:s,array:a,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i(t)}},l["arraybuffer"]={string:function(t){return s(new Uint8Array(t))},array:function(t){return c(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:a,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i(new Uint8Array(t))}},l["uint8array"]={string:s,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:a,nodebuffer:function(t){return i(t)}},l["nodebuffer"]={string:s,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return l["nodebuffer"]["uint8array"](t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:a},n.transformTo=function(t,e){if(e||(e=""),!t)return e;n.checkSupport(t);var r=n.getTypeOf(e),o=l[r][t](e);return o},n.getTypeOf=function(t){return"string"===typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":r.nodebuffer&&i.test(t)?"nodebuffer":r.uint8array&&t instanceof Uint8Array?"uint8array":r.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){var e=r[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),r+="\\x"+(e<16?"0":"")+e.toString(16).toUpperCase();return r},n.findCompression=function(t){for(var e in o)if(o.hasOwnProperty(e)&&o[e].magic===t)return o[e];return null},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"===typeof n[e]&&(n[e]=arguments[t][e]);return n}},{"./compressions":8,"./nodeBuffer":16,"./support":22}],27:[function(t,e,n){"use strict";var r=t("./stringReader"),o=t("./nodeBufferReader"),i=t("./uint8ArrayReader"),a=t("./arrayReader"),u=t("./utils"),s=t("./signature"),c=t("./zipEntry"),l=t("./support");t("./object");function f(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}f.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+u.pretty(e)+", expected "+u.pretty(t)+")")},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4),o=r===e;return this.reader.setIndex(n),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=l.uint8array?"uint8array":"array",n=u.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var t,e,n,r=this.zip64EndOfCentralSize-44,o=0;while(o<r)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;this.reader.setIndex(this.centralDirOffset);while(this.reader.readString(4)===s.CENTRAL_FILE_HEADER)t=new c({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0){var e=!this.isSignature(0,s.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(t);var n=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),t<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var o=n-r;if(o>0)this.isSignature(n,s.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(t){var e=u.getTypeOf(t);if(u.checkSupport(e),"string"!==e||l.uint8array)if("nodebuffer"===e)this.reader=new o(t);else if(l.uint8array)this.reader=new i(u.transformTo("uint8array",t));else{if(!l.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new a(u.transformTo("array",t))}else this.reader=new r(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=f},{"./arrayReader":5,"./nodeBufferReader":17,"./object":18,"./signature":19,"./stringReader":20,"./support":22,"./uint8ArrayReader":23,"./utils":26,"./zipEntry":28}],28:[function(t,e,n){"use strict";var r=t("./stringReader"),o=t("./utils"),i=t("./compressedObject"),a=t("./object"),u=t("./support"),s=0,c=3;function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var r=t.index;t.setIndex(e);var o=t.readData(n);return t.setIndex(r),o}},prepareContent:function(t,e,n,r,i){return function(){var t=o.transformTo(r.uncompressInputType,this.getCompressedContent()),e=r.uncompress(t);if(e.length!==i)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(e=o.findCompression(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");if(this.decompressed=new i,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t===s&&(this.dosPermissions=63&this.externalFileAttributes),t===c&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,o=t.index;this.extraFields=this.extraFields||{};while(t.index<o+this.extraFieldsLength)e=t.readInt(2),n=t.readInt(2),r=t.readString(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new r(t.value);return 1!==e.readInt(1)||a.crc32(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new r(t.value);return 1!==e.readInt(1)||a.crc32(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null}},e.exports=l},{"./compressedObject":7,"./object":18,"./stringReader":20,"./support":22,"./utils":26}],29:[function(t,e,n){"use strict";var r=t("./lib/utils/common").assign,o=t("./lib/deflate"),i=t("./lib/inflate"),a=t("./lib/zlib/constants"),u={};r(u,o,i,a),e.exports=u},{"./lib/deflate":30,"./lib/inflate":31,"./lib/utils/common":32,"./lib/zlib/constants":35}],30:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),o=t("./utils/common"),i=t("./utils/strings"),a=t("./zlib/messages"),u=t("./zlib/zstream"),s=Object.prototype.toString,c=0,l=4,f=0,d=1,h=2,p=-1,m=0,g=8;function v(t){if(!(this instanceof v))return new v(t);this.options=o.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==f)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"===typeof e.dictionary?i.string2buf(e.dictionary):"[object ArrayBuffer]"===s.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=r.deflateSetDictionary(this.strm,c),n!==f)throw new Error(a[n]);this._dict_set=!0}}function y(t,e){var n=new v(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function b(t,e){return e=e||{},e.raw=!0,y(t,e)}function x(t,e){return e=e||{},e.gzip=!0,y(t,e)}v.prototype.push=function(t,e){var n,a,u=this.strm,p=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?l:c,"string"===typeof t?u.input=i.string2buf(t):"[object ArrayBuffer]"===s.call(t)?u.input=new Uint8Array(t):u.input=t,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new o.Buf8(p),u.next_out=0,u.avail_out=p),n=r.deflate(u,a),n!==d&&n!==f)return this.onEnd(n),this.ended=!0,!1;0!==u.avail_out&&(0!==u.avail_in||a!==l&&a!==h)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(u.output,u.next_out))):this.onData(o.shrinkBuf(u.output,u.next_out)))}while((u.avail_in>0||0===u.avail_out)&&n!==d);return a===l?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):a!==h||(this.onEnd(f),u.avail_out=0,!0)},v.prototype.onData=function(t){this.chunks.push(t)},v.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=v,n.deflate=y,n.deflateRaw=b,n.gzip=x},{"./utils/common":32,"./utils/strings":33,"./zlib/deflate":37,"./zlib/messages":42,"./zlib/zstream":44}],31:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),o=t("./utils/common"),i=t("./utils/strings"),a=t("./zlib/constants"),u=t("./zlib/messages"),s=t("./zlib/zstream"),c=t("./zlib/gzheader"),l=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(u[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function h(t,e){return e=e||{},e.raw=!0,d(t,e)}f.prototype.push=function(t,e){var n,u,s,c,f,d,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;u=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof t?h.input=i.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new o.Buf8(p),h.next_out=0,h.avail_out=p),n=r.inflate(h,a.Z_NO_FLUSH),n===a.Z_NEED_DICT&&m&&(d="string"===typeof m?i.string2buf(m):"[object ArrayBuffer]"===l.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||u!==a.Z_FINISH&&u!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(s=i.utf8border(h.output,h.next_out),c=h.next_out-s,f=i.buf2string(h.output,s),h.next_out=c,h.avail_out=p-c,c&&o.arraySet(h.output,h.output,s,c,0),this.onData(f)):this.onData(o.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(u=a.Z_FINISH),u===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):u!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=f,n.inflate=d,n.inflateRaw=h,n.ungzip=d},{"./utils/common":32,"./utils/strings":33,"./zlib/constants":35,"./zlib/gzheader":38,"./zlib/inflate":40,"./zlib/messages":42,"./zlib/zstream":44}],32:[function(t,e,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;n.assign=function(t){var e=Array.prototype.slice.call(arguments,1);while(e.length){var n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),o);else for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){var e,n,r,o,i,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),o=0,e=0,n=t.length;e<n;e++)i=t[e],a.set(i,o),o+=i.length;return a}},i={arraySet:function(t,e,n,r,o){for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],33:[function(t,e,n){"use strict";var r=t("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(c){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){i=!1}for(var a=new r.Buf8(256),u=0;u<256;u++)a[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;function s(t,e){if(e<65537&&(t.subarray&&i||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,o,i,a,u=t.length,s=0;for(i=0;i<u;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<u&&(o=t.charCodeAt(i+1),56320===(64512&o)&&(n=65536+(n-55296<<10)+(o-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(s),a=0,i=0;a<s;i++)n=t.charCodeAt(i),55296===(64512&n)&&i+1<u&&(o=t.charCodeAt(i+1),56320===(64512&o)&&(n=65536+(n-55296<<10)+(o-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},n.buf2binstring=function(t){return s(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,o=e.length;n<o;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,o,i,u=e||t.length,c=new Array(2*u);for(r=0,n=0;n<u;)if(o=t[n++],o<128)c[r++]=o;else if(i=a[o],i>4)c[r++]=65533,n+=i-1;else{o&=2===i?31:3===i?15:7;while(i>1&&n<u)o=o<<6|63&t[n++],i--;i>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return s(c,r)},n.utf8border=function(t,e){var n;e=e||t.length,e>t.length&&(e=t.length),n=e-1;while(n>=0&&128===(192&t[n]))n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":32}],34:[function(t,e,n){"use strict";function r(t,e,n,r){var o=65535&t|0,i=t>>>16&65535|0,a=0;while(0!==n){a=n>2e3?2e3:n,n-=a;do{o=o+e[r++]|0,i=i+o|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}e.exports=r},{}],35:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],36:[function(t,e,n){"use strict";function r(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}var o=r();function i(t,e,n,r){var i=o,a=r+n;t^=-1;for(var u=r;u<a;u++)t=t>>>8^i[255&(t^e[u])];return-1^t}e.exports=i},{}],37:[function(t,e,n){"use strict";var r,o=t("../utils/common"),i=t("./trees"),a=t("./adler32"),u=t("./crc32"),s=t("./messages"),c=0,l=1,f=3,d=4,h=5,p=0,m=1,g=-2,v=-3,y=-5,b=-1,x=1,w=2,_=3,S=4,C=0,k=2,T=8,A=9,O=15,M=8,D=29,I=256,E=I+1+D,R=30,N=19,P=2*E+1,L=15,B=3,z=258,V=z+B+1,F=32,j=42,H=69,U=73,W=91,G=103,q=113,Y=666,X=1,Z=2,$=3,K=4,J=3;function Q(t,e){return t.msg=s[e],e}function tt(t){return(t<<1)-(t>4?9:0)}function et(t){var e=t.length;while(--e>=0)t[e]=0}function nt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(o.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function rt(t,e){i._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,nt(t.strm)}function ot(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function at(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,o.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=a(t.adler,e,i,n):2===t.state.wrap&&(t.adler=u(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function ut(t,e){var n,r,o=t.max_chain_length,i=t.strstart,a=t.prev_length,u=t.nice_match,s=t.strstart>t.w_size-V?t.strstart-(t.w_size-V):0,c=t.window,l=t.w_mask,f=t.prev,d=t.strstart+z,h=c[i+a-1],p=c[i+a];t.prev_length>=t.good_match&&(o>>=2),u>t.lookahead&&(u=t.lookahead);do{if(n=e,c[n+a]===p&&c[n+a-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=z-(d-i),i=d-z,r>a){if(t.match_start=e,a=r,r>=u)break;h=c[i+a-1],p=c[i+a]}}}while((e=f[e&l])>s&&0!==--o);return a<=t.lookahead?a:t.lookahead}function st(t){var e,n,r,i,a,u=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=u+(u-V)){o.arraySet(t.window,t.window,u,u,0),t.match_start-=u,t.strstart-=u,t.block_start-=u,n=t.hash_size,e=n;do{r=t.head[--e],t.head[e]=r>=u?r-u:0}while(--n);n=u,e=n;do{r=t.prev[--e],t.prev[e]=r>=u?r-u:0}while(--n);i+=u}if(0===t.strm.avail_in)break;if(n=at(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=B){a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;while(t.insert)if(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+B-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,t.lookahead+t.insert<B)break}}while(t.lookahead<V&&0!==t.strm.avail_in)}function ct(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(st(t),0===t.lookahead&&e===c)return X;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,rt(t,!1),0===t.strm.avail_out))return X;if(t.strstart-t.block_start>=t.w_size-V&&(rt(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===d?(rt(t,!0),0===t.strm.avail_out?$:K):(t.strstart>t.block_start&&(rt(t,!1),t.strm.avail_out),X)}function lt(t,e){for(var n,r;;){if(t.lookahead<V){if(st(t),t.lookahead<V&&e===c)return X;if(0===t.lookahead)break}if(n=0,t.lookahead>=B&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-V&&(t.match_length=ut(t,n)),t.match_length>=B)if(r=i._tr_tally(t,t.strstart-t.match_start,t.match_length-B),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=B){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(rt(t,!1),0===t.strm.avail_out))return X}return t.insert=t.strstart<B-1?t.strstart:B-1,e===d?(rt(t,!0),0===t.strm.avail_out?$:K):t.last_lit&&(rt(t,!1),0===t.strm.avail_out)?X:Z}function ft(t,e){for(var n,r,o;;){if(t.lookahead<V){if(st(t),t.lookahead<V&&e===c)return X;if(0===t.lookahead)break}if(n=0,t.lookahead>=B&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=B-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-V&&(t.match_length=ut(t,n),t.match_length<=5&&(t.strategy===x||t.match_length===B&&t.strstart-t.match_start>4096)&&(t.match_length=B-1)),t.prev_length>=B&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-B,r=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-B),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=B-1,t.strstart++,r&&(rt(t,!1),0===t.strm.avail_out))return X}else if(t.match_available){if(r=i._tr_tally(t,0,t.window[t.strstart-1]),r&&rt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return X}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<B-1?t.strstart:B-1,e===d?(rt(t,!0),0===t.strm.avail_out?$:K):t.last_lit&&(rt(t,!1),0===t.strm.avail_out)?X:Z}function dt(t,e){for(var n,r,o,a,u=t.window;;){if(t.lookahead<=z){if(st(t),t.lookahead<=z&&e===c)return X;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=B&&t.strstart>0&&(o=t.strstart-1,r=u[o],r===u[++o]&&r===u[++o]&&r===u[++o])){a=t.strstart+z;do{}while(r===u[++o]&&r===u[++o]&&r===u[++o]&&r===u[++o]&&r===u[++o]&&r===u[++o]&&r===u[++o]&&r===u[++o]&&o<a);t.match_length=z-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=B?(n=i._tr_tally(t,1,t.match_length-B),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(rt(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===d?(rt(t,!0),0===t.strm.avail_out?$:K):t.last_lit&&(rt(t,!1),0===t.strm.avail_out)?X:Z}function ht(t,e){for(var n;;){if(0===t.lookahead&&(st(t),0===t.lookahead)){if(e===c)return X;break}if(t.match_length=0,n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(rt(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===d?(rt(t,!0),0===t.strm.avail_out?$:K):t.last_lit&&(rt(t,!1),0===t.strm.avail_out)?X:Z}function pt(t,e,n,r,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=o}function mt(t){t.window_size=2*t.w_size,et(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=B-1,t.match_available=0,t.ins_h=0}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*P),this.dyn_dtree=new o.Buf16(2*(2*R+1)),this.bl_tree=new o.Buf16(2*(2*N+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*E+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*E+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function vt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=k,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?j:q,t.adler=2===e.wrap?0:1,e.last_flush=c,i._tr_init(e),p):Q(t,g)}function yt(t){var e=vt(t);return e===p&&mt(t.state),e}function bt(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,p):g}function xt(t,e,n,r,i,a){if(!t)return g;var u=1;if(e===b&&(e=6),r<0?(u=0,r=-r):r>15&&(u=2,r-=16),i<1||i>A||n!==T||r<8||r>15||e<0||e>9||a<0||a>S)return Q(t,g);8===r&&(r=9);var s=new gt;return t.state=s,s.strm=t,s.wrap=u,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+B-1)/B),s.window=new o.Buf8(2*s.w_size),s.head=new o.Buf16(s.hash_size),s.prev=new o.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new o.Buf8(s.pending_buf_size),s.d_buf=s.lit_bufsize>>1,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=n,yt(t)}function wt(t,e){return xt(t,e,T,O,M,C)}function _t(t,e){var n,o,a,s;if(!t||!t.state||e>h||e<0)return t?Q(t,g):g;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===Y&&e!==d)return Q(t,0===t.avail_out?y:g);if(o.strm=t,n=o.last_flush,o.last_flush=e,o.status===j)if(2===o.wrap)t.adler=0,ot(o,31),ot(o,139),ot(o,8),o.gzhead?(ot(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),ot(o,255&o.gzhead.time),ot(o,o.gzhead.time>>8&255),ot(o,o.gzhead.time>>16&255),ot(o,o.gzhead.time>>24&255),ot(o,9===o.level?2:o.strategy>=w||o.level<2?4:0),ot(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(ot(o,255&o.gzhead.extra.length),ot(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=u(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=H):(ot(o,0),ot(o,0),ot(o,0),ot(o,0),ot(o,0),ot(o,9===o.level?2:o.strategy>=w||o.level<2?4:0),ot(o,J),o.status=q);else{var v=T+(o.w_bits-8<<4)<<8,b=-1;b=o.strategy>=w||o.level<2?0:o.level<6?1:6===o.level?2:3,v|=b<<6,0!==o.strstart&&(v|=F),v+=31-v%31,o.status=q,it(o,v),0!==o.strstart&&(it(o,t.adler>>>16),it(o,65535&t.adler)),t.adler=1}if(o.status===H)if(o.gzhead.extra){a=o.pending;while(o.gzindex<(65535&o.gzhead.extra.length)){if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=u(t.adler,o.pending_buf,o.pending-a,a)),nt(t),a=o.pending,o.pending===o.pending_buf_size))break;ot(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++}o.gzhead.hcrc&&o.pending>a&&(t.adler=u(t.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=U)}else o.status=U;if(o.status===U)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=u(t.adler,o.pending_buf,o.pending-a,a)),nt(t),a=o.pending,o.pending===o.pending_buf_size)){s=1;break}s=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,ot(o,s)}while(0!==s);o.gzhead.hcrc&&o.pending>a&&(t.adler=u(t.adler,o.pending_buf,o.pending-a,a)),0===s&&(o.gzindex=0,o.status=W)}else o.status=W;if(o.status===W)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=u(t.adler,o.pending_buf,o.pending-a,a)),nt(t),a=o.pending,o.pending===o.pending_buf_size)){s=1;break}s=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,ot(o,s)}while(0!==s);o.gzhead.hcrc&&o.pending>a&&(t.adler=u(t.adler,o.pending_buf,o.pending-a,a)),0===s&&(o.status=G)}else o.status=G;if(o.status===G&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&nt(t),o.pending+2<=o.pending_buf_size&&(ot(o,255&t.adler),ot(o,t.adler>>8&255),t.adler=0,o.status=q)):o.status=q),0!==o.pending){if(nt(t),0===t.avail_out)return o.last_flush=-1,p}else if(0===t.avail_in&&tt(e)<=tt(n)&&e!==d)return Q(t,y);if(o.status===Y&&0!==t.avail_in)return Q(t,y);if(0!==t.avail_in||0!==o.lookahead||e!==c&&o.status!==Y){var x=o.strategy===w?ht(o,e):o.strategy===_?dt(o,e):r[o.level].func(o,e);if(x!==$&&x!==K||(o.status=Y),x===X||x===$)return 0===t.avail_out&&(o.last_flush=-1),p;if(x===Z&&(e===l?i._tr_align(o):e!==h&&(i._tr_stored_block(o,0,0,!1),e===f&&(et(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),nt(t),0===t.avail_out))return o.last_flush=-1,p}return e!==d?p:o.wrap<=0?m:(2===o.wrap?(ot(o,255&t.adler),ot(o,t.adler>>8&255),ot(o,t.adler>>16&255),ot(o,t.adler>>24&255),ot(o,255&t.total_in),ot(o,t.total_in>>8&255),ot(o,t.total_in>>16&255),ot(o,t.total_in>>24&255)):(it(o,t.adler>>>16),it(o,65535&t.adler)),nt(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?p:m)}function St(t){var e;return t&&t.state?(e=t.state.status,e!==j&&e!==H&&e!==U&&e!==W&&e!==G&&e!==q&&e!==Y?Q(t,g):(t.state=null,e===q?Q(t,v):p)):g}function Ct(t,e){var n,r,i,u,s,c,l,f,d=e.length;if(!t||!t.state)return g;if(n=t.state,u=n.wrap,2===u||1===u&&n.status!==j||n.lookahead)return g;1===u&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===u&&(et(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new o.Buf8(n.w_size),o.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),s=t.avail_in,c=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,st(n);while(n.lookahead>=B){r=n.strstart,i=n.lookahead-(B-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+B-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=B-1,st(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=B-1,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=s,n.wrap=u,p}r=[new pt(0,0,0,0,ct),new pt(4,4,8,4,lt),new pt(4,5,16,8,lt),new pt(4,6,32,32,lt),new pt(4,4,16,16,ft),new pt(8,16,32,32,ft),new pt(8,16,128,128,ft),new pt(8,32,128,256,ft),new pt(32,128,258,1024,ft),new pt(32,258,258,4096,ft)],n.deflateInit=wt,n.deflateInit2=xt,n.deflateReset=yt,n.deflateResetKeep=vt,n.deflateSetHeader=bt,n.deflate=_t,n.deflateEnd=St,n.deflateSetDictionary=Ct,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":32,"./adler32":34,"./crc32":36,"./messages":42,"./trees":43}],38:[function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=r},{}],39:[function(t,e,n){"use strict";var r=30,o=12;e.exports=function(t,e){var n,i,a,u,s,c,l,f,d,h,p,m,g,v,y,b,x,w,_,S,C,k,T,A,O;n=t.state,i=t.next_in,A=t.input,a=i+(t.avail_in-5),u=t.next_out,O=t.output,s=u-(e-t.avail_out),c=u+(t.avail_out-257),l=n.dmax,f=n.wsize,d=n.whave,h=n.wnext,p=n.window,m=n.hold,g=n.bits,v=n.lencode,y=n.distcode,b=(1<<n.lenbits)-1,x=(1<<n.distbits)-1;t:do{g<15&&(m+=A[i++]<<g,g+=8,m+=A[i++]<<g,g+=8),w=v[m&b];e:for(;;){if(_=w>>>24,m>>>=_,g-=_,_=w>>>16&255,0===_)O[u++]=65535&w;else{if(!(16&_)){if(0===(64&_)){w=v[(65535&w)+(m&(1<<_)-1)];continue e}if(32&_){n.mode=o;break t}t.msg="invalid literal/length code",n.mode=r;break t}S=65535&w,_&=15,_&&(g<_&&(m+=A[i++]<<g,g+=8),S+=m&(1<<_)-1,m>>>=_,g-=_),g<15&&(m+=A[i++]<<g,g+=8,m+=A[i++]<<g,g+=8),w=y[m&x];n:for(;;){if(_=w>>>24,m>>>=_,g-=_,_=w>>>16&255,!(16&_)){if(0===(64&_)){w=y[(65535&w)+(m&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=r;break t}if(C=65535&w,_&=15,g<_&&(m+=A[i++]<<g,g+=8,g<_&&(m+=A[i++]<<g,g+=8)),C+=m&(1<<_)-1,C>l){t.msg="invalid distance too far back",n.mode=r;break t}if(m>>>=_,g-=_,_=u-s,C>_){if(_=C-_,_>d&&n.sane){t.msg="invalid distance too far back",n.mode=r;break t}if(k=0,T=p,0===h){if(k+=f-_,_<S){S-=_;do{O[u++]=p[k++]}while(--_);k=u-C,T=O}}else if(h<_){if(k+=f+h-_,_-=h,_<S){S-=_;do{O[u++]=p[k++]}while(--_);if(k=0,h<S){_=h,S-=_;do{O[u++]=p[k++]}while(--_);k=u-C,T=O}}}else if(k+=h-_,_<S){S-=_;do{O[u++]=p[k++]}while(--_);k=u-C,T=O}while(S>2)O[u++]=T[k++],O[u++]=T[k++],O[u++]=T[k++],S-=3;S&&(O[u++]=T[k++],S>1&&(O[u++]=T[k++]))}else{k=u-C;do{O[u++]=O[k++],O[u++]=O[k++],O[u++]=O[k++],S-=3}while(S>2);S&&(O[u++]=O[k++],S>1&&(O[u++]=O[k++]))}break}}break}}while(i<a&&u<c);S=g>>3,i-=S,g-=S<<3,m&=(1<<g)-1,t.next_in=i,t.next_out=u,t.avail_in=i<a?a-i+5:5-(i-a),t.avail_out=u<c?c-u+257:257-(u-c),n.hold=m,n.bits=g}},{}],40:[function(t,e,n){"use strict";var r=t("../utils/common"),o=t("./adler32"),i=t("./crc32"),a=t("./inffast"),u=t("./inftrees"),s=0,c=1,l=2,f=4,d=5,h=6,p=0,m=1,g=2,v=-2,y=-3,b=-4,x=-5,w=8,_=1,S=2,C=3,k=4,T=5,A=6,O=7,M=8,D=9,I=10,E=11,R=12,N=13,P=14,L=15,B=16,z=17,V=18,F=19,j=20,H=21,U=22,W=23,G=24,q=25,Y=26,X=27,Z=28,$=29,K=30,J=31,Q=32,tt=852,et=592,nt=15,rt=nt;function ot(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function it(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function at(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=_,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(tt),e.distcode=e.distdyn=new r.Buf32(et),e.sane=1,e.back=-1,p):v}function ut(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,at(t)):v}function st(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?v:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,ut(t))):v}function ct(t,e){var n,r;return t?(r=new it,t.state=r,r.window=null,n=st(t,e),n!==p&&(t.state=null),n):v}function lt(t){return ct(t,rt)}var ft,dt,ht=!0;function pt(t){if(ht){var e;ft=new r.Buf32(512),dt=new r.Buf32(32),e=0;while(e<144)t.lens[e++]=8;while(e<256)t.lens[e++]=9;while(e<280)t.lens[e++]=7;while(e<288)t.lens[e++]=8;u(c,t.lens,0,288,ft,0,t.work,{bits:9}),e=0;while(e<32)t.lens[e++]=5;u(l,t.lens,0,32,dt,0,t.work,{bits:5}),ht=!1}t.lencode=ft,t.lenbits=9,t.distcode=dt,t.distbits=5}function mt(t,e,n,o){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>o&&(i=o),r.arraySet(a.window,e,n-o,i,a.wnext),o-=i,o?(r.arraySet(a.window,e,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function gt(t,e){var n,tt,et,nt,rt,it,at,ut,st,ct,lt,ft,dt,ht,gt,vt,yt,bt,xt,wt,_t,St,Ct,kt,Tt=0,At=new r.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return v;n=t.state,n.mode===R&&(n.mode=N),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,it=t.avail_in,ut=n.hold,st=n.bits,ct=it,lt=at,St=p;t:for(;;)switch(n.mode){case _:if(0===n.wrap){n.mode=N;break}while(st<16){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(2&n.wrap&&35615===ut){n.check=0,At[0]=255&ut,At[1]=ut>>>8&255,n.check=i(n.check,At,2,0),ut=0,st=0,n.mode=S;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&ut)<<8)+(ut>>8))%31){t.msg="incorrect header check",n.mode=K;break}if((15&ut)!==w){t.msg="unknown compression method",n.mode=K;break}if(ut>>>=4,st-=4,_t=8+(15&ut),0===n.wbits)n.wbits=_t;else if(_t>n.wbits){t.msg="invalid window size",n.mode=K;break}n.dmax=1<<_t,t.adler=n.check=1,n.mode=512&ut?I:R,ut=0,st=0;break;case S:while(st<16){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(n.flags=ut,(255&n.flags)!==w){t.msg="unknown compression method",n.mode=K;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=K;break}n.head&&(n.head.text=ut>>8&1),512&n.flags&&(At[0]=255&ut,At[1]=ut>>>8&255,n.check=i(n.check,At,2,0)),ut=0,st=0,n.mode=C;case C:while(st<32){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}n.head&&(n.head.time=ut),512&n.flags&&(At[0]=255&ut,At[1]=ut>>>8&255,At[2]=ut>>>16&255,At[3]=ut>>>24&255,n.check=i(n.check,At,4,0)),ut=0,st=0,n.mode=k;case k:while(st<16){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}n.head&&(n.head.xflags=255&ut,n.head.os=ut>>8),512&n.flags&&(At[0]=255&ut,At[1]=ut>>>8&255,n.check=i(n.check,At,2,0)),ut=0,st=0,n.mode=T;case T:if(1024&n.flags){while(st<16){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}n.length=ut,n.head&&(n.head.extra_len=ut),512&n.flags&&(At[0]=255&ut,At[1]=ut>>>8&255,n.check=i(n.check,At,2,0)),ut=0,st=0}else n.head&&(n.head.extra=null);n.mode=A;case A:if(1024&n.flags&&(ft=n.length,ft>it&&(ft=it),ft&&(n.head&&(_t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,tt,nt,ft,_t)),512&n.flags&&(n.check=i(n.check,tt,ft,nt)),it-=ft,nt+=ft,n.length-=ft),n.length))break t;n.length=0,n.mode=O;case O:if(2048&n.flags){if(0===it)break t;ft=0;do{_t=tt[nt+ft++],n.head&&_t&&n.length<65536&&(n.head.name+=String.fromCharCode(_t))}while(_t&&ft<it);if(512&n.flags&&(n.check=i(n.check,tt,ft,nt)),it-=ft,nt+=ft,_t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=M;case M:if(4096&n.flags){if(0===it)break t;ft=0;do{_t=tt[nt+ft++],n.head&&_t&&n.length<65536&&(n.head.comment+=String.fromCharCode(_t))}while(_t&&ft<it);if(512&n.flags&&(n.check=i(n.check,tt,ft,nt)),it-=ft,nt+=ft,_t)break t}else n.head&&(n.head.comment=null);n.mode=D;case D:if(512&n.flags){while(st<16){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(ut!==(65535&n.check)){t.msg="header crc mismatch",n.mode=K;break}ut=0,st=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=R;break;case I:while(st<32){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}t.adler=n.check=ot(ut),ut=0,st=0,n.mode=E;case E:if(0===n.havedict)return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=it,n.hold=ut,n.bits=st,g;t.adler=n.check=1,n.mode=R;case R:if(e===d||e===h)break t;case N:if(n.last){ut>>>=7&st,st-=7&st,n.mode=X;break}while(st<3){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}switch(n.last=1&ut,ut>>>=1,st-=1,3&ut){case 0:n.mode=P;break;case 1:if(pt(n),n.mode=j,e===h){ut>>>=2,st-=2;break t}break;case 2:n.mode=z;break;case 3:t.msg="invalid block type",n.mode=K}ut>>>=2,st-=2;break;case P:ut>>>=7&st,st-=7&st;while(st<32){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if((65535&ut)!==(ut>>>16^65535)){t.msg="invalid stored block lengths",n.mode=K;break}if(n.length=65535&ut,ut=0,st=0,n.mode=L,e===h)break t;case L:n.mode=B;case B:if(ft=n.length,ft){if(ft>it&&(ft=it),ft>at&&(ft=at),0===ft)break t;r.arraySet(et,tt,nt,ft,rt),it-=ft,nt+=ft,at-=ft,rt+=ft,n.length-=ft;break}n.mode=R;break;case z:while(st<14){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(n.nlen=257+(31&ut),ut>>>=5,st-=5,n.ndist=1+(31&ut),ut>>>=5,st-=5,n.ncode=4+(15&ut),ut>>>=4,st-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=K;break}n.have=0,n.mode=V;case V:while(n.have<n.ncode){while(st<3){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}n.lens[Ot[n.have++]]=7&ut,ut>>>=3,st-=3}while(n.have<19)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ct={bits:n.lenbits},St=u(s,n.lens,0,19,n.lencode,0,n.work,Ct),n.lenbits=Ct.bits,St){t.msg="invalid code lengths set",n.mode=K;break}n.have=0,n.mode=F;case F:while(n.have<n.nlen+n.ndist){for(;;){if(Tt=n.lencode[ut&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,gt<=st)break;if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(yt<16)ut>>>=gt,st-=gt,n.lens[n.have++]=yt;else{if(16===yt){kt=gt+2;while(st<kt){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(ut>>>=gt,st-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=K;break}_t=n.lens[n.have-1],ft=3+(3&ut),ut>>>=2,st-=2}else if(17===yt){kt=gt+3;while(st<kt){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}ut>>>=gt,st-=gt,_t=0,ft=3+(7&ut),ut>>>=3,st-=3}else{kt=gt+7;while(st<kt){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}ut>>>=gt,st-=gt,_t=0,ft=11+(127&ut),ut>>>=7,st-=7}if(n.have+ft>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=K;break}while(ft--)n.lens[n.have++]=_t}}if(n.mode===K)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=K;break}if(n.lenbits=9,Ct={bits:n.lenbits},St=u(c,n.lens,0,n.nlen,n.lencode,0,n.work,Ct),n.lenbits=Ct.bits,St){t.msg="invalid literal/lengths set",n.mode=K;break}if(n.distbits=6,n.distcode=n.distdyn,Ct={bits:n.distbits},St=u(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ct),n.distbits=Ct.bits,St){t.msg="invalid distances set",n.mode=K;break}if(n.mode=j,e===h)break t;case j:n.mode=H;case H:if(it>=6&&at>=258){t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=it,n.hold=ut,n.bits=st,a(t,lt),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,it=t.avail_in,ut=n.hold,st=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;;){if(Tt=n.lencode[ut&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,gt<=st)break;if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(vt&&0===(240&vt)){for(bt=gt,xt=vt,wt=yt;;){if(Tt=n.lencode[wt+((ut&(1<<bt+xt)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,bt+gt<=st)break;if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}ut>>>=bt,st-=bt,n.back+=bt}if(ut>>>=gt,st-=gt,n.back+=gt,n.length=yt,0===vt){n.mode=Y;break}if(32&vt){n.back=-1,n.mode=R;break}if(64&vt){t.msg="invalid literal/length code",n.mode=K;break}n.extra=15&vt,n.mode=U;case U:if(n.extra){kt=n.extra;while(st<kt){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}n.length+=ut&(1<<n.extra)-1,ut>>>=n.extra,st-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=W;case W:for(;;){if(Tt=n.distcode[ut&(1<<n.distbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,gt<=st)break;if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(0===(240&vt)){for(bt=gt,xt=vt,wt=yt;;){if(Tt=n.distcode[wt+((ut&(1<<bt+xt)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,bt+gt<=st)break;if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}ut>>>=bt,st-=bt,n.back+=bt}if(ut>>>=gt,st-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=K;break}n.offset=yt,n.extra=15&vt,n.mode=G;case G:if(n.extra){kt=n.extra;while(st<kt){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}n.offset+=ut&(1<<n.extra)-1,ut>>>=n.extra,st-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=K;break}n.mode=q;case q:if(0===at)break t;if(ft=lt-at,n.offset>ft){if(ft=n.offset-ft,ft>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=K;break}ft>n.wnext?(ft-=n.wnext,dt=n.wsize-ft):dt=n.wnext-ft,ft>n.length&&(ft=n.length),ht=n.window}else ht=et,dt=rt-n.offset,ft=n.length;ft>at&&(ft=at),at-=ft,n.length-=ft;do{et[rt++]=ht[dt++]}while(--ft);0===n.length&&(n.mode=H);break;case Y:if(0===at)break t;et[rt++]=n.length,at--,n.mode=H;break;case X:if(n.wrap){while(st<32){if(0===it)break t;it--,ut|=tt[nt++]<<st,st+=8}if(lt-=at,t.total_out+=lt,n.total+=lt,lt&&(t.adler=n.check=n.flags?i(n.check,et,lt,rt-lt):o(n.check,et,lt,rt-lt)),lt=at,(n.flags?ut:ot(ut))!==n.check){t.msg="incorrect data check",n.mode=K;break}ut=0,st=0}n.mode=Z;case Z:if(n.wrap&&n.flags){while(st<32){if(0===it)break t;it--,ut+=tt[nt++]<<st,st+=8}if(ut!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=K;break}ut=0,st=0}n.mode=$;case $:St=m;break t;case K:St=y;break t;case J:return b;case Q:default:return v}return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=it,n.hold=ut,n.bits=st,(n.wsize||lt!==t.avail_out&&n.mode<K&&(n.mode<X||e!==f))&&mt(t,t.output,t.next_out,lt-t.avail_out)?(n.mode=J,b):(ct-=t.avail_in,lt-=t.avail_out,t.total_in+=ct,t.total_out+=lt,n.total+=lt,n.wrap&&lt&&(t.adler=n.check=n.flags?i(n.check,et,lt,t.next_out-lt):o(n.check,et,lt,t.next_out-lt)),t.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(n.mode===j||n.mode===L?256:0),(0===ct&&0===lt||e===f)&&St===p&&(St=x),St)}function vt(t){if(!t||!t.state)return v;var e=t.state;return e.window&&(e.window=null),t.state=null,p}function yt(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?v:(n.head=e,e.done=!1,p)):v}function bt(t,e){var n,r,i,a=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==E?v:n.mode===E&&(r=1,r=o(r,e,a,0),r!==n.check)?y:(i=mt(t,e,a,a),i?(n.mode=J,b):(n.havedict=1,p))):v}n.inflateReset=ut,n.inflateReset2=st,n.inflateResetKeep=at,n.inflateInit=lt,n.inflateInit2=ct,n.inflate=gt,n.inflateEnd=vt,n.inflateGetHeader=yt,n.inflateSetDictionary=bt,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":32,"./adler32":34,"./crc32":36,"./inffast":39,"./inftrees":41}],41:[function(t,e,n){"use strict";var r=t("../utils/common"),o=15,i=852,a=592,u=0,s=1,c=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,p,m,g,v,y){var b,x,w,_,S,C,k,T,A,O=y.bits,M=0,D=0,I=0,E=0,R=0,N=0,P=0,L=0,B=0,z=0,V=null,F=0,j=new r.Buf16(o+1),H=new r.Buf16(o+1),U=null,W=0;for(M=0;M<=o;M++)j[M]=0;for(D=0;D<p;D++)j[e[n+D]]++;for(R=O,E=o;E>=1;E--)if(0!==j[E])break;if(R>E&&(R=E),0===E)return m[g++]=20971520,m[g++]=20971520,y.bits=1,0;for(I=1;I<E;I++)if(0!==j[I])break;for(R<I&&(R=I),L=1,M=1;M<=o;M++)if(L<<=1,L-=j[M],L<0)return-1;if(L>0&&(t===u||1!==E))return-1;for(H[1]=0,M=1;M<o;M++)H[M+1]=H[M]+j[M];for(D=0;D<p;D++)0!==e[n+D]&&(v[H[e[n+D]]++]=D);if(t===u?(V=U=v,C=19):t===s?(V=l,F-=257,U=f,W-=257,C=256):(V=d,U=h,C=-1),z=0,D=0,M=I,S=g,N=R,P=0,w=-1,B=1<<R,_=B-1,t===s&&B>i||t===c&&B>a)return 1;for(;;){k=M-P,v[D]<C?(T=0,A=v[D]):v[D]>C?(T=U[W+v[D]],A=V[F+v[D]]):(T=96,A=0),b=1<<M-P,x=1<<N,I=x;do{x-=b,m[S+(z>>P)+x]=k<<24|T<<16|A|0}while(0!==x);b=1<<M-1;while(z&b)b>>=1;if(0!==b?(z&=b-1,z+=b):z=0,D++,0===--j[M]){if(M===E)break;M=e[n+v[D]]}if(M>R&&(z&_)!==w){0===P&&(P=R),S+=I,N=M-P,L=1<<N;while(N+P<E){if(L-=j[N+P],L<=0)break;N++,L<<=1}if(B+=1<<N,t===s&&B>i||t===c&&B>a)return 1;w=z&_,m[w]=R<<24|N<<16|S-g|0}}return 0!==z&&(m[S+z]=M-P<<24|64<<16|0),y.bits=R,0}},{"../utils/common":32}],42:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],43:[function(t,e,n){"use strict";var r=t("../utils/common"),o=4,i=0,a=1,u=2;function s(t){var e=t.length;while(--e>=0)t[e]=0}var c=0,l=1,f=2,d=3,h=258,p=29,m=256,g=m+1+p,v=30,y=19,b=2*g+1,x=15,w=16,_=7,S=256,C=16,k=17,T=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=512,E=new Array(2*(g+2));s(E);var R=new Array(2*v);s(R);var N=new Array(I);s(N);var P=new Array(h-d+1);s(P);var L=new Array(p);s(L);var B,z,V,F=new Array(v);function j(t,e,n,r,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=t&&t.length}function H(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function U(t){return t<256?N[t]:N[256+(t>>>7)]}function W(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function G(t,e,n){t.bi_valid>w-n?(t.bi_buf|=e<<t.bi_valid&65535,W(t,t.bi_buf),t.bi_buf=e>>w-t.bi_valid,t.bi_valid+=n-w):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function q(t,e,n){G(t,n[2*e],n[2*e+1])}function Y(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function X(t){16===t.bi_valid?(W(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function Z(t,e){var n,r,o,i,a,u,s=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(i=0;i<=x;i++)t.bl_count[i]=0;for(s[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<b;n++)r=t.heap[n],i=s[2*s[2*r+1]+1]+1,i>p&&(i=p,m++),s[2*r+1]=i,r>c||(t.bl_count[i]++,a=0,r>=h&&(a=d[r-h]),u=s[2*r],t.opt_len+=u*(i+a),f&&(t.static_len+=u*(l[2*r+1]+a)));if(0!==m){do{i=p-1;while(0===t.bl_count[i])i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(i=p;0!==i;i--){r=t.bl_count[i];while(0!==r)o=t.heap[--n],o>c||(s[2*o+1]!==i&&(t.opt_len+=(i-s[2*o+1])*s[2*o],s[2*o+1]=i),r--)}}}function $(t,e,n){var r,o,i=new Array(x+1),a=0;for(r=1;r<=x;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=e;o++){var u=t[2*o+1];0!==u&&(t[2*o]=Y(i[u]++,u))}}function K(){var t,e,n,r,o,i=new Array(x+1);for(n=0,r=0;r<p-1;r++)for(L[r]=n,t=0;t<1<<A[r];t++)P[n++]=r;for(P[n-1]=r,o=0,r=0;r<16;r++)for(F[r]=o,t=0;t<1<<O[r];t++)N[o++]=r;for(o>>=7;r<v;r++)for(F[r]=o<<7,t=0;t<1<<O[r]-7;t++)N[256+o++]=r;for(e=0;e<=x;e++)i[e]=0;t=0;while(t<=143)E[2*t+1]=8,t++,i[8]++;while(t<=255)E[2*t+1]=9,t++,i[9]++;while(t<=279)E[2*t+1]=7,t++,i[7]++;while(t<=287)E[2*t+1]=8,t++,i[8]++;for($(E,g+1,i),t=0;t<v;t++)R[2*t+1]=5,R[2*t]=Y(t,5);B=new j(E,A,m+1,g,x),z=new j(R,O,0,v,x),V=new j(new Array(0),M,0,y,_)}function J(t){var e;for(e=0;e<g;e++)t.dyn_ltree[2*e]=0;for(e=0;e<v;e++)t.dyn_dtree[2*e]=0;for(e=0;e<y;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*S]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Q(t){t.bi_valid>8?W(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function tt(t,e,n,o){Q(t),o&&(W(t,n),W(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function et(t,e,n,r){var o=2*e,i=2*n;return t[o]<t[i]||t[o]===t[i]&&r[e]<=r[n]}function nt(t,e,n){var r=t.heap[n],o=n<<1;while(o<=t.heap_len){if(o<t.heap_len&&et(e,t.heap[o+1],t.heap[o],t.depth)&&o++,et(e,r,t.heap[o],t.depth))break;t.heap[n]=t.heap[o],n=o,o<<=1}t.heap[n]=r}function rt(t,e,n){var r,o,i,a,u=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],o=t.pending_buf[t.l_buf+u],u++,0===r?q(t,o,e):(i=P[o],q(t,i+m+1,e),a=A[i],0!==a&&(o-=L[i],G(t,o,a)),r--,i=U(r),q(t,i,n),a=O[i],0!==a&&(r-=F[i],G(t,r,a)))}while(u<t.last_lit);q(t,S,e)}function ot(t,e){var n,r,o,i=e.dyn_tree,a=e.stat_desc.static_tree,u=e.stat_desc.has_stree,s=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=b,n=0;n<s;n++)0!==i[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):i[2*n+1]=0;while(t.heap_len<2)o=t.heap[++t.heap_len]=c<2?++c:0,i[2*o]=1,t.depth[o]=0,t.opt_len--,u&&(t.static_len-=a[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)nt(t,i,n);o=s;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],nt(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*o]=i[2*n]+i[2*r],t.depth[o]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=o,t.heap[1]=o++,nt(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Z(t,e),$(i,c,t.bl_count)}function it(t,e,n){var r,o,i=-1,a=e[1],u=0,s=7,c=4;for(0===a&&(s=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=e[2*(r+1)+1],++u<s&&o===a||(u<c?t.bl_tree[2*o]+=u:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[2*C]++):u<=10?t.bl_tree[2*k]++:t.bl_tree[2*T]++,u=0,i=o,0===a?(s=138,c=3):o===a?(s=6,c=3):(s=7,c=4))}function at(t,e,n){var r,o,i=-1,a=e[1],u=0,s=7,c=4;for(0===a&&(s=138,c=3),r=0;r<=n;r++)if(o=a,a=e[2*(r+1)+1],!(++u<s&&o===a)){if(u<c)do{q(t,o,t.bl_tree)}while(0!==--u);else 0!==o?(o!==i&&(q(t,o,t.bl_tree),u--),q(t,C,t.bl_tree),G(t,u-3,2)):u<=10?(q(t,k,t.bl_tree),G(t,u-3,3)):(q(t,T,t.bl_tree),G(t,u-11,7));u=0,i=o,0===a?(s=138,c=3):o===a?(s=6,c=3):(s=7,c=4)}}function ut(t){var e;for(it(t,t.dyn_ltree,t.l_desc.max_code),it(t,t.dyn_dtree,t.d_desc.max_code),ot(t,t.bl_desc),e=y-1;e>=3;e--)if(0!==t.bl_tree[2*D[e]+1])break;return t.opt_len+=3*(e+1)+5+5+4,e}function st(t,e,n,r){var o;for(G(t,e-257,5),G(t,n-1,5),G(t,r-4,4),o=0;o<r;o++)G(t,t.bl_tree[2*D[o]+1],3);at(t,t.dyn_ltree,e-1),at(t,t.dyn_dtree,n-1)}function ct(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return i;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<m;e++)if(0!==t.dyn_ltree[2*e])return a;return i}s(F);var lt=!1;function ft(t){lt||(K(),lt=!0),t.l_desc=new H(t.dyn_ltree,B),t.d_desc=new H(t.dyn_dtree,z),t.bl_desc=new H(t.bl_tree,V),t.bi_buf=0,t.bi_valid=0,J(t)}function dt(t,e,n,r){G(t,(c<<1)+(r?1:0),3),tt(t,e,n,!0)}function ht(t){G(t,l<<1,3),q(t,S,E),X(t)}function pt(t,e,n,r){var i,a,s=0;t.level>0?(t.strm.data_type===u&&(t.strm.data_type=ct(t)),ot(t,t.l_desc),ot(t,t.d_desc),s=ut(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?dt(t,e,n,r):t.strategy===o||a===i?(G(t,(l<<1)+(r?1:0),3),rt(t,E,R)):(G(t,(f<<1)+(r?1:0),3),st(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),rt(t,t.dyn_ltree,t.dyn_dtree)),J(t),r&&Q(t)}function mt(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(P[n]+m+1)]++,t.dyn_dtree[2*U(e)]++),t.last_lit===t.lit_bufsize-1}n._tr_init=ft,n._tr_stored_block=dt,n._tr_flush_block=pt,n._tr_tally=mt,n._tr_align=ht},{"../utils/common":32}],44:[function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},{}],45:[function(t,e,n){var r=t("lodash._root"),o=1/0,i="[object Symbol]",a=/[&<>"'`]/g,u=RegExp(a.source),s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};function c(t){return s[t]}var l=Object.prototype,f=l.toString,d=r.Symbol,h=d?d.prototype:void 0,p=d?h.toString:void 0;function m(t){return!!t&&"object"==typeof t}function g(t){return"symbol"==typeof t||m(t)&&f.call(t)==i}function v(t){if("string"==typeof t)return t;if(null==t)return"";if(g(t))return d?p.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}function y(t){return t=v(t),t&&u.test(t)?t.replace(a,c):t}e.exports=y},{"lodash._root":46}],46:[function(t,e,n){(function(t){var r={function:!0,object:!0},o=r[typeof n]&&n&&!n.nodeType?n:void 0,i=r[typeof e]&&e&&!e.nodeType?e:void 0,a=f(o&&i&&"object"==typeof t&&t),u=f(r[typeof self]&&self),s=f(r[typeof window]&&window),c=f(r[typeof this]&&this),l=a||s!==(c&&c.window)&&s||u||c||Function("return this")();function f(t){return t&&t.Object===Object?t:null}e.exports=l}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],47:[function(t,e,n){var r=t("lodash._arraycopy"),o=t("lodash._arrayeach"),i=t("lodash._createassigner"),a=t("lodash.isarguments"),u=t("lodash.isarray"),s=t("lodash.isplainobject"),c=t("lodash.istypedarray"),l=t("lodash.keys"),f=t("lodash.toplainobject");function d(t){return!!t&&"object"==typeof t}var h=9007199254740991;function p(t,e,n,r,i){if(!x(t))return t;var a=y(e)&&(u(e)||c(e)),s=a?void 0:l(e);return o(s||e,(function(o,u){if(s&&(u=o,o=e[u]),d(o))r||(r=[]),i||(i=[]),m(t,e,u,p,n,r,i);else{var c=t[u],l=n?n(c,o,u,t,e):void 0,f=void 0===l;f&&(l=o),void 0===l&&(!a||u in t)||!f&&(l===l?l===c:c!==c)||(t[u]=l)}})),t}function m(t,e,n,o,i,l,d){var h=l.length,p=e[n];while(h--)if(l[h]==p)return void(t[n]=d[h]);var m=t[n],g=i?i(m,p,n,t,e):void 0,v=void 0===g;v&&(g=p,y(p)&&(u(p)||c(p))?g=u(m)?m:y(m)?r(m):[]:s(p)||a(p)?g=a(m)?f(m):s(m)?m:{}:v=!1),l.push(p),d.push(g),v?t[n]=o(g,p,i,l,d):(g===g?g!==m:m===m)&&(t[n]=g)}function g(t){return function(e){return null==e?void 0:e[t]}}var v=g("length");function y(t){return null!=t&&b(v(t))}function b(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function x(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var w=i(p);e.exports=w},{"lodash._arraycopy":48,"lodash._arrayeach":49,"lodash._createassigner":50,"lodash.isarguments":55,"lodash.isarray":56,"lodash.isplainobject":57,"lodash.istypedarray":59,"lodash.keys":60,"lodash.toplainobject":62}],48:[function(t,e,n){function r(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}e.exports=r},{}],49:[function(t,e,n){function r(t,e){var n=-1,r=t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}e.exports=r},{}],50:[function(t,e,n){var r=t("lodash._bindcallback"),o=t("lodash._isiterateecall"),i=t("lodash.restparam");function a(t){return i((function(e,n){var i=-1,a=null==e?0:n.length,u=a>2?n[a-2]:void 0,s=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;"function"==typeof u?(u=r(u,c,5),a-=2):(u="function"==typeof c?c:void 0,a-=u?1:0),s&&o(n[0],n[1],s)&&(u=a<3?void 0:u,a=1);while(++i<a){var l=n[i];l&&t(e,l,u)}return e}))}e.exports=a},{"lodash._bindcallback":51,"lodash._isiterateecall":52,"lodash.restparam":53}],51:[function(t,e,n){function r(t,e,n){if("function"!=typeof t)return o;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function o(t){return t}e.exports=r},{}],52:[function(t,e,n){var r=/^\d+$/,o=9007199254740991;function i(t){return function(e){return null==e?void 0:e[t]}}var a=i("length");function u(t){return null!=t&&l(a(t))}function s(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?o:e,t>-1&&t%1==0&&t<e}function c(t,e,n){if(!f(n))return!1;var r=typeof e;if("number"==r?u(n)&&s(e,n.length):"string"==r&&e in n){var o=n[e];return t===t?t===o:o!==o}return!1}function l(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=c},{}],53:[function(t,e,n){var r="Expected a function",o=Math.max;function i(t,e){if("function"!=typeof t)throw new TypeError(r);return e=o(void 0===e?t.length-1:+e||0,0),function(){var n=arguments,r=-1,i=o(n.length-e,0),a=Array(i);while(++r<i)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var u=Array(e+1);r=-1;while(++r<e)u[r]=n[r];return u[e]=a,t.apply(this,u)}}e.exports=i},{}],54:[function(t,e,n){var r="[object Function]",o=/^\[object .+?Constructor\]$/;function i(t){return!!t&&"object"==typeof t}var a=Object.prototype,u=Function.prototype.toString,s=a.hasOwnProperty,c=a.toString,l=RegExp("^"+u.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(t,e){var n=null==t?void 0:t[e];return p(n)?n:void 0}function d(t){return h(t)&&c.call(t)==r}function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function p(t){return null!=t&&(d(t)?l.test(u.call(t)):i(t)&&o.test(t))}e.exports=f},{}],55:[function(t,e,n){var r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",u=Object.prototype,s=u.hasOwnProperty,c=u.toString,l=u.propertyIsEnumerable;function f(t){return function(e){return null==e?void 0:e[t]}}var d=f("length");function h(t){return m(t)&&s.call(t,"callee")&&(!l.call(t,"callee")||c.call(t)==o)}function p(t){return null!=t&&v(d(t))&&!g(t)}function m(t){return b(t)&&p(t)}function g(t){var e=y(t)?c.call(t):"";return e==i||e==a}function v(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return!!t&&"object"==typeof t}e.exports=h},{}],56:[function(t,e,n){var r="[object Array]",o="[object Function]",i=/^\[object .+?Constructor\]$/;function a(t){return!!t&&"object"==typeof t}var u=Object.prototype,s=Function.prototype.toString,c=u.hasOwnProperty,l=u.toString,f=RegExp("^"+s.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),d=p(Array,"isArray"),h=9007199254740991;function p(t,e){var n=null==t?void 0:t[e];return b(n)?n:void 0}function m(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}var g=d||function(t){return a(t)&&m(t.length)&&l.call(t)==r};function v(t){return y(t)&&l.call(t)==o}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return null!=t&&(v(t)?f.test(s.call(t)):a(t)&&i.test(t))}e.exports=g},{}],57:[function(t,e,n){var r=t("lodash._basefor"),o=t("lodash.isarguments"),i=t("lodash.keysin"),a="[object Object]";function u(t){return!!t&&"object"==typeof t}var s=Object.prototype,c=s.hasOwnProperty,l=s.toString;function f(t,e){return r(t,e,i)}function d(t){var e,n;return!(!u(t)||l.call(t)!=a||o(t)||!(c.call(t,"constructor")||(e=t.constructor,"function"!=typeof e||e instanceof e)))&&(f(t,(function(t,e){n=e})),void 0===n||c.call(t,n))}e.exports=d},{"lodash._basefor":58,"lodash.isarguments":55,"lodash.keysin":61}],58:[function(t,e,n){var r=o();function o(t){return function(e,n,r){var o=-1,i=Object(e),a=r(e),u=a.length;while(u--){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}e.exports=r},{}],59:[function(t,e,n){var r=9007199254740991,o="[object Arguments]",i="[object Array]",a="[object Boolean]",u="[object Date]",s="[object Error]",c="[object Function]",l="[object Map]",f="[object Number]",d="[object Object]",h="[object RegExp]",p="[object Set]",m="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]",O={};O[b]=O[x]=O[w]=O[_]=O[S]=O[C]=O[k]=O[T]=O[A]=!0,O[o]=O[i]=O[v]=O[a]=O[y]=O[u]=O[s]=O[c]=O[l]=O[f]=O[d]=O[h]=O[p]=O[m]=O[g]=!1;var M=Object.prototype,D=M.toString;function I(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function E(t){return!!t&&"object"==typeof t}function R(t){return E(t)&&I(t.length)&&!!O[D.call(t)]}e.exports=R},{}],60:[function(t,e,n){var r=t("lodash._getnative"),o=t("lodash.isarguments"),i=t("lodash.isarray"),a=/^\d+$/,u=Object.prototype,s=u.hasOwnProperty,c=r(Object,"keys"),l=9007199254740991;function f(t){return function(e){return null==e?void 0:e[t]}}var d=f("length");function h(t){return null!=t&&m(d(t))}function p(t,e){return t="number"==typeof t||a.test(t)?+t:-1,e=null==e?l:e,t>-1&&t%1==0&&t<e}function m(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function g(t){var e=b(t),n=e.length,r=n&&t.length,a=!!r&&m(r)&&(i(t)||o(t)),u=-1,c=[];while(++u<n){var l=e[u];(a&&p(l,r)||s.call(t,l))&&c.push(l)}return c}function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var y=c?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&h(t)?g(t):v(t)?c(t):[]}:g;function b(t){if(null==t)return[];v(t)||(t=Object(t));var e=t.length;e=e&&m(e)&&(i(t)||o(t))&&e||0;var n=t.constructor,r=-1,a="function"==typeof n&&n.prototype===t,u=Array(e),c=e>0;while(++r<e)u[r]=r+"";for(var l in t)c&&p(l,e)||"constructor"==l&&(a||!s.call(t,l))||u.push(l);return u}e.exports=y},{"lodash._getnative":54,"lodash.isarguments":55,"lodash.isarray":56}],61:[function(t,e,n){var r=t("lodash.isarguments"),o=t("lodash.isarray"),i=/^\d+$/,a=Object.prototype,u=a.hasOwnProperty,s=9007199254740991;function c(t,e){return t="number"==typeof t||i.test(t)?+t:-1,e=null==e?s:e,t>-1&&t%1==0&&t<e}function l(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function d(t){if(null==t)return[];f(t)||(t=Object(t));var e=t.length;e=e&&l(e)&&(o(t)||r(t))&&e||0;var n=t.constructor,i=-1,a="function"==typeof n&&n.prototype===t,s=Array(e),d=e>0;while(++i<e)s[i]=i+"";for(var h in t)d&&c(h,e)||"constructor"==h&&(a||!u.call(t,h))||s.push(h);return s}e.exports=d},{"lodash.isarguments":55,"lodash.isarray":56}],62:[function(t,e,n){var r=t("lodash._basecopy"),o=t("lodash.keysin");function i(t){return r(t,o(t))}e.exports=i},{"lodash._basecopy":63,"lodash.keysin":61}],63:[function(t,e,n){function r(t,e,n){n||(n={});var r=-1,o=e.length;while(++r<o){var i=e[r];n[i]=t[i]}return n}e.exports=r},{}],64:[function(t,e,n){var r,o;r=t("jszip"),o=t("./internal"),e.exports={asBlob:function(t,e){var n;return n=new r,o.addFiles(n,t,e),o.generateDocument(n)}}},{"./internal":65,jszip:14}],65:[function(t,e,n){(function(n,r){var o,i,a;o=t("./templates/document"),i=t("./utils"),a={merge:t("lodash.merge")},e.exports={generateDocument:function(t){var e;if(e=t.generate({type:"arraybuffer"}),n.Blob)return new Blob([e],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});if(n.Buffer)return new r(new Uint8Array(e));throw new Error("Neither Blob nor Buffer are accessible in this environment. Consider adding Blob.js shim")},renderDocumentFile:function(t){var e;return null==t&&(t={}),e=a.merge({margins:{top:1440,right:1440,bottom:1440,left:1440,header:720,footer:720,gutter:0}},function(){switch(t.orientation){case"landscape":return{height:12240,width:15840,orient:"landscape"};default:return{width:12240,height:15840,orient:"portrait"}}}(),{margins:t.margins}),o(e)},addFiles:function(t,e,n){return t.file("[Content_Types].xml",r("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8VHlwZXMgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvY29udGVudC10eXBlcyI+CiAgPERlZmF1bHQgRXh0ZW5zaW9uPSJyZWxzIiBDb250ZW50VHlwZT0KICAgICJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtcGFja2FnZS5yZWxhdGlvbnNoaXBzK3htbCIgLz4KICA8T3ZlcnJpZGUgUGFydE5hbWU9Ii93b3JkL2RvY3VtZW50LnhtbCIgQ29udGVudFR5cGU9CiAgICAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQubWFpbit4bWwiLz4KICA8T3ZlcnJpZGUgUGFydE5hbWU9Ii93b3JkL2FmY2h1bmsubWh0IiBDb250ZW50VHlwZT0ibWVzc2FnZS9yZmM4MjIiLz4KPC9UeXBlcz4K","base64")),t.folder("_rels").file(".rels",r("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8UmVsYXRpb25zaGlwcyB4bWxucz0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9yZWxhdGlvbnNoaXBzIj4KICA8UmVsYXRpb25zaGlwCiAgICAgIFR5cGU9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvb2ZmaWNlRG9jdW1lbnQiCiAgICAgIFRhcmdldD0iL3dvcmQvZG9jdW1lbnQueG1sIiBJZD0iUjA5YzgzZmFmYzA2NzQ4OGUiIC8+CjwvUmVsYXRpb25zaGlwcz4K","base64")),t.folder("word").file("document.xml",this.renderDocumentFile(n)).file("afchunk.mht",i.getMHTdocument(e)).folder("_rels").file("document.xml.rels",r("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8UmVsYXRpb25zaGlwcyB4bWxucz0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9yZWxhdGlvbnNoaXBzIj4KICA8UmVsYXRpb25zaGlwIFR5cGU9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvYUZDaHVuayIKICAgIFRhcmdldD0iL3dvcmQvYWZjaHVuay5taHQiIElkPSJodG1sQ2h1bmsiIC8+CjwvUmVsYXRpb25zaGlwcz4K","base64"))}}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},t("buffer").Buffer)},{"./templates/document":66,"./utils":69,buffer:1,"lodash.merge":47}],66:[function(_dereq_,module,exports){var _={escape:_dereq_("lodash.escape")};module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<w:document\n  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"\n  xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math"\n  xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"\n  xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing"\n  xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n  xmlns:ns6="http://schemas.openxmlformats.org/schemaLibrary/2006/main"\n  xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"\n  xmlns:ns8="http://schemas.openxmlformats.org/drawingml/2006/chartDrawing"\n  xmlns:dgm="http://schemas.openxmlformats.org/drawingml/2006/diagram"\n  xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"\n  xmlns:ns11="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n  xmlns:dsp="http://schemas.microsoft.com/office/drawing/2008/diagram"\n  xmlns:ns13="urn:schemas-microsoft-com:office:excel"\n  xmlns:o="urn:schemas-microsoft-com:office:office"\n  xmlns:v="urn:schemas-microsoft-com:vml"\n  xmlns:w10="urn:schemas-microsoft-com:office:word"\n  xmlns:ns17="urn:schemas-microsoft-com:office:powerpoint"\n  xmlns:odx="http://opendope.org/xpaths"\n  xmlns:odc="http://opendope.org/conditions"\n  xmlns:odq="http://opendope.org/questions"\n  xmlns:odi="http://opendope.org/components"\n  xmlns:odgm="http://opendope.org/SmartArt/DataHierarchy"\n  xmlns:ns24="http://schemas.openxmlformats.org/officeDocument/2006/bibliography"\n  xmlns:ns25="http://schemas.openxmlformats.org/drawingml/2006/compatibility"\n  xmlns:ns26="http://schemas.openxmlformats.org/drawingml/2006/lockedCanvas">\n  <w:body>\n    <w:altChunk r:id="htmlChunk" />\n    <w:sectPr>\n      <w:pgSz w:w="'+(null==(__t=width)?"":__t)+'" w:h="'+(null==(__t=height)?"":__t)+'" w:orient="'+(null==(__t=orient)?"":__t)+'" />\n      <w:pgMar w:top="'+(null==(__t=margins.top)?"":__t)+'"\n               w:right="'+(null==(__t=margins.right)?"":__t)+'"\n               w:bottom="'+(null==(__t=margins.bottom)?"":__t)+'"\n               w:left="'+(null==(__t=margins.left)?"":__t)+'"\n               w:header="'+(null==(__t=margins.header)?"":__t)+'"\n               w:footer="'+(null==(__t=margins.footer)?"":__t)+'"\n               w:gutter="'+(null==(__t=margins.gutter)?"":__t)+'"/>\n    </w:sectPr>\n  </w:body>\n</w:document>\n';return __p}},{"lodash.escape":45}],67:[function(_dereq_,module,exports){var _={escape:_dereq_("lodash.escape")};module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='MIME-Version: 1.0\nContent-Type: multipart/related;\n    type="text/html";\n    boundary="----=mhtDocumentPart"\n\n\n------=mhtDocumentPart\nContent-Type: text/html;\n    charset="utf-8"\nContent-Transfer-Encoding: quoted-printable\nContent-Location: file:///C:/fake/document.html\n\n'+(null==(__t=htmlSource)?"":__t)+"\n\n"+(null==(__t=contentParts)?"":__t)+"\n\n------=mhtDocumentPart--\n";return __p}},{"lodash.escape":45}],68:[function(_dereq_,module,exports){var _={escape:_dereq_("lodash.escape")};module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="------=mhtDocumentPart\nContent-Type: "+(null==(__t=contentType)?"":__t)+"\nContent-Transfer-Encoding: "+(null==(__t=contentEncoding)?"":__t)+"\nContent-Location: "+(null==(__t=contentLocation)?"":__t)+"\n\n"+(null==(__t=encodedContent)?"":__t)+"\n";return __p}},{"lodash.escape":45}],69:[function(t,e,n){var r,o;r=t("./templates/mht_document"),o=t("./templates/mht_part"),e.exports={getMHTdocument:function(t){var e,n;return n=this._prepareImageParts(t),t=n.htmlSource,e=n.imageContentParts,t=t.replace(/\=/g,"=3D"),r({htmlSource:t,contentParts:e.join("\n")})},_prepareImageParts:function(t){var e,n,r;if(e=[],r=/"data:(\w+\/\w+);(\w+),(\S+)"/g,n=function(t,n,r,i){var a,u,s;return s=e.length,u=n.split("/")[1],a="file:///C:/fake/image"+s+"."+u,e.push(o({contentType:n,contentEncoding:r,contentLocation:a,encodedContent:i})),'"'+a+'"'},"string"===typeof t)return/<img/g.test(t)?(t=t.replace(r,n),{htmlSource:t,imageContentParts:e}):{htmlSource:t,imageContentParts:e};throw new Error("Not a valid source provided!")}}},{"./templates/mht_document":67,"./templates/mht_part":68}]},{},[64])(64)}))},"53ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}},"55a0":function(t,e,n){n("f962")},"5fb2":function(t,e,n){"use strict";var r=2147483647,o=36,i=1,a=26,u=38,s=700,c=72,l=128,f="-",d=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=o-i,g=Math.floor,v=String.fromCharCode,y=function(t){var e=[],n=0,r=t.length;while(n<r){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e},b=function(t){return t+22+75*(t<26)},x=function(t,e,n){var r=0;for(t=n?g(t/s):t>>1,t+=g(t/e);t>m*a>>1;r+=o)t=g(t/m);return g(r+(m+1)*t/(t+u))},w=function(t){var e=[];t=y(t);var n,u,s=t.length,d=l,h=0,m=c;for(n=0;n<t.length;n++)u=t[n],u<128&&e.push(v(u));var w=e.length,_=w;w&&e.push(f);while(_<s){var S=r;for(n=0;n<t.length;n++)u=t[n],u>=d&&u<S&&(S=u);var C=_+1;if(S-d>g((r-h)/C))throw RangeError(p);for(h+=(S-d)*C,d=S,n=0;n<t.length;n++){if(u=t[n],u<d&&++h>r)throw RangeError(p);if(u==d){for(var k=h,T=o;;T+=o){var A=T<=m?i:T>=m+a?a:T-m;if(k<A)break;var O=k-A,M=o-A;e.push(v(b(A+O%M))),k=g(O/M)}e.push(v(b(k))),m=x(h,C,_==w),h=0,++_}}++h,++d}return e.join("")};t.exports=function(t){var e,n,r=[],o=t.toLowerCase().replace(h,".").split(".");for(e=0;e<o.length;e++)n=o[e],r.push(d.test(n)?"xn--"+w(n):n);return r.join(".")}},"62e5":function(t,e,n){n("2519")},"64d8":function(t,e,n){n("ef1f")},6957:function(t,e,n){n("75b8")},"69a4":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(t){return t.getParam("content_style","","string")},o=function(t){return t.getParam("content_css_cors",!1,"boolean")},i=function(t){var e=t.getParam("body_class","","hash");return e[t.id]||""},a=function(t){var e=t.getParam("body_class","","string");return-1===e.indexOf("=")?e:i(t)},u=function(t){var e=t.getParam("body_id","","hash");return e[t.id]||e},s=function(t){var e=t.getParam("body_id","tinymce","string");return-1===e.indexOf("=")?e:u(t)},c=function(t){var i="",u=t.dom.encode,c=r(t);i+='<base href="'+u(t.documentBaseURI.getURI())+'">',c&&(i+='<style type="text/css">'+c+"</style>");var l=o(t)?' crossorigin="anonymous"':"";n.each(t.contentCSS,(function(e){i+='<link type="text/css" rel="stylesheet" href="'+u(t.documentBaseURI.toAbsolute(e))+'"'+l+">"}));var f=s(t),d=a(t),h=e.mac?"e.metaKey":"e.ctrlKey && !e.altKey",p='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+h+")) {e.preventDefault();}}}, false);<\/script> ",m=t.getBody().dir,g=m?' dir="'+u(m)+'"':"",v="<!DOCTYPE html><html><head>"+i+'</head><body id="'+u(f)+'" class="mce-content-body '+u(d)+'"'+g+">"+t.getContent()+p+"</body></html>";return v},l=function(t){var e=c(t),n=t.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:e}});n.focus("close")},f=function(t){t.addCommand("mcePreview",(function(){l(t)}))},d=function(t){t.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:function(){return t.execCommand("mcePreview")}}),t.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:function(){return t.execCommand("mcePreview")}})};function h(){t.add("preview",(function(t){f(t),d(t)}))}h()})()},"69e4":function(t,e,n){n("d169")},"6b68":function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r=tinymce.util.Tools.resolve("tinymce.util.Tools"),o=tinymce.util.Tools.resolve("tinymce.html.DomParser"),i=tinymce.util.Tools.resolve("tinymce.html.Node"),a=tinymce.util.Tools.resolve("tinymce.html.Serializer"),u=function(t){return t.getParam("fullpage_hide_in_source_view")},s=function(t){return t.getParam("fullpage_default_xml_pi")},c=function(t){return t.getParam("fullpage_default_encoding")},l=function(t){return t.getParam("fullpage_default_font_family")},f=function(t){return t.getParam("fullpage_default_font_size")},d=function(t){return t.getParam("fullpage_default_text_color")},h=function(t){return t.getParam("fullpage_default_title")},p=function(t){return t.getParam("fullpage_default_doctype","<!DOCTYPE html>")},m=function(t){return t.getParam("protect")},g=function(t){return o({validate:!1,root_name:"#document"}).parse(t,{format:"xhtml"})},v=function(t,e){var n,o,i=g(e),a={};function u(t,e){var n=t.attr(e);return n||""}return a.fontface=l(t),a.fontsize=f(t),n=i.firstChild,7===n.type&&(a.xml_pi=!0,o=/encoding="([^"]+)"/.exec(n.value),o&&(a.docencoding=o[1])),n=i.getAll("#doctype")[0],n&&(a.doctype="<!DOCTYPE"+n.value+">"),n=i.getAll("title")[0],n&&n.firstChild&&(a.title=n.firstChild.value),r.each(i.getAll("meta"),(function(t){var e,n=t.attr("name"),r=t.attr("http-equiv");n?a[n.toLowerCase()]=t.attr("content"):"Content-Type"===r&&(e=/charset\s*=\s*(.*)\s*/gi.exec(t.attr("content")),e&&(a.docencoding=e[1]))})),n=i.getAll("html")[0],n&&(a.langcode=u(n,"lang")||u(n,"xml:lang")),a.stylesheets=[],r.each(i.getAll("link"),(function(t){"stylesheet"===t.attr("rel")&&a.stylesheets.push(t.attr("href"))})),n=i.getAll("body")[0],n&&(a.langdir=u(n,"dir"),a.style=u(n,"style"),a.visited_color=u(n,"vlink"),a.link_color=u(n,"link"),a.active_color=u(n,"alink")),a},y=function(t,e,n){var o,u,s,c=t.dom;function l(t,e,n){t.attr(e,n||void 0)}function f(t){o.firstChild?o.insert(t,o.firstChild):o.append(t)}var d=g(n);o=d.getAll("head")[0],o||(u=d.getAll("html")[0],o=new i("head",1),u.firstChild?u.insert(o,u.firstChild,!0):u.append(o)),u=d.firstChild,e.xml_pi?(s='version="1.0"',e.docencoding&&(s+=' encoding="'+e.docencoding+'"'),7!==u.type&&(u=new i("xml",7),d.insert(u,d.firstChild,!0)),u.value=s):u&&7===u.type&&u.remove(),u=d.getAll("#doctype")[0],e.doctype?(u||(u=new i("#doctype",10),e.xml_pi?d.insert(u,d.firstChild):f(u)),u.value=e.doctype.substring(9,e.doctype.length-1)):u&&u.remove(),u=null,r.each(d.getAll("meta"),(function(t){"Content-Type"===t.attr("http-equiv")&&(u=t)})),e.docencoding?(u||(u=new i("meta",1),u.attr("http-equiv","Content-Type"),u.shortEnded=!0,f(u)),u.attr("content","text/html; charset="+e.docencoding)):u&&u.remove(),u=d.getAll("title")[0],e.title?(u?u.empty():(u=new i("title",1),f(u)),u.append(new i("#text",3)).value=e.title):u&&u.remove(),r.each("keywords,description,author,copyright,robots".split(","),(function(t){var n,r,o=d.getAll("meta"),a=e[t];for(n=0;n<o.length;n++)if(r=o[n],r.attr("name")===t)return void(a?r.attr("content",a):r.remove());a&&(u=new i("meta",1),u.attr("name",t),u.attr("content",a),u.shortEnded=!0,f(u))}));var h={};r.each(d.getAll("link"),(function(t){"stylesheet"===t.attr("rel")&&(h[t.attr("href")]=t)})),r.each(e.stylesheets,(function(t){h[t]||(u=new i("link",1),u.attr({rel:"stylesheet",text:"text/css",href:t}),u.shortEnded=!0,f(u)),delete h[t]})),r.each(h,(function(t){t.remove()})),u=d.getAll("body")[0],u&&(l(u,"dir",e.langdir),l(u,"style",e.style),l(u,"vlink",e.visited_color),l(u,"link",e.link_color),l(u,"alink",e.active_color),c.setAttribs(t.getBody(),{style:e.style,dir:e.dir,vLink:e.visited_color,link:e.link_color,aLink:e.active_color})),u=d.getAll("html")[0],u&&(l(u,"lang",e.langcode),l(u,"xml:lang",e.langcode)),o.firstChild||o.remove();var p=a({validate:!1,indent:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(d);return p.substring(0,p.indexOf("</body>"))},b=function(t,e){var o=v(t,e.get()),i={title:"",keywords:"",description:"",robots:"",author:"",docencoding:""},a=n(n({},i),o);t.windowManager.open({title:"Metadata and Document Properties",size:"normal",body:{type:"panel",items:[{name:"title",type:"input",label:"Title"},{name:"keywords",type:"input",label:"Keywords"},{name:"description",type:"input",label:"Description"},{name:"robots",type:"input",label:"Robots"},{name:"author",type:"input",label:"Author"},{name:"docencoding",type:"input",label:"Encoding"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onSubmit:function(n){var i=n.getData(),a=y(t,r.extend(o,i),e.get());e.set(a),n.close()}})},x=function(t,e){t.addCommand("mceFullPageProperties",(function(){b(t,e)}))},w=function(t,e){return r.each(t,(function(t){e=e.replace(t,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))})),e},_=function(t){return t.replace(/<!--mce:protected ([\s\S]*?)-->/g,(function(t,e){return unescape(e)}))},S=r.each,C=function(t){return t.replace(/<\/?[A-Z]+/g,(function(t){return t.toLowerCase()}))},k=function(t,e,n,o){var i,a,s,c="",l=t.dom;if(!o.selection&&(s=w(m(t),o.content),("raw"!==o.format||!e.get())&&(!o.source_view||!u(t)))){0!==s.length||o.source_view||(s=r.trim(e.get())+"\n"+r.trim(s)+"\n"+r.trim(n.get())),s=s.replace(/<(\/?)BODY/gi,"<$1body"),i=s.indexOf("<body"),-1!==i?(i=s.indexOf(">",i),e.set(C(s.substring(0,i+1))),a=s.indexOf("</body",i),-1===a&&(a=s.length),o.content=r.trim(s.substring(i+1,a)),n.set(C(s.substring(a)))):(e.set(T(t)),n.set("\n</body>\n</html>"));var f=g(e.get());S(f.getAll("style"),(function(t){t.firstChild&&(c+=t.firstChild.value)}));var d=f.getAll("body")[0];d&&l.setAttribs(t.getBody(),{style:d.attr("style")||"",dir:d.attr("dir")||"",vLink:d.attr("vlink")||"",link:d.attr("link")||"",aLink:d.attr("alink")||""}),l.remove("fullpage_styles");var h=t.getDoc().getElementsByTagName("head")[0];if(c){var p=l.add(h,"style",{id:"fullpage_styles"});p.appendChild(document.createTextNode(c))}var v={};r.each(h.getElementsByTagName("link"),(function(t){"stylesheet"===t.rel&&t.getAttribute("data-mce-fullpage")&&(v[t.href]=t)})),r.each(f.getAll("link"),(function(t){var e=t.attr("href");if(!e)return!0;v[e]||"stylesheet"!==t.attr("rel")||l.add(h,"link",{rel:"stylesheet",text:"text/css",href:e,"data-mce-fullpage":"1"}),delete v[e]})),r.each(v,(function(t){t.parentNode.removeChild(t)}))}},T=function(t){var e,n="",r="";if(s(t)){var o=c(t);n+='<?xml version="1.0" encoding="'+(o||"ISO-8859-1")+'" ?>\n'}return n+=p(t),n+="\n<html>\n<head>\n",(e=h(t))&&(n+="<title>"+e+"</title>\n"),(e=c(t))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+e+'" />\n'),(e=l(t))&&(r+="font-family: "+e+";"),(e=f(t))&&(r+="font-size: "+e+";"),(e=d(t))&&(r+="color: "+e+";"),n+="</head>\n<body"+(r?' style="'+r+'"':"")+">\n",n},A=function(t,e,n,o){"html"!==o.format||o.selection||o.source_view&&u(t)||(o.content=_(r.trim(e)+"\n"+r.trim(o.content)+"\n"+r.trim(n)))},O=function(t,e,n){t.on("BeforeSetContent",(function(r){k(t,e,n,r)})),t.on("GetContent",(function(r){A(t,e.get(),n.get(),r)}))},M=function(t){t.ui.registry.addButton("fullpage",{tooltip:"Metadata and document properties",icon:"document-properties",onAction:function(){t.execCommand("mceFullPageProperties")}}),t.ui.registry.addMenuItem("fullpage",{text:"Metadata and document properties",icon:"document-properties",onAction:function(){t.execCommand("mceFullPageProperties")}})};function D(){e.add("fullpage",(function(e){var n=t(""),r=t("");x(e,n),M(e),O(e,n,r)}))}D()})()},"70c7":function(t,e,n){t.exports=n.p+"static/img/purchases.b21a2a16.png"},7193:function(t,e,n){n("ae68")},"75b8":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(t){return t.getParam("save_enablewhendirty",!0)},o=function(t){return!!t.getParam("save_onsavecallback")},i=function(t){return!!t.getParam("save_oncancelcallback")},a=function(t,e){t.notificationManager.open({text:e,type:"error"})},u=function(t){var n=e.DOM.getParent(t.id,"form");if(!r(t)||t.isDirty()){if(t.save(),o(t))return t.execCallback("save_onsavecallback",t),void t.nodeChanged();n?(t.setDirty(!1),n.onsubmit&&!n.onsubmit()||("function"===typeof n.submit?n.submit():a(t,"Error: Form submit field collision.")),t.nodeChanged()):a(t,"Error: No form element found.")}},s=function(t){var e=n.trim(t.startContent);i(t)?t.execCallback("save_oncancelcallback",t):t.resetContent(e)},c=function(t){t.addCommand("mceSave",(function(){u(t)})),t.addCommand("mceCancel",(function(){s(t)}))},l=function(t){return function(e){var n=function(){e.setDisabled(r(t)&&!t.isDirty())};return t.on("NodeChange dirty",n),function(){return t.off("NodeChange dirty",n)}}},f=function(t){t.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return t.execCommand("mceSave")},onSetup:l(t)}),t.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return t.execCommand("mceCancel")},onSetup:l(t)}),t.addShortcut("Meta+S","","mceSave")};function d(){t.add("save",(function(t){f(t),c(t)}))}d()})()},"78e4":function(t,e,n){n("3ad8")},7917:function(t,e,n){"use strict";var r=n("c532");function o(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r["a"].inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:r["a"].toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{a[t]={value:t}}),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=(t,e,n,a,u,s)=>{const c=Object.create(i);return r["a"].toFlatObject(t,c,(function(t){return t!==Error.prototype}),t=>"isAxiosError"!==t),o.call(c,t.message,e,n,a,u),c.cause=t,c.name=t.name,s&&Object.assign(c,s),c},e["a"]=o},"7c4f":function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){return!!t.hasPlugin("powerpaste",!0)&&("undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},r=function(t,e){return{clipboard:t,quirks:e}},o=function(){},i=function(t){return function(){return t}},a=i(!1),u=i(!0),s=function(){return c},c=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:a,isSome:a,isNone:u,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:e,map:s,each:o,bind:s,exists:a,forall:u,filter:s,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")};return r}(),l=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return l(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:c},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(a,(function(e){return n(t,e)}))}};return o},f=function(t){return null===t||void 0===t?c:l(t)},d={some:l,none:s,from:f},h=function(t){return function(e){return typeof e===t}},p=function(t){return null===t||void 0===t},m=function(t){return!p(t)},g=h("function"),v=Array.prototype.slice,y=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},b=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},x=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},w=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},_=function(t,e,n){return x(t,(function(t){n=e(n,t)})),n},S=g(Array.from)?Array.from:function(t){return v.call(t)},C=function(){var e=t(d.none()),n=function(){return e.set(d.none())},r=function(t){return e.set(d.some(t))},o=function(){return e.get().isSome()},i=function(t){return e.get().each(t)};return{clear:n,set:r,isSet:o,on:i}},k=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},T=function(t,e){return k(t,e,0)},A=function(t,e){return k(t,e,t.length-e.length)},O=function(t,e){return e<=0?"":new Array(e+1).join(t)},M=tinymce.util.Tools.resolve("tinymce.Env"),D=tinymce.util.Tools.resolve("tinymce.util.Delay"),I=tinymce.util.Tools.resolve("tinymce.util.Promise"),E=tinymce.util.Tools.resolve("tinymce.util.VK"),R=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})},N=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})},P=function(t,e){return t.fire("PastePlainTextToggle",{state:e})},L=function(t,e){return t.fire("paste",{ieFake:e})},B=tinymce.util.Tools.resolve("tinymce.util.Tools"),z=function(t){return t.getParam("paste_block_drop",!1)},V=function(t){return t.getParam("paste_data_images",!1)},F=function(t){return t.getParam("paste_filter_drop",!0)},j=function(t){return t.getParam("paste_preprocess")},H=function(t){return t.getParam("paste_postprocess")},U=function(t){return t.getParam("paste_webkit_styles")},W=function(t){return t.getParam("paste_remove_styles_if_webkit",!0)},G=function(t){return t.getParam("paste_merge_formats",!0)},q=function(t){return t.getParam("smart_paste",!0)},Y=function(t){return t.getParam("paste_as_text",!1)},X=function(t){return t.getParam("paste_retain_style_properties")},Z=function(t){var e="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return t.getParam("paste_word_valid_elements",e)},$=function(t){return t.getParam("paste_convert_word_fake_lists",!0)},K=function(t){return t.getParam("paste_enable_default_filters",!0)},J=function(t){return t.getParam("validate")},Q=function(t){return t.getParam("allow_html_data_urls",!1,"boolean")},tt=function(t){return t.getParam("paste_data_images",!1,"boolean")},et=function(t){return t.getParam("images_dataimg_filter")},nt=function(t){return t.getParam("images_reuse_filename")},rt=function(t){return t.getParam("forced_root_block")},ot=function(t){return t.getParam("forced_root_block_attrs")},it=function(t){return t.getParam("paste_tab_spaces",4,"number")},at=function(t){var e="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return B.explode(t.getParam("images_file_types",e,"string"))},ut="x-tinymce/html",st="\x3c!-- "+ut+" --\x3e",ct=function(t){return st+t},lt=function(t){return t.replace(st,"")},ft=function(t){return-1!==t.indexOf(st)},dt=function(){return ut},ht=tinymce.util.Tools.resolve("tinymce.html.Entities"),pt=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)},mt=function(t){return t.replace(/\r?\n/g,"<br>")},gt=function(t,e){var n,r=[],o="<"+t;if("object"===typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+ht.encodeAllRaw(e[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"},vt=function(t,e,n){var r=t.split(/\n\n/),o=gt(e,n),i="</"+e+">",a=B.map(r,(function(t){return t.split(/\n/).join("<br />")})),u=function(t){return o+t+i};return 1===a.length?a[0]:B.map(a,u).join("")},yt=function(t,e,n){return e?vt(t,!0===e?"p":e,n):mt(t)},bt=tinymce.util.Tools.resolve("tinymce.html.DomParser"),xt=tinymce.util.Tools.resolve("tinymce.html.Serializer"),wt="",_t=tinymce.util.Tools.resolve("tinymce.html.Node"),St=tinymce.util.Tools.resolve("tinymce.html.Schema");function Ct(t,e){return B.each(e,(function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])})),t}function kt(t){var e=St(),n=bt({},e),r="",o=e.getShortEndedElements(),i=B.makeMap("script noscript style textarea video audio iframe object"," "),a=e.getBlockElements();function u(t){var e=t.name,n=t;if("br"!==e){if("wbr"!==e)if(o[e]&&(r+=" "),i[e])r+=" ";else{if(3===t.type&&(r+=t.value),!t.shortEnded&&(t=t.firstChild))do{u(t)}while(t=t.next);a[e]&&n.next&&(r+="\n","p"===e&&(r+="\n"))}}else r+="\n"}return t=Ct(t,[/<!\[[^\]]+\]>/g]),u(n.parse(t)),r}function Tt(t){function e(t,e,n){return e||n?wt:" "}return t=Ct(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,e],/<br class="Apple-interchange-newline">/g,/<br>$/i]),t}function At(t){var e=0;return function(){return t+e++}}var Ot=function(t){var e={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return B.hasOwn(e,t)?"image/"+e[t]:"image/"+t};function Mt(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}function Dt(t){var e,n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return t=t.replace(/^[\u00a0 ]+/,""),B.each(n,(function(n){if(n.test(t))return e=!0,!1})),e}function It(t){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(t)}function Et(t){var e,n,r=1;function o(t){var e="";if(3===t.type)return t.value;if(t=t.firstChild)do{e+=o(t)}while(t=t.next);return e}function i(t,e){if(3===t.type&&e.test(t.value))return t.value=t.value.replace(e,""),!1;if(t=t.firstChild)do{if(!i(t,e))return!1}while(t=t.next);return!0}function a(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)do{a(t)}while(t=t.next)}function u(t,o,u){var s=t._listLevel||r;s!==r&&(s<r?e&&(e=e.parent.parent):(n=e,e=null)),e&&e.name===o?e.append(t):(n=n||e,e=new _t(o,1),u>1&&e.attr("start",""+u),t.wrap(e)),t.name="li",s>r&&n&&n.lastChild.append(e),r=s,a(t),i(t,/^\u00a0+/),i(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(t,/^\u00a0+/)}var s=[],c=t.firstChild;while("undefined"!==typeof c&&null!==c)if(s.push(c),c=c.walk(),null!==c)while("undefined"!==typeof c&&c.parent!==t)c=c.walk();for(var l=0;l<s.length;l++)if(t=s[l],"p"===t.name&&t.firstChild){var f=o(t);if(It(f)){u(t,"ul");continue}if(Dt(f)){var d=/([0-9]+)\./.exec(f),h=1;d&&(h=parseInt(d[1],10)),u(t,"ol",h);continue}if(t._listLevel){u(t,"ul",1);continue}e=null}else n=e,e=null}function Rt(t,e,n,r){var o,i={},a=t.dom.parseStyle(r);return B.each(a,(function(a,u){switch(u){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r),o&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[u]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove();break}0!==u.indexOf("mso-comment")?0!==u.indexOf("mso-")&&("all"===X(t)||e&&e[u])&&(i[u]=a):n.remove()})),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new _t("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new _t("i",1))),i=t.dom.serializeStyle(i,n.name),i||null}var Nt=function(t,e){var n,r=X(t);r&&(n=B.makeMap(r.split(/[, ]/))),e=Ct(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,wt],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join(wt):""}]]);var o=Z(t),i=St({valid_elements:o,valid_children:"-li[p]"});B.each(i.elements,(function(t){t.attributes.class||(t.attributes.class={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))}));var a=bt({},i);a.addAttributeFilter("style",(function(e){var r,o=e.length;while(o--)r=e[o],r.attr("style",Rt(t,n,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),a.addAttributeFilter("class",(function(t){var e,n,r=t.length;while(r--)e=t[r],n=e.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove(),e.attr("class",null)})),a.addNodeFilter("del",(function(t){var e=t.length;while(e--)t[e].remove()})),a.addNodeFilter("a",(function(t){var e,n,r,o=t.length;while(o--)if(e=t[o],n=e.attr("href"),r=e.attr("name"),n&&-1!==n.indexOf("#_msocom_"))e.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap();continue}e.attr({href:n,name:r})}else e.unwrap()}));var u=a.parse(e);return $(t)&&Et(u),e=xt({validate:J(t)},i).serialize(u),e},Pt=function(t,e){return K(t)?Nt(t,e):e},Lt=function(t,e){var n=bt({},t.schema);n.addNodeFilter("meta",(function(t){B.each(t,(function(t){t.remove()}))}));var r=n.parse(e,{forced_root_block:!1,isRootContent:!0});return xt({validate:J(t)},t.schema).serialize(r)},Bt=function(t,e){return{content:t,cancelled:e}},zt=function(t,e,n,r){var o=t.dom.create("div",{style:"display:none"},e),i=N(t,o,n,r);return Bt(i.node.innerHTML,i.isDefaultPrevented())},Vt=function(t,e,n,r){var o=R(t,e,n,r),i=Lt(t,o.content);return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?zt(t,i,n,r):Bt(i,o.isDefaultPrevented())},Ft=function(t,e,n){var r=Mt(e),o=r?Pt(t,e):e;return Vt(t,o,n,r)},jt=function(t,e){return t.insertContent(e,{merge:G(t),paste:!0}),!0},Ht=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},Ut=function(t,e){return Ht(e)&&y(at(t),(function(t){return A(e,"."+t)}))},Wt=function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')})),!0},Gt=function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",!1,e)})),!0},qt=function(t,e,n){return!(!1!==t.selection.isCollapsed()||!Ht(e))&&Gt(t,e,n)},Yt=function(t,e,n){return!!Ut(t,e)&&Wt(t,e,n)},Xt=function(t,e){B.each([qt,Yt,jt],(function(n){return!0!==n(t,e,jt)}))},Zt=function(t,e,n){n||!1===q(t)?jt(t,e):Xt(t,e)},$t=function(t){return-1!==" \f\t\v".indexOf(t)},Kt=function(t){return"\n"===t||"\r"===t},Jt=function(t,e){return e<t.length&&e>=0&&Kt(t[e])},Qt=function(t,e){var n=O(" ",it(t)),r=e.replace(/\t/g,n),o=_(r,(function(t,e){return $t(e)||e===wt?t.pcIsSpace||""===t.str||t.str.length===r.length-1||Jt(r,t.str.length+1)?{pcIsSpace:!1,str:t.str+wt}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:Kt(e),str:t.str+e}}),{pcIsSpace:!1,str:""});return o.str},te=function(t,e,n,r){var o=Ft(t,e,n);!1===o.cancelled&&Zt(t,o.content,r)},ee=function(t,e,n){var r=n||ft(e);te(t,lt(e),r,!1)},ne=function(t,e){var n=t.dom.encode(e).replace(/\r\n/g,"\n"),r=Qt(t,n),o=yt(r,rt(t),ot(t));te(t,o,!1,!0)},re=function(t){var e={},n="data:text/mce-internal,";if(t){if(t.getData){var r=t.getData("Text");r&&r.length>0&&-1===r.indexOf(n)&&(e["text/plain"]=r)}if(t.types)for(var o=0;o<t.types.length;o++){var i=t.types[o];try{e[i]=t.getData(i)}catch(a){e[i]=""}}}return e},oe=function(t,e){return re(e.clipboardData||t.getDoc().dataTransfer)},ie=function(t,e){return e in t&&t[e].length>0},ae=function(t){return ie(t,"text/html")||ie(t,"text/plain")},ue=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t);return e?{type:e[1],data:decodeURIComponent(e[2])}:{type:null,data:null}},se=function(t,e){var n=et(t);return!n||n(e)},ce=function(t,e){var n=e.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return m(n)?t.dom.encode(n[1]):null},le=At("mceclip"),fe=function(t,e){var n=ue(e.uri),r=n.data,o=n.type,i=le(),a=e.blob,u=new Image;if(u.src=e.uri,se(t,u)){var s=t.editorUpload.blobCache,c=void 0,l=s.getByData(r,o);if(l)c=l;else{var f=nt(t)&&m(a.name),d=f?ce(t,a.name):i,h=f?a.name:void 0;c=s.create(i,a,r,d,h),s.add(c)}ee(t,'<img src="'+c.blobUri()+'">',!1)}else ee(t,'<img src="'+e.uri+'">',!1)},de=function(t){return"paste"===t.type},he=function(t){return m(t.getAsFile)},pe=function(t){return I.all(b(t,(function(t){return new I((function(e){var n=he(t)?t.getAsFile():t,r=new window.FileReader;r.onload=function(){e({blob:n,uri:r.result})},r.readAsDataURL(n)}))})))},me=function(t){var e=at(t);return function(t){return T(t.type,"image/")&&y(e,(function(e){return Ot(e)===t.type}))}},ge=function(t,e){var n=e.items?b(S(e.items),(function(t){return t.getAsFile()})):[],r=e.files?S(e.files):[];return w(n.length>0?n:r,me(t))},ve=function(t,e,n){var r=de(e)?e.clipboardData:e.dataTransfer;if(tt(t)&&r){var o=ge(t,r);if(o.length>0)return e.preventDefault(),pe(o).then((function(e){n&&t.selection.setRng(n),x(e,(function(e){fe(t,e)}))})),!0}return!1},ye=function(t){var e=t.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&e&&e.items&&0===e.items.length},be=function(t){return E.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},xe=function(t,e,n){var r,o=C(),i=C();function a(t,n,r,o,i){var a;ie(n,"text/html")?a=n["text/html"]:(a=e.getHtml(),i=i||ft(a),e.isDefaultContent(a)&&(o=!0)),a=Tt(a),e.remove();var u=!1===i&&pt(a),s=Ut(t,a);(!a.length||u&&!s)&&(o=!0),(o||s)&&(a=ie(n,"text/plain")&&u?n["text/plain"]:kt(a)),e.isDefaultContent(a)?r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?ne(t,a):ee(t,a,i)}t.on("keyup",i.clear),t.on("keydown",(function(n){var a=function(t){be(t)&&!t.isDefaultPrevented()&&e.remove()};if(be(n)&&!n.isDefaultPrevented()){if(r=n.shiftKey&&86===n.keyCode,r&&M.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),o.set(n),i.set(!0),M.ie&&r)return n.preventDefault(),void L(t,!0);e.remove(),e.create(),t.once("keyup",a),t.once("paste",(function(){t.off("keyup",a)}))}}));var u=function(){return e.getLastRng()||t.selection.getRng()};t.on("paste",(function(s){var c=o.isSet()||i.isSet();c&&o.clear();var l=oe(t,s),f="text"===n.get()||r,d=ie(l,dt());r=!1,s.isDefaultPrevented()||ye(s)?e.remove():ae(l)||!ve(t,s,u())?(c||s.preventDefault(),!M.ie||c&&!s.ieFake||ie(l,"text/html")||(e.create(),t.dom.bind(e.getEl(),"paste",(function(t){t.stopPropagation()})),t.getDoc().execCommand("Paste",!1,null),l["text/html"]=e.getHtml()),ie(l,"text/html")?(s.preventDefault(),d||(d=ft(l["text/html"])),a(t,l,c,f,d)):D.setEditorTimeout(t,(function(){a(t,l,c,f,d)}),0)):e.remove()}))},we=function(t,e,n){var r;xe(t,e,n),t.parser.addNodeFilter("img",(function(e,n,o){var i=function(t){return t.data&&!0===t.data.paste},a=function(t){t.attr("data-mce-object")||r===M.transparentSrc||t.remove()},u=function(t){return 0===t.indexOf("webkit-fake-url")},s=function(t){return 0===t.indexOf("data:")};if(!tt(t)&&i(o)){var c=e.length;while(c--)r=e[c].attr("src"),r&&(u(r)||!Q(t)&&s(r))&&a(e[c])}}))},_e=function(t){return M.ie&&t.inline?document.body:t.getBody()},Se=function(t){return _e(t)!==t.getBody()},Ce=function(t,e,n){Se(t)&&t.dom.bind(e,"paste keyup",(function(e){Ee(t,n)||t.fire("paste")}))},ke=function(t,e,n){var r=t.dom,o=t.getBody();e.set(t.selection.getRng());var i=t.dom.add(_e(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(M.ie||M.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),Ce(t,i,n),i.focus(),t.selection.select(i,!0)},Te=function(t,e){if(Ae(t)){var n=void 0,r=e.get();while(n=t.dom.get("mcepastebin"))t.dom.remove(n),t.dom.unbind(n);r&&t.selection.setRng(r)}e.set(null)},Ae=function(t){return t.dom.get("mcepastebin")},Oe=function(t){var e=function(e,n){e.appendChild(n),t.dom.remove(n,!0)},n=B.grep(_e(t).childNodes,(function(t){return"mcepastebin"===t.id})),r=n.shift();B.each(n,(function(t){e(r,t)}));for(var o=t.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var a=t.dom.create("div");r.insertBefore(a,o[i]),e(a,o[i])}return r?r.innerHTML:""},Me=function(t){return t.get()},De=function(t,e){return e===t},Ie=function(t){return t&&"mcepastebin"===t.id},Ee=function(t,e){var n=Ae(t);return Ie(n)&&De(e,n.innerHTML)},Re=function(e){var n=t(null),r="%MCEPASTEBIN%";return{create:function(){return ke(e,n,r)},remove:function(){return Te(e,n)},getEl:function(){return Ae(e)},getHtml:function(){return Oe(e)},getLastRng:function(){return Me(n)},isDefault:function(){return Ee(e,r)},isDefaultContent:function(t){return De(r,t)}}},Ne=function(t,e){var n=Re(t);return t.on("PreInit",(function(){return we(t,n,e)})),{pasteFormat:e,pasteHtml:function(e,n){return ee(t,e,n)},pasteText:function(e){return ne(t,e)},pasteImageData:function(e,n){return ve(t,e,n)},getDataTransferItems:re,hasHtmlOrText:ae,hasContentType:ie}},Pe=function(t,e){"text"===e.pasteFormat.get()?(e.pasteFormat.set("html"),P(t,!1)):(e.pasteFormat.set("text"),P(t,!0)),t.focus()},Le=function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){Pe(t,e)})),t.addCommand("mceInsertClipboardContent",(function(t,n){n.content&&e.pasteHtml(n.content,n.internal),n.text&&e.pasteText(n.text)}))},Be=function(t){return!1===M.iOS&&"function"===typeof(null===t||void 0===t?void 0:t.setData)},ze=function(t,e,n){if(!Be(t))return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData(dt(),e),!0}catch(r){return!1}},Ve=function(t,e,n,r){ze(t.clipboardData,e.html,e.text)?(t.preventDefault(),r()):n(e.html,r)},Fe=function(t){return function(e,n){var r=ct(e),o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=t.dom.create("div",{contenteditable:"true"},r);t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),t.dom.add(t.getBody(),o);var a=t.selection.getRng();i.focus();var u=t.dom.createRng();u.selectNodeContents(i),t.selection.setRng(u),D.setTimeout((function(){t.selection.setRng(a),o.parentNode.removeChild(o),n()}),0)}},je=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},He=function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())},Ue=function(t){return!t.selection.isCollapsed()||He(t)},We=function(t){return function(e){Ue(t)&&Ve(e,je(t),Fe(t),(function(){if(M.browser.isChrome()||M.browser.isFirefox()){var e=t.selection.getRng();D.setEditorTimeout(t,(function(){t.selection.setRng(e),t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}},Ge=function(t){return function(e){Ue(t)&&Ve(e,je(t),Fe(t),(function(){}))}},qe=function(t){t.on("cut",We(t)),t.on("copy",Ge(t))},Ye=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Xe=function(t,e){return Ye.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())},Ze=function(t){var e=t["text/plain"];return!!e&&0===e.indexOf("file://")},$e=function(t,e){t.focus(),t.selection.setRng(e)},Ke=function(t,e,n){z(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),V(t)||t.on("drop",(function(t){var e=t.dataTransfer;e&&e.files&&e.files.length>0&&t.preventDefault()})),t.on("drop",(function(r){var o=Xe(t,r);if(!r.isDefaultPrevented()&&!n.get()){var i=e.getDataTransferItems(r.dataTransfer),a=e.hasContentType(i,dt());if((e.hasHtmlOrText(i)&&!Ze(i)||!e.pasteImageData(r,o))&&o&&F(t)){var u=i["mce-internal"]||i["text/html"]||i["text/plain"];u&&(r.preventDefault(),D.setEditorTimeout(t,(function(){t.undoManager.transact((function(){i["mce-internal"]&&t.execCommand("Delete"),$e(t,o),u=Tt(u),i["text/html"]?e.pasteHtml(u,a):e.pasteText(u)}))})))}}})),t.on("dragstart",(function(t){n.set(!0)})),t.on("dragover dragend",(function(e){V(t)&&!1===n.get()&&(e.preventDefault(),$e(t,Xe(t,e))),"dragend"===e.type&&n.set(!1)}))},Je=function(t){var e=t.plugins.paste,n=j(t);n&&t.on("PastePreProcess",(function(t){n.call(e,e,t)}));var r=H(t);r&&t.on("PastePostProcess",(function(t){r.call(e,e,t)}))};function Qe(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal,n.wordContent)}))}function tn(t,e){t.on("PastePostProcess",(function(n){e(t,n.node)}))}function en(t,e){if(!Mt(e))return e;var n=[];B.each(t.schema.getBlockElements(),(function(t,e){n.push(e)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=Ct(e,[[r,"$1"]]),e=Ct(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),e}function nn(t,e,n,r){if(r||n)return e;var o,i=U(t);if(!1===W(t)||"all"===i)return e;if(i&&(o=i.split(/[, ]/)),o){var a=t.dom,u=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){var i=a.parseStyle(a.decode(n)),s={};if("none"===o)return e+r;for(var c=0;c<o.length;c++){var l=i[o[c]],f=a.getStyle(u,o[c],!0);/color/.test(o[c])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(s[o[c]]=l)}return s=a.serializeStyle(s,"span"),s?e+' style="'+s+'"'+r:e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r})),e}function rn(t,e){t.$("a",e).find("font,u").each((function(e,n){t.dom.remove(n,!0)}))}var on=function(t){M.webkit&&Qe(t,nn),M.ie&&(Qe(t,en),tn(t,rn))},an=function(t,e){return function(n){n.setActive("text"===e.pasteFormat.get());var r=function(t){return n.setActive(t.state)};return t.on("PastePlainTextToggle",r),function(){return t.off("PastePlainTextToggle",r)}}},un=function(t,e){t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:an(t,e)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:an(t,e)})};function sn(){e.add("paste",(function(e){if(!1===n(e)){var o=t(!1),i=t(Y(e)?"text":"html"),a=Ne(e,i),u=on(e);return un(e,a),Le(e,a),Je(e),qe(e),Ke(e,a,o),r(a,u)}}))}sn()})()},"840a":function(t,e,n){n("d4c3")},"84ec":function(t,e,n){n("2401")},"855b":function(t,e,n){n("e2d6")},8863:function(t,e,n){n("9dd9")},"88b6":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,e,n){var r="UL"===e?"InsertUnorderedList":"InsertOrderedList";t.execCommand(r,!1,!1===n?null:{"list-style-type":n})},n=function(t){t.addCommand("ApplyUnorderedListStyle",(function(n,r){e(t,"UL",r["list-style-type"])})),t.addCommand("ApplyOrderedListStyle",(function(n,r){e(t,"OL",r["list-style-type"])}))},r=tinymce.util.Tools.resolve("tinymce.util.Tools"),o=function(t){var e=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return e?e.split(/[ ,]/):[]},i=function(t){var e=t.getParam("advlist_bullet_styles","default,circle,square");return e?e.split(/[ ,]/):[]},a=function(){},u=function(t){return function(){return t}},s=u(!1),c=u(!0),l=function(){return f},f=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:s,isSome:s,isNone:c,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:e,map:l,each:a,bind:l,exists:s,forall:c,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:u("none()")};return r}(),d=function(t){var e=u(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return o},h=function(t){return null===t||void 0===t?f:d(t)},p={some:d,none:l,from:h},m=function(t,e){return t.$.contains(t.getBody(),e)},g=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},v=function(t){return function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)&&m(t,e)}},y=function(t){var e=t.dom.getParent(t.selection.getNode(),"ol,ul"),n=t.dom.getStyle(e,"listStyleType");return p.from(n)},b=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r))return n}return-1},x=function(t){return t.replace(/\-/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},w=function(t,e,n){var o=b(e.parents,g),i=-1!==o?e.parents.slice(0,o):e.parents,a=r.grep(i,v(t));return a.length>0&&a[0].nodeName===n},_=function(t,n,o,i,a,u){t.ui.registry.addSplitButton(n,{tooltip:o,icon:"OL"===a?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(t){var e=r.map(u,(function(t){var e="OL"===a?"num":"bull",n="disc"===t||"decimal"===t?"default":t,r="default"===t?"":t,o=x(t);return{type:"choiceitem",value:r,icon:"list-"+e+"-"+n,text:o}}));t(e)},onAction:function(){return t.execCommand(i)},onItemAction:function(n,r){e(t,a,r)},select:function(e){var n=y(t);return n.map((function(t){return e===t})).getOr(!1)},onSetup:function(e){var n=function(n){e.setActive(w(t,n,a))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}})},S=function(t,e,n,r,o,i){t.ui.registry.addToggleButton(e,{active:!1,tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:function(e){var n=function(n){e.setActive(w(t,n,o))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},onAction:function(){return t.execCommand(r)}})},C=function(t,e,n,r,o,i){i.length>1?_(t,e,n,r,o,i):S(t,e,n,r,o)},k=function(t){C(t,"numlist","Numbered list","InsertOrderedList","OL",o(t)),C(t,"bullist","Bullet list","InsertUnorderedList","UL",i(t))};function T(){t.add("advlist",(function(t){t.hasPlugin("lists")&&(k(t),n(t))}))}T()})()},8962:function(t,e,n){(function(t){(function(){"use strict";var e=function(){return e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},e.apply(this,arguments)};function n(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var o=function(){},i=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},a=function(t,e){return function(n){return t(e(n))}},u=function(t){return function(){return t}},s=function(t){return t};function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var l,f=function(t){return function(e){return!t(e)}},d=function(t){return function(){throw new Error(t)}},h=function(t){return t()},p=u(!1),m=u(!0),g=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},v=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),s=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),l=i||a&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:u(o),isiPhone:u(i),isTablet:u(c),isPhone:u(l),isTouch:u(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:u(f),isDesktop:u(d)}},y=function(){return b},b=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:p,isSome:p,isNone:m,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:e,map:y,each:o,bind:y,exists:p,forall:m,filter:y,equals:t,equals_:t,toArray:function(){return[]},toString:u("none()")};return r}(),x=function(t){var e=u(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:m,isNone:p,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return x(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:b},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(p,(function(e){return n(t,e)}))}};return o},w=function(t){return null===t||void 0===t?b:x(t)},_={some:x,none:y,from:w},S=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},C=function(t){return function(e){return S(e)===t}},k=function(t){return function(e){return typeof e===t}},T=C("string"),A=C("object"),O=C("array"),M=k("boolean"),D=function(t){return null===t||void 0===t},I=function(t){return!D(t)},E=k("function"),R=k("number"),N=Array.prototype.slice,P=Array.prototype.indexOf,L=Array.prototype.push,B=function(t,e){return P.call(t,e)},z=function(t,e){return B(t,e)>-1},V=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},F=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},j=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},H=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},U=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},W=function(t,e,n){return H(t,(function(t){n=e(n,t)})),n},G=function(t,e,n){return j(t,(function(t){n=e(n,t)})),n},q=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return _.some(i);if(n(i,r))break}return _.none()},Y=function(t,e){return q(t,e,p)},X=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return _.some(n)}return _.none()},Z=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!O(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);L.apply(e,t[n])}return e},$=function(t,e){return Z(F(t,e))},K=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},J=function(t){var e=N.call(t,0);return e.reverse(),e},Q=function(t,e){return U(t,(function(t){return!z(e,t)}))},tt=function(t){return[t]},et=function(t,e){var n=N.call(t,0);return n.sort(e),n},nt=function(t,e){return e>=0&&e<t.length?_.some(t[e]):_.none()},rt=function(t){return nt(t,0)},ot=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return _.none()},it=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},at=function(t,e){var n=it(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return ct(r(1),r(2))},ut=function(t,e){var n=String(e).toLowerCase();return 0===t.length?st():at(t,n)},st=function(){return ct(0,0)},ct=function(t,e){return{major:t,minor:e}},lt={nu:ct,detect:ut,unknown:st},ft=function(t,e){var n=String(e).toLowerCase();return Y(t,(function(t){return t.search(n)}))},dt=function(t,e){return ft(t,e).map((function(t){var n=lt.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},ht=function(t,e){return ft(t,e).map((function(t){var n=lt.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},pt={detectBrowser:dt,detectOs:ht},mt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},gt=function(t,e){var n=function(t){var e=typeof t;return"string"===e||"number"===e};return t.replace(/\$\{([^{}]*)\}/g,(function(t,r){var o=e[r];return n(o)?o.toString():t}))},vt=function(t,e){return-1!==t.indexOf(e)},yt=function(t,e){return mt(t,e,t.length-e.length)},bt=function(t){return function(e){return e.replace(t,"")}},xt=bt(/^\s+|\s+$/g),wt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_t=function(t){return function(e){return vt(e,t)}},St=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return vt(t,"edge/")&&vt(t,"chrome")&&vt(t,"safari")&&vt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wt],search:function(t){return vt(t,"chrome")&&!vt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return vt(t,"msie")||vt(t,"trident")}},{name:"Opera",versionRegexes:[wt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_t("firefox")},{name:"Safari",versionRegexes:[wt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(vt(t,"safari")||vt(t,"mobile/"))&&vt(t,"applewebkit")}}],Ct=[{name:"Windows",search:_t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return vt(t,"iphone")||vt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_t("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_t("linux"),versionRegexes:[]},{name:"Solaris",search:_t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_t("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_t("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],kt={browsers:u(St),oses:u(Ct)},Tt="Edge",At="Chrome",Ot="IE",Mt="Opera",Dt="Firefox",It="Safari",Et=function(){return Rt({current:void 0,version:lt.unknown()})},Rt=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(Tt),isChrome:r(At),isIE:r(Ot),isOpera:r(Mt),isFirefox:r(Dt),isSafari:r(It)}},Nt={unknown:Et,nu:Rt,edge:u(Tt),chrome:u(At),ie:u(Ot),opera:u(Mt),firefox:u(Dt),safari:u(It)},Pt="Windows",Lt="iOS",Bt="Android",zt="Linux",Vt="OSX",Ft="Solaris",jt="FreeBSD",Ht="ChromeOS",Ut=function(){return Wt({current:void 0,version:lt.unknown()})},Wt=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Pt),isiOS:r(Lt),isAndroid:r(Bt),isOSX:r(Vt),isLinux:r(zt),isSolaris:r(Ft),isFreeBSD:r(jt),isChromeOS:r(Ht)}},Gt={unknown:Ut,nu:Wt,windows:u(Pt),ios:u(Lt),android:u(Bt),linux:u(zt),osx:u(Vt),solaris:u(Ft),freebsd:u(jt),chromeos:u(Ht)},qt=function(t,e){var n=kt.browsers(),r=kt.oses(),o=pt.detectBrowser(n,t).fold(Nt.unknown,Nt.nu),i=pt.detectOs(r,t).fold(Gt.unknown,Gt.nu),a=v(i,o,t,e);return{browser:o,os:i,deviceType:a}},Yt={detect:qt},Xt=function(t){return window.matchMedia(t).matches},Zt=g((function(){return Yt.detect(navigator.userAgent,Xt)})),$t=function(){return Zt()},Kt=u,Jt=Kt("touchstart"),Qt=Kt("touchmove"),te=Kt("touchend"),ee=Kt("mousedown"),ne=Kt("mousemove"),re=Kt("mouseup"),oe=Kt("mouseover"),ie=Kt("keydown"),ae=Kt("keyup"),ue=Kt("input"),se=Kt("change"),ce=Kt("click"),le=Kt("transitionend"),fe=Kt("selectstart"),de=function(t){return u("alloy."+t)},he={tap:de("tap")},pe=de("focus"),me=de("blur.post"),ge=de("paste.post"),ve=de("receive"),ye=de("execute"),be=de("focus.item"),xe=he.tap,we=de("longpress"),_e=de("system.init"),Se=de("system.attached"),Ce=de("system.detached"),ke=de("focusmanager.shifted"),Te=de("highlight"),Ae=de("dehighlight"),Oe=function(t,e){Ee(t,t.element,e,{})},Me=function(t,e,n){Ee(t,t.element,e,n)},De=function(t){Oe(t,ye())},Ie=function(t,e,n){Ee(t,e,n,{})},Ee=function(t,n,r,o){var i=e({target:n},o);t.getSystem().triggerEvent(r,n,i)},Re=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event)},Ne=function(t,e){t.getSystem().triggerFocus(e,t.element)},Pe=9,Le=11,Be=1,ze=3,Ve=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return He(r.childNodes[0])},Fe=function(t,e){var n=e||document,r=n.createElement(t);return He(r)},je=function(t,e){var n=e||document,r=n.createTextNode(t);return He(r)},He=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},Ue=function(t,e,n){return _.from(t.dom.elementFromPoint(e,n)).map(He)},We={fromHtml:Ve,fromTag:Fe,fromText:je,fromDom:He,fromPoint:Ue},Ge=function(t,e){var n=t.dom;if(n.nodeType!==Be)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},qe=function(t){return t.nodeType!==Be&&t.nodeType!==Pe&&t.nodeType!==Le||0===t.childElementCount},Ye=function(t,e){var n=void 0===e?document:e.dom;return qe(n)?[]:F(n.querySelectorAll(t),We.fromDom)},Xe=function(t,e){var n=void 0===e?document:e.dom;return qe(n)?_.none():_.from(n.querySelector(t)).map(We.fromDom)},Ze=function(t,e){return t.dom===e.dom},$e=("undefined"!==typeof window?window:Function("return this;")(),function(t){var e=t.dom.nodeName;return e.toLowerCase()}),Ke=function(t){return t.dom.nodeType},Je=function(t){return function(e){return Ke(e)===t}},Qe=Je(Be),tn=Je(ze),en=Je(Pe),nn=Je(Le),rn=function(t){return We.fromDom(t.dom.ownerDocument)},on=function(t){return en(t)?t:rn(t)},an=function(t){return We.fromDom(on(t).dom.defaultView)},un=function(t){return _.from(t.dom.parentNode).map(We.fromDom)},sn=function(t,e){var n=E(e)?e:p,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=We.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},cn=function(t){var e=function(e){return U(e,(function(e){return!Ze(t,e)}))};return un(t).map(fn).map(e).getOr([])},ln=function(t){return _.from(t.dom.nextSibling).map(We.fromDom)},fn=function(t){return F(t.dom.childNodes,We.fromDom)},dn=function(t,e){var n=t.dom.childNodes;return _.from(n[e]).map(We.fromDom)},hn=function(t){return dn(t,0)},pn=function(t,e){var n=un(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},mn=function(t,e){var n=ln(t);n.fold((function(){var n=un(t);n.each((function(t){vn(t,e)}))}),(function(t){pn(t,e)}))},gn=function(t,e){var n=hn(t);n.fold((function(){vn(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},vn=function(t,e){t.dom.appendChild(e.dom)},yn=function(t,e,n){dn(t,n).fold((function(){vn(t,e)}),(function(t){pn(t,e)}))},bn=function(t,e){j(e,(function(e){vn(t,e)}))},xn=function(t){t.dom.textContent="",j(fn(t),(function(t){wn(t)}))},wn=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},_n=function(t){return nn(t)},Sn=E(Element.prototype.attachShadow)&&E(Node.prototype.getRootNode),Cn=u(Sn),kn=Sn?function(t){return We.fromDom(t.dom.getRootNode())}:on,Tn=function(t){var e=kn(t);return _n(e)?_.some(e):_.none()},An=function(t){return We.fromDom(t.dom.host)},On=function(t){if(Cn()&&I(t.target)){var e=We.fromDom(t.target);if(Qe(e)&&Mn(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return rt(n)}}return _.from(t.target)},Mn=function(t){return I(t.dom.shadowRoot)},Dn=function(t){var e=tn(t)?t.dom.parentNode:t.dom;if(void 0===e||null===e||null===e.ownerDocument)return!1;var n=e.ownerDocument;return Tn(We.fromDom(e)).fold((function(){return n.body.contains(e)}),a(Dn,An))},In=function(){return En(We.fromDom(document))},En=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return We.fromDom(e)},Rn=function(t){Oe(t,Ce());var e=t.components();j(e,Rn)},Nn=function(t){var e=t.components();j(e,Nn),Oe(t,Se())},Pn=function(t,e){vn(t.element,e.element)},Ln=function(t){j(t.components(),(function(t){return wn(t.element)})),xn(t.element),t.syncComponents()},Bn=function(t,e){var n=t.components();Ln(t);var r=Q(n,e);j(r,(function(e){Rn(e),t.getSystem().removeFromWorld(e)})),j(e,(function(e){e.getSystem().isConnected()?Pn(t,e):(t.getSystem().addToWorld(e),Pn(t,e),Dn(t.element)&&Nn(e)),t.syncComponents()}))},zn=function(t,e){Vn(t,e,vn)},Vn=function(t,e,n){t.getSystem().addToWorld(e),n(t.element,e.element),Dn(t.element)&&Nn(e),t.syncComponents()},Fn=function(t){Rn(t),wn(t.element),t.getSystem().removeFromWorld(t)},jn=function(t){var e=un(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}));Fn(t),e.each((function(t){t.syncComponents()}))},Hn=function(t,e){Un(t,e,mn)},Un=function(t,e,n){n(t,e.element);var r=fn(e.element);j(r,(function(t){e.getByDom(t).each(Nn)}))},Wn=function(t){var e=fn(t.element);j(e,(function(e){t.getByDom(e).each(Rn)})),wn(t.element)},Gn=Object.keys,qn=Object.hasOwnProperty,Yn=function(t,e){for(var n=Gn(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},Xn=function(t,e){return Zn(t,(function(t,n){return{k:n,v:e(t,n)}}))},Zn=function(t,e){var n={};return Yn(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},$n=function(t){return function(e,n){t[n]=e}},Kn=function(t,e,n,r){var o={};return Yn(t,(function(t,o){(e(t,o)?n:r)(t,o)})),o},Jn=function(t,e){var n={};return Kn(t,e,$n(n),o),n},Qn=function(t,e){var n=[];return Yn(t,(function(t,r){n.push(e(t,r))})),n},tr=function(t,e){for(var n=Gn(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];if(e(a,i,t))return _.some(a)}return _.none()},er=function(t){return Qn(t,(function(t){return t}))},nr=function(t,e){return rr(t,e)?_.from(t[e]):_.none()},rr=function(t,e){return qn.call(t,e)},or=function(t,e){return rr(t,e)&&void 0!==t[e]&&null!==t[e]},ir=function(t,e,n){if(!(T(n)||M(n)||R(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},ar=function(t,e,n){ir(t.dom,e,n)},ur=function(t,e){var n=t.dom;Yn(e,(function(t,e){ir(n,e,t)}))},sr=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},cr=function(t,e){return _.from(sr(t,e))},lr=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},fr=function(t,e){t.dom.removeAttribute(e)},dr=function(t,e){var n=sr(t,e);return void 0===n||""===n?[]:n.split(" ")},hr=function(t,e,n){var r=dr(t,e),o=r.concat([n]);return ar(t,e,o.join(" ")),!0},pr=function(t,e,n){var r=U(dr(t,e),(function(t){return t!==n}));return r.length>0?ar(t,e,r.join(" ")):fr(t,e),!1},mr=function(t){return void 0!==t.dom.classList},gr=function(t){return dr(t,"class")},vr=function(t,e){return hr(t,"class",e)},yr=function(t,e){return pr(t,"class",e)},br=function(t,e){mr(t)?t.dom.classList.add(e):vr(t,e)},xr=function(t){var e=mr(t)?t.dom.classList:gr(t);0===e.length&&fr(t,"class")},wr=function(t,e){if(mr(t)){var n=t.dom.classList;n.remove(e)}else yr(t,e);xr(t)},_r=function(t,e){return mr(t)&&t.dom.classList.contains(e)},Sr=function(t,e,n){wr(t,n),br(t,e)},Cr=function(t,e,n){Sr(t.element,e.alpha,e.omega)},kr=function(t,e,n){Sr(t.element,e.omega,e.alpha)},Tr=function(t,e,n){wr(t.element,e.alpha),wr(t.element,e.omega)},Ar=function(t,e,n){return _r(t.element,e.alpha)},Or=function(t,e,n){return _r(t.element,e.omega)},Mr=Object.freeze({__proto__:null,toAlpha:Cr,toOmega:kr,isAlpha:Ar,isOmega:Or,clear:Tr}),Dr=function(t){var e=function(e){return t===e},n=function(e){return Dr(t)},r=function(e){return Dr(t)},o=function(e){return Dr(e(t))},i=function(e){return Dr(t)},a=function(e){e(t)},s=function(e){return e(t)},c=function(e,n){return n(t)},l=function(e){return e(t)},f=function(e){return e(t)},d=function(){return _.some(t)};return{is:e,isValue:m,isError:p,getOr:u(t),getOrThunk:u(t),getOrDie:u(t),or:n,orThunk:r,fold:c,map:o,mapError:i,each:a,bind:s,exists:l,forall:f,toOptional:d}},Ir=function(t){var e=function(t){return t()},n=function(){return d(String(t))()},r=function(t){return t},i=function(t){return t()},a=function(e){return Ir(t)},u=function(e){return Ir(e(t))},c=function(e){return Ir(t)},l=function(e,n){return e(t)};return{is:p,isValue:p,isError:m,getOr:s,getOrThunk:e,getOrDie:n,or:r,orThunk:i,fold:l,map:a,mapError:u,each:o,bind:c,exists:p,forall:m,toOptional:_.none}},Er=function(t,e){return t.fold((function(){return Ir(e)}),Dr)},Rr={value:Dr,error:Ir,fromOption:Er};(function(t){t[t["Error"]=0]="Error",t[t["Value"]=1]="Value"})(l||(l={}));var Nr,Pr=function(t,e,n){return t.stype===l.Error?e(t.serror):n(t.svalue)},Lr=function(t){var e=[],n=[];return j(t,(function(t){Pr(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},Br=function(t,e){return t.stype===l.Error?{stype:l.Error,serror:e(t.serror)}:t},zr=function(t,e){return t.stype===l.Value?{stype:l.Value,svalue:e(t.svalue)}:t},Vr=function(t,e){return t.stype===l.Value?e(t.svalue):t},Fr=function(t,e){return t.stype===l.Error?e(t.serror):t},jr=function(t){return{stype:l.Value,svalue:t}},Hr=function(t){return{stype:l.Error,serror:t}},Ur=function(t){return Pr(t,Rr.error,Rr.value)},Wr=function(t){return t.fold(Hr,jr)},Gr={fromResult:Wr,toResult:Ur,svalue:jr,partition:Lr,serror:Hr,bind:Vr,bindError:Fr,map:zr,mapError:Br,fold:Pr},qr=function(t){if(!O(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return j(t,(function(r,o){var i=Gn(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!O(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){var n=arguments.length;if(n!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var s=function(t){var n=Gn(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=K(e,(function(t){return z(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,r)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[o];return e.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:a,params:r})}}}})),n},Yr={generate:qr},Xr=Object.prototype.hasOwnProperty,Zr=function(t,e){return e},$r=function(t,e){var n=A(t)&&A(e);return n?Jr(t,e):e},Kr=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)Xr.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},Jr=Kr($r),Qr=Kr(Zr),to=Yr.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),eo=function(t){return to.defaultedThunk(u(t))},no=function(t){return to.mergeWithThunk(u(t))},ro=to.strict,oo=to.asOption,io=to.defaultedThunk,ao=(to.asDefaultedOptionThunk,to.mergeWithThunk),uo=(Yr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){var e=[],n=[];return j(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}),so=function(t,e){var n={};return Yn(t,(function(t,r){z(e,r)||(n[r]=t)})),n},co=function(t,e){var n;return n={},n[t]=e,n},lo=function(t){var e={};return j(t,(function(t){e[t.key]=t.value})),e},fo=function(t,e){return so(t,e)},ho=function(t,e){return co(t,e)},po=function(t){return lo(t)},mo=function(t,e){return 0===t.length?Rr.value(e):Rr.value(Jr(e,Qr.apply(void 0,t)))},go=function(t){return Rr.error(Z(t))},vo=function(t,e){var n=uo(t);return n.errors.length>0?go(n.errors):mo(n.values,e)},yo=function(t,e){return t.length>0?Gr.svalue(Jr(e,Qr.apply(void 0,t))):Gr.svalue(e)},bo=function(t){return i(Gr.serror,Z)(t)},xo=function(t,e){var n=Gr.partition(t);return n.errors.length>0?bo(n.errors):yo(n.values,e)},wo=function(t){var e=Gr.partition(t);return e.errors.length>0?bo(e.errors):Gr.svalue(e.values)},_o={consolidateObj:xo,consolidateArr:wo},So=function(t){return A(t)&&Gn(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Co=function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t;return F(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))},ko=function(t,e){return Gr.serror([{path:t,getErrorInfo:e}])},To=function(t,e,n){return ko(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+So(n)}))},Ao=function(t,e){return ko(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))},Oo=function(t,e,n){return ko(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+So(e)}))},Mo=function(t,e){return ko(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))},Do=function(t,e){return ko(t,(function(){return e}))},Io=Yr.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Eo=function(t,e,n){return nr(e,n).fold((function(){return To(t,n,e)}),Gr.svalue)},Ro=function(t,e,n){var r=nr(t,e).fold((function(){return n(t)}),s);return Gr.svalue(r)},No=function(t,e){return Gr.svalue(nr(t,e))},Po=function(t,e,n){var r=nr(t,e).map((function(e){return!0===e?n(t):e}));return Gr.svalue(r)},Lo=function(t,e,n,r){return n.fold((function(n,o,i,a){var s=function(e){var i=a.extract(t.concat([n]),r,e);return Gr.map(i,(function(t){return co(o,r(t))}))},c=function(e){return e.fold((function(){var t=co(o,r(_.none()));return Gr.svalue(t)}),(function(e){var i=a.extract(t.concat([n]),r,e);return Gr.map(i,(function(t){return co(o,r(_.some(t)))}))}))};return function(){return i.fold((function(){return Gr.bind(Eo(t,e,n),s)}),(function(t){return Gr.bind(Ro(e,n,t),s)}),(function(){return Gr.bind(No(e,n),c)}),(function(t){return Gr.bind(Po(e,n,t),c)}),(function(t){var r=t(e),o=Gr.map(Ro(e,n,u({})),(function(t){return Jr(r,t)}));return Gr.bind(o,s)}))}()}),(function(t,n){var o=n(e);return Gr.svalue(co(t,r(o)))}))},Bo=function(t,e,n,r){var o=F(n,(function(n){return Lo(t,e,n,r)}));return _o.consolidateObj(o,{})},zo=function(t){var e=function(e,n,r){return Gr.bindError(t(r,n),(function(t){return Do(e,t)}))},n=function(){return"val"};return{extract:e,toString:n}},Vo=function(t){return Gn(Jn(t,(function(t){return void 0!==t&&null!==t})))},Fo=function(t){var e=jo(t),n=W(t,(function(t,e){return e.fold((function(e){return Jr(t,ho(e,!0))}),u(t))}),{}),r=function(t,r,o){var i=M(o)?[]:Vo(o),a=U(i,(function(t){return!or(n,t)}));return 0===a.length?e.extract(t,r,o):Mo(t,a)};return{extract:r,toString:e.toString}},jo=function(t){var e=function(e,n,r){return Bo(e,r,t,n)},n=function(){var e=F(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}));return"obj{\n"+e.join("\n")+"}"};return{extract:e,toString:n}},Ho=function(t){var e=function(e,n,r){var o=F(r,(function(r,o){return t.extract(e.concat(["["+o+"]"]),n,r)}));return _o.consolidateArr(o)},n=function(){return"array("+t.toString()+")"};return{extract:e,toString:n}},Uo=function(t,e){var n=function(e,n){return Ho(zo(t)).extract(e,s,n)},r=function(t,r,o){var i=Gn(o),a=n(t,i);return Gr.bind(a,(function(n){var i=F(n,(function(t){return Io.field(t,t,ro(),e)}));return jo(i).extract(t,r,o)}))},o=function(){return"setOf("+e.toString()+")"};return{extract:r,toString:o}},Wo=u(zo(Gr.svalue)),Go=Io.state,qo=Io.field,Yo=function(t,e,n,r,o){var i=nr(r,o);return i.fold((function(){return Oo(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),e,n)}))},Xo=function(t,e){var n=function(n,r,o){var i=nr(o,t);return i.fold((function(){return Ao(n,t)}),(function(t){return Yo(n,r,o,e,t)}))},r=function(){return"chooseOn("+t+"). Possible values: "+Gn(e)};return{extract:n,toString:r}},Zo=zo(Gr.svalue),$o=function(t){return zo((function(e){return t(e).fold(Gr.serror,Gr.svalue)}))},Ko=function(t,e){return Uo((function(e){return Gr.fromResult(t(e))}),e)},Jo=function(t,e,n,r){var o=e.extract([t],n,r);return Gr.mapError(o,(function(t){return{input:r,errors:t}}))},Qo=function(t,e,n){return Gr.toResult(Jo(t,e,s,n))},ti=function(t){return t.fold((function(t){throw new Error(ni(t))}),s)},ei=function(t,e,n){return ti(Qo(t,e,n))},ni=function(t){return"Errors: \n"+Co(t.errors).join("\n")+"\n\nInput object: "+So(t.input)},ri=function(t,e){return Xo(t,Xn(e,jo))},oi=u(Zo),ii=function(t,e){return zo((function(n){var r=typeof n;return t(n)?Gr.svalue(n):Gr.serror("Expected type: "+e+" but got: "+r)}))},ai=ii(E,"function"),ui=function(t){return qo(t,t,ro(),Wo())},si=function(t,e){return qo(t,t,ro(),e)},ci=function(t){return si(t,ai)},li=function(t,e){return qo(t,t,oo(),zo((function(n){return Gr.serror("The field: "+t+" is forbidden. "+e)})))},fi=function(t,e){return qo(t,t,ro(),jo(e))},di=function(t){return qo(t,t,oo(),Wo())},hi=function(t,e){return qo(t,t,oo(),e)},pi=function(t,e){return hi(t,jo(e))},mi=function(t,e){return hi(t,Fo(e))},gi=function(t,e){return qo(t,t,eo(e),Wo())},vi=function(t,e,n){return qo(t,t,eo(e),n)},yi=function(t,e){return vi(t,e,ai)},bi=function(t,e,n){return vi(t,e,jo(n))},xi=function(t,e){return Go(t,e)},wi=[ui("alpha"),ui("omega")],_i=function(t){return E(t)?t:p},Si=function(t,e,n){var r=t.dom,o=_i(n);while(r.parentNode){r=r.parentNode;var i=We.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return _.none()},Ci=function(t,e,n){var r=e(t),o=_i(n);return r.orThunk((function(){return o(t)?_.none():Si(t,e,o)}))},ki=function(t,e){return Ze(t.element,e.event.target)},Ti=function(t){if(!or(t,"can")&&!or(t,"abort")&&!or(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return ei("Extracting event.handler",Fo([gi("can",m),gi("abort",p),gi("run",o)]),t)},Ai=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return G(t,(function(t,r){return t&&e(r).apply(void 0,n)}),!0)}},Oi=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return G(t,(function(t,r){return t||e(r).apply(void 0,n)}),!1)}},Mi=function(t){return E(t)?{can:u(!0),abort:u(!1),run:t}:t},Di=function(t){var e=Ai(t,(function(t){return t.can})),n=Oi(t,(function(t){return t.abort})),r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];j(t,(function(t){t.run.apply(void 0,e)}))};return Ti({can:e,abort:n,run:r})},Ii=function(t){return po(t)},Ei=function(t,e){return{key:t,value:Ti({abort:e})}},Ri=function(t,e){return{key:t,value:Ti({can:e})}},Ni=function(t,e){return{key:t,value:Ti({run:e})}},Pi=function(t,e,n){return{key:t,value:Ti({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},Li=function(t){return function(e){return Ni(t,e)}},Bi=function(t){return function(e){return{key:t,value:Ti({run:function(t,n){ki(t,n)&&e(t,n)}})}}},zi=function(t,e){return Ni(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){Re(e,e.element,t,r)}))}))},Vi=function(t,e,n){var r=e.partUids[n];return zi(t,r)},Fi=function(t){return Ni(t,(function(t,e){e.cut()}))},ji=function(t){return Ni(t,(function(t,e){e.stop()}))},Hi=function(t,e){return Bi(t)(e)},Ui=Bi(Se()),Wi=Bi(Ce()),Gi=Bi(_e()),qi=Li(ye()),Yi=function(t,e,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Xi(a.slice(0,1).concat(a.slice(3)))}},t},Xi=function(t){return F(t,(function(t){return yt(t,"/*")?t.substring(0,t.length-"/*".length):t}))},Zi=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Xi(i)}},t},$i=function(t,e){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Xi(i.slice(1))}},t},Ki=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}},Ji=function(t,n){return e(e({},t),{attributes:e(e({},t.attributes),n.attributes),styles:e(e({},t.styles),n.styles),classes:t.classes.concat(n.classes)})},Qi=function(t,e,n){return qi((function(r){n(r,t,e)}))},ta=function(t,e,n){return Gi((function(r,o){n(r,t,e)}))},ea=function(t,e,n,r,o,i){var a=Fo(t),u=pi(e,[mi("config",t)]);return ia(a,u,e,n,r,o,i)},na=function(t,e,n,r,o,i){var a=t,u=pi(e,[hi("config",t)]);return ia(a,u,e,n,r,o,i)},ra=function(t,e,n){var r=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:u(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(a,1);return e.apply(void 0,[r,t.config,t.state].concat(n))}))};return Yi(r,n,e)},oa=function(t){return{key:t,value:void 0}},ia=function(t,n,r,o,i,a,u){var s=function(t){return or(t,r)?t[r]():_.none()},l=Xn(i,(function(t,e){return ra(r,t,e)})),f=Xn(a,(function(t,e){return Zi(t,e)})),d=e(e(e({},f),l),{revoke:c(oa,r),config:function(e){var n=ei(r+"-config",t,e);return{key:r,value:{config:n,me:d,configAsRaw:g((function(){return ei(r+"-config",t,e)})),initialConfig:e,state:u}}},schema:function(){return n},exhibit:function(t,e){return s(t).bind((function(t){return nr(o,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(Ki({}))},name:function(){return r},handlers:function(t){return s(t).map((function(t){var e=nr(o,"events").getOr((function(){return{}}));return e(t.config,t.state)})).getOr({})}});return d},aa={init:function(){return ua({readState:function(){return"No State required"}})}},ua=function(t){return t},sa=function(t){return po(t)},ca=Fo([ui("fields"),ui("name"),gi("active",{}),gi("apis",{}),gi("state",aa),gi("extra",{})]),la=function(t){var e=ei("Creating behaviour: "+t.name,ca,t);return ea(e.fields,e.name,e.active,e.apis,e.extra,e.state)},fa=Fo([ui("branchKey"),ui("branches"),ui("name"),gi("active",{}),gi("apis",{}),gi("state",aa),gi("extra",{})]),da=function(t){var e=ei("Creating behaviour: "+t.name,fa,t);return na(ri(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},ha=u(void 0),pa=la({fields:wi,name:"swapping",apis:Mr}),ma=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},ga=function(){return We.fromDom(document)},va=function(t){return t.dom.focus()},ya=function(t){return t.dom.blur()},ba=function(t){var e=kn(t).dom;return t.dom===e.activeElement},xa=function(t){return void 0===t&&(t=ga()),_.from(t.dom.activeElement).map(We.fromDom)},wa=function(t){return xa(kn(t)).filter((function(e){return t.dom.contains(e.dom)}))},_a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Sa=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Ca=function(t){var e=document.createElement("a");e.target="_blank",e.href=t.href,e.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(e),e.dispatchEvent(n),document.body.removeChild(e)},ka=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],Ta=["undo","bold","italic","link","image","bullist","styleselect"],Aa=function(t){return!1===t.getParam("skin")},Oa=function(t){return!1},Ma=function(t){return t.getParam("toolbar",Ta,"array")},Da=function(t){return t.getParam("style_formats",ka,"array")},Ia=function(t){return t.getParam("skin_url")},Ea="formatChanged",Ra="orientationChanged",Na="dropupDismissed",Pa=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,fn(We.fromDom(r))},La=function(t){return t.dom.innerHTML},Ba=function(t,e){var n=rn(t),r=n.dom,o=We.fromDom(r.createDocumentFragment()),i=Pa(e,r);bn(o,i),xn(t),vn(t,o)},za=function(t){var e=We.fromTag("div"),n=We.fromDom(t.dom.cloneNode(!0));return vn(e,n),La(e)},Va=function(t,e){return We.fromDom(t.dom.cloneNode(e))},Fa=function(t){return Va(t,!1)},ja=function(t){var e=Fa(t);return za(e)},Ha=function(t){return ja(t)},Ua=function(t,e){return e.universal?t:U(t,(function(t){return z(e.channels,t)}))},Wa=function(t){return Ii([Ni(ve(),(function(e,n){var r=t.channels,o=Gn(r),i=n,a=Ua(o,i);j(a,(function(t){var n=r[t],o=n.schema,a=ei("channel["+t+"] data\nReceiver: "+Ha(e.element),o,i.data);n.onReceive(e,a)}))}))])},Ga=Object.freeze({__proto__:null,events:Wa}),qa="unknown";(function(t){t[t["STOP"]=0]="STOP",t[t["NORMAL"]=1]="NORMAL",t[t["LOGGING"]=2]="LOGGING"})(Nr||(Nr={}));var Ya=ma({}),Xa=function(t,e){var n=[],r=(new Date).getTime();return{logEventCut:function(t,e,r){n.push({outcome:"cut",target:e,purpose:r})},logEventStopped:function(t,e,r){n.push({outcome:"stopped",target:e,purpose:r})},logNoParent:function(t,e,r){n.push({outcome:"no-parent",target:e,purpose:r})},logEventNoHandlers:function(t,e){n.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,r){n.push({outcome:"response",purpose:r,target:e})},write:function(){var o=(new Date).getTime();z(["mousemove","mouseover","mouseout",_e()],t)||console.log(t,{event:t,time:o-r,target:e.dom,sequence:F(n,(function(t){return z(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Ha(t.target)+")":t.outcome}))})}}},Za=function(t,e,n){var r=nr(Ya.get(),t).orThunk((function(){var e=Gn(Ya.get());return ot(e,(function(e){return t.indexOf(e)>-1?_.some(Ya.get()[e]):_.none()}))})).getOr(Nr.NORMAL);switch(r){case Nr.NORMAL:return n(tu());case Nr.LOGGING:var o=Xa(t,e),i=n(o);return o.write(),i;case Nr.STOP:return!0}},$a=["alloy/data/Fields","alloy/debugging/Debugging"],Ka=function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");return Y(e,(function(t){return t.indexOf("alloy")>0&&!V($a,(function(e){return t.indexOf(e)>-1}))})).getOr(qa)}return qa},Ja={logEventCut:o,logEventStopped:o,logNoParent:o,logEventNoHandlers:o,logEventResponse:o,write:o},Qa=function(t,e,n){return Za(t,e,n)},tu=u(Ja),eu=u([ui("menu"),ui("selectedMenu")]),nu=u([ui("item"),ui("selectedItem")]),ru=(u(jo(nu().concat(eu()))),u(jo(nu()))),ou=fi("initSize",[ui("numColumns"),ui("numRows")]),iu=function(){return si("markers",ru())},au=function(){return fi("markers",[ui("backgroundMenu")].concat(eu()).concat(nu()))},uu=function(t){return fi("markers",F(t,ui))},su=function(t,e,n){Ka();return qo(e,e,n,$o((function(t){return Rr.value((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(void 0,e)}))})))},cu=function(t){return su("onHandler",t,eo(o))},lu=function(t){return su("onKeyboardHandler",t,eo(_.none))},fu=function(t){return su("onHandler",t,ro())},du=function(t){return su("onKeyboardHandler",t,ro())},hu=function(t,e){return xi(t,u(e))},pu=function(t){return xi(t,s)},mu=u(ou),gu=[si("channels",Ko(Rr.value,Fo([fu("onReceive"),gi("schema",oi())])))],vu=la({fields:gu,name:"receiving",active:Ga}),yu=function(t){var e=function(){var e=ma(t),n=function(){return e.get()},r=function(t){return e.set(t)},o=function(){return e.set(t)},i=function(){return e.get()};return{get:n,set:r,clear:o,readState:i}};return{init:e}},bu=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},xu=function(t,e,n){e.toggleClass.each((function(e){n.get()?br(t.element,e):wr(t.element,e)}))},wu=function(t,e,n){Cu(t,e,n,!n.get())},_u=function(t,e,n){n.set(!0),xu(t,e,n),bu(t,e,n)},Su=function(t,e,n){n.set(!1),xu(t,e,n),bu(t,e,n)},Cu=function(t,e,n,r){var o=r?_u:Su;o(t,e,n)},ku=function(t,e,n){return n.get()},Tu=function(t,e,n){Cu(t,e,n,e.selected)},Au=Object.freeze({__proto__:null,onLoad:Tu,toggle:wu,isOn:ku,on:_u,off:Su,set:Cu}),Ou=function(){return Ki({})},Mu=function(t,e){var n=Qi(t,e,wu),r=ta(t,e,Tu);return Ii(Z([t.toggleOnExecute?[n]:[],[r]]))},Du=Object.freeze({__proto__:null,exhibit:Ou,events:Mu}),Iu=function(t,e,n){ar(t.element,"aria-pressed",n),e.syncWithExpanded&&Nu(t,e,n)},Eu=function(t,e,n){ar(t.element,"aria-selected",n)},Ru=function(t,e,n){ar(t.element,"aria-checked",n)},Nu=function(t,e,n){ar(t.element,"aria-expanded",n)},Pu=[gi("selected",!1),di("toggleClass"),gi("toggleOnExecute",!0),vi("aria",{mode:"none"},ri("mode",{pressed:[gi("syncWithExpanded",!1),hu("update",Iu)],checked:[hu("update",Ru)],expanded:[hu("update",Nu)],selected:[hu("update",Eu)],none:[hu("update",o)]}))],Lu=la({fields:Pu,name:"toggling",active:Du,apis:Au,state:yu(!1)}),Bu=function(t,e){return vu.config({channels:ho(Ea,{onReceive:function(n,r){r.command===t&&e(n,r.state)}})})},zu=function(t){return vu.config({channels:ho(Ra,{onReceive:t})})},Vu=function(t,e){return{key:t,value:{onReceive:e}}},Fu="tinymce-mobile",ju=function(t){return Fu+"-"+t},Hu=function(){var t=function(t,e){e.stop(),De(t)};return[Ni(ce(),t),Ni(xe(),t),Fi(Jt()),Fi(ee())]},Uu=function(t){var e=function(t){return qi((function(e,n){t(e),n.stop()}))};return Ii(Z([t.map(e).toArray(),Hu()]))},Wu=function(t,e){e.ignore||(va(t.element),e.onFocus(t))},Gu=function(t,e){e.ignore||ya(t.element)},qu=function(t){return ba(t.element)},Yu=Object.freeze({__proto__:null,focus:Wu,blur:Gu,isFocused:qu}),Xu=function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return Ki(n)},Zu=function(t){return Ii([Ni(pe(),(function(e,n){Wu(e,t),n.stop()}))].concat(t.stopMousedown?[Ni(ee(),(function(t,e){e.event.prevent()}))]:[]))},$u=Object.freeze({__proto__:null,exhibit:Xu,events:Zu}),Ku=[cu("onFocus"),gi("stopMousedown",!1),gi("ignore",!1)],Ju=la({fields:Ku,name:"focusing",active:$u,apis:Yu}),Qu=function(t){return void 0!==t.style&&E(t.style.getPropertyValue)},ts=function(t,e,n){if(!T(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);Qu(t)&&t.style.setProperty(e,n)},es=function(t,e){Qu(t)&&t.style.removeProperty(e)},ns=function(t,e,n){var r=t.dom;ts(r,e,n)},rs=function(t,e){var n=t.dom;Yn(e,(function(t,e){ts(n,e,t)}))},os=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||Dn(t)?o:is(n,e)},is=function(t,e){return Qu(t)?t.style.getPropertyValue(e):""},as=function(t,e){var n=t.dom,r=is(n,e);return _.from(r).filter((function(t){return t.length>0}))},us=function(t,e){var n=t.dom;es(n,e),cr(t,"style").map(xt).is("")&&fr(t,"style")},ss=function(t){return t.dom.offsetWidth};function cs(t,e){var n=function(e,n){if(!R(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;Qu(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=os(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return G(e,(function(e,n){var r=os(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)},a=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}}var ls=cs("height",(function(t){var e=t.dom;return Dn(t)?e.getBoundingClientRect().height:e.offsetHeight})),fs=function(t){return ls.get(t)},ds=function(t,e,n){return U(sn(t,n),e)},hs=function(t,e){return U(cn(t),e)},ps=function(t){return Ye(t)},ms=function(t,e,n){return ds(t,(function(t){return Ge(t,e)}),n)},gs=function(t,e){return hs(t,(function(t){return Ge(t,e)}))},vs=function(t,e){return Ye(e,t)};function ys(t,e,n,r,o){return t(n,r)?_.some(n):E(o)&&o(n)?_.none():e(n,r,o)}var bs,xs=function(t,e,n){var r=t.dom,o=E(n)?n:p;while(r.parentNode){r=r.parentNode;var i=We.fromDom(r);if(e(i))return _.some(i);if(o(i))break}return _.none()},ws=function(t,e,n){var r=function(t,e){return e(t)};return ys(r,xs,t,e,n)},_s=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=We.fromDom(t.childNodes[r]);if(e(o))return _.some(o);var i=n(t.childNodes[r]);if(i.isSome())return i}return _.none()};return n(t.dom)},Ss=function(t){return Xe(t)},Cs=function(t,e,n){return xs(t,(function(t){return Ge(t,e)}),n)},ks=function(t,e){return Xe(e,t)},Ts=function(t,e,n){var r=function(t,e){return Ge(t,e)};return ys(r,Cs,t,e,n)},As=[8],Os=[9],Ms=[13],Ds=[27],Is=[32],Es=[37],Rs=[38],Ns=[39],Ps=[40],Ls=function(t,e,n){var r=J(t.slice(0,e)),o=J(t.slice(e+1));return Y(r.concat(o),n)},Bs=function(t,e,n){var r=J(t.slice(0,e));return Y(r,n)},zs=function(t,e,n){var r=t.slice(0,e),o=t.slice(e+1);return Y(o.concat(r),n)},Vs=function(t,e,n){var r=t.slice(e+1);return Y(r,n)},Fs=function(t){return function(e){var n=e.raw;return z(t,n.which)}},js=function(t){return function(e){return K(t,(function(t){return t(e)}))}},Hs=function(t){var e=t.raw;return!0===e.shiftKey},Us=function(t){var e=t.raw;return!0===e.ctrlKey},Ws=f(Hs),Gs=function(t,e){return{matches:t,classification:e}},qs=function(t,e){var n=Y(t,(function(t){return t.matches(e)}));return n.map((function(t){return t.classification}))},Ys=function(t,e,n,r){var o=t+e;return o>r?n:o<n?r:o},Xs=function(t,e,n){return Math.min(Math.max(t,e),n)},Zs=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},$s=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return _.none();e.push(r.getOrDie())}return _.some(e)},Ks=function(t,e){return t?_.some(e):_.none()},Js=function(t,e,n,r){var o=vs(t.element,"."+e.highlightClass);j(o,(function(n){V(r,(function(t){return t.element===n}))||(wr(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),Oe(n,Ae())})))}))},Qs=function(t,e,n){return Js(t,e,n,[])},tc=function(t,e,n,r){ac(t,e,n,r)&&(wr(r.element,e.highlightClass),e.onDehighlight(t,r),Oe(r,Ae()))},ec=function(t,e,n,r){Js(t,e,n,[r]),ac(t,e,n,r)||(br(r.element,e.highlightClass),e.onHighlight(t,r),Oe(r,Te()))},nc=function(t,e,n){cc(t,e).each((function(r){ec(t,e,n,r)}))},rc=function(t,e,n){lc(t,e).each((function(r){ec(t,e,n,r)}))},oc=function(t,e,n,r){sc(t,e,n,r).fold((function(t){throw new Error(t)}),(function(r){ec(t,e,n,r)}))},ic=function(t,e,n,r){var o=pc(t,e),i=Y(o,r);i.each((function(r){ec(t,e,n,r)}))},ac=function(t,e,n,r){return _r(r.element,e.highlightClass)},uc=function(t,e,n){return ks(t.element,"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},sc=function(t,e,n,r){var o=vs(t.element,"."+e.itemClass);return _.from(o[r]).fold((function(){return Rr.error("No element found with index "+r)}),t.getSystem().getByDom)},cc=function(t,e,n){return ks(t.element,"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},lc=function(t,e,n){var r=vs(t.element,"."+e.itemClass),o=r.length>0?_.some(r[r.length-1]):_.none();return o.bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},fc=function(t,e,n,r){var o=vs(t.element,"."+e.itemClass),i=X(o,(function(t){return _r(t,e.highlightClass)}));return i.bind((function(e){var n=Ys(e,r,0,o.length-1);return t.getSystem().getByDom(o[n]).toOptional()}))},dc=function(t,e,n){return fc(t,e,n,-1)},hc=function(t,e,n){return fc(t,e,n,1)},pc=function(t,e,n){var r=vs(t.element,"."+e.itemClass);return Zs(F(r,(function(e){return t.getSystem().getByDom(e).toOptional()})))},mc=Object.freeze({__proto__:null,dehighlightAll:Qs,dehighlight:tc,highlight:ec,highlightFirst:nc,highlightLast:rc,highlightAt:oc,highlightBy:ic,isHighlighted:ac,getHighlighted:uc,getFirst:cc,getLast:lc,getPrevious:dc,getNext:hc,getCandidates:pc}),gc=[ui("highlightClass"),ui("itemClass"),cu("onHighlight"),cu("onDehighlight")],vc=la({fields:gc,name:"highlighting",apis:mc}),yc=function(t,e,n){var r=e.exists((function(t){return n.exists((function(e){return Ze(e,t)}))}));r||Me(t,ke(),{prevFocus:e,newFocus:n})},bc=function(){var t=function(t){return wa(t.element)},e=function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element);var o=t(e);yc(e,r,o)};return{get:t,set:e}},xc=function(){var t=function(t){return vc.getHighlighted(t).map((function(t){return t.element}))},e=function(e,n){var r=t(e);e.getSystem().getByDom(n).fold(o,(function(t){vc.highlight(e,t)}));var i=t(e);yc(e,r,i)};return{get:t,set:e}};(function(t){t["OnFocusMode"]="onFocus",t["OnEnterOrSpaceMode"]="onEnterOrSpace",t["OnApiMode"]="onApi"})(bs||(bs={}));var wc=function(t,e,n,r,o){var i=function(){return t.concat([gi("focusManager",bc()),vi("focusInside","onFocus",$o((function(t){return z(["onFocus","onEnterOrSpace","onApi"],t)?Rr.value(t):Rr.error("Invalid value for focusInside")}))),hu("handler",s),hu("state",e),hu("sendFocusIn",o)])},a=function(t,e,n,r,o){var i=n(t,e,r,o);return qs(i,e.event).bind((function(n){return n(t,e,r,o)}))},u=function(t,e){var i=t.focusInside!==bs.OnFocusMode?_.none():o(t).map((function(n){return Ni(pe(),(function(r,o){n(r,t,e),o.stop()}))})),u=function(n,r){var i=Fs(Is.concat(Ms))(r.event);t.focusInside===bs.OnEnterOrSpaceMode&&i&&ki(n,r)&&o(t).each((function(o){o(n,t,e),r.stop()}))},s=[Ni(ie(),(function(r,o){a(r,o,n,t,e).fold((function(){u(r,o)}),(function(t){o.stop()}))})),Ni(ae(),(function(n,o){a(n,o,r,t,e).each((function(t){o.stop()}))}))];return Ii(i.toArray().concat(s))},s={schema:i,processKey:a,toEvents:u};return s},_c=function(t){var e=[di("onEscape"),di("onEnter"),gi("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),gi("firstTabstop",0),gi("useTabstopAt",m),di("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return Ts(e,t)})).getOr(e);return fs(n)>0},r=function(t,e){var r=vs(t.element,e.selector),o=U(r,(function(t){return n(e,t)}));return _.from(o[e.firstTabstop])},o=function(t,e){return e.focusManager.get(t).bind((function(t){return Ts(t,e.selector)}))},i=function(t,e){return n(t,e)&&t.useTabstopAt(e)},a=function(t,e,n){r(t,e).each((function(n){e.focusManager.set(t,n)}))},s=function(t,e,n,r,o){return o(e,n,(function(t){return i(r,t)})).fold((function(){return r.cyclic?_.some(!0):_.none()}),(function(e){return r.focusManager.set(t,e),_.some(!0)}))},l=function(t,e,n,r){var i=vs(t.element,n.selector);return o(t,n).bind((function(e){var o=X(i,c(Ze,e));return o.bind((function(e){return s(t,i,e,n,r)}))}))},f=function(t,e,n){var r=n.cyclic?Ls:Bs;return l(t,e,n,r)},d=function(t,e,n){var r=n.cyclic?zs:Vs;return l(t,e,n,r)},h=function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))},p=function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))},g=u([Gs(js([Hs,Fs(Os)]),f),Gs(Fs(Os),d),Gs(Fs(Ds),p),Gs(js([Ws,Fs(Ms)]),h)]),v=u([]);return wc(e,aa.init,g,v,(function(){return _.some(a)}))},Sc=_c(xi("cyclic",p)),Cc=_c(xi("cyclic",m)),kc=function(t){return"input"===$e(t)&&"radio"!==sr(t,"type")||"textarea"===$e(t)},Tc=function(t,e,n){return Ie(t,n,ye()),_.some(!0)},Ac=function(t,e,n){var r=kc(n)&&Fs(Is)(e.event);return r?_.none():Tc(t,e,n)},Oc=function(t,e){return _.some(!0)},Mc=[gi("execute",Ac),gi("useSpace",!1),gi("useEnter",!0),gi("useControlEnter",!1),gi("useDown",!1)],Dc=function(t,e,n){return n.execute(t,e,t.element)},Ic=function(t,e,n,r){var o=n.useSpace&&!kc(t.element)?Is:[],i=n.useEnter?Ms:[],a=n.useDown?Ps:[],u=o.concat(i).concat(a);return[Gs(Fs(u),Dc)].concat(n.useControlEnter?[Gs(js([Us,Fs(Ms)]),Dc)]:[])},Ec=function(t,e,n,r){return n.useSpace&&!kc(t.element)?[Gs(Fs(Is),Oc)]:[]},Rc=wc(Mc,aa.init,Ic,Ec,(function(){return _.none()})),Nc=function(){var t=ma(_.none()),e=function(e,n){t.set(_.some({numRows:e,numColumns:n}))},n=function(){return t.get().map((function(t){return t.numRows}))},r=function(){return t.get().map((function(t){return t.numColumns}))};return ua({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:e,getNumRows:n,getNumColumns:r})},Pc=function(t){return t.state(t)},Lc=Object.freeze({__proto__:null,flatgrid:Nc,init:Pc}),Bc=function(t,e){return function(n){return"rtl"===zc(n)?e:t}},zc=function(t){return"rtl"===os(t,"direction")?"rtl":"ltr"},Vc=function(t){return function(e,n,r,o){var i=t(e.element);return Uc(i,e,n,r,o)}},Fc=function(t,e){var n=Bc(t,e);return Vc(n)},jc=function(t,e){var n=Bc(e,t);return Vc(n)},Hc=function(t){return function(e,n,r,o){return Uc(t,e,n,r,o)}},Uc=function(t,e,n,r,o){var i=r.focusManager.get(e).bind((function(n){return t(e.element,n,r,o)}));return i.map((function(t){return r.focusManager.set(e,t),!0}))},Wc=Hc,Gc=Hc,qc=Hc,Yc=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Xc=function(t){return!Yc(t.dom)},Zc=function(t,e){return X(t,e).map((function(e){return{index:e,candidates:t}}))},$c=function(t,e,n){var r=function(t){return Ze(t,e)},o=vs(t,n),i=U(o,Xc);return Zc(i,r)},Kc=function(t,e){return X(t,(function(t){return Ze(e,t)}))},Jc=function(t,e,n,r){var o=Math.floor(e/n),i=e%n;return r(o,i).bind((function(e){var r=e.row*n+e.column;return r>=0&&r<t.length?_.some(t[r]):_.none()}))},Qc=function(t,e,n,r,o){return Jc(t,e,r,(function(e,i){var a=e===n-1,u=a?t.length-e*r:r,s=Ys(i,o,0,u-1);return _.some({row:e,column:s})}))},tl=function(t,e,n,r,o){return Jc(t,e,r,(function(e,i){var a=Ys(e,o,0,n-1),u=a===n-1,s=u?t.length-a*r:r,c=Xs(i,0,s-1);return _.some({row:a,column:c})}))},el=function(t,e,n,r){return Qc(t,e,n,r,1)},nl=function(t,e,n,r){return Qc(t,e,n,r,-1)},rl=function(t,e,n,r){return tl(t,e,n,r,-1)},ol=function(t,e,n,r){return tl(t,e,n,r,1)},il=[ui("selector"),gi("execute",Ac),lu("onEscape"),gi("captureTab",!1),mu()],al=function(t,e,n){ks(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))},ul=function(t,e){return e.focusManager.get(t).bind((function(t){return Ts(t,e.selector)}))},sl=function(t,e,n,r){return ul(t,n).bind((function(r){return n.execute(t,e,r)}))},cl=function(t){return function(e,n,r,o){return $c(e,n,r.selector).bind((function(e){return t(e.candidates,e.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},ll=function(t,e,n){return n.captureTab?_.some(!0):_.none()},fl=function(t,e,n){return n.onEscape(t,e)},dl=cl(nl),hl=cl(el),pl=cl(rl),ml=cl(ol),gl=u([Gs(Fs(Es),Fc(dl,hl)),Gs(Fs(Ns),jc(dl,hl)),Gs(Fs(Rs),Wc(pl)),Gs(Fs(Ps),Gc(ml)),Gs(js([Hs,Fs(Os)]),ll),Gs(js([Ws,Fs(Os)]),ll),Gs(Fs(Ds),fl),Gs(Fs(Is.concat(Ms)),sl)]),vl=u([Gs(Fs(Is),Oc)]),yl=wc(il,Nc,gl,vl,(function(){return _.some(al)})),bl=function(t,e,n,r){var o=function(t){return"button"===$e(t)&&"disabled"===sr(t,"disabled")},i=function(t,e,n){var a=Ys(e,r,0,n.length-1);return a===t?_.none():o(n[a])?i(t,a,n):_.from(n[a])};return $c(t,n,e).bind((function(t){var e=t.index,n=t.candidates;return i(e,e,n)}))},xl=[ui("selector"),gi("getInitial",_.none),gi("execute",Ac),lu("onEscape"),gi("executeOnMove",!1),gi("allowVertical",!0)],wl=function(t,e){return e.focusManager.get(t).bind((function(t){return Ts(t,e.selector)}))},_l=function(t,e,n){return wl(t,n).bind((function(r){return n.execute(t,e,r)}))},Sl=function(t,e,n){e.getInitial(t).orThunk((function(){return ks(t.element,e.selector)})).each((function(n){e.focusManager.set(t,n)}))},Cl=function(t,e,n){return bl(t,n.selector,e,-1)},kl=function(t,e,n){return bl(t,n.selector,e,1)},Tl=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?_l(e,n,r):_.some(!0)}))}},Al=function(t,e,n){return n.onEscape(t,e)},Ol=function(t,e,n,r){var o=Es.concat(n.allowVertical?Rs:[]),i=Ns.concat(n.allowVertical?Ps:[]);return[Gs(Fs(o),Tl(Fc(Cl,kl))),Gs(Fs(i),Tl(jc(Cl,kl))),Gs(Fs(Ms),_l),Gs(Fs(Is),_l),Gs(Fs(Ds),Al)]},Ml=u([Gs(Fs(Is),Oc)]),Dl=wc(xl,aa.init,Ol,Ml,(function(){return _.some(Sl)})),Il=function(t,e,n){return _.from(t[e]).bind((function(t){return _.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))},El=function(t,e,n,r){var o=t[e],i=o.length,a=Ys(n,r,0,i-1);return Il(t,e,a)},Rl=function(t,e,n,r){var o=Ys(n,r,0,t.length-1),i=t[o].length,a=Xs(e,0,i-1);return Il(t,o,a)},Nl=function(t,e,n,r){var o=t[e],i=o.length,a=Xs(n+r,0,i-1);return Il(t,e,a)},Pl=function(t,e,n,r){var o=Xs(n+r,0,t.length-1),i=t[o].length,a=Xs(e,0,i-1);return Il(t,o,a)},Ll=function(t,e,n){return El(t,e,n,1)},Bl=function(t,e,n){return El(t,e,n,-1)},zl=function(t,e,n){return Rl(t,n,e,-1)},Vl=function(t,e,n){return Rl(t,n,e,1)},Fl=function(t,e,n){return Nl(t,e,n,-1)},jl=function(t,e,n){return Nl(t,e,n,1)},Hl=function(t,e,n){return Pl(t,n,e,-1)},Ul=function(t,e,n){return Pl(t,n,e,1)},Wl=[fi("selectors",[ui("row"),ui("cell")]),gi("cycles",!0),gi("previousSelector",_.none),gi("execute",Ac)],Gl=function(t,e,n){var r=e.previousSelector(t).orThunk((function(){var n=e.selectors;return ks(t.element,n.cell)}));r.each((function(n){e.focusManager.set(t,n)}))},ql=function(t,e,n){return wa(t.element).bind((function(r){return n.execute(t,e,r)}))},Yl=function(t,e){return F(t,(function(t){return vs(t,e.selectors.cell)}))},Xl=function(t,e){return function(n,r,o){var i=o.cycles?t:e;return Ts(r,o.selectors.row).bind((function(t){var e=vs(t,o.selectors.cell);return Kc(e,r).bind((function(e){var r=vs(n,o.selectors.row);return Kc(r,t).bind((function(t){var n=Yl(r,o);return i(n,t,e).map((function(t){return t.cell}))}))}))}))}},Zl=Xl(Bl,Fl),$l=Xl(Ll,jl),Kl=Xl(zl,Hl),Jl=Xl(Vl,Ul),Ql=u([Gs(Fs(Es),Fc(Zl,$l)),Gs(Fs(Ns),jc(Zl,$l)),Gs(Fs(Rs),Wc(Kl)),Gs(Fs(Ps),Gc(Jl)),Gs(Fs(Is.concat(Ms)),ql)]),tf=u([Gs(Fs(Is),Oc)]),ef=wc(Wl,aa.init,Ql,tf,(function(){return _.some(Gl)})),nf=[ui("selector"),gi("execute",Ac),gi("moveOnTab",!1)],rf=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))},of=function(t,e,n){ks(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))},af=function(t,e,n){return bl(t,n.selector,e,-1)},uf=function(t,e,n){return bl(t,n.selector,e,1)},sf=function(t,e,n,r){return n.moveOnTab?qc(af)(t,e,n,r):_.none()},cf=function(t,e,n,r){return n.moveOnTab?qc(uf)(t,e,n,r):_.none()},lf=u([Gs(Fs(Rs),qc(af)),Gs(Fs(Ps),qc(uf)),Gs(js([Hs,Fs(Os)]),sf),Gs(js([Ws,Fs(Os)]),cf),Gs(Fs(Ms),rf),Gs(Fs(Is),rf)]),ff=u([Gs(Fs(Is),Oc)]),df=wc(nf,aa.init,lf,ff,(function(){return _.some(of)})),hf=[lu("onSpace"),lu("onEnter"),lu("onShiftEnter"),lu("onLeft"),lu("onRight"),lu("onTab"),lu("onShiftTab"),lu("onUp"),lu("onDown"),lu("onEscape"),gi("stopSpaceKeyup",!1),di("focusIn")],pf=function(t,e,n){return[Gs(Fs(Is),n.onSpace),Gs(js([Ws,Fs(Ms)]),n.onEnter),Gs(js([Hs,Fs(Ms)]),n.onShiftEnter),Gs(js([Hs,Fs(Os)]),n.onShiftTab),Gs(js([Ws,Fs(Os)]),n.onTab),Gs(Fs(Rs),n.onUp),Gs(Fs(Ps),n.onDown),Gs(Fs(Es),n.onLeft),Gs(Fs(Ns),n.onRight),Gs(Fs(Is),n.onSpace),Gs(Fs(Ds),n.onEscape)]},mf=function(t,e,n){return n.stopSpaceKeyup?[Gs(Fs(Is),Oc)]:[]},gf=wc(hf,aa.init,pf,mf,(function(t){return t.focusIn})),vf=Sc.schema(),yf=Cc.schema(),bf=Dl.schema(),xf=yl.schema(),wf=ef.schema(),_f=Rc.schema(),Sf=df.schema(),Cf=gf.schema(),kf=Object.freeze({__proto__:null,acyclic:vf,cyclic:yf,flow:bf,flatgrid:xf,matrix:wf,execution:_f,menu:Sf,special:Cf}),Tf=function(t){return or(t,"setGridSize")},Af=da({branchKey:"mode",branches:kf,name:"keying",active:{events:function(t,e){var n=t.handler;return n.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,e,n)}))},setGridSize:function(t,e,n,r,o){Tf(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Lc}),Of=function(t,e){return bi(t,{},F(e,(function(e){return li(e.name(),"Cannot configure "+e.name()+" for "+t)})).concat([xi("dump",s)]))},Mf=function(t){return t.dump},Df=function(t,n){return e(e({},t.dump),sa(n))},If={field:Of,augment:Df,get:Mf},Ef="placeholder",Rf=Yr.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Nf=function(t){return rr(t,"uiType")},Pf=function(t,e,n,r){return t.exists((function(t){return t!==n.owner}))?Rf.single(!0,u(n)):nr(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+Gn(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))},Lf=function(t,e,n,r){return Nf(n)&&n.uiType===Ef?Pf(t,e,n,r):Rf.single(!1,u(n))},Bf=function(t,n,r,o){var i=Lf(t,n,r,o);return i.fold((function(i,a){var u=Nf(r)?a(n,r.config,r.validated):a(n),s=nr(u,"components").getOr([]),c=$(s,(function(e){return Bf(t,n,e,o)}));return[e(e({},u),{components:c})]}),(function(t,e){if(Nf(r)){var o=e(n,r.config,r.validated),i=r.validated.preprocess.getOr(s);return i(o)}return e(n)}))},zf=function(t,e,n,r){return $(n,(function(n){return Bf(t,e,n,r)}))},Vf=function(t,e){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+t);return n=!0,e},i=function(){return e.fold((function(t,e){return t}),(function(t,e){return t}))};return{name:u(t),required:i,used:r,replace:o}},Ff=function(t,e,n,r){var o=Xn(r,(function(t,e){return Vf(e,t)})),i=zf(t,e,n,o);return Yn(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),i},jf=Rf.single,Hf=Rf.multiple,Uf=u(Ef),Wf=0,Gf=function(t){var e=new Date,n=e.getTime(),r=Math.floor(1e9*Math.random());return Wf++,t+"_"+r+Wf+String(n)},qf=Yr.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Yf=gi("factory",{sketch:s}),Xf=gi("schema",[]),Zf=ui("name"),$f=qo("pname","pname",io((function(t){return"<alloy."+Gf(t.name)+">"})),oi()),Kf=xi("schema",(function(){return[di("preprocess")]})),Jf=gi("defaults",u({})),Qf=gi("overrides",u({})),td=jo([Yf,Xf,Zf,$f,Jf,Qf]),ed=jo([Yf,Xf,Zf,Jf,Qf]),nd=jo([Yf,Xf,Zf,$f,Jf,Qf]),rd=jo([Yf,Kf,Zf,ui("unit"),$f,Jf,Qf]),od=function(t){return t.fold(_.some,_.none,_.some,_.some)},id=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},ad=function(t,e){return function(n){var r=ei("Converting part type",e,n);return t(r)}},ud=ad(qf.required,td),sd=(ad(qf.external,ed),ad(qf.optional,nd)),cd=ad(qf.group,rd),ld=u("entirety"),fd=function(t,e,n,r){return Jr(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},dd=function(t,e,n){var r={},o={};return j(n,(function(t){t.fold((function(t){r[t.pname]=jf(!0,(function(e,n,r){return t.factory.sketch(fd(e,t,n,r))}))}),(function(t){var n=e.parts[t.name];o[t.name]=u(t.factory.sketch(fd(e,t,n[ld()]),n))}),(function(t){r[t.pname]=jf(!1,(function(e,n,r){return t.factory.sketch(fd(e,t,n,r))}))}),(function(t){r[t.pname]=Hf(!0,(function(e,n,r){var o=e[t.name];return F(o,(function(n){return t.factory.sketch(Jr(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))})),{internals:u(r),externals:u(o)}},hd=function(t,n){var r={};return j(n,(function(n){od(n).each((function(n){var o=pd(t,n.pname);r[n.name]=function(r){var i=ei("Part: "+n.name+" in "+t,jo(n.schema),r);return e(e({},o),{config:r,validated:i})}}))})),r},pd=function(t,e){return{uiType:Uf(),owner:t,name:e}},md=function(t,e,n){return{uiType:Uf(),owner:t,name:e,config:n,validated:{}}},gd=function(t){return $(t,(function(t){return t.fold(_.none,_.some,_.none,_.none).map((function(t){return fi(t.name,t.schema.concat([pu(ld())]))})).toArray()}))},vd=function(t){return F(t,id)},yd=function(t,e,n){return dd(t,e,n)},bd=function(t,e,n){return Ff(_.some(t),e,e.components,n)},xd=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOptional()},wd=function(t,e,n){return xd(t,e,n).getOrDie("Could not find part: "+n)},_d=function(t,e){var n=t.getSystem();return Xn(e.partUids,(function(t,e){return u(n.getByUid(t))}))},Sd=function(t,e){var n=vd(e);return po(F(n,(function(e){return{key:e,value:t+"-"+e}})))},Cd=function(t){return qo("partUids","partUids",ao((function(e){return Sd(e.uid,t)})),oi())},kd=Gf("alloy-premade"),Td=function(t){return ho(kd,t)},Ad=function(t){return nr(t,kd)},Od=function(t){return $i((function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return t.apply(void 0,r([e.getApis(),e],n))}),t)},Md=u("alloy-id-"),Dd=u("data-alloy-id"),Id=Md(),Ed=Dd(),Rd=function(t,e){var n=Gf(Id+t);return Nd(e,n),n},Nd=function(t,e){Object.defineProperty(t.dom,Ed,{value:e,writable:!0})},Pd=function(t){var e=Qe(t)?t.dom[Ed]:null;return _.from(e)},Ld=function(t){return Gf(t)},Bd=function(t,e){var n=t.length>0?[fi("parts",t)]:[];return n.concat([ui("uid"),gi("dom",{}),gi("components",[]),pu("originalSpec"),gi("debug.sketcher",{})]).concat(e)},zd=function(t,e,n,r,o){var i=Bd(r,o);return ei(t+" [SpecSchema]",Fo(i.concat(e)),n)},Vd=function(t,e,n,r){var o=Hd(r),i=zd(t,e,o,[],[]);return n(i,o)},Fd=function(t,e,n,r,o){var i=Hd(o),a=gd(n),u=Cd(n),s=zd(t,e,i,a,[u]),c=yd(t,s,n),l=bd(t,s,c.internals());return r(s,l,i,c.externals())},jd=function(t){return rr(t,"uid")},Hd=function(t){return jd(t)?t:e(e({},t),{uid:Ld("uid")})};function Ud(t){return void 0!==t.uid}var Wd=Fo([ui("name"),ui("factory"),ui("configFields"),gi("apis",{}),gi("extraApis",{})]),Gd=Fo([ui("name"),ui("factory"),ui("configFields"),ui("partFields"),gi("apis",{}),gi("extraApis",{})]),qd=function(t){var n=ei("Sketcher for "+t.name,Wd,t),r=function(t){return Vd(n.name,n.configFields,n.factory,t)},o=Xn(n.apis,Od),i=Xn(n.extraApis,(function(t,e){return Zi(t,e)}));return e(e({name:n.name,configFields:n.configFields,sketch:r},o),i)},Yd=function(t){var n=ei("Sketcher for "+t.name,Gd,t),r=function(t){return Fd(n.name,n.configFields,n.partFields,n.factory,t)},o=hd(n.name,n.partFields),i=Xn(n.apis,Od),a=Xn(n.extraApis,(function(t,e){return Zi(t,e)}));return e(e({name:n.name,partFields:n.partFields,configFields:n.configFields,sketch:r,parts:o},i),a)},Xd=function(t){var n=Uu(t.action),r=t.dom.tag,o=function(e){return nr(t.dom,"attributes").bind((function(t){return nr(t,e)}))},i=function(){if("button"===r){var t=o("type").getOr("button"),n=o("role").map((function(t){return{role:t}})).getOr({});return e({type:t},n)}var i=o("role").getOr("button");return{role:i}};return{uid:t.uid,dom:t.dom,components:t.components,events:n,behaviours:If.augment(t.buttonBehaviours,[Ju.config({}),Af.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i()},eventOrder:t.eventOrder}},Zd=qd({name:"Button",factory:Xd,configFields:[gi("uid",void 0),ui("dom"),gi("components",[]),If.field("buttonBehaviours",[Ju,Af]),di("action"),di("role"),gi("eventOrder",{})]}),$d=function(){return Ki({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},Kd=function(){return Ii([Ei(fe(),m)])},Jd=Object.freeze({__proto__:null,events:Kd,exhibit:$d}),Qd=la({fields:[],name:"unselecting",active:Jd}),th=function(t){var n=void 0!==t.dom.attributes?t.dom.attributes:[];return G(n,(function(t,n){var r;return"class"===n.name?t:e(e({},t),(r={},r[n.name]=n.value,r))}),{})},eh=function(t){return Array.prototype.slice.call(t.dom.classList,0)},nh=function(t){var n=We.fromHtml(t),r=fn(n),o=th(n),i=eh(n),a=0===r.length?{}:{innerHtml:La(n)};return e({tag:$e(n),classes:i,attributes:o},a)},rh=function(t){var e=gt(t,{prefix:Fu});return nh(e)},oh=function(t){return{dom:rh(t)}},ih=function(t,e){return lh(e,(function(){t.execCommand(e)}),{},t)},ah=function(t){return sa([Lu.config({toggleClass:ju("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),Bu(t,(function(t,e){var n=e?Lu.on:Lu.off;n(t)}))])},uh=function(t,e){var n=ah(e);return lh(e,(function(){t.execCommand(e)}),n,t)},sh=function(t,e,n,r){var o=ah(n);return lh(e,r,o,t)},ch=function(t,e){var n=e.ui.registry.getAll().icons,r=_.from(n[t]);return r.fold((function(){return rh('<span class="${prefix}-toolbar-button ${prefix}-toolbar-group-item ${prefix}-icon-'+t+' ${prefix}-icon"></span>')}),(function(t){return rh('<span class="${prefix}-toolbar-button ${prefix}-toolbar-group-item">'+t+"</span>")}))},lh=function(t,e,n,r){return Zd.sketch({dom:ch(t,r),action:e,buttonBehaviours:Jr(sa([Qd.config({})]),n)})},fh=sd({schema:[ui("dom")],name:"label"}),dh=function(t){return sd({name:t+"-edge",overrides:function(e){var n=e.model.manager.edgeActions[t];return n.fold((function(){return{}}),(function(t){return{events:Ii([Pi(Jt(),(function(e,n,r){return t(e,r)}),[e]),Pi(ee(),(function(e,n,r){return t(e,r)}),[e]),Pi(ne(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})},hh=dh("top-left"),ph=dh("top"),mh=dh("top-right"),gh=dh("right"),vh=dh("bottom-right"),yh=dh("bottom"),bh=dh("bottom-left"),xh=dh("left"),wh=ud({name:"thumb",defaults:u({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Ii([Vi(Jt(),t,"spectrum"),Vi(Qt(),t,"spectrum"),Vi(te(),t,"spectrum"),Vi(ee(),t,"spectrum"),Vi(ne(),t,"spectrum"),Vi(re(),t,"spectrum")])}}}),_h=ud({schema:[xi("mouseIsDown",(function(){return ma(!1)}))],name:"spectrum",overrides:function(t){var e=t.model,n=e.manager,r=function(e,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(e,t,r)}))};return{behaviours:sa([Af.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),Ju.config({})]),events:Ii([Ni(Jt(),r),Ni(Qt(),r),Ni(ee(),r),Ni(ne(),(function(e,n){t.mouseIsDown.get()&&r(e,n)}))])}}}),Sh=[fh,xh,gh,ph,yh,hh,mh,bh,vh,wh,_h],Ch=function(t,e,n){e.store.manager.onLoad(t,e,n)},kh=function(t,e,n){e.store.manager.onUnload(t,e,n)},Th=function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},Ah=function(t,e,n){return e.store.manager.getValue(t,e,n)},Oh=function(t,e,n){return n},Mh=Object.freeze({__proto__:null,onLoad:Ch,onUnload:kh,setValue:Th,getValue:Ah,getState:Oh}),Dh=function(t,e){var n=t.resetOnDom?[Ui((function(n,r){Ch(n,t,e)})),Wi((function(n,r){kh(n,t,e)}))]:[ta(t,e,Ch)];return Ii(n)},Ih=Object.freeze({__proto__:null,events:Dh}),Eh=function(){var t=ma(null),e=function(){return{mode:"memory",value:t.get()}},n=function(){return null===t.get()},r=function(){t.set(null)};return ua({set:t.set,get:t.get,isNotSet:n,clear:r,readState:e})},Rh=function(){var t=function(){};return ua({readState:t})},Nh=function(){var t=ma({}),n=ma({}),r=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:n.get()}},o=function(){t.set({}),n.set({})},i=function(e){return nr(t.get(),e).orThunk((function(){return nr(n.get(),e)}))},a=function(r){var o=t.get(),i=n.get(),a={},u={};j(r,(function(t){a[t.value]=t,nr(t,"meta").each((function(e){nr(e,"text").each((function(e){u[e]=t}))}))})),t.set(e(e({},o),a)),n.set(e(e({},i),u))};return ua({readState:r,lookup:i,update:a,clear:o})},Ph=function(t){return t.store.manager.state(t)},Lh=Object.freeze({__proto__:null,memory:Eh,dataset:Nh,manual:Rh,init:Ph}),Bh=function(t,e,n,r){var o=e.store;n.update([r]),o.setValue(t,r),e.onSetValue(t,r)},zh=function(t,e,n){var r=e.store,o=r.getDataKey(t);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))},Vh=function(t,e,n){var r=e.store;r.initialValue.each((function(r){Bh(t,e,n,r)}))},Fh=function(t,e,n){n.clear()},jh=[di("initialValue"),ui("getFallbackEntry"),ui("getDataKey"),ui("setValue"),hu("manager",{setValue:Bh,getValue:zh,onLoad:Vh,onUnload:Fh,state:Nh})],Hh=function(t,e,n){return e.store.getValue(t)},Uh=function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},Wh=function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},Gh=[ui("getValue"),gi("setValue",o),di("initialValue"),hu("manager",{setValue:Uh,getValue:Hh,onLoad:Wh,onUnload:o,state:aa.init})],qh=function(t,e,n,r){n.set(r),e.onSetValue(t,r)},Yh=function(t,e,n){return n.get()},Xh=function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},Zh=function(t,e,n){n.clear()},$h=[di("initialValue"),hu("manager",{setValue:qh,getValue:Yh,onLoad:Xh,onUnload:Zh,state:Eh})],Kh=[vi("store",{mode:"memory"},ri("mode",{memory:$h,manual:Gh,dataset:jh})),cu("onSetValue"),gi("resetOnDom",!1)],Jh=la({fields:Kh,name:"representing",active:Ih,apis:Mh,extra:{setValueFrom:function(t,e){var n=Jh.getValue(e);Jh.setValue(t,n)}},state:Lh}),Qh=cs("width",(function(t){return t.dom.offsetWidth})),tp=function(t,e){return Qh.set(t,e)},ep=function(t){return Qh.get(t)},np=function(t,e){var n=function(n,r){return np(t+n,e+r)};return{left:t,top:e,translate:n}},rp=np,op="slider.change.value",ip=u(op),ap=function(t){return-1!==t.type.indexOf("touch")},up=function(t){var e=t.event.raw;if(ap(e)){var n=e;return void 0!==n.touches&&1===n.touches.length?_.some(n.touches[0]).map((function(t){return rp(t.clientX,t.clientY)})):_.none()}var r=e;return void 0!==r.clientX?_.some(r).map((function(t){return rp(t.clientX,t.clientY)})):_.none()},sp="top",cp="right",lp="bottom",fp="left",dp=function(t){return t.model.minX},hp=function(t){return t.model.minY},pp=function(t){return t.model.minX-1},mp=function(t){return t.model.minY-1},gp=function(t){return t.model.maxX},vp=function(t){return t.model.maxY},yp=function(t){return t.model.maxX+1},bp=function(t){return t.model.maxY+1},xp=function(t,e,n){return e(t)-n(t)},wp=function(t){return xp(t,gp,dp)},_p=function(t){return xp(t,vp,hp)},Sp=function(t){return wp(t)/2},Cp=function(t){return _p(t)/2},kp=function(t){return t.stepSize},Tp=function(t){return t.snapToGrid},Ap=function(t){return t.snapStart},Op=function(t){return t.rounded},Mp=function(t,e){return void 0!==t[e+"-edge"]},Dp=function(t){return Mp(t,fp)},Ip=function(t){return Mp(t,cp)},Ep=function(t){return Mp(t,sp)},Rp=function(t){return Mp(t,lp)},Np=function(t){return t.model.value.get()},Pp=function(t){return{x:t}},Lp=function(t){return{y:t}},Bp=function(t,e){return{x:t,y:e}},zp=function(t,e){Me(t,ip(),{value:e})},Vp=function(t,e){zp(t,Bp(pp(e),mp(e)))},Fp=function(t,e){zp(t,Lp(mp(e)))},jp=function(t,e){zp(t,Bp(Sp(e),mp(e)))},Hp=function(t,e){zp(t,Bp(yp(e),mp(e)))},Up=function(t,e){zp(t,Pp(yp(e)))},Wp=function(t,e){zp(t,Bp(yp(e),Cp(e)))},Gp=function(t,e){zp(t,Bp(yp(e),bp(e)))},qp=function(t,e){zp(t,Lp(bp(e)))},Yp=function(t,e){zp(t,Bp(Sp(e),bp(e)))},Xp=function(t,e){zp(t,Bp(pp(e),bp(e)))},Zp=function(t,e){zp(t,Pp(pp(e)))},$p=function(t,e){zp(t,Bp(pp(e),Cp(e)))},Kp=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},Jp=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},Qp=function(t,e,n){return Math.max(e,Math.min(n,t))},tm=function(t,e,n,r,o){return o.fold((function(){var o=t-e,i=Math.round(o/r)*r;return Qp(e+i,e-1,n+1)}),(function(e){var o=(t-e)%r,i=Math.round(o/r),a=Math.floor((t-e)/r),u=Math.floor((n-e)/r),s=Math.min(u,a+i),c=e+s*r;return Math.max(e,c)}))},em=function(t,e,n){return Math.min(n,Math.max(t,e))-e},nm=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.step,a=t.snap,u=t.snapStart,s=t.rounded,c=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,d=t.maxBound,h=t.screenRange,p=c?e-1:e,m=l?n+1:n;if(o<f)return p;if(o>d)return m;var g=em(o,f,d),v=Qp(g/h*r+e,p,m);return a&&v>=e&&v<=n?tm(v,e,n,i,u):s?Math.round(v):v},rm=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,u=t.maxBound,s=t.maxOffset,c=t.centerMinEdge,l=t.centerMaxEdge;return o<e?i?0:c:o>n?a?u:l:(o-e)/r*s},om="top",im="right",am="bottom",um="left",sm="width",cm="height",lm=function(t){return t.element.dom.getBoundingClientRect()},fm=function(t,e){return t[e]},dm=function(t){var e=lm(t);return fm(e,um)},hm=function(t){var e=lm(t);return fm(e,im)},pm=function(t){var e=lm(t);return fm(e,om)},mm=function(t){var e=lm(t);return fm(e,am)},gm=function(t){var e=lm(t);return fm(e,sm)},vm=function(t){var e=lm(t);return fm(e,cm)},ym=function(t,e,n){return(t+e)/2-n},bm=function(t,e){var n=lm(t),r=lm(e),o=fm(n,um),i=fm(n,im),a=fm(r,um);return ym(o,i,a)},xm=function(t,e){var n=lm(t),r=lm(e),o=fm(n,om),i=fm(n,am),a=fm(r,om);return ym(o,i,a)},wm=function(t,e){Me(t,ip(),{value:e})},_m=function(t){return{x:t}},Sm=function(t,e,n){var r={min:dp(e),max:gp(e),range:wp(e),value:n,step:kp(e),snap:Tp(e),snapStart:Ap(e),rounded:Op(e),hasMinEdge:Dp(e),hasMaxEdge:Ip(e),minBound:dm(t),maxBound:hm(t),screenRange:gm(t)};return nm(r)},Cm=function(t,e,n){var r=Sm(t,e,n),o=_m(r);return wm(t,o),r},km=function(t,e){var n=dp(e);wm(t,_m(n))},Tm=function(t,e){var n=gp(e);wm(t,_m(n))},Am=function(t,e,n){var r=t>0?Jp:Kp,o=r(Np(n).x,dp(n),gp(n),kp(n));return wm(e,_m(o)),_.some(o)},Om=function(t){return function(e,n){return Am(t,e,n).map((function(){return!0}))}},Mm=function(t){var e=up(t);return e.map((function(t){return t.left}))},Dm=function(t,e,n,r,o){var i=0,a=gm(t),u=r.bind((function(e){return _.some(bm(e,t))})).getOr(i),s=o.bind((function(e){return _.some(bm(e,t))})).getOr(a),c={min:dp(e),max:gp(e),range:wp(e),value:n,hasMinEdge:Dp(e),hasMaxEdge:Ip(e),minBound:dm(t),minOffset:i,maxBound:hm(t),maxOffset:a,centerMinEdge:u,centerMaxEdge:s};return rm(c)},Im=function(t,e,n,r,o,i){var a=Dm(e,i,n,r,o);return dm(e)-dm(t)+a},Em=function(t,e,n,r){var o=Np(n),i=Im(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n),a=ep(e.element)/2;ns(e.element,"left",i-a+"px")},Rm=Om(-1),Nm=Om(1),Pm=_.none,Lm=_.none,Bm={"top-left":_.none(),top:_.none(),"top-right":_.none(),right:_.some(Up),"bottom-right":_.none(),bottom:_.none(),"bottom-left":_.none(),left:_.some(Zp)},zm=Object.freeze({__proto__:null,setValueFrom:Cm,setToMin:km,setToMax:Tm,findValueOfOffset:Sm,getValueFromEvent:Mm,findPositionOfValue:Im,setPositionFromValue:Em,onLeft:Rm,onRight:Nm,onUp:Pm,onDown:Lm,edgeActions:Bm}),Vm=function(t,e){Me(t,ip(),{value:e})},Fm=function(t){return{y:t}},jm=function(t,e,n){var r={min:hp(e),max:vp(e),range:_p(e),value:n,step:kp(e),snap:Tp(e),snapStart:Ap(e),rounded:Op(e),hasMinEdge:Ep(e),hasMaxEdge:Rp(e),minBound:pm(t),maxBound:mm(t),screenRange:vm(t)};return nm(r)},Hm=function(t,e,n){var r=jm(t,e,n),o=Fm(r);return Vm(t,o),r},Um=function(t,e){var n=hp(e);Vm(t,Fm(n))},Wm=function(t,e){var n=vp(e);Vm(t,Fm(n))},Gm=function(t,e,n){var r=t>0?Jp:Kp,o=r(Np(n).y,hp(n),vp(n),kp(n));return Vm(e,Fm(o)),_.some(o)},qm=function(t){return function(e,n){return Gm(t,e,n).map((function(){return!0}))}},Ym=function(t){var e=up(t);return e.map((function(t){return t.top}))},Xm=function(t,e,n,r,o){var i=0,a=vm(t),u=r.bind((function(e){return _.some(xm(e,t))})).getOr(i),s=o.bind((function(e){return _.some(xm(e,t))})).getOr(a),c={min:hp(e),max:vp(e),range:_p(e),value:n,hasMinEdge:Ep(e),hasMaxEdge:Rp(e),minBound:pm(t),minOffset:i,maxBound:mm(t),maxOffset:a,centerMinEdge:u,centerMaxEdge:s};return rm(c)},Zm=function(t,e,n,r,o,i){var a=Xm(e,i,n,r,o);return pm(e)-pm(t)+a},$m=function(t,e,n,r){var o=Np(n),i=Zm(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n),a=fs(e.element)/2;ns(e.element,"top",i-a+"px")},Km=_.none,Jm=_.none,Qm=qm(-1),tg=qm(1),eg={"top-left":_.none(),top:_.some(Fp),"top-right":_.none(),right:_.none(),"bottom-right":_.none(),bottom:_.some(qp),"bottom-left":_.none(),left:_.none()},ng=Object.freeze({__proto__:null,setValueFrom:Hm,setToMin:Um,setToMax:Wm,findValueOfOffset:jm,getValueFromEvent:Ym,findPositionOfValue:Zm,setPositionFromValue:$m,onLeft:Km,onRight:Jm,onUp:Qm,onDown:tg,edgeActions:eg}),rg=function(t,e){Me(t,ip(),{value:e})},og=function(t,e){return{x:t,y:e}},ig=function(t,e,n){var r=Sm(t,e,n.left),o=jm(t,e,n.top),i=og(r,o);return rg(t,i),i},ag=function(t,e,n,r){var o=t>0?Jp:Kp,i=e?Np(r).x:o(Np(r).x,dp(r),gp(r),kp(r)),a=e?o(Np(r).y,hp(r),vp(r),kp(r)):Np(r).y;return rg(n,og(i,a)),_.some(i)},ug=function(t,e){return function(n,r){return ag(t,e,n,r).map((function(){return!0}))}},sg=function(t,e){var n=dp(e),r=hp(e);rg(t,og(n,r))},cg=function(t,e){var n=gp(e),r=vp(e);rg(t,og(n,r))},lg=function(t){return up(t)},fg=function(t,e,n,r){var o=Np(n),i=Im(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n),a=Zm(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n),u=ep(e.element)/2,s=fs(e.element)/2;ns(e.element,"left",i-u+"px"),ns(e.element,"top",a-s+"px")},dg=ug(-1,!1),hg=ug(1,!1),pg=ug(-1,!0),mg=ug(1,!0),gg={"top-left":_.some(Vp),top:_.some(jp),"top-right":_.some(Hp),right:_.some(Wp),"bottom-right":_.some(Gp),bottom:_.some(Yp),"bottom-left":_.some(Xp),left:_.some($p)},vg=Object.freeze({__proto__:null,setValueFrom:ig,setToMin:sg,setToMax:cg,getValueFromEvent:lg,setPositionFromValue:fg,onLeft:dg,onRight:hg,onUp:pg,onDown:mg,edgeActions:gg}),yg=[gi("stepSize",1),gi("onChange",o),gi("onChoose",o),gi("onInit",o),gi("onDragStart",o),gi("onDragEnd",o),gi("snapToGrid",!1),gi("rounded",!0),di("snapStart"),si("model",ri("mode",{x:[gi("minX",0),gi("maxX",100),xi("value",(function(t){return ma(t.mode.minX)})),ui("getInitialValue"),hu("manager",zm)],y:[gi("minY",0),gi("maxY",100),xi("value",(function(t){return ma(t.mode.minY)})),ui("getInitialValue"),hu("manager",ng)],xy:[gi("minX",0),gi("maxX",100),gi("minY",0),gi("maxY",100),xi("value",(function(t){return ma({x:t.mode.minX,y:t.mode.minY})})),ui("getInitialValue"),hu("manager",vg)]})),Of("sliderBehaviours",[Af,Jh]),xi("mouseIsDown",(function(){return ma(!1)}))],bg=u("mouse.released"),xg=function(t,e,n,r){var o,i=function(e){return wd(e,t,"thumb")},a=function(e){return wd(e,t,"spectrum")},u=function(e){return xd(e,t,"left-edge")},s=function(e){return xd(e,t,"right-edge")},c=function(e){return xd(e,t,"top-edge")},l=function(e){return xd(e,t,"bottom-edge")},f=t.model,d=f.manager,h=function(e,n){d.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},p=function(e,n){f.value.set(n);var r=i(e);return h(e,r),t.onChange(e,r,n),_.some(!0)},g=function(e){d.setToMin(e,t)},v=function(e){d.setToMax(e,t)},y=function(e){var n=function(){xd(e,t,"thumb").each((function(n){var r=f.value.get();t.onChoose(e,n,r)}))},r=t.mouseIsDown.get();t.mouseIsDown.set(!1),r&&n()},b=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,i(e))},x=function(e,n){n.stop(),t.onDragEnd(e,i(e)),y(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:Df(t.sliderBehaviours,[Af.config({mode:"special",focusIn:function(e){return xd(e,t,"spectrum").map(Af.focusIn).map(m)}}),Jh.config({store:{mode:"manual",getValue:function(t){return f.value.get()}}}),vu.config({channels:(o={},o[bg()]={onReceive:y},o)})]),events:Ii([Ni(ip(),(function(t,e){p(t,e.event.value)})),Ui((function(e,n){var r=f.getInitialValue();f.value.set(r);var o=i(e);h(e,o);var u=a(e);t.onInit(e,o,u,f.value.get())})),Ni(Jt(),b),Ni(te(),x),Ni(ee(),b),Ni(re(),x)]),apis:{resetToMin:g,resetToMax:v,changeValue:p,refresh:h},domModification:{styles:{position:"relative"}}}},wg=Yd({name:"Slider",configFields:yg,partFields:Sh,factory:xg,apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),_g=function(t,e,n,r){return lh(e,(function(){var r=n();t.setContextToolbar([{label:e+" group",items:r}])}),{},r)},Sg=-1,Cg=function(t){var e=function(t){return t<0?"black":t>360?"white":"hsl("+t+", 100%, 50%)"},n=function(t,n,r,o){var i=e(o.x());ns(n.element,"background-color",i)},r=function(n,r,o){var i=e(o.x());ns(r.element,"background-color",i),t.onChange(n,r,i)};return wg.sketch({dom:rh('<div class="${prefix}-slider ${prefix}-hue-slider-container"></div>'),components:[wg.parts["left-edge"](oh('<div class="${prefix}-hue-slider-black"></div>')),wg.parts.spectrum({dom:rh('<div class="${prefix}-slider-gradient-container"></div>'),components:[oh('<div class="${prefix}-slider-gradient"></div>')],behaviours:sa([Lu.config({toggleClass:ju("thumb-active")})])}),wg.parts["right-edge"](oh('<div class="${prefix}-hue-slider-white"></div>')),wg.parts.thumb({dom:rh('<div class="${prefix}-slider-thumb"></div>'),behaviours:sa([Lu.config({toggleClass:ju("thumb-active")})])})],onChange:r,onDragStart:function(t,e){Lu.on(e)},onDragEnd:function(t,e){Lu.off(e)},onInit:n,stepSize:10,model:{mode:"x",minX:0,maxX:360,getInitialValue:function(){return{x:t.getInitialValue()}}},sliderBehaviours:sa([zu(wg.refresh)])})},kg=function(t){return[Cg(t)]},Tg=function(t,e){var n={onChange:function(t,n,r){e.undoManager.transact((function(){e.formatter.apply("forecolor",{value:r}),e.nodeChanged()}))},getInitialValue:function(){return Sg}};return _g(t,"color-levels",(function(){return kg(n)}),e)},Ag=["9px","10px","11px","12px","14px","16px","18px","20px","24px","32px","36px"],Og="medium",Mg=2,Dg=function(t){return _.from(Ag[t])},Ig=function(t){return X(Ag,(function(e){return e===t}))},Eg=function(t,e){var n=Qe(e)?_.some(e):un(e).filter(Qe);return n.map((function(e){var n=ws(e,(function(t){return as(t,"font-size").isSome()}),t).bind((function(t){return as(t,"font-size")}));return n.getOrThunk((function(){return os(e,"font-size")}))})).getOr("")},Rg=function(t){var e=t.selection.getStart(),n=We.fromDom(e),r=We.fromDom(t.getBody()),o=function(t){return Ze(r,t)},i=Eg(o,n);return Y(Ag,(function(t){return i===t})).getOr(Og)},Ng=function(t,e){var n=Rg(t);n!==e&&t.execCommand("fontSize",!1,e)},Pg=function(t){var e=Rg(t);return Ig(e).getOr(Mg)},Lg=function(t,e){Dg(e).each((function(e){Ng(t,e)}))},Bg=u(Ag),zg=Fo([ui("getInitialValue"),ui("onChange"),ui("category"),ui("sizes")]),Vg=function(t){var e=ei("SizeSlider",zg,t),n=function(t){return t>=0&&t<e.sizes.length},r=function(t,r,o){var i=o.x();n(i)&&e.onChange(i)};return wg.sketch({dom:{tag:"div",classes:[ju("slider-"+e.category+"-size-container"),ju("slider"),ju("slider-size-container")]},onChange:r,onDragStart:function(t,e){Lu.on(e)},onDragEnd:function(t,e){Lu.off(e)},model:{mode:"x",minX:0,maxX:e.sizes.length-1,getInitialValue:function(){return{x:e.getInitialValue()}}},stepSize:1,snapToGrid:!0,sliderBehaviours:sa([zu(wg.refresh)]),components:[wg.parts.spectrum({dom:rh('<div class="${prefix}-slider-size-container"></div>'),components:[oh('<div class="${prefix}-slider-size-line"></div>')]}),wg.parts.thumb({dom:rh('<div class="${prefix}-slider-thumb"></div>'),behaviours:sa([Lu.config({toggleClass:ju("thumb-active")})])})]})},Fg=Bg(),jg=function(t){return Vg({onChange:t.onChange,sizes:Fg,category:"font",getInitialValue:t.getInitialValue})},Hg=function(t){return[oh('<span class="${prefix}-toolbar-button ${prefix}-icon-small-font ${prefix}-icon"></span>'),jg(t),oh('<span class="${prefix}-toolbar-button ${prefix}-icon-large-font ${prefix}-icon"></span>')]},Ug=function(t,e){var n={onChange:function(t){Lg(e,t)},getInitialValue:function(){return Pg(e)}};return _g(t,"font-size",(function(){return Hg(n)}),e)},Wg=function(t){var n=Ud(t)&&or(t,"uid")?t.uid:Ld("memento"),r=function(t){return t.getSystem().getByUid(n).getOrDie()},o=function(t){return t.getSystem().getByUid(n).toOptional()},i=function(){return e(e({},t),{uid:n})};return{get:r,getOpt:o,asSpec:i}},Gg=function(){var t=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,r(a,this),r(u,this))},e=window,n=t.immediateFn||"function"===typeof e.setImmediate&&e.setImmediate||function(t){setTimeout(t,1)};function r(t,e){return function(){return t.apply(e,arguments)}}var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void t.reject(o)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var e=t.then;if("function"===typeof e)return void l(r(e,t),r(a,this),r(u,this))}this._state=!0,this._value=t,s.call(this)}catch(n){u.call(this,n)}}function u(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];i.call(this,n)}this._deferreds=[]}function c(t,e,n,r){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=n,this.reject=r}function l(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(o){if(r)return;r=!0,n(o)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){i.call(r,new c(e,n,t,o))}))},t.all=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e);return new t((function(t,e){if(0===r.length)return t([]);var n=r.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,(function(t){o(i,t)}),e)}r[i]=a,0===--n&&t(r)}catch(s){e(s)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},t.resolve=function(e){return e&&"object"===typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){var i=o[r];i.then(t,n)}}))},t},qg=window.Promise?window.Promise:Gg();function Yg(t){return new qg((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)}))}function Xg(t){return Yg(t).then((function(t){return t.split(",")[1]}))}var Zg=function(t){return Xg(t)},$g=function(t,e){Zg(e).then((function(n){t.undoManager.transact((function(){var r=t.editorUpload.blobCache,o=r.create(Gf("mceu"),e,n);r.add(o);var i=t.dom.createHTML("img",{src:o.blobUri()});t.insertContent(i)}))}))},Kg=function(t){var e=t.event.raw,n=e.target.files||e.dataTransfer.files;return _.from(n[0])},Jg=function(t){var e={tag:"input",attributes:{accept:"image/*",type:"file",title:""},styles:{visibility:"hidden",position:"absolute"}},n=Wg({dom:e,events:Ii([Fi(ce()),Ni(se(),(function(e,n){Kg(n).each((function(e){$g(t,e)}))}))])});return Zd.sketch({dom:ch("image",t),components:[n.asSpec()],action:function(t){var e=n.get(t);e.element.dom.click()}})},Qg=function(t){return t.dom.textContent},tv=function(t,e){t.dom.textContent=e},ev=function(t){return t.length>0},nv=function(t){return void 0===t||null===t?"":t},rv=function(t){var e=t.selection.getContent({format:"text"});return{url:"",text:e,title:"",target:"",link:_.none()}},ov=function(t){var e=Qg(t),n=sr(t,"href"),r=sr(t,"title"),o=sr(t,"target");return{url:nv(n),text:e!==n?nv(e):"",title:nv(r),target:nv(o),link:_.some(t)}},iv=function(t){return fv(t).fold((function(){return rv(t)}),(function(t){return ov(t)}))},av=function(t){var e=sr(t,"href"),n=Qg(t);return e===n},uv=function(t,e,n){return n.text.toOptional().filter(ev).fold((function(){return av(t)?_.some(e):_.none()}),_.some)},sv=function(t,e){var n=e.link.bind(s);n.each((function(e){t.execCommand("unlink")}))},cv=function(t,e){var n={};return n.href=t,e.title.toOptional().filter(ev).each((function(t){n.title=t})),e.target.toOptional().filter(ev).each((function(t){n.target=t})),n},lv=function(t,e){e.url.toOptional().filter(ev).fold((function(){sv(t,e)}),(function(n){var r=cv(n,e),o=e.link.bind(s);o.fold((function(){var o=e.text.toOptional().filter(ev).getOr(n);t.insertContent(t.dom.createHTML("a",r,t.dom.encode(o)))}),(function(t){var o=uv(t,n,e);ur(t,r),o.each((function(e){tv(t,e)}))}))}))},fv=function(t){var e=We.fromDom(t.selection.getStart());return Ts(e,"a")},dv=$t(),hv=function(t,e){var n=e.selection.getRng();t(),e.selection.setRng(n)},pv=function(t,e){var n=dv.os.isAndroid()?hv:h;n(e,t)},mv=function(t,e){var n=Ii(e);return la({fields:[ui("enabled")],name:t,active:{events:u(n)}})},gv=function(t,e){var n=mv(t,e);return{key:t,value:{config:{},me:n,configAsRaw:u({}),initialConfig:{},state:aa}}},vv=function(t,e,n){return e.find(t)},yv=Object.freeze({__proto__:null,getCurrent:vv}),bv=[ui("find")],xv=la({fields:bv,name:"composing",apis:yv}),wv=function(t){var r=t.dom,o=r.attributes,i=n(r,["attributes"]);return{uid:t.uid,dom:e({tag:"div",attributes:e({role:"presentation"},o)},i),components:t.components,behaviours:Mf(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},_v=qd({name:"Container",factory:wv,configFields:[gi("components",[]),Of("containerBehaviours",[]),gi("events",{}),gi("domModification",{}),gi("eventOrder",{})]}),Sv=function(t){return{uid:t.uid,dom:t.dom,behaviours:If.augment(t.dataBehaviours,[Jh.config({store:{mode:"memory",initialValue:t.getInitialValue()}}),xv.config({find:_.some})]),events:Ii([Ui((function(e,n){Jh.setValue(e,t.getInitialValue())}))])}},Cv=qd({name:"DataField",factory:Sv,configFields:[ui("uid"),ui("dom"),ui("getInitialValue"),If.field("dataBehaviours",[Jh,xv])]}),kv=function(t){return t.dom.value},Tv=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom.value=e},Av=u([di("data"),gi("inputAttributes",{}),gi("inputStyles",{}),gi("tag","input"),gi("inputClasses",[]),cu("onSetValue"),gi("styles",{}),gi("eventOrder",{}),Of("inputBehaviours",[Jh,Ju]),gi("selectOnFocus",!0)]),Ov=function(t){return sa([Ju.config({onFocus:t.selectOnFocus?function(t){var e=t.element,n=kv(e);e.dom.setSelectionRange(0,n.length)}:o})])},Mv=function(t){return e(e({},Ov(t)),Df(t.inputBehaviours,[Jh.config({store:e(e({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return kv(t.element)},setValue:function(t,e){var n=kv(t.element);n!==e&&Tv(t.element,e)}}),onSetValue:t.onSetValue})]))},Dv=function(t){return{tag:t.tag,attributes:e({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},Iv=function(t,e){return{uid:t.uid,dom:Dv(t),components:[],behaviours:Mv(t),eventOrder:t.eventOrder}},Ev=qd({name:"Input",configFields:Av(),factory:Iv}),Rv=function(t,e){return Ki({attributes:po([{key:e.tabAttr,value:"true"}])})},Nv=Object.freeze({__proto__:null,exhibit:Rv}),Pv=[gi("tabAttr","data-alloy-tabstop")],Lv=la({fields:Pv,name:"tabstopping",active:Nv}),Bv=tinymce.util.Tools.resolve("tinymce.util.I18n"),zv="input-clearing",Vv=function(t,e){var n=Wg(Ev.sketch({inputAttributes:{placeholder:Bv.translate(e)},onSetValue:function(t,e){Oe(t,ue())},inputBehaviours:sa([xv.config({find:_.some}),Lv.config({}),Af.config({mode:"execution"})]),selectOnFocus:!1})),r=Wg(Zd.sketch({dom:rh('<button class="${prefix}-input-container-x ${prefix}-icon-cancel-circle ${prefix}-icon"></button>'),action:function(t){var e=n.get(t);Jh.setValue(e,"")}}));return{name:t,spec:_v.sketch({dom:rh('<div class="${prefix}-input-container"></div>'),components:[n.asSpec(),r.asSpec()],containerBehaviours:sa([Lu.config({toggleClass:ju("input-container-empty")}),xv.config({find:function(t){return _.some(n.get(t))}}),gv(zv,[Ni(ue(),(function(t){var e=n.get(t),r=Jh.getValue(e),o=r.length>0?Lu.off:Lu.on;o(t)}))])])})}},Fv=function(t){return{name:t,spec:Cv.sketch({dom:{tag:"span",styles:{display:"none"}},getInitialValue:function(){return _.none()}})}},jv=["input","button","textarea","select"],Hv=function(t,e,n){var r=e.disabled()?$v:Kv;r(t,e)},Uv=function(t,e){return!0===e.useNative&&z(jv,$e(t.element))},Wv=function(t){return lr(t.element,"disabled")},Gv=function(t){ar(t.element,"disabled","disabled")},qv=function(t){fr(t.element,"disabled")},Yv=function(t){return"true"===sr(t.element,"aria-disabled")},Xv=function(t){ar(t.element,"aria-disabled","true")},Zv=function(t){ar(t.element,"aria-disabled","false")},$v=function(t,e,n){e.disableClass.each((function(e){br(t.element,e)}));var r=Uv(t,e)?Gv:Xv;r(t),e.onDisabled(t)},Kv=function(t,e,n){e.disableClass.each((function(e){wr(t.element,e)}));var r=Uv(t,e)?qv:Zv;r(t),e.onEnabled(t)},Jv=function(t,e){return Uv(t,e)?Wv(t):Yv(t)},Qv=function(t,e,n,r){var o=r?$v:Kv;o(t,e)},ty=Object.freeze({__proto__:null,enable:Kv,disable:$v,isDisabled:Jv,onLoad:Hv,set:Qv}),ey=function(t,e){return Ki({classes:e.disabled()?e.disableClass.toArray():[]})},ny=function(t,e){return Ii([Ei(ye(),(function(e,n){return Jv(e,t)})),ta(t,e,Hv)])},ry=Object.freeze({__proto__:null,exhibit:ey,events:ny}),oy=[yi("disabled",p),gi("useNative",!0),di("disableClass"),cu("onDisabled"),cu("onEnabled")],iy=la({fields:oy,name:"disabling",active:ry,apis:ty}),ay="form",uy=[Of("formBehaviours",[Jh])],sy=function(t){return"<alloy.field."+t+">"},cy=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),md(ay,sy(e),n)};return{field:e,record:function(){return t}}}(),n=t(e),r=e.record(),o=F(r,(function(t){return ud({name:t,pname:sy(t)})}));return Fd(ay,uy,o,fy,n)},ly=function(t,e){return t.fold((function(){return Rr.error(e)}),Rr.value)},fy=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:Df(t.formBehaviours,[Jh.config({store:{mode:"manual",getValue:function(e){var n=_d(e,t);return Xn(n,(function(t,e){return t().bind((function(t){var n=xv.getCurrent(t);return ly(n,new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+Ha(t.element)))})).map(Jh.getValue)}))},setValue:function(e,n){Yn(n,(function(n,r){xd(e,t,r).each((function(t){xv.getCurrent(t).each((function(t){Jh.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return xd(e,t,n).bind(xv.getCurrent)}}}},dy={getField:Od((function(t,e,n){return t.getField(e,n)})),sketch:cy},hy=function(){var t=ma(_.none()),e=function(){return t.get().each((function(t){return t.destroy()}))},n=function(){e(),t.set(_.none())},r=function(n){e(),t.set(_.some(n))},o=function(e){return t.get().each(e)},i=function(){return t.get().isSome()};return{clear:n,isSet:i,set:r,run:o}},py=function(){var t=ma(_.none()),e=function(){return t.set(_.none())},n=function(e){return t.set(_.some(e))},r=function(){return t.get().isSome()},o=function(e){return t.get().each(e)};return{clear:e,set:n,isSet:r,on:o}},my=1,gy=-1,vy=0,yy=function(t){return{xValue:t,points:[]}},by=function(t,e){if(e===t.xValue)return t;var n=e-t.xValue>0?my:gy,r={direction:n,xValue:e},o=function(){if(0===t.points.length)return[];var e=t.points[t.points.length-1];return e.direction===n?t.points.slice(0,t.points.length-1):t.points}();return{xValue:e,points:o.concat([r])}},xy=function(t){if(0===t.points.length)return vy;var e=t.points[0].direction,n=t.points[t.points.length-1].direction;return e===gy&&n===gy?gy:e===my&&n===my?my:vy},wy=function(t){var e="navigateEvent",n="serializer-wrapper-events",r="form-events",o=jo([ui("fields"),gi("maxFieldIndex",t.fields.length-1),ui("onExecute"),ui("getInitialValue"),xi("state",(function(){return{dialogSwipeState:py(),currentScreen:ma(0)}}))]),i=ei("SerialisedDialog",o,t),a=function(t,n,r){return Zd.sketch({dom:rh('<span class="${prefix}-icon-'+n+' ${prefix}-icon"></span>'),action:function(n){Me(n,e,{direction:t})},buttonBehaviours:sa([iy.config({disableClass:ju("toolbar-navigation-disabled"),disabled:function(){return!r}})])})},u=function(t,e){ks(t.element,"."+ju("serialised-dialog-chain")).each((function(t){ns(t,"left",-i.state.currentScreen.get()*e.width+"px")}))},s=function(t,e){var n=vs(t.element,"."+ju("serialised-dialog-screen"));ks(t.element,"."+ju("serialised-dialog-chain")).each((function(t){i.state.currentScreen.get()+e>=0&&i.state.currentScreen.get()+e<n.length&&(as(t,"left").each((function(r){var o=parseInt(r,10),i=ep(n[0]);ns(t,"left",o-e*i+"px")})),i.state.currentScreen.set(i.state.currentScreen.get()+e))}))},c=function(t){var e=vs(t.element,"input"),n=_.from(e[i.state.currentScreen.get()]);n.each((function(e){t.getSystem().getByDom(e).each((function(e){Ne(t,e.element)}))}));var r=d.get(t);vc.highlightAt(r,i.state.currentScreen.get())},l=function(){i.state.currentScreen.set(0),i.state.dialogSwipeState.clear()},f=Wg(dy.sketch((function(t){return{dom:rh('<div class="${prefix}-serialised-dialog"></div>'),components:[_v.sketch({dom:rh('<div class="${prefix}-serialised-dialog-chain" style="left: 0px; position: absolute;"></div>'),components:F(i.fields,(function(e,n){return n<=i.maxFieldIndex?_v.sketch({dom:rh('<div class="${prefix}-serialised-dialog-screen"></div>'),components:[a(-1,"previous",n>0),t.field(e.name,e.spec),a(1,"next",n<i.maxFieldIndex)]}):t.field(e.name,e.spec)}))})],formBehaviours:sa([zu((function(t,e){u(t,e)})),Af.config({mode:"special",focusIn:function(t,e){c(t)},onTab:function(t,e){return s(t,1),_.some(!0)},onShiftTab:function(t,e){return s(t,-1),_.some(!0)}}),gv(r,[Ui((function(t,e){l();var n=d.get(t);vc.highlightFirst(n),i.getInitialValue(t).each((function(e){Jh.setValue(t,e)}))})),qi(i.onExecute),Ni(le(),(function(t,e){var n=e.event;"left"===n.raw.propertyName&&c(t)})),Ni(e,(function(t,e){var n=e.event,r=n.direction;s(t,r)}))])])}}))),d=Wg({dom:rh('<div class="${prefix}-dot-container"></div>'),behaviours:sa([vc.config({highlightClass:ju("dot-active"),itemClass:ju("dot-item")})]),components:$(i.fields,(function(t,e){return e<=i.maxFieldIndex?[oh('<div class="${prefix}-dot-item ${prefix}-icon-full-dot ${prefix}-icon"></div>')]:[]}))});return{dom:rh('<div class="${prefix}-serializer-wrapper"></div>'),components:[f.asSpec(),d.asSpec()],behaviours:sa([Af.config({mode:"special",focusIn:function(t){var e=f.get(t);Af.focusIn(e)}}),gv(n,[Ni(Jt(),(function(t,e){var n=e.event;i.state.dialogSwipeState.set(yy(n.raw.touches[0].clientX))})),Ni(Qt(),(function(t,e){var n=e.event;i.state.dialogSwipeState.on((function(t){e.event.prevent(),i.state.dialogSwipeState.set(by(t,n.raw.touches[0].clientX))}))})),Ni(te(),(function(t,e){i.state.dialogSwipeState.on((function(e){var n=f.get(t),r=-1*xy(e);s(n,r)}))}))])])}},_y=g((function(t,e){return[{label:"the link group",items:[wy({fields:[Vv("url","Type or paste URL"),Vv("text","Link text"),Vv("title","Link title"),Vv("target","Link target"),Fv("link")],maxFieldIndex:["url","text","title","target"].length-1,getInitialValue:function(){return _.some(iv(e))},onExecute:function(n,r){var o=Jh.getValue(n);lv(e,o),t.restoreToolbar(),e.focus()}})]}]})),Sy=function(t,e){return sh(e,"link","link",(function(){var n=_y(t,e);t.setContextToolbar(n),pv(e,(function(){t.focusToolbar()})),fv(e).each((function(t){e.selection.select(t.dom)}))}))},Cy=function(t,e,n){return Ze(e,t.element)&&!Ze(e,n)},ky=Ii([Ri(pe(),(function(t,e){var n=e.event,r=n.originator,o=n.target;return!Cy(t,r,o)||(console.warn(pe()+" did not get interpreted by the desired target. \nOriginator: "+Ha(r)+"\nTarget: "+Ha(o)+"\nCheck the "+pe()+" event handlers"),!1)}))]),Ty=Object.freeze({__proto__:null,events:ky}),Ay=s,Oy=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+Ha(t().element)+" is not in context.":""))}};return{debugInfo:u("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:p}},My=Oy(),Dy=function(t,e){var n=F(e,(function(t){return pi(t.name(),[ui("config"),gi("state",aa)])})),r=Qo("component.behaviours",jo(n),t.behaviours).fold((function(e){throw new Error(ni(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}));return{list:e,data:Xn(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return function(){return e}}))}},Iy=function(t){return t.list},Ey=function(t){return t.data},Ry=function(t,e){var n={};return Yn(t,(function(t,r){Yn(t,(function(t,o){var i=nr(n,o).getOr([]);n[o]=i.concat([e(r,t)])}))})),n},Ny=function(t,n,r,o){var i=e({},n);j(r,(function(e){i[e.name()]=e.exhibit(t,o)}));var a=Ry(i,(function(t,e){return{name:t,modification:e}})),u=function(t){return W(t,(function(t,n){return e(e({},n.modification),t)}),{})},s=W(a.classes,(function(t,e){return e.modification.concat(t)}),[]),c=u(a.attributes),l=u(a.styles);return Ki({classes:s,attributes:c,styles:l})},Py=function(t,e,n,r){try{var o=et(n,(function(n,o){var i=n[e],a=o[e],u=r.indexOf(i),s=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===s)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<s?-1:s<u?1:0}));return Rr.value(o)}catch(i){return Rr.error([i])}},Ly=function(t,e){return{handler:t,purpose:e}},By=function(t,e){return{cHandler:t,purpose:e}},zy=function(t,e){return By(c.apply(void 0,[t.handler].concat(e)),t.purpose)},Vy=function(t){return t.cHandler},Fy=function(t,e){return{name:t,handler:e}},jy=function(t,e){var n={};return j(t,(function(t){n[t.name()]=t.handlers(e)})),n},Hy=function(t,n,r){var o=e(e({},r),jy(n,t));return Ry(o,Fy)},Uy=function(t,e,n,r){var o=Hy(t,n,r);return Yy(o,e)},Wy=function(t){var e=Mi(t);return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[t,n].concat(r);e.abort.apply(void 0,i)?n.stop():e.can.apply(void 0,i)&&e.run.apply(void 0,i)}},Gy=function(t,e){return Rr.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(F(e,(function(t){return t.name})),null,2)])},qy=function(t,e,n){var r=e[n];return r?Py("Event: "+n,"name",t,r).map((function(t){var e=F(t,(function(t){return t.handler}));return Di(e)})):Gy(n,t)},Yy=function(t,e){var n=Qn(t,(function(t,n){var r=1===t.length?Rr.value(t[0].handler):qy(t,e,n);return r.map((function(r){var o=Wy(r),i=t.length>1?U(e[n],(function(e){return V(t,(function(t){return t.name===e}))})).join(" > "):t[0].name;return ho(n,Ly(o,i))}))}));return vo(n,{})},Xy="alloy.base.behaviour",Zy=function(t){var e;return Qo("custom.definition",jo([qo("dom","dom",ro(),jo([ui("tag"),gi("styles",{}),gi("classes",[]),gi("attributes",{}),di("value"),di("innerHtml")])),ui("components"),ui("uid"),gi("events",{}),gi("apis",{}),qo("eventOrder","eventOrder",no((e={},e[ye()]=["disabling",Xy,"toggling","typeaheadevents"],e[pe()]=[Xy,"focusing","keying"],e[_e()]=[Xy,"disabling","toggling","representing"],e[ue()]=[Xy,"representing","streaming","invalidating"],e[Ce()]=[Xy,"representing","item-events","tooltipping"],e[ee()]=["focusing",Xy,"item-type-events"],e[Jt()]=["focusing",Xy,"item-type-events"],e[oe()]=["item-type-events","tooltipping"],e[ve()]=["receiving","reflecting","tooltipping"],e)),oi()),di("domModification")]),t)},$y=function(t){return e(e({},t.dom),{uid:t.uid,domChildren:F(t.components,(function(t){return t.element}))})},Ky=function(t){return t.domModification.fold((function(){return Ki({})}),Ki)},Jy=function(t){return t.events},Qy=function(t,e){j(e,(function(e){br(t,e)}))},tb=function(t,e){j(e,(function(e){wr(t,e)}))},eb=function(t){var e=We.fromTag(t.tag);ur(e,t.attributes),Qy(e,t.classes),rs(e,t.styles),t.innerHtml.each((function(t){return Ba(e,t)}));var n=t.domChildren;return bn(e,n),t.value.each((function(t){Tv(e,t)})),t.uid,Nd(e,t.uid),e},nb=function(t){var e=nr(t,"behaviours").getOr({}),n=U(Gn(e),(function(t){return void 0!==e[t]}));return F(n,(function(t){return e[t].me}))},rb=function(t,e){return Dy(t,e)},ob=function(t){var e=nb(t);return rb(t,e)},ib=function(t,e,n){var r=$y(t),o=Ky(t),i={"alloy.base.modification":o},a=e.length>0?Ny(n,i,e,r):o;return Ji(r,a)},ab=function(t,e,n){var r={"alloy.base.behaviour":Jy(t)};return Uy(n,t.eventOrder,e,r).getOrDie()},ub=function(t){var e=function(){return y},n=ma(My),r=ti(Zy(t)),o=ob(t),i=Iy(o),a=Ey(o),u=ib(r,i,a),s=eb(u),c=ab(r,i,a),l=ma(r.components),f=function(t){n.set(t)},d=function(){n.set(Oy(e))},h=function(){var t=fn(s),e=$(t,(function(t){return n.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}));l.set(e)},p=function(e){var n=a,r=E(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))};return r()},m=function(t){return E(a[t.name()])},g=function(){return r.apis},v=function(t){return a[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},y={getSystem:n.get,config:p,hasConfigured:m,spec:t,readState:v,getApis:g,connect:f,disconnect:d,element:s,syncComponents:h,components:l.get,events:c};return y},sb=function(t){var e=nr(t,"components").getOr([]);return F(e,hb)},cb=function(t){var r=Ay(t),o=r.events,i=n(r,["events"]),a=sb(i),u=e(e({},i),{events:e(e({},Ty),o),components:a});return Rr.value(ub(u))},lb=function(t){var e=We.fromText(t);return fb({element:e})},fb=function(t){var e=ei("external.component",Fo([ui("element"),di("uid")]),t),n=ma(Oy()),r=function(t){n.set(t)},i=function(){n.set(Oy((function(){return a})))};e.uid.each((function(t){Nd(e.element,t)}));var a={getSystem:n.get,config:_.none,hasConfigured:p,connect:r,disconnect:i,getApis:function(){return{}},element:e.element,spec:t,readState:u("No state"),syncComponents:o,components:u([]),events:{}};return Td(a)},db=Ld,hb=function(t){return Ad(t).fold((function(){var n=t.hasOwnProperty("uid")?t:e({uid:db("")},t);return cb(n).getOrDie()}),(function(t){return t}))},pb=Td,mb="alloy.item-hover",gb="alloy.item-focus",vb=function(t){(wa(t.element).isNone()||Ju.isFocused(t))&&(Ju.isFocused(t)||Ju.focus(t),Me(t,mb,{item:t}))},yb=function(t){Me(t,gb,{item:t})},bb=u(mb),xb=u(gb),wb=function(t){return{dom:t.dom,domModification:e(e({},t.domModification),{attributes:e(e(e({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:If.augment(t.itemBehaviours,[t.toggling.fold(Lu.revoke,(function(t){return Lu.config(e({aria:{mode:"checked"}},t))})),Ju.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){yb(t)}}),Af.config({mode:"execution"}),Jh.config({store:{mode:"memory",initialValue:t.data}}),gv("item-type-events",r(Hu(),[Ni(oe(),vb),Ni(be(),Ju.focus)]))]),components:t.components,eventOrder:t.eventOrder}},_b=[ui("data"),ui("components"),ui("dom"),gi("hasSubmenu",!1),di("toggling"),If.field("itemBehaviours",[Lu,Ju,Af,Jh]),gi("ignoreFocus",!1),gi("domModification",{}),hu("builder",wb),gi("eventOrder",{})],Sb=function(t){return{dom:t.dom,components:t.components,events:Ii([ji(be())])}},Cb=[ui("dom"),ui("components"),hu("builder",Sb)],kb=function(){return"item-widget"},Tb=u([ud({name:"widget",overrides:function(t){return{behaviours:sa([Jh.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:function(){}}})])}}})]),Ab=function(t){var e=yd(kb(),t,Tb()),n=bd(kb(),t,e.internals()),r=function(e){return xd(e,t,"widget").map((function(t){return Af.focusIn(t),t}))},o=function(e,n){return kc(n.event.target)?_.none():function(){return t.autofocus?(n.setSource(e.element),_.none()):_.none()}()};return{dom:t.dom,components:n,domModification:t.domModification,events:Ii([qi((function(t,e){r(t).each((function(t){e.stop()}))})),Ni(oe(),vb),Ni(be(),(function(e,n){t.autofocus?r(e):Ju.focus(e)}))]),behaviours:If.augment(t.widgetBehaviours,[Jh.config({store:{mode:"memory",initialValue:t.data}}),Ju.config({ignore:t.ignoreFocus,onFocus:function(t){yb(t)}}),Af.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:ha(),onLeft:o,onRight:o,onEscape:function(e,n){return Ju.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element),_.none()):_.none():(Ju.focus(e),_.some(!0))}})])}},Ob=[ui("uid"),ui("data"),ui("components"),ui("dom"),gi("autofocus",!1),gi("ignoreFocus",!1),If.field("widgetBehaviours",[Jh,Ju,Af]),gi("domModification",{}),Cd(Tb()),hu("builder",Ab)],Mb=ri("type",{widget:Ob,item:_b,separator:Cb}),Db=function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}},Ib=function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},Eb=function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}},Rb=u([cd({factory:{sketch:function(t){var e=ei("menu.spec item",Mb,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,n){return n.hasOwnProperty("uid")?n:e(e({},n),{uid:Ld("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Nb=u([ui("value"),ui("items"),ui("dom"),ui("components"),gi("eventOrder",{}),Of("menuBehaviours",[vc,Jh,xv,Af]),vi("movement",{mode:"menu",moveOnTab:!0},ri("mode",{grid:[mu(),hu("config",Db)],matrix:[hu("config",Ib),ui("rowSelector")],menu:[gi("moveOnTab",!0),hu("config",Eb)]})),iu(),gi("fakeFocus",!1),gi("focusManager",bc()),cu("onHighlight")]),Pb=u("alloy.menu-focus"),Lb=function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Df(t.menuBehaviours,[vc.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Jh.config({store:{mode:"memory",initialValue:t.value}}),xv.config({find:_.some}),Af.config(t.movement.config(t,t.movement))]),events:Ii([Ni(xb(),(function(t,e){var n=e.event;t.getSystem().getByDom(n.target).each((function(n){vc.highlight(t,n),e.stop(),Me(t,Pb(),{menu:t,item:n})}))})),Ni(bb(),(function(t,e){var n=e.event.item;vc.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},Bb=Yd({name:"Menu",configFields:Nb(),partFields:Rb(),factory:Lb}),zb=function(t,e){var n=kn(e),r=xa(n).bind((function(t){var n=function(e){return Ze(t,e)};return n(e)?_.some(e):_s(e,n)})),i=t(e);return r.each((function(t){xa(n).filter((function(e){return Ze(e,t)})).fold((function(){va(t)}),o)})),i},Vb=function(t,e,n,r){zb((function(){var e=F(r,t.getSystem().build);Bn(t,e)}),t.element)},Fb=function(t,e,n,r){var o=t.getSystem().build(r);Vn(t,o,n)},jb=function(t,e,n,r){Fb(t,e,vn,r)},Hb=function(t,e,n,r){Fb(t,e,gn,r)},Ub=function(t,e,n,r){var o=Wb(t),i=Y(o,(function(t){return Ze(r.element,t.element)}));i.each(jn)},Wb=function(t,e){return t.components()},Gb=function(t,e,n,r,o){var i=Wb(t);return _.from(i[r]).map((function(i){return Ub(t,e,n,i),o.each((function(n){Fb(t,e,(function(t,e){yn(t,e,r)}),n)})),i}))},qb=function(t,e,n,r,o){var i=Wb(t);return X(i,r).bind((function(r){return Gb(t,e,n,r,o)}))},Yb=Object.freeze({__proto__:null,append:jb,prepend:Hb,remove:Ub,replaceAt:Gb,replaceBy:qb,set:Vb,contents:Wb}),Xb=la({fields:[],name:"replacing",apis:Yb}),Zb=function(t){return Zn(t,(function(t,e){return{k:t,v:e}}))},$b=function(t,e,n,r){return nr(n,r).bind((function(r){return nr(t,r).bind((function(r){var o=$b(t,e,n,r);return _.some([r].concat(o))}))})).getOr([])},Kb=function(t,e){var n={};Yn(t,(function(t,e){j(t,(function(t){n[t]=e}))}));var r=e,o=Zb(e),i=Xn(o,(function(t,e){return[e].concat($b(n,r,o,e))}));return Xn(n,(function(t){return nr(i,t).getOr([t])}))},Jb=function(){var t=ma({}),n=ma({}),r=ma({}),o=ma(_.none()),i=ma({}),a=function(){t.set({}),n.set({}),r.set({}),o.set(_.none())},u=function(){return o.get().isNone()},s=function(t,r){var o;n.set(e(e({},n.get()),(o={},o[t]={type:"prepared",menu:r},o)))},c=function(e,a,u,s){o.set(_.some(e)),t.set(u),n.set(a),i.set(s);var c=Kb(s,u);r.set(c)},l=function(e){return tr(t.get(),(function(t,n){return t===e}))},f=function(t,e,n){return g(t).bind((function(r){return l(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))},d=function(t,e){var n=U(y(t).toArray(),(function(t){return g(t).isSome()}));return nr(r.get(),t).bind((function(t){var r=J(n.concat(t)),i=$(r,(function(t,n){return f(t,e,r.slice(0,n+1)).fold((function(){return o.get().is(t)?[]:[_.none()]}),(function(t){return[_.some(t)]}))}));return $s(i)}))},h=function(e){return nr(t.get(),e).map((function(t){var n=nr(r.get(),e).getOr([]);return[t].concat(n)}))},p=function(t){return nr(r.get(),t).bind((function(t){return t.length>1?_.some(t.slice(1)):_.none()}))},m=function(t){return nr(r.get(),t)},g=function(t){return v(t).bind(Qb)},v=function(t){return nr(n.get(),t)},y=function(e){return nr(t.get(),e)},b=function(t){var e=i.get();return Q(Gn(e),t)},x=function(){return o.get().bind(g)},w=function(){return n.get()};return{setMenuBuilt:s,setContents:c,expand:h,refresh:m,collapse:p,lookupMenu:v,lookupItem:y,otherMenus:b,getPrimary:x,getMenus:w,clear:a,isClear:u,getTriggeringPath:d}},Qb=function(t){return"prepared"===t.type?_.some(t.menu):_.none()},tx={init:Jb,extractPreparedMenu:Qb},ex=function(t,n){var r,o=ma(_.none()),i=function(n,r,o){return Xn(o,(function(o,i){var a=function(){return Bb.sketch(e(e({},o),{value:i,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?xc():bc()}))};return i===r?{type:"prepared",menu:n.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))},a=tx.init(),u=function(e){var n=i(e,t.data.primary,t.data.menus),r=l();return a.setContents(t.data.primary,n,t.data.expansions,r),a.getPrimary()},s=function(t){return Jh.getValue(t).value},c=function(t,e,n){return ot(e,(function(t){if(!t.getSystem().isConnected())return _.none();var e=vc.getCandidates(t);return Y(e,(function(t){return s(t)===n}))}))},l=function(e){return Xn(t.data.menus,(function(t,e){return $(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},f=function(t,e){vc.highlight(t,e),vc.getHighlighted(e).orThunk((function(){return vc.getFirst(e)})).each((function(e){Ie(t,e.element,be())}))},d=function(t,e){return Zs(F(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?_.some(t.menu):_.none()}))})))},h=function(e,n,r){var o=d(n,n.otherMenus(r));j(o,(function(n){tb(n.element,[t.markers.backgroundMenu]),t.stayInDom||Xb.remove(e,n)}))},p=function(e){return o.get().getOrThunk((function(){var n={},r=vs(e.element,"."+t.markers.item),i=U(r,(function(t){return"true"===sr(t,"aria-haspopup")}));return j(i,(function(t){e.getSystem().getByDom(t).each((function(t){var e=s(t);n[e]=t}))})),o.set(_.some(n)),n}))},m=function(t,e){var n=p(t);Yn(n,(function(t,n){var r=z(e,n);ar(t.element,"aria-expanded",r)}))},g=function(e,n,r){return _.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return _.none();var i=o.menu,a=d(n,r.slice(1));return j(a,(function(e){br(e.element,t.markers.backgroundMenu)})),Dn(i.element)||Xb.append(e,pb(i)),tb(i.element,[t.markers.backgroundMenu]),f(e,i),h(e,n,r),_.some(i)}))}))};(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu",t[t["HighlightParent"]=1]="HighlightParent"})(r||(r={}));var v=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return a.setMenuBuilt(e,r),r}return n.menu},y=function(e,n,o){void 0===o&&(o=r.HighlightSubmenu);var i=s(n);return a.expand(i).bind((function(i){return m(e,i),_.from(i[0]).bind((function(u){return a.lookupMenu(u).bind((function(s){var c=v(e,u,s);return Dn(c.element)||Xb.append(e,pb(c)),t.onOpenSubmenu(e,n,c,J(i)),o===r.HighlightSubmenu?(vc.highlightFirst(c),g(e,a,i)):(vc.dehighlightAll(c),_.some(n))}))}))}))},b=function(e,n){var r=s(n);return a.collapse(r).bind((function(r){return m(e,r),g(e,a,r).map((function(r){return t.onCollapseMenu(e,n,r),r}))}))},x=function(t,e){var n=s(e);return a.refresh(n).bind((function(e){return m(t,e),g(t,a,e)}))},w=function(t,e){return kc(e.element)?_.none():y(t,e,r.HighlightSubmenu)},S=function(t,e){return kc(e.element)?_.none():b(t,e)},C=function(e,n){return b(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))},k=function(e){return function(n,r){return Ts(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOptional().bind((function(t){return e(n,t).map((function(){return!0}))}))}))}},T=Ii([Ni(Pb(),(function(t,e){var n=e.event.item;a.lookupItem(s(n)).each((function(){var n=e.event.menu;vc.highlight(t,n);var r=s(e.event.item);a.refresh(r).each((function(e){return h(t,a,e)}))}))})),qi((function(e,n){var o=n.event.target;e.getSystem().getByDom(o).each((function(n){var o=s(n);0===o.indexOf("collapse-item")&&b(e,n),y(e,n,r.HighlightSubmenu).fold((function(){t.onExecute(e,n)}),(function(){}))}))})),Ui((function(e,n){u(e).each((function(n){Xb.append(e,pb(n)),t.onOpenMenu(e,n),t.highlightImmediately&&f(e,n)}))}))].concat(t.navigateOnHover?[Ni(bb(),(function(e,n){var o=n.event.item;x(e,o),y(e,o,r.HighlightParent),t.onHover(e,o)}))]:[])),A=function(t){return vc.getHighlighted(t).bind(vc.getHighlighted)},O=function(t){A(t).each((function(e){b(t,e)}))},M=function(t){a.getPrimary().each((function(e){f(t,e)}))},D=function(t){return _.from(t.components()[0]).filter((function(t){return"menu"===sr(t.element,"role")}))},I=function(e){var n=a.getPrimary().bind((function(t){return A(e).bind((function(t){var n=s(t),r=er(a.getMenus()),o=Zs(F(r,tx.extractPreparedMenu));return a.getTriggeringPath(n,(function(t){return c(e,o,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))}));n.fold((function(){D(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;t.onRepositionMenu(e,r,o)}))},E={collapseMenu:O,highlightPrimary:M,repositionMenus:I};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Df(t.tmenuBehaviours,[Af.config({mode:"special",onRight:k(w),onLeft:k(S),onEscape:k(C),focusIn:function(t,e){a.getPrimary().each((function(e){Ie(t,e.element,be())}))}}),vc.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),xv.config({find:function(t){return vc.getHighlighted(t)}}),Xb.config({})]),eventOrder:t.eventOrder,apis:E,events:T}},nx=u("collapse-item"),rx=function(t,e,n){return{primary:t,menus:e,expansions:n}},ox=function(t,e){return{primary:t,menus:ho(t,e),expansions:{}}},ix=function(t){return{value:Gf(nx()),meta:{text:t}}},ax=qd({name:"TieredMenu",configFields:[du("onExecute"),du("onEscape"),fu("onOpenMenu"),fu("onOpenSubmenu"),cu("onRepositionMenu"),cu("onCollapseMenu"),gi("highlightImmediately",!0),fi("data",[ui("primary"),ui("menus"),ui("expansions")]),gi("fakeFocus",!1),cu("onHighlight"),cu("onHover"),au(),ui("dom"),gi("navigateOnHover",!0),gi("stayInDom",!1),Of("tmenuBehaviours",[Af,vc,xv,Xb]),gi("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:ex,extraApis:{tieredData:rx,singleData:ox,collapseItem:ix}}),ux=function(t,e,n,r){return nr(e.routes,r.start).bind((function(t){return nr(t,r.destination)}))},sx=function(t,e,n){var r=dx(t,e);return r.bind((function(r){return cx(t,e,n,r)}))},cx=function(t,e,n,r){return ux(t,e,n,r).bind((function(t){return t.transition.map((function(e){return{transition:e,route:t}}))}))},lx=function(t,e,n){sx(t,e,n).each((function(n){var r=n.transition;wr(t.element,r.transitionClass),fr(t.element,e.destinationAttr)}))},fx=function(t,e,n,r){return{start:sr(t.element,e.stateAttr),destination:r}},dx=function(t,e,n){var r=t.element;return cr(r,e.destinationAttr).map((function(n){return{start:sr(t.element,e.stateAttr),destination:n}}))},hx=function(t,e,n,r){lx(t,e,n),lr(t.element,e.stateAttr)&&sr(t.element,e.stateAttr)!==r&&e.onFinish(t,r),ar(t.element,e.stateAttr,r)},px=function(t,e,n,r){lr(t.element,e.destinationAttr)&&(cr(t.element,e.destinationAttr).each((function(n){ar(t.element,e.stateAttr,n)})),fr(t.element,e.destinationAttr))},mx=function(t,e,n,r){px(t,e);var o=fx(t,e,n,r);cx(t,e,n,o).fold((function(){hx(t,e,n,r)}),(function(o){lx(t,e,n);var i=o.transition;br(t.element,i.transitionClass),ar(t.element,e.destinationAttr,r)}))},gx=function(t,e,n){return cr(t.element,e.stateAttr)},vx=Object.freeze({__proto__:null,findRoute:ux,disableTransition:lx,getCurrentRoute:dx,jumpTo:hx,progressTo:mx,getState:gx}),yx=function(t,e){return Ii([Ni(le(),(function(n,r){var o=r.event.raw;dx(n,t).each((function(r){ux(n,t,e,r).each((function(i){i.transition.each((function(i){o.propertyName===i.property&&(hx(n,t,e,r.destination),t.onTransition(n,r))}))}))}))})),Ui((function(n,r){hx(n,t,e,t.initialState)}))])},bx=Object.freeze({__proto__:null,events:yx}),xx=[gi("destinationAttr","data-transitioning-destination"),gi("stateAttr","data-transitioning-state"),ui("initialState"),cu("onTransition"),cu("onFinish"),si("routes",Ko(Rr.value,Ko(Rr.value,Fo([mi("transition",[ui("property"),ui("transitionClass")])]))))],wx=function(t){var e={};return Yn(t,(function(t,n){var r=n.split("<->");e[r[0]]=ho(r[1],t),e[r[1]]=ho(r[0],t)})),e},_x=function(t,e,n){return po([{key:t,value:ho(e,n)},{key:e,value:ho(t,n)}])},Sx=function(t,e,n,r){return po([{key:t,value:po([{key:e,value:r},{key:n,value:r}])},{key:e,value:po([{key:t,value:r},{key:n,value:r}])},{key:n,value:po([{key:t,value:r},{key:e,value:r}])}])},Cx=la({fields:xx,name:"transitioning",active:bx,apis:vx,extra:{createRoutes:wx,createBistate:_x,createTristate:Sx}}),kx=ju("scrollable"),Tx=function(t){br(t,kx)},Ax=function(t){wr(t,kx)},Ox=kx,Mx=function(t){return nr(t,"format").getOr(t.title)},Dx=function(t,e){var n=Ex("Styles",[].concat(F(t.items,(function(e){return Ix(Mx(e),e.title,e.isSelected(),e.getPreview(),or(t.expansions,Mx(e)))}))),e,!1),r=Xn(t.menus,(function(n,r){var o=F(n,(function(e){return Ix(Mx(e),e.title,void 0!==e.isSelected&&e.isSelected(),void 0!==e.getPreview?e.getPreview():"",or(t.expansions,Mx(e)))}));return Ex(r,o,e,!0)})),o=Jr(r,ho("styles",n)),i=ax.tieredData("styles",o,t.expansions);return{tmenu:i}},Ix=function(t,e,n,r,o){return{data:{value:t,text:e},type:"item",dom:{tag:"div",classes:o?[ju("styles-item-is-menu")]:[]},toggling:{toggleOnExecute:!1,toggleClass:ju("format-matches"),selected:n},itemBehaviours:sa(o?[]:[Bu(t,(function(t,e){var n=e?Lu.on:Lu.off;n(t)}))]),components:[{dom:{tag:"div",attributes:{style:r},innerHtml:e}}]}},Ex=function(t,e,n,r){return{value:t,dom:{tag:"div"},components:[Zd.sketch({dom:{tag:"div",classes:[ju("styles-collapser")]},components:r?[{dom:{tag:"span",classes:[ju("styles-collapse-icon")]}},lb(t)]:[lb(t)],action:function(t){if(r){var e=n().get(t);ax.collapseMenu(e)}}}),{dom:{tag:"div",classes:[ju("styles-menu-items-container")]},components:[Bb.parts.items({})],behaviours:sa([gv("adhoc-scrollable-menu",[Ui((function(t,e){ns(t.element,"overflow-y","auto"),ns(t.element,"-webkit-overflow-scrolling","touch"),Tx(t.element)})),Wi((function(t){us(t.element,"overflow-y"),us(t.element,"-webkit-overflow-scrolling"),Ax(t.element)}))])])}],items:e,menuBehaviours:sa([Cx.config({initialState:"after",routes:Cx.createTristate("before","current","after",{transition:{property:"transform",transitionClass:"transitioning"}})})])}},Rx=function(t){var e=Dx(t.formats,(function(){return n})),n=Wg(ax.sketch({dom:{tag:"div",classes:[ju("styles-menu")]},components:[],fakeFocus:!0,stayInDom:!0,onExecute:function(e,n){var r=Jh.getValue(n);return t.handle(n,r.value),_.none()},onEscape:function(){return _.none()},onOpenMenu:function(t,e){var n=ep(t.element);tp(e.element,n),Cx.jumpTo(e,"current")},onOpenSubmenu:function(t,e,n){var r=ep(t.element),o=Cs(e.element,'[role="menu"]').getOrDie("hacky"),i=t.getSystem().getByDom(o).getOrDie();tp(n.element,r),Cx.progressTo(i,"before"),Cx.jumpTo(n,"after"),Cx.progressTo(n,"current")},onCollapseMenu:function(t,e,n){var r=Cs(e.element,'[role="menu"]').getOrDie("hacky"),o=t.getSystem().getByDom(r).getOrDie();Cx.progressTo(o,"after"),Cx.progressTo(n,"current")},navigateOnHover:!1,highlightImmediately:!0,data:e.tmenu,markers:{backgroundMenu:ju("styles-background-menu"),menu:ju("styles-menu"),selectedMenu:ju("styles-selected-menu"),item:ju("styles-item"),selectedItem:ju("styles-selected-item")}}));return n.asSpec()},Nx=function(t){var e=Jr(fo(t,["items"]),{menu:!0}),n=Lx(t.items),r=Jr(n.menus,ho(t.title,n.items)),o=Jr(n.expansions,ho(t.title,t.title));return{item:e,menus:r,expansions:o}},Px=function(t){return or(t,"items")?Nx(t):{item:t,menus:{},expansions:{}}},Lx=function(t){return W(t,(function(t,e){var n=Px(e);return{menus:Jr(t.menus,n.menus),items:[n.item].concat(t.items),expansions:Jr(t.expansions,n.expansions)}}),{menus:{},expansions:{},items:[]})},Bx=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){return t.formatter.getCssText(e)}},r=function(t){return Jr(t,{isSelected:e(t.format),getPreview:n(t.format)})},o=function(t){return Jr(t,{isSelected:p,getPreview:u("")})},i=function(r){var o=Gf(r.title),i=Jr(r,{format:o,isSelected:e(o),getPreview:n(o)});return t.formatter.register(o,i),i},a=function(t){return F(t,(function(t){if(or(t,"items")){var e=a(t.items);return Jr(o(t),{items:e})}return or(t,"format")?r(t):i(t)}))};return a(Da(t))},zx=function(t,e){var n=function(e){return $(e,(function(e){if(void 0!==e.items){var r=n(e.items);return r.length>0?[e]:[]}var o=!or(e,"format")||t.formatter.canApply(e.format);return o?[e]:[]}))},r=n(e);return Lx(r)},Vx=function(t,e,n){var r=zx(t,e);return Rx({formats:r,handle:function(e,r){t.undoManager.transact((function(){Lu.isOn(e)?t.formatter.remove(r):t.formatter.apply(r)})),n()}})},Fx=function(t){var e=t.replace(/\|/g," ").trim();return e.length>0?e.split(/\s+/):[]},jx=function(t){return $(t,(function(t){return O(t)?jx(t):Fx(t)}))},Hx=function(t){var e=Ma(t);return O(e)?jx(e):Fx(e)},Ux=function(t,e){var n=function(t){return function(){return ih(e,t)}},r=function(t){return function(){return uh(e,t)}},o=function(t,n,r){return function(){return sh(e,t,n,r)}},i=n("undo"),a=n("redo"),u=r("bold"),s=r("italic"),c=r("underline"),l=n("removeformat"),f=function(){return Sy(t,e)},d=o("unlink","link",(function(){e.execCommand("unlink",null,!1)})),h=function(){return Jg(e)},p=o("unordered-list","ul",(function(){e.execCommand("InsertUnorderedList",null,!1)})),m=o("ordered-list","ol",(function(){e.execCommand("InsertOrderedList",null,!1)})),g=function(){return Ug(t,e)},v=function(){return Tg(t,e)},y=Bx(e),b=function(){return Vx(e,y,(function(){e.fire("scrollIntoView")}))},x=function(){return lh("style-formats",(function(n){e.fire("toReading"),t.dropup.appear(b,Lu.on,n)}),sa([Lu.config({toggleClass:ju("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),vu.config({channels:po([Vu(Ra,Lu.off),Vu(Na,Lu.off)])})]),e)},w=function(t,n){return{isSupported:function(){var n=e.ui.registry.getAll().buttons;return t.forall((function(t){return or(n,t)}))},sketch:n}};return{undo:w(_.none(),i),redo:w(_.none(),a),bold:w(_.none(),u),italic:w(_.none(),s),underline:w(_.none(),c),removeformat:w(_.none(),l),link:w(_.none(),f),unlink:w(_.none(),d),image:w(_.none(),h),bullist:w(_.some("bullist"),p),numlist:w(_.some("numlist"),m),fontsizeselect:w(_.none(),g),forecolor:w(_.none(),v),styleselect:w(_.none(),x)}},Wx=function(t,e){var n=Hx(t),r={};return $(n,(function(t){var n=!or(r,t)&&or(e,t)&&e[t].isSupported()?[e[t].sketch()]:[];return r[t]=!0,n}))},Gx=function(t,e,n,r,o,i,a){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:a}},qx=function(t){var e=We.fromDom(On(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=i(r,n);return Gx(e,t.clientX,t.clientY,n,r,o,t)},Yx=function(t,e){return function(n){t(n)&&e(qx(n))}},Xx=function(t,e,n,r,o){var i=Yx(n,r);return t.dom.addEventListener(e,i,o),{unbind:c(Kx,t,e,i,o)}},Zx=function(t,e,n,r){return Xx(t,e,n,r,!1)},$x=function(t,e,n,r){return Xx(t,e,n,r,!0)},Kx=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Jx=m,Qx=function(t,e,n){return Zx(t,e,Jx,n)},tw=function(t,e,n){return $x(t,e,Jx,n)},ew=tinymce.util.Tools.resolve("tinymce.util.Delay"),nw=50,rw=1e3/nw,ow=function(t){var e=t.matchMedia("(orientation: portrait)").matches;return{isPortrait:u(e)}},iw=function(t){var e=$t().os.isiOS(),n=ow(t).isPortrait();return e&&!n?t.screen.height:t.screen.width},aw=function(t,e){var n=We.fromDom(t),r=null,o=function(){ew.clearInterval(r);var n=ow(t);e.onChange(n),a((function(){e.onReady(n)}))},i=Qx(n,"orientationchange",o),a=function(e){ew.clearInterval(r);var n=t.innerHeight,o=0;r=ew.setInterval((function(){n!==t.innerHeight?(ew.clearInterval(r),e(_.some(t.innerHeight))):o>rw&&(ew.clearInterval(r),e(_.none())),o++}),nw)},u=function(){i.unbind()};return{onAdjustment:a,destroy:u}},uw=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))},sw=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))},cw=function(t,e,n){var r=t.document.createRange();return uw(r,e),sw(r,n),r},lw=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},fw=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},dw=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?_.some(n).map(fw):_.none()},hw=Yr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pw=function(t,e,n){return e(We.fromDom(n.startContainer),n.startOffset,We.fromDom(n.endContainer),n.endOffset)},mw=function(t,e){return e.match({domRange:function(t){return{ltr:u(t),rtl:_.none}},relative:function(e,n){return{ltr:g((function(){return cw(t,e,n)})),rtl:g((function(){return _.some(cw(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:g((function(){return lw(t,e,n,r,o)})),rtl:g((function(){return _.some(lw(t,r,o,e,n))}))}}})},gw=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return hw.rtl(We.fromDom(t.endContainer),t.endOffset,We.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return pw(t,hw.ltr,n)}))}return pw(t,hw.ltr,n)},vw=function(t,e){var n=mw(t,e);return gw(t,n)},yw=function(t,e){var n=vw(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,n),i}})},bw=(hw.ltr,hw.rtl,function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}),xw={create:bw};function ww(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?_.from(e.dom.nodeValue):_.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}}var _w=ww(tn,"text"),Sw=function(t){return _w.getOption(t)},Cw=function(t){return"img"===$e(t)?1:Sw(t).fold((function(){return fn(t).length}),(function(t){return t.length}))},kw=Yr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Tw=function(t,e,n,r){return t.fold(e,n,r)},Aw=function(t){return t.fold(s,s,s)},Ow=kw.before,Mw=kw.on,Dw=kw.after,Iw={before:Ow,on:Mw,after:Dw,cata:Tw,getStart:Aw},Ew=Yr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Rw=function(t){return Ew.exact(t.start,t.soffset,t.finish,t.foffset)},Nw=function(t){return t.match({domRange:function(t){return We.fromDom(t.startContainer)},relative:function(t,e){return Iw.getStart(t)},exact:function(t,e,n,r){return t}})},Pw=Ew.domRange,Lw=Ew.relative,Bw=Ew.exact,zw=function(t){var e=Nw(t);return an(e)},Vw=xw.create,Fw={domRange:Pw,relative:Lw,exact:Bw,exactFromRange:Rw,getWin:zw,range:Vw},jw=function(t,e){var n=$e(t);return"input"===n?Iw.after(t):z(["br","img"],n)?0===e?Iw.before(t):Iw.after(t):Iw.on(t,e)},Hw=function(t,e,n,r){var o=jw(t,e),i=jw(n,r);return Fw.relative(o,i)},Uw=function(t,e,n,r){var o=rn(t),i=o.dom.createRange();return i.setStart(t.dom,e),i.setEnd(n.dom,r),i},Ww=function(t,e,n,r){var o=Uw(t,e,n,r),i=Ze(t,n)&&e===r;return o.collapsed&&!i},Gw=function(t){return _.from(t.getSelection())},qw=function(t,e){Gw(t).each((function(t){t.removeAllRanges(),t.addRange(e)}))},Yw=function(t,e,n,r,o){var i=lw(t,e,n,r,o);qw(t,i)},Xw=function(t,e,n,r,o,i){e.collapse(n.dom,r),e.extend(o.dom,i)},Zw=function(t,e){return vw(t,e).match({ltr:function(e,n,r,o){Yw(t,e,n,r,o)},rtl:function(e,n,r,o){Gw(t).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(e.dom,n,r.dom,o);else if(i.extend)try{Xw(t,i,e,n,r,o)}catch(a){Yw(t,r,o,e,n)}else Yw(t,r,o,e,n)}))}})},$w=function(t,e,n,r,o){var i=Hw(e,n,r,o);Zw(t,i)},Kw=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return _.some(xw.create(We.fromDom(e.startContainer),e.startOffset,We.fromDom(n.endContainer),n.endOffset))}return _.none()},Jw=function(t){if(null===t.anchorNode||null===t.focusNode)return Kw(t);var e=We.fromDom(t.anchorNode),n=We.fromDom(t.focusNode);return Ww(e,t.anchorOffset,n,t.focusOffset)?_.some(xw.create(e,t.anchorOffset,n,t.focusOffset)):Kw(t)},Qw=function(t){return Gw(t).filter((function(t){return t.rangeCount>0})).bind(Jw)},t_=function(t){return Qw(t).map((function(t){return Fw.exact(t.start,t.soffset,t.finish,t.foffset)}))},e_=function(t,e){var n=yw(t,e);return dw(n)},n_=function(t){Gw(t).each((function(t){return t.removeAllRanges()}))},r_=function(t){return _.some(We.fromDom(t.dom.contentWindow.document.body))},o_=function(t){return _.some(We.fromDom(t.dom.contentWindow.document))},i_=function(t){return _.from(t.dom.contentWindow)},a_=function(t){var e=i_(t);return e.bind(Qw)},u_=function(t){return t.getFrame()},s_=function(t,e){return function(n){var r=n[t].getOrThunk((function(){var t=u_(n);return function(){return e(t)}}));return r()}},c_=function(t,e,n,r){return t[n].getOrThunk((function(){return function(t){return Qx(e,r,t)}}))},l_=function(t){var e=u_(t),n=function(t){var e=function(t){return Ze(t.start,t.finish)&&t.soffset===t.foffset},n=function(t){var e=t.start.dom.getBoundingClientRect();return e.width>0||e.height>0?_.some(e):_.none()};return Qw(t).filter(e).bind(n)};return r_(e).bind((function(r){return o_(e).bind((function(o){return i_(e).map((function(i){var a=We.fromDom(o.dom.documentElement),u=t.getCursorBox.getOrThunk((function(){return function(){return t_(i).bind((function(t){return e_(i,t).orThunk((function(){return n(i)}))}))}})),s=t.setSelection.getOrThunk((function(){return function(t,e,n,r){$w(i,t,e,n,r)}})),l=t.clearSelection.getOrThunk((function(){return function(){n_(i)}}));return{body:r,doc:o,win:i,html:a,getSelection:c(a_,e),setSelection:s,clearSelection:l,frame:e,onKeyup:c_(t,o,"onKeyup","keyup"),onNodeChanged:c_(t,o,"onNodeChanged","SelectionChange"),onDomChanged:t.onDomChanged,onScrollToCursor:t.onScrollToCursor,onScrollToElement:t.onScrollToElement,onToReading:t.onToReading,onToEditing:t.onToEditing,onToolbarScrollStart:t.onToolbarScrollStart,onTouchContent:t.onTouchContent,onTapContent:t.onTapContent,onTouchToolstrip:t.onTouchToolstrip,getCursorBox:u}}))}))}))},f_=s_("getWin",i_),d_=function(){var t=Ss("head").getOrDie(),e=function(){var e=We.fromTag("meta");return ar(e,"name","viewport"),vn(t,e),e},n=Ss('meta[name="viewport"]').getOrThunk(e),r=sr(n,"content"),o=function(){ar(n,"content","width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0")},i=function(){void 0!==r&&null!==r&&r.length>0?ar(n,"content",r):ar(n,"content","user-scalable=yes")};return{maximize:o,restore:i}},h_="data-ephox-mobile-fullscreen-style",p_="display:none!important;",m_="position:absolute!important;",g_="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",v_="background-color:rgb(255,255,255)!important;",y_=$t().os.isAndroid(),b_=function(t){var e=os(t,"background-color");return void 0!==e&&""!==e?"background-color:"+e+"!important":v_},x_=function(t,e){var n=function(t){return gs(t,"*")},r=function(t){return function(e){var n=sr(e,"style"),r=void 0===n?"no-styles":n.trim();r!==t&&(ar(e,h_,r),ar(e,"style",t))}},o=ms(t,"*"),i=$(o,n),a=b_(e);j(i,r(p_)),j(o,r(m_+g_+a));var u=!0===y_?"":m_;r(u+g_+a)(t)},w_=function(){var t=ps("["+h_+"]");j(t,(function(t){var e=sr(t,h_);"no-styles"!==e?ar(t,"style",e):fr(t,"style"),fr(t,h_)}))};function __(t,e){var n=null,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n=setTimeout((function(){t.apply(null,r),n=null}),e)},o=function(){null!==n&&(clearTimeout(n),n=null)};return{cancel:o,schedule:r}}var S_=5,C_=400,k_=function(t){var e=t.raw;return void 0===e.touches||1!==e.touches.length?_.none():_.some(e.touches[0])},T_=function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>S_||r>S_},A_=function(t){var e=ma(_.none()),n=ma(!1),r=__((function(e){t.triggerEvent(we(),e),n.set(!0)}),C_),o=function(t){return k_(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.schedule(t),n.set(!1),e.set(_.some(i))})),_.none()},i=function(t){return r.cancel(),k_(t).each((function(t){e.get().each((function(n){T_(t,n)&&e.set(_.none())}))})),_.none()},a=function(o){r.cancel();var i=function(t){return Ze(t.target,o.target)};return e.get().filter(i).map((function(e){return n.get()?(o.prevent(),!1):t.triggerEvent(xe(),o)}))},u=po([{key:Jt(),value:o},{key:Qt(),value:i},{key:te(),value:a}]),s=function(t,e){return nr(u,e).bind((function(e){return e(t)}))};return{fireIfReady:s}},O_=function(t){var e=A_({triggerEvent:function(e,n){t.onTapContent(n)}}),n=function(){return Qx(t.body,"touchend",(function(t){e.fireIfReady(t,"touchend")}))},r=function(){return Qx(t.body,"touchmove",(function(t){e.fireIfReady(t,"touchmove")}))},o=function(t){e.fireIfReady(t,"touchstart")};return{fireTouchstart:o,onTouchend:n,onTouchmove:r}},M_=$t().os.version.major>=6,D_=function(t,e,n){var r=O_(t),i=rn(e),a=function(t){return!Ze(t.start,t.finish)||t.soffset!==t.foffset},u=function(){return xa(i).filter((function(t){return"input"===$e(t)})).exists((function(t){return t.dom.selectionStart!==t.dom.selectionEnd}))},s=function(){var r=t.doc.dom.hasFocus()&&t.getSelection().exists(a);n.getByDom(e).each(!0===(r||u())?Lu.on:Lu.off)},c=[Qx(t.body,"touchstart",(function(e){t.onTouchContent(),r.fireTouchstart(e)})),r.onTouchmove(),r.onTouchend(),Qx(e,"touchstart",(function(e){t.onTouchToolstrip()})),t.onToReading((function(){ya(t.body)})),t.onToEditing(o),t.onScrollToCursor((function(e){e.preventDefault(),t.getCursorBox().each((function(e){var n=t.win,r=e.top>n.innerHeight||e.bottom>n.innerHeight,o=r?e.bottom-n.innerHeight+50:0;0!==o&&n.scrollTo(n.pageXOffset,n.pageYOffset+o)}))}))].concat(!0===M_?[]:[Qx(We.fromDom(t.win),"blur",(function(){n.getByDom(e).each(Lu.off)})),Qx(i,"select",s),Qx(t.doc,"selectionchange",s)]),l=function(){j(c,(function(t){t.unbind()}))};return{destroy:l}},I_=function(t,e){var n=parseInt(sr(t,e),10);return isNaN(n)?0:n},E_=2,R_=function(t){return e(e({},t),{width:E_})},N_=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},P_=function(t){if(t.collapsed){var e=We.fromDom(t.startContainer);return un(e).bind((function(n){var r=Fw.exact(e,t.startOffset,n,Cw(n)),o=e_(t.startContainer.ownerDocument.defaultView,r);return o.map(R_).map(tt)})).getOr([])}return F(t.getClientRects(),N_)},L_=function(t){var e=t.getSelection();return void 0!==e&&e.rangeCount>0?P_(e.getRangeAt(0)):[]},B_=function(){return function(t){ew.setTimeout((function(){t()}),0)}},z_=function(t){t.focus();var e=We.fromDom(t.document.body),n=xa().exists((function(t){return z(["input","textarea"],$e(t))})),r=n?B_():h;r((function(){xa().each(ya),va(e)}))},V_=50,F_="data-"+ju("last-outer-height"),j_=function(t,e){ar(t,F_,e)},H_=function(t){return I_(t,F_)},U_=function(t){return{top:t.top,bottom:t.top+t.height}},W_=function(t){var e=L_(t);return e.length>0?_.some(e[0]).map(U_):_.none()},G_=function(t,e){var n=H_(e),r=t.innerHeight;return n>r?_.some(n-r):_.none()},q_=function(t,e,n){var r=e.top>t.innerHeight||e.bottom>t.innerHeight;return r?Math.min(n,e.bottom-t.innerHeight+V_):0},Y_=function(t,e){var n=We.fromDom(e.document.body),r=function(){z_(e)},o=Qx(We.fromDom(t),"resize",(function(){G_(t,n).each((function(t){W_(e).each((function(n){var r=q_(e,n,t);0!==r&&e.scrollTo(e.pageXOffset,e.pageYOffset+r)}))})),j_(n,t.innerHeight)}));j_(n,t.innerHeight);var i=function(){o.unbind()};return{toEditing:r,destroy:i}},X_=function(t,e){var n=d_(),r=hy(),o=hy(),i=function(){e.hide(),br(t.container,ju("fullscreen-maximized")),br(t.container,ju("android-maximized")),n.maximize(),br(t.body,ju("android-scroll-reload")),r.set(Y_(t.win,f_(t.editor).getOrDie("no"))),l_(t.editor).each((function(e){x_(t.container,e.body),o.set(D_(e,t.toolstrip,t.alloy))}))},a=function(){n.restore(),e.show(),wr(t.container,ju("fullscreen-maximized")),wr(t.container,ju("android-maximized")),w_(),wr(t.body,ju("android-scroll-reload")),o.clear(),r.clear()};return{enter:i,exit:a}},Z_=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout((function(){t.apply(null,r),n=null}),e))};return{cancel:r,throttle:o}},$_=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){t.apply(null,r),n=null}),e)};return{cancel:r,throttle:o}},K_=function(t,e){var n=Wg(_v.sketch({dom:rh('<div aria-hidden="true" class="${prefix}-mask-tap-icon"></div>'),containerBehaviours:sa([Lu.config({toggleClass:ju("mask-tap-icon-selected"),toggleOnExecute:!1})])})),r=Z_(t,200);return _v.sketch({dom:rh('<div class="${prefix}-disabled-mask"></div>'),components:[_v.sketch({dom:rh('<div class="${prefix}-content-container"></div>'),components:[Zd.sketch({dom:rh('<div class="${prefix}-content-tap-section"></div>'),components:[n.asSpec()],action:function(t){r.throttle()},buttonBehaviours:sa([Lu.config({toggleClass:ju("mask-tap-icon-selected")})])})]})]})},J_=u({unbind:o}),Q_=jo([fi("editor",[ui("getFrame"),di("getBody"),di("getDoc"),di("getWin"),di("getSelection"),di("setSelection"),di("clearSelection"),di("cursorSaver"),di("onKeyup"),di("onNodeChanged"),di("getCursorBox"),ui("onDomChanged"),gi("onTouchContent",o),gi("onTapContent",o),gi("onTouchToolstrip",o),gi("onScrollToCursor",J_),gi("onScrollToElement",J_),gi("onToEditing",J_),gi("onToReading",J_),gi("onToolbarScrollStart",s)]),ui("socket"),ui("toolstrip"),ui("dropup"),ui("toolbar"),ui("container"),ui("alloy"),xi("win",(function(t){return rn(t.socket).dom.defaultView})),xi("body",(function(t){return We.fromDom(t.socket.dom.ownerDocument.body)})),gi("translate",s),gi("setReadOnly",o),gi("readOnlyOnInit",m)]),tS=function(t){var e=ei("Getting AndroidWebapp schema",Q_,t);ns(e.toolstrip,"width","100%");var n=function(){e.setReadOnly(e.readOnlyOnInit()),a.enter()},r=hb(K_(n,e.translate));e.alloy.add(r);var i={show:function(){e.alloy.add(r)},hide:function(){e.alloy.remove(r)}};vn(e.container,r.element);var a=X_(e,i);return{setReadOnly:e.setReadOnly,refreshStructure:o,enter:a.enter,exit:a.exit,destroy:o}},eS=u([ui("dom"),gi("shell",!0),Of("toolbarBehaviours",[Xb])]),nS=function(){return{behaviours:sa([Xb.config({})])}},rS=u([sd({name:"groups",overrides:nS})]),oS=function(t,e,n,r){var o=function(t,e){i(t).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){Xb.set(t,e)}))},i=function(e){return t.shell?_.some(e):xd(e,t,"groups")},a=t.shell?{behaviours:[Xb.config({})],components:[]}:{behaviours:[],components:e};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:Df(t.toolbarBehaviours,a.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}},iS=Yd({name:"Toolbar",configFields:eS(),partFields:rS(),factory:oS,apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),aS=u([ui("items"),uu(["itemSelector"]),Of("tgroupBehaviours",[Af])]),uS=u([cd({name:"items",unit:"item"})]),sS=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Df(t.tgroupBehaviours,[Af.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},cS=Yd({name:"ToolbarGroup",configFields:aS(),partFields:uS(),factory:sS}),lS="data-"+ju("horizontal-scroll"),fS=function(t){t.dom.scrollTop=1;var e=0!==t.dom.scrollTop;return t.dom.scrollTop=0,e},dS=function(t){t.dom.scrollLeft=1;var e=0!==t.dom.scrollLeft;return t.dom.scrollLeft=0,e},hS=function(t){return t.dom.scrollTop>0||fS(t)},pS=function(t){return t.dom.scrollLeft>0||dS(t)},mS=function(t){ar(t,lS,"true")},gS=function(t){return"true"===sr(t,lS)?pS(t):hS(t)},vS=function(t,e){return Qx(t,"touchmove",(function(t){Ts(t.target,e).filter(gS).fold((function(){t.prevent()}),o)}))},yS=function(){var t=function(t){var e=!0===t.scrollable?"${prefix}-toolbar-scrollable-group":"";return{dom:rh('<div aria-label="'+t.label+'" class="${prefix}-toolbar-group '+e+'"></div>'),tgroupBehaviours:sa([gv("adhoc-scrollable-toolbar",!0===t.scrollable?[Gi((function(t,e){ns(t.element,"overflow-x","auto"),mS(t.element),Tx(t.element)}))]:[])]),components:[_v.sketch({components:[cS.parts.items({})]})],markers:{itemSelector:"."+ju("toolbar-group-item")},items:t.items}},e=hb(iS.sketch({dom:rh('<div class="${prefix}-toolbar"></div>'),components:[iS.parts.groups({})],toolbarBehaviours:sa([Lu.config({toggleClass:ju("context-toolbar"),toggleOnExecute:!1,aria:{mode:"none"}}),Af.config({mode:"cyclic"})]),shell:!0})),n=hb(_v.sketch({dom:{classes:[ju("toolstrip")]},components:[pb(e)],containerBehaviours:sa([Lu.config({toggleClass:ju("android-selection-context-toolbar"),toggleOnExecute:!1})])})),r=function(){iS.setGroups(e,o.get()),Lu.off(e)},o=ma([]),a=function(t){o.set(t),r()},u=function(e){return F(e,i(cS.sketch,t))},s=function(){},c=function(t){Lu.on(e),iS.setGroups(e,t)},l=function(){Lu.isOn(e)&&r()},f=function(){Af.focusIn(e)};return{wrapper:n,toolbar:e,createGroups:u,setGroups:a,setContextToolbar:c,restoreToolbar:l,refresh:s,focus:f}},bS=function(t){return hb(Zd.sketch({dom:rh('<div class="${prefix}-mask-edit-icon ${prefix}-icon"></div>'),action:function(){t.run((function(t){t.setReadOnly(!1)}))}}))},xS=function(){return hb(_v.sketch({dom:rh('<div class="${prefix}-editor-socket"></div>'),components:[],containerBehaviours:sa([Xb.config({})])}))},wS=function(t,e){Xb.append(t,pb(e))},_S=function(t,e){Xb.remove(t,e)},SS=function(t,e,n,r){var o=!0===n?pa.toAlpha:pa.toOmega;o(r);var i=n?wS:_S;i(t,e)},CS=function(t,e){return e.getAnimationRoot.fold((function(){return t.element}),(function(e){return e(t)}))},kS=function(t){return t.dimension.property},TS=function(t,e){return t.dimension.getDimension(e)},AS=function(t,e){var n=CS(t,e);tb(n,[e.shrinkingClass,e.growingClass])},OS=function(t,e){wr(t.element,e.openClass),br(t.element,e.closedClass),ns(t.element,kS(e),"0px"),ss(t.element)},MS=function(t,e){wr(t.element,e.closedClass),br(t.element,e.openClass),us(t.element,kS(e))},DS=function(t,e,n,r){n.setCollapsed(),ns(t.element,kS(e),TS(e,t.element)),ss(t.element),AS(t,e),OS(t,e),e.onStartShrink(t),e.onShrunk(t)},IS=function(t,e,n,r){var o=r.getOrThunk((function(){return TS(e,t.element)}));n.setCollapsed(),ns(t.element,kS(e),o),ss(t.element);var i=CS(t,e);wr(i,e.growingClass),br(i,e.shrinkingClass),OS(t,e),e.onStartShrink(t)},ES=function(t,e,n){var r=TS(e,t.element),o="0px"===r?DS:IS;o(t,e,n,_.some(r))},RS=function(t,e,n){var r=CS(t,e),o=_r(r,e.shrinkingClass),i=TS(e,t.element);MS(t,e);var a=TS(e,t.element),u=function(){ns(t.element,kS(e),i),ss(t.element)},s=function(){OS(t,e)},c=o?u:s;c(),wr(r,e.shrinkingClass),br(r,e.growingClass),MS(t,e),ns(t.element,kS(e),a),n.setExpanded(),e.onStartGrow(t)},NS=function(t,e,n){if(n.isExpanded()){us(t.element,kS(e));var r=TS(e,t.element);ns(t.element,kS(e),r)}},PS=function(t,e,n){n.isExpanded()||RS(t,e,n)},LS=function(t,e,n){n.isExpanded()&&ES(t,e,n)},BS=function(t,e,n){n.isExpanded()&&DS(t,e,n,_.none())},zS=function(t,e,n){return n.isExpanded()},VS=function(t,e,n){return n.isCollapsed()},FS=function(t,e,n){var r=CS(t,e);return!0===_r(r,e.growingClass)},jS=function(t,e,n){var r=CS(t,e);return!0===_r(r,e.shrinkingClass)},HS=function(t,e,n){return!0===FS(t,e)||!0===jS(t,e)},US=function(t,e,n){var r=n.isExpanded()?ES:RS;r(t,e,n)},WS=Object.freeze({__proto__:null,refresh:NS,grow:PS,shrink:LS,immediateShrink:BS,hasGrown:zS,hasShrunk:VS,isGrowing:FS,isShrinking:jS,isTransitioning:HS,toggleGrow:US,disableTransitions:AS}),GS=function(t,e,n){var r=e.expanded;return Ki(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:ho(e.dimension.property,"0px")})},qS=function(t,e){return Ii([Hi(le(),(function(n,r){var o=r.event.raw;if(o.propertyName===t.dimension.property){AS(n,t),e.isExpanded()&&us(n.element,t.dimension.property);var i=e.isExpanded()?t.onGrown:t.onShrunk;i(n)}}))])},YS=Object.freeze({__proto__:null,exhibit:GS,events:qS}),XS=[ui("closedClass"),ui("openClass"),ui("shrinkingClass"),ui("growingClass"),di("getAnimationRoot"),cu("onShrunk"),cu("onStartShrink"),cu("onGrown"),cu("onStartGrow"),gi("expanded",!1),si("dimension",ri("property",{width:[hu("property","width"),hu("getDimension",(function(t){return ep(t)+"px"}))],height:[hu("property","height"),hu("getDimension",(function(t){return fs(t)+"px"}))]}))],ZS=function(t){var e=ma(t.expanded),n=function(){return"expanded: "+e.get()};return ua({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:c(e.set,!1),setExpanded:c(e.set,!0),readState:n})},$S=Object.freeze({__proto__:null,init:ZS}),KS=la({fields:XS,name:"sliding",active:YS,apis:WS,state:$S}),JS=function(t,e){var n=hb(_v.sketch({dom:{tag:"div",classes:[ju("dropup")]},components:[],containerBehaviours:sa([Xb.config({}),KS.config({closedClass:ju("dropup-closed"),openClass:ju("dropup-open"),shrinkingClass:ju("dropup-shrinking"),growingClass:ju("dropup-growing"),dimension:{property:"height"},onShrunk:function(n){t(),e(),Xb.set(n,[])},onGrown:function(n){t(),e()}}),zu((function(t,e){i(o)}))])})),r=function(t,e,r){!0===KS.hasShrunk(n)&&!1===KS.isTransitioning(n)&&window.requestAnimationFrame((function(){e(r),Xb.set(n,[t()]),KS.grow(n)}))},i=function(t){window.requestAnimationFrame((function(){t(),KS.shrink(n)}))};return{appear:r,disappear:i,component:n,element:n.element}},QS=function(t,e,n){return Ts(t,e,n).isSome()},tC=function(t){var e=t.raw;return e.which===As[0]&&!z(["input","textarea"],$e(t.target))&&!QS(t.target,'[contenteditable="true"]')},eC=function(){return $t().browser.isFirefox()},nC=Fo([ci("triggerEvent"),gi("stopBackspace",!0)]),rC=function(t,e){return eC()?tw(t,"focus",e):Qx(t,"focusin",e)},oC=function(t,e){return eC()?tw(t,"blur",e):Qx(t,"focusout",e)},iC=function(t,e){var n=ei("Getting GUI events settings",nC,e),r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],o=A_(n),i=F(r.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return Qx(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()}));var r=n.triggerEvent(e,t);r&&t.kill()}))})),a=ma(_.none()),u=Qx(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()}));var e=n.triggerEvent("paste",t);e&&t.kill(),a.set(_.some(setTimeout((function(){n.triggerEvent(ge(),t)}),0)))})),s=Qx(t,"keydown",(function(t){var e=n.triggerEvent("keydown",t);e?t.kill():!0===n.stopBackspace&&tC(t)&&t.prevent()})),c=rC(t,(function(t){var e=n.triggerEvent("focusin",t);e&&t.kill()})),l=ma(_.none()),f=oC(t,(function(t){var e=n.triggerEvent("focusout",t);e&&t.kill(),l.set(_.some(setTimeout((function(){n.triggerEvent(me(),t)}),0)))})),d=function(){j(i,(function(t){t.unbind()})),s.unbind(),c.unbind(),f.unbind(),u.unbind(),a.get().each(clearTimeout),l.get().each(clearTimeout)};return{unbind:d}},aC=function(t,e){var n=nr(t,"target").getOr(e);return ma(n)},uC=function(t,e){var n=ma(!1),r=ma(!1),o=function(){n.set(!0)},i=function(){r.set(!0)};return{stop:o,cut:i,isStopped:n.get,isCut:r.get,event:t,setSource:e.set,getSource:e.get}},sC=function(t){var e=ma(!1),n=function(){e.set(!0)};return{stop:n,cut:o,isStopped:e.get,isCut:p,event:t,setSource:d("Cannot set source of a broadcasted event"),getSource:d("Cannot get source of a broadcasted event")}},cC=Yr.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),lC=function(t,e,n,r,o,i){var a=t(e,r),u=uC(n,o);return a.fold((function(){return i.logEventNoHandlers(e,r),cC.complete()}),(function(t){var n=t.descHandler,r=Vy(n);return r(u),u.isStopped()?(i.logEventStopped(e,t.element,n.purpose),cC.stopped()):u.isCut()?(i.logEventCut(e,t.element,n.purpose),cC.complete()):un(t.element).fold((function(){return i.logNoParent(e,t.element,n.purpose),cC.complete()}),(function(r){return i.logEventResponse(e,t.element,n.purpose),cC.resume(r)}))}))},fC=function(t,e,n,r,o,i){return lC(t,e,n,r,o,i).fold((function(){return!0}),(function(r){return fC(t,e,n,r,o,i)}),(function(){return!1}))},dC=function(t,e,n,r,o){var i=aC(n,r);return lC(t,e,n,r,i,o)},hC=function(t,e,n){var r=sC(e);return j(t,(function(t){var e=t.descHandler,n=Vy(e);n(r)})),r.isStopped()},pC=function(t,e,n,r){return mC(t,e,n,n.target,r)},mC=function(t,e,n,r,o){var i=aC(n,r);return fC(t,e,n,r,i,o)},gC=function(t,e){return{element:t,descHandler:e}},vC=function(t,e){return{id:t,descHandler:e}};function yC(){var t={},e=function(e,n,r){Yn(r,(function(r,o){var i=void 0!==t[o]?t[o]:{};i[n]=zy(r,e),t[o]=i}))},n=function(t,e){return Pd(e).fold((function(){return _.none()}),(function(n){return t.bind((function(t){return nr(t,n)})).map((function(t){return gC(e,t)}))}))},r=function(e){return nr(t,e).map((function(t){return Qn(t,(function(t,e){return vC(e,t)}))})).getOr([])},o=function(e,r,o){var i=nr(t,r);return Ci(o,(function(t){return n(i,t)}),e)},i=function(e){Yn(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))};return{registerId:e,unregisterId:i,filterByType:r,find:o}}function bC(){var t=yC(),e={},n=function(t){var e=t.element;return Pd(e).fold((function(){return Rd("uid-",t.element)}),(function(t){return t}))},r=function(t,n){var r=e[n];if(r!==t)throw new Error('The tagId "'+n+'" is already used by: '+Ha(r.element)+"\nCannot use it for: "+Ha(t.element)+"\nThe conflicting element is"+(Dn(r.element)?" ":" not ")+"already in the DOM");i(t)},o=function(o){var i=n(o);or(e,i)&&r(o,i);var a=[o];t.registerId(a,i,o.events),e[i]=o},i=function(n){Pd(n.element).each((function(n){delete e[n],t.unregisterId(n)}))},a=function(e){return t.filterByType(e)},u=function(e,n,r){return t.find(e,n,r)},s=function(t){return nr(e,t)};return{find:u,filter:a,register:o,unregister:i,getById:s}}var xC=function(t){var e=function(e){return un(t.element).fold((function(){return!0}),(function(t){return Ze(e,t)}))},n=bC(),r=function(t,r){return n.find(e,t,r)},i=iC(t.element,{triggerEvent:function(t,e){return Qa(t,e.target,(function(n){return pC(r,t,e,n)}))}}),a={debugInfo:u("real"),triggerEvent:function(t,e,n){Qa(t,e,(function(o){return mC(r,t,n,e,o)}))},triggerFocus:function(t,e){Pd(t).fold((function(){va(t)}),(function(n){Qa(pe(),t,(function(n){return dC(r,pe(),{originator:e,kill:o,prevent:o,target:t},t,n),!1}))}))},triggerEscape:function(t,e){a.triggerEvent("keydown",t.element,e.event)},getByUid:function(t){return y(t)},getByDom:function(t){return b(t)},build:hb,addToGui:function(t){l(t)},removeFromGui:function(t){f(t)},addToWorld:function(t){s(t)},removeFromWorld:function(t){c(t)},broadcast:function(t){p(t)},broadcastOn:function(t,e){g(t,e)},broadcastEvent:function(t,e){v(t,e)},isConnected:m},s=function(t){t.connect(a),tn(t.element)||(n.register(t),j(t.components(),s),a.triggerEvent(_e(),t.element,{target:t.element}))},c=function(t){tn(t.element)||(j(t.components(),c),n.unregister(t)),t.disconnect()},l=function(e){zn(t,e)},f=function(t){jn(t)},d=function(){i.unbind(),wn(t.element)},h=function(t){var e=n.filter(ve());j(e,(function(e){var n=e.descHandler,r=Vy(n);r(t)}))},p=function(t){h({universal:!0,data:t})},g=function(t,e){h({universal:!1,channels:t,data:e})},v=function(t,e){var r=n.filter(t);return hC(r,e)},y=function(t){return n.getById(t).fold((function(){return Rr.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),Rr.value)},b=function(t){var e=Pd(t).getOr("not found");return y(e)};return s(t),{root:t,element:t.element,destroy:d,add:l,remove:f,getByUid:y,getByDom:b,addToWorld:s,removeFromWorld:c,broadcast:p,broadcastOn:g,broadcastEvent:v}},wC=ju("readonly-mode"),_C=ju("edit-mode");function SC(t){var e=hb(_v.sketch({dom:{classes:[ju("outer-container")].concat(t.classes)},containerBehaviours:sa([pa.config({alpha:wC,omega:_C})])}));return xC(e)}function CC(t){var e=SC({classes:[ju("android-container")]}),n=yS(),r=hy(),i=bS(r),a=xS(),u=JS(o,t);e.add(n.wrapper),e.add(a),e.add(u.component);var s=function(t){var e=n.createGroups(t);n.setGroups(e)},c=function(t){var e=n.createGroups(t);n.setContextToolbar(e)},l=function(){n.focus()},f=function(){n.restoreToolbar()},d=function(t){r.set(tS(t))},h=function(){r.run((function(t){t.exit(),Xb.remove(a,i)}))},p=function(t){SS(a,i,t,e.root)};return{system:e,element:e.element,init:d,exit:h,setToolbarGroups:s,setContextToolbar:c,focusToolbar:l,restoreToolbar:f,updateMode:p,socket:a,dropup:u}}var kC=function(t,e){var n=We.fromTag("input");rs(n,{opacity:"0",position:"absolute",top:"-1000px",left:"-1000px"}),vn(t,n),va(n),e(n),wn(n)},TC=function(t){var e=t.getSelection();if(e.rangeCount>0){var n=e.getRangeAt(0),r=t.document.createRange();r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),e.removeAllRanges(),e.addRange(r)}},AC=function(t,e){xa().each((function(t){Ze(t,e)||ya(t)})),t.focus(),va(We.fromDom(t.document.body)),TC(t)},OC=function(t,e,n,r){var o=function(){AC(e,r)},i=function(){kC(t,ya)},a=Qx(n,"keydown",(function(t){z(["input","textarea"],$e(t.target))||o()})),u=function(){},s=function(){a.unbind()};return{toReading:i,toEditing:o,onToolbarTouch:u,destroy:s}},MC=function(t,e,n,r,o){var i=function(){e.run((function(t){t.highlightSelection()}))},a=function(){e.run((function(t){t.refreshSelection()}))},u=function(t,n){var o=t-r.dom.scrollTop;e.run((function(t){t.scrollIntoView(o,o+n)}))},s=function(t){u(e,r)},c=function(){t.getCursorBox().each((function(t){u(t.top,t.height)}))},l=function(){e.run((function(t){t.clearSelection()}))},f=function(){l(),y.throttle()},d=function(){c(),e.run((function(t){t.syncHeight()}))},h=function(){var t=fs(n);e.run((function(e){e.setViewportOffset(t)})),a(),d()},p=function(){e.run((function(t){t.toEditing()}))},m=function(){e.run((function(t){t.toReading()}))},g=function(t){e.run((function(e){e.onToolbarTouch(t)}))},v=O_(t),y=$_(d,300),b=[t.onKeyup(f),t.onNodeChanged(a),t.onDomChanged(y.throttle),t.onDomChanged(a),t.onScrollToCursor((function(t){t.preventDefault(),y.throttle()})),t.onScrollToElement((function(t){s(t.element)})),t.onToEditing(p),t.onToReading(m),Qx(t.doc,"touchend",(function(e){Ze(t.html,e.target)||Ze(t.body,e.target)})),Qx(n,"transitionend",(function(t){"height"===t.raw.propertyName&&h()})),tw(n,"touchstart",(function(e){i(),g(e),t.onTouchToolstrip()})),Qx(t.body,"touchstart",(function(e){l(),t.onTouchContent(),v.fireTouchstart(e)})),v.onTouchmove(),v.onTouchend(),Qx(t.body,"click",(function(t){t.kill()})),Qx(n,"touchmove",(function(){t.onToolbarScrollStart()}))],x=function(){j(b,(function(t){t.unbind()}))};return{destroy:x}};function DC(t,e){var n=t.document,r=We.fromTag("div");br(r,ju("unfocused-selections")),vn(We.fromDom(n.documentElement),r);var o=Qx(r,"touchstart",(function(n){n.prevent(),AC(t,e),u()})),i=function(t){var e=We.fromTag("span");return Qy(e,[ju("layer-editor"),ju("unfocused-selection")]),rs(e,{left:t.left+"px",top:t.top+"px",width:t.width+"px",height:t.height+"px"}),e},a=function(){u();var e=L_(t),n=F(e,i);bn(r,n)},u=function(){xn(r)},s=function(){o.unbind(),wn(r)},c=function(){return fn(r).length>0};return{update:a,isActive:c,destroy:s,clear:u}}var IC={},EC={exports:IC};(function(e,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o();else if("function"===typeof e&&e.amd)e([],o);else{var i;i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,i.EphoxContactWrapper=o()}})((function(){return function(){function t(e,n,r){function i(u,s){if(!n[u]){if(!e[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};e[u][0].call(f.exports,(function(t){var n=e[u][1][t];return i(n||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return t}()({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function c(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"===typeof clearTimeout?clearTimeout:u}catch(t){o=u}})();var l,f=[],d=!1,h=-1;function p(){d&&l&&(d=!1,l.length?f=l.concat(f):h=-1,f.length&&m())}function m(){if(!d){var t=s(p);d=!0;var e=f.length;while(e){l=f,f=[];while(++h<e)l&&l[h].run();h=-1,e=f.length}l=null,d=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new g(t,e)),1!==f.length||d||s(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){(function(n){var r=setTimeout;function o(){}function i(t,e){return function(){t.apply(e,arguments)}}function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function u(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void c(e.promise,o)}s(e.promise,r)}else(1===t._state?s:c)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"===typeof n)return void d(i(n,e),t)}t._state=1,t._value=e,l(t)}catch(r){c(t,r)}}function c(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&a._immediateFn((function(){t._handled||a._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(r){if(n)return;n=!0,c(e,r)}}a.prototype["catch"]=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(o);return u(this,new f(t,e,n)),n},a.all=function(t){var e=Array.prototype.slice.call(t);return new a((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,(function(t){o(i,t)}),n)}e[i]=a,0===--r&&t(e)}catch(s){n(s)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},a.resolve=function(t){return t&&"object"===typeof t&&t.constructor===a?t:new a((function(e){e(t)}))},a.reject=function(t){return new a((function(e,n){n(t)}))},a.race=function(t){return new a((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},a._immediateFn="function"===typeof t?function(e){t(e)}:function(t){r(t,0)},a._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},a._setImmediateFn=function(t){a._immediateFn=t},a._setUnhandledRejectionFn=function(t){a._unhandledRejectionFn=t},"undefined"!==typeof e&&e.exports?e.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"===typeof e?e:function(t){var e=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"===typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o=function(){return"undefined"!==typeof window?window:Function("return this;")()}();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,IC,EC,void 0);var RC=EC.exports.boltExport,NC=function(t){var e=_.none(),n=[],r=function(t){return NC((function(e){o((function(n){e(t(n))}))}))},o=function(t){a()?s(t):n.push(t)},i=function(t){a()||(e=_.some(t),u(n),n=[])},a=function(){return e.isSome()},u=function(t){j(t,s)},s=function(t){e.each((function(e){setTimeout((function(){t(e)}),0)}))};return t(i),{get:o,map:r,isReady:a}},PC=function(t){return NC((function(e){e(t)}))},LC={nu:NC,pure:PC},BC=function(t){setTimeout((function(){throw t}),0)},zC=function(t){var e=function(e){t().then(e,BC)},n=function(e){return zC((function(){return t().then(e)}))},r=function(e){return zC((function(){return t().then((function(t){return e(t).toPromise()}))}))},o=function(e){return zC((function(){return t().then((function(){return e.toPromise()}))}))},i=function(){return LC.nu(e)},a=function(){var e=null;return zC((function(){return null===e&&(e=t()),e}))},u=t;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,toPromise:u,get:e}},VC=function(t){return zC((function(){return new RC(t)}))},FC=function(t){return zC((function(){return RC.resolve(t)}))},jC={nu:VC,pure:FC},HC=function(t,e,n){return Math.abs(t-e)<=n?_.none():t<e?_.some(t+n):_.some(t-n)},UC=function(){var t=null,e=function(e,n,r,o,i,a){var u=!1,s=function(t){u=!0,i(t)};ew.clearInterval(t);var c=function(e){ew.clearInterval(t),s(e)};t=ew.setInterval((function(){var i=e();HC(i,n,r).fold((function(){ew.clearInterval(t),s(n)}),(function(r){if(o(r,c),!u){var a=e();(a!==r||Math.abs(a-n)>Math.abs(i-n))&&(ew.clearInterval(t),s(n))}}))}),a)};return{animate:e}},WC=function(t,e){var n=[{width:320,height:480,keyboard:{portrait:300,landscape:240}},{width:320,height:568,keyboard:{portrait:300,landscape:240}},{width:375,height:667,keyboard:{portrait:305,landscape:240}},{width:414,height:736,keyboard:{portrait:320,landscape:240}},{width:768,height:1024,keyboard:{portrait:320,landscape:400}},{width:1024,height:1366,keyboard:{portrait:380,landscape:460}}];return ot(n,(function(n){return Ks(t<=n.width&&e<=n.height,n.keyboard)})).getOr({portrait:e/5,landscape:t/4})},GC=function(t){return WC(t.screen.width,t.screen.height)},qC=function(t){var e=ow(t).isPortrait(),n=GC(t),r=e?n.portrait:n.landscape,o=e?t.screen.height:t.screen.width;return o-t.innerHeight>r?0:r},YC=function(t,e){var n=rn(t).dom.defaultView,r=fs(t)+fs(e),o=qC(n);return r-o},XC=function(t,e,n){var r=YC(e,n),o=fs(e)+fs(n)-r;ns(t,"padding-bottom",o+"px")},ZC=Yr.generate([{fixed:["element","property","offsetY"]},{scroller:["element","offsetY"]}]),$C="data-"+ju("position-y-fixed"),KC="data-"+ju("y-property"),JC="data-"+ju("scrolling"),QC="data-"+ju("last-window-height"),tk=function(t){return I_(t,$C)},ek=function(t){return sr(t,KC)},nk=function(t){return I_(t,QC)},rk=function(t,e){var n=ek(t);return ZC.fixed(t,n,e)},ok=function(t,e){return ZC.scroller(t,e)},ik=function(t){var e=tk(t),n="true"===sr(t,JC)?ok:rk;return n(t,e)},ak=function(t){var e=vs(t,"["+$C+"]");return F(e,ik)},uk=function(t){var e=sr(t,"style");rs(t,{position:"absolute",top:"0px"}),ar(t,$C,"0px"),ar(t,KC,"top");var n=function(){ar(t,"style",e||""),fr(t,$C),fr(t,KC)};return{restore:n}},sk=function(t,e,n){var r=sr(n,"style");Tx(n),rs(n,{position:"absolute",height:e+"px",width:"100%",top:t+"px"}),ar(n,$C,t+"px"),ar(n,JC,"true"),ar(n,KC,"top");var o=function(){Ax(n),ar(n,"style",r||""),fr(n,$C),fr(n,JC),fr(n,KC)};return{restore:o}},ck=function(t){var e=sr(t,"style");rs(t,{position:"absolute",bottom:"0px"}),ar(t,$C,"0px"),ar(t,KC,"bottom");var n=function(){ar(t,"style",e||""),fr(t,$C),fr(t,KC)};return{restore:n}},lk=function(t,e,n){var r=rn(t).dom.defaultView,o=r.innerHeight;return ar(t,QC,o+"px"),o-e-n},fk=function(t,e,n,r){var o=rn(t).dom.defaultView,i=uk(n),a=fs(n),u=fs(r),s=lk(t,a,u),c=sk(a,s,t),l=ck(r),d=!0,h=function(){d=!1,i.restore(),c.restore(),l.restore()},p=function(){var e=o.innerHeight,n=nk(t);return e>n},m=function(){if(d){var o=fs(n),i=fs(r),a=lk(t,o,i);ar(t,$C,o+"px"),ns(t,"height",a+"px"),XC(e,t,r)}},g=function(e){var n=e+"px";ar(t,$C,n),m()};return XC(e,t,r),{setViewportOffset:g,isExpanding:p,isShrinking:f(p),refresh:m,restore:h}},dk=UC(),hk=15,pk=10,mk=10,gk="data-"+ju("last-scroll-top"),vk=function(t){var e=as(t,"top").getOr("0");return parseInt(e,10)},yk=function(t){return parseInt(t.dom.scrollTop,10)},bk=function(t,e,n){return jC.nu((function(r){var o=c(yk,t),i=function(e){t.dom.scrollTop=e,ns(t,"top",vk(t)+hk+"px")},a=function(){t.dom.scrollTop=e,ns(t,"top",n+"px"),r(e)};dk.animate(o,e,hk,i,a,mk)}))},xk=function(t,e){return jC.nu((function(n){var r=c(yk,t);ar(t,gk,r());var o=function(e,n){var r=I_(t,gk);r!==t.dom.scrollTop?n(t.dom.scrollTop):(t.dom.scrollTop=e,ar(t,gk,e))},i=function(){t.dom.scrollTop=e,ar(t,gk,e),n(e)},a=Math.abs(e-r()),u=Math.ceil(a/pk);dk.animate(r,e,u,o,i,mk)}))},wk=function(t,e){return jC.nu((function(n){var r=c(vk,t),o=function(e){ns(t,"top",e+"px")},i=function(){o(e),n(e)},a=Math.abs(e-r()),u=Math.ceil(a/pk);dk.animate(r,e,u,o,i,mk)}))},_k=function(t,e){var n=e+tk(t)+"px";ns(t,"top",n)},Sk=function(t,e,n){var r=rn(t).dom.defaultView;return jC.nu((function(o){_k(t,n),_k(e,n),r.scrollTo(0,n),o(n)}))};function Ck(t){var e=ma(LC.pure({})),n=function(n){var r=LC.nu((function(e){return t(n).get(e)}));e.set(r)},r=function(t){e.get().get((function(){t()}))};return{start:n,idle:r}}var kk=function(t,e,n,r,o){var i=YC(e,n),a=c(TC,t);r>i||o>i?xk(e,e.dom.scrollTop-i+o).get(a):r<0&&xk(e,e.dom.scrollTop+r).get(a)},Tk=function(t,e){return e((function(e){var n=[],r=0,o=function(o){return function(i){n[o]=i,r++,r>=t.length&&e(n)}};0===t.length?e([]):j(t,(function(t,e){t.get(o(e))}))}))},Ak=function(t){return Tk(t,jC.nu)},Ok=function(t,e,n,r){var o=n+r;return ns(t,e,o+"px"),jC.pure(r)},Mk=function(t,e,n){var r=e+n,o=as(t,"top").getOr(n),i=r-parseInt(o,10),a=t.dom.scrollTop+i;return bk(t,a,r)},Dk=function(t,e){return t.fold((function(t,n,r){return Ok(t,n,e,r)}),(function(t,n){return Mk(t,e,n)}))},Ik=function(t,e){var n=ak(t),r=F(n,(function(t){return Dk(t,e)}));return Ak(r)},Ek=5,Rk=function(t,e,n,r,o,i){var a=Ck((function(n){return Sk(t,e,n)})),u=function(){var t=L_(i);return _.from(t[0]).bind((function(t){var n=t.top-e.dom.scrollTop,o=n>r.innerHeight+Ek||n<-Ek;return o?_.some({top:n,bottom:n+t.height}):_.none()}))},c=$_((function(){a.idle((function(){Ik(n,r.pageYOffset).get((function(){var t=u();t.each((function(t){e.dom.scrollTop=e.dom.scrollTop+t.top})),a.start(0),o.refresh()}))}))}),1e3),l=Qx(We.fromDom(r),"scroll",(function(){r.pageYOffset<0||c.throttle()}));return Ik(n,r.pageYOffset).get(s),{unbind:l.unbind}},Nk=function(t){var e=t.cWin,n=t.ceBody,r=t.socket,i=t.toolstrip,a=t.contentElement,u=t.keyboardType,c=t.outerWindow,l=t.dropup,f=t.outerBody,d=fk(r,n,i,l),h=u(f,e,In(),a),p=function(){h.toEditing(),S()},m=function(){h.toReading()},g=function(t){h.onToolbarTouch()},v=aw(c,{onChange:o,onReady:d.refresh});v.onAdjustment((function(){d.refresh()}));var y=Qx(We.fromDom(c),"resize",(function(){d.isExpanding()&&d.refresh()})),b=Rk(i,r,f,c,d,e),x=DC(e,a),w=function(){x.isActive()&&x.update()},_=function(){x.update()},S=function(){x.clear()},C=function(t,n){kk(e,r,l,t,n)},k=function(){ns(a,"height",a.dom.contentWindow.document.body.scrollHeight+"px")},T=function(t){d.setViewportOffset(t),wk(r,t).get(s)},A=function(){d.restore(),v.destroy(),b.unbind(),y.unbind(),h.destroy(),x.destroy(),kC(In(),ya)};return{toEditing:p,toReading:m,onToolbarTouch:g,refreshSelection:w,clearSelection:S,highlightSelection:_,scrollIntoView:C,updateToolbarPadding:o,setViewportOffset:T,syncHeight:k,refreshStructure:d.refresh,destroy:A}},Pk=function(t,e){var n=d_(),r=py(),o=py(),i=hy(),a=hy(),u=function(){e.hide();var u=We.fromDom(document);l_(t.editor).each((function(e){r.set({socketHeight:as(t.socket,"height"),iframeHeight:as(e.frame,"height"),outerScroll:document.body.scrollTop}),o.set({exclusives:vS(u,"."+Ox)}),br(t.container,ju("fullscreen-maximized")),x_(t.container,e.body),n.maximize(),ns(t.socket,"overflow","scroll"),ns(t.socket,"-webkit-overflow-scrolling","touch"),va(e.body),i.set(Nk({cWin:e.win,ceBody:e.body,socket:t.socket,toolstrip:t.toolstrip,dropup:t.dropup.element,contentElement:e.frame,outerBody:t.body,outerWindow:t.win,keyboardType:OC})),i.run((function(t){t.syncHeight()})),a.set(MC(e,i,t.toolstrip,t.socket,t.dropup))}))},s=function(){n.restore(),a.clear(),i.clear(),e.show(),r.on((function(e){e.socketHeight.each((function(e){ns(t.socket,"height",e)})),e.iframeHeight.each((function(e){ns(t.editor.getFrame(),"height",e)})),document.body.scrollTop=e.scrollTop})),r.clear(),o.on((function(t){t.exclusives.unbind()})),o.clear(),wr(t.container,ju("fullscreen-maximized")),w_(),Ax(t.toolbar),us(t.socket,"overflow"),us(t.socket,"-webkit-overflow-scrolling"),ya(t.editor.getFrame()),l_(t.editor).each((function(t){t.clearSelection()}))},c=function(){i.run((function(t){t.refreshStructure()}))};return{enter:u,refreshStructure:c,exit:s}},Lk=function(t){var e=ei("Getting IosWebapp schema",Q_,t);ns(e.toolstrip,"width","100%"),ns(e.container,"position","relative");var n=function(){e.setReadOnly(e.readOnlyOnInit()),a.enter()},r=hb(K_(n,e.translate));e.alloy.add(r);var i={show:function(){e.alloy.add(r)},hide:function(){e.alloy.remove(r)}},a=Pk(e,i);return{setReadOnly:e.setReadOnly,refreshStructure:a.refreshStructure,enter:a.enter,exit:a.exit,destroy:o}};function Bk(t){var e=SC({classes:[ju("ios-container")]}),n=yS(),r=hy(),o=bS(r),i=xS(),a=JS((function(){r.run((function(t){t.refreshStructure()}))}),t);e.add(n.wrapper),e.add(i),e.add(a.component);var u=function(t){var e=n.createGroups(t);n.setGroups(e)},s=function(t){var e=n.createGroups(t);n.setContextToolbar(e)},c=function(){n.focus()},l=function(){n.restoreToolbar()},f=function(t){r.set(Lk(t))},d=function(){r.run((function(t){Xb.remove(i,o),t.exit()}))},h=function(t){SS(i,o,t,e.root)};return{system:e,element:e.element,init:f,exit:d,setToolbarGroups:u,setContextToolbar:s,focusToolbar:c,restoreToolbar:l,updateMode:h,socket:i,dropup:a}}var zk=tinymce.util.Tools.resolve("tinymce.EditorManager"),Vk=function(t){var e=_.from(Ia(t)).fold((function(){return zk.baseURL+"/skins/ui/oxide"}),(function(t){return t}));return{content:e+"/content.mobile.min.css",ui:e+"/skin.mobile.min.css"}},Fk=function(t,e,n){t.system.broadcastOn([Ea],{command:e,state:n})},jk=function(t,e){var n=Gn(e.formatter.get());j(n,(function(n){e.formatter.formatChanged(n,(function(e){Fk(t,n,e)}))})),j(["ul","ol"],(function(n){e.selection.selectorChanged(n,(function(e,r){Fk(t,n,e)}))}))},Hk=function(t){return function(){var e=function(){t._skinLoaded=!0,t.fire("SkinLoaded")};t.initialized?e():t.on("init",e)}},Uk="toReading",Wk="toEditing",Gk=function(t){var e=function(){var e=t.getElement(),n=Vk(t);if(!1===Aa(t)){var r=_a.DOM.styleSheetLoader;t.contentCSS.push(n.content),r.load(n.ui,Hk(t)),t.on("remove",(function(){return r.unload(n.ui)}))}else Hk(t)();var i=function(){t.fire("ScrollIntoView")},a=$t().os.isAndroid()?CC(i):Bk(i),u=We.fromDom(e);Hn(u,a.system);var s=function(t){return wa(t).bind((function(t){return a.system.getByDom(t).toOptional()}))},c=e.ownerDocument.defaultView,l=aw(c,{onChange:function(){var t=a.system;t.broadcastOn([Ra],{width:iw(c)})},onReady:o}),f=function(e,n,r,o){!1===o&&t.selection.collapse();var i=d(e,n,r);a.setToolbarGroups(!0===o?i.readOnly:i.main),t.setMode(!0===o?"readonly":"design"),t.fire(!0===o?Uk:Wk),a.updateMode(o)},d=function(t,e,n){var r=t.get(),o={readOnly:r.backToMask.concat(e.get()),main:r.backToMask.concat(n.get())};return o},h=function(e,n){return t.on(e,n),{unbind:function(){t.off(e)}}};return t.on("init",(function(){a.init({editor:{getFrame:function(){return We.fromDom(t.contentAreaContainer.querySelector("iframe"))},onDomChanged:function(){return{unbind:o}},onToReading:function(t){return h(Uk,t)},onToEditing:function(t){return h(Wk,t)},onScrollToCursor:function(e){t.on("ScrollIntoView",(function(t){e(t)}));var n=function(){t.off("ScrollIntoView"),l.destroy()};return{unbind:n}},onTouchToolstrip:function(){e()},onTouchContent:function(){var n=We.fromDom(t.editorContainer.querySelector("."+ju("toolbar")));s(n).each(De),a.restoreToolbar(),e()},onTapContent:function(e){var n=e.target;if("img"===$e(n))t.selection.select(n.dom),e.kill();else if("a"===$e(n)){var r=a.system.getByDom(We.fromDom(t.editorContainer));r.each((function(t){pa.isAlpha(t)&&Ca(n.dom)}))}}},container:We.fromDom(t.editorContainer),socket:We.fromDom(t.contentAreaContainer),toolstrip:We.fromDom(t.editorContainer.querySelector("."+ju("toolstrip"))),toolbar:We.fromDom(t.editorContainer.querySelector("."+ju("toolbar"))),dropup:a.dropup,alloy:a.system,translate:o,setReadOnly:function(t){f(v,g,m,t)},readOnlyOnInit:function(){return Oa()}});var e=function(){a.dropup.disappear((function(){a.system.broadcastOn([Na],{})}))},n={label:"The first group",scrollable:!1,items:[lh("back",(function(){t.selection.collapse(),a.exit()}),{},t)]},r={label:"Back to read only",scrollable:!1,items:[lh("readonly-back",(function(){f(v,g,m,!0)}),{},t)]},i={label:"The read only mode group",scrollable:!0,items:[]},u=Ux(a,t),c=Wx(t,u),d={label:"the action group",scrollable:!0,items:c},p={label:"The extra group",scrollable:!1,items:[]},m=ma([d,p]),g=ma([i,p]),v=ma({backToMask:[n],backToReadOnly:[r]});jk(a,t)})),t.on("remove",(function(){a.exit()})),t.on("detach",(function(){Wn(a.system),a.system.destroy()})),{iframeContainer:a.socket.element.dom,editorContainer:a.element.dom}};return{getNotificationManagerImpl:function(){return{open:u({progressBar:{value:o},close:o,text:o,getEl:u(null),moveTo:o,moveRel:o,settings:{}}),close:o,reposition:o,getArgs:u({})}},renderUI:e}};function qk(){Sa.add("mobile",Gk)}qk()})()}).call(this,n("c8ba"))},"8a7e":function(t,e,n){"use strict";n("d9c1")},"8ce1":function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){return function(e){return t===e}},n=e(void 0),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),o=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(t){return t.fire("RestoreDraft")},u=function(t){return t.fire("StoreDraft")},s=function(t){return t.fire("RemoveDraft")},c=function(t,e){var n={s:1e3,m:6e4},r=t||e,o=/^(\d+)([ms]?)$/.exec(""+r);return(o[2]?n[o[2]]:1)*parseInt(r,10)},l=function(t){return t.getParam("autosave_ask_before_unload",!0)},f=function(t){var e=document.location;return t.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,e.pathname).replace(/{query}/g,e.search).replace(/{hash}/g,e.hash).replace(/{id}/g,t.id)},d=function(t){return t.getParam("autosave_restore_when_empty",!1)},h=function(t){return c(t.getParam("autosave_interval"),"30s")},p=function(t){return c(t.getParam("autosave_retention"),"20m")},m=function(t,e){if(n(e))return t.dom.isEmpty(t.getBody());var r=i.trim(e);if(""===r)return!0;var o=(new DOMParser).parseFromString(r,"text/html");return t.dom.isEmpty(o)},g=function(t){var e=parseInt(o.getItem(f(t)+"time"),10)||0;return!((new Date).getTime()-e>p(t))||(v(t,!1),!1)},v=function(t,e){var n=f(t);o.removeItem(n+"draft"),o.removeItem(n+"time"),!1!==e&&s(t)},y=function(t){var e=f(t);!m(t)&&t.isDirty()&&(o.setItem(e+"draft",t.getContent({format:"raw",no_events:!0})),o.setItem(e+"time",(new Date).getTime().toString()),u(t))},b=function(t){var e=f(t);g(t)&&(t.setContent(o.getItem(e+"draft"),{format:"raw"}),a(t))},x=function(t){var e=h(t);r.setEditorInterval(t,(function(){y(t)}),e)},w=function(t){t.undoManager.transact((function(){b(t),v(t)})),t.focus()},_=function(t){return{hasDraft:function(){return g(t)},storeDraft:function(){return y(t)},restoreDraft:function(){return b(t)},removeDraft:function(e){return v(t,e)},isEmpty:function(e){return m(t,e)}}},S=tinymce.util.Tools.resolve("tinymce.EditorManager"),C=function(t){t.editorManager.on("BeforeUnload",(function(t){var e;i.each(S.get(),(function(t){t.plugins.autosave&&t.plugins.autosave.storeDraft(),!e&&t.isDirty()&&l(t)&&(e=t.translate("You have unsaved changes are you sure you want to navigate away?"))})),e&&(t.preventDefault(),t.returnValue=e)}))},k=function(t){return function(e){e.setDisabled(!g(t));var n=function(){return e.setDisabled(!g(t))};return t.on("StoreDraft RestoreDraft RemoveDraft",n),function(){return t.off("StoreDraft RestoreDraft RemoveDraft",n)}}},T=function(t){x(t),t.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){w(t)},onSetup:k(t)}),t.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){w(t)},onSetup:k(t)})};function A(){t.add("autosave",(function(t){return C(t),T(t),t.on("init",(function(){d(t)&&t.dom.isEmpty(t.getBody())&&b(t)})),_(t)}))}A()})()},9152:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=u;l>0;i=256*i+t[e+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+f>=1?d/s:d*Math.pow(2,1-f),e*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*s-1)*Math.pow(2,o),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&u,h+=p,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*m}},9434:function(t,e,n){n("e8b0")},"94ce":function(t,e){(function(){"use strict";var t=function(){},e=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},n=function(t,e){return function(n){return t(e(n))}},r=function(t){return function(){return t}},o=function(t){return t};function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var a=function(t){return function(e){return!t(e)}},u=function(t){return function(){throw new Error(t)}},s=r(!1),c=r(!0),l=function(){return f},f=function(){var e=function(t){return t.isNone()},n=function(t){return t()},o=function(t){return t},i={fold:function(t,e){return t()},is:s,isSome:s,isNone:c,getOr:o,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:n,map:l,each:t,bind:l,exists:s,forall:c,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")};return i}(),d=function(t){var e=r(t),n=function(){return i},o=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:o,exists:o,forall:o,filter:function(e){return e(t)?i:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return i},h=function(t){return null===t||void 0===t?f:d(t)},p={some:d,none:l,from:h},m=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},g=function(t){return function(e){return m(e)===t}},v=function(t){return function(e){return typeof e===t}},y=function(t){return function(e){return t===e}},b=g("string"),x=g("object"),w=g("array"),_=v("boolean"),S=y(void 0),C=function(t){return null===t||void 0===t},k=function(t){return!C(t)},T=v("function"),A=v("number"),O=Array.prototype.slice,M=Array.prototype.indexOf,D=Array.prototype.push,I=function(t,e){return M.call(t,e)},E=function(t,e){return I(t,e)>-1},R=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},N=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},P=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},L=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},B=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},z=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],u=e(a,o)?n:r;u.push(a)}return{pass:n,fail:r}},V=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},F=function(t,e,n){return B(t,(function(t){n=e(n,t)})),n},j=function(t,e,n){return L(t,(function(t){n=e(n,t)})),n},H=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return p.some(i);if(n(i,r))break}return p.none()},U=function(t,e){return H(t,e,s)},W=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return p.some(n)}return p.none()},G=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!w(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);D.apply(e,t[n])}return e},q=function(t,e){return G(P(t,e))},Y=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},X=function(t){var e=O.call(t,0);return e.reverse(),e},Z=function(t){return[t]},$=function(t,e){return e>=0&&e<t.length?p.some(t[e]):p.none()},K=function(t){return $(t,0)},J=function(t){return $(t,t.length-1)},Q=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return p.none()},tt=function(){return tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},tt.apply(this,arguments)};function et(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var nt=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},rt=function(t,e,n,o){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),s=u||o("(pointer:coarse)"),c=i||!a&&u&&o("(min-device-width:768px)"),l=a||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:r(i),isiPhone:r(a),isTablet:r(c),isPhone:r(l),isTouch:r(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:r(f),isDesktop:r(d)}},ot=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},it=function(t,e){var n=ot(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return st(r(1),r(2))},at=function(t,e){var n=String(e).toLowerCase();return 0===t.length?ut():it(t,n)},ut=function(){return st(0,0)},st=function(t,e){return{major:t,minor:e}},ct={nu:st,detect:at,unknown:ut},lt=function(t,e){var n=String(e).toLowerCase();return U(t,(function(t){return t.search(n)}))},ft=function(t,e){return lt(t,e).map((function(t){var n=ct.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},dt=function(t,e){return lt(t,e).map((function(t){var n=ct.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},ht={detectBrowser:ft,detectOs:dt},pt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},mt=function(t,e){return-1!==t.indexOf(e)},gt=function(t,e){return pt(t,e,0)},vt=function(t,e){return pt(t,e,t.length-e.length)},yt=function(t){return function(e){return e.replace(t,"")}},bt=yt(/^\s+|\s+$/g),xt=function(t){return t.length>0},wt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_t=function(t){return function(e){return mt(e,t)}},St=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return mt(t,"edge/")&&mt(t,"chrome")&&mt(t,"safari")&&mt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wt],search:function(t){return mt(t,"chrome")&&!mt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return mt(t,"msie")||mt(t,"trident")}},{name:"Opera",versionRegexes:[wt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_t("firefox")},{name:"Safari",versionRegexes:[wt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(mt(t,"safari")||mt(t,"mobile/"))&&mt(t,"applewebkit")}}],Ct=[{name:"Windows",search:_t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return mt(t,"iphone")||mt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_t("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_t("linux"),versionRegexes:[]},{name:"Solaris",search:_t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_t("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_t("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],kt={browsers:r(St),oses:r(Ct)},Tt="Edge",At="Chrome",Ot="IE",Mt="Opera",Dt="Firefox",It="Safari",Et=function(){return Rt({current:void 0,version:ct.unknown()})},Rt=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(Tt),isChrome:r(At),isIE:r(Ot),isOpera:r(Mt),isFirefox:r(Dt),isSafari:r(It)}},Nt={unknown:Et,nu:Rt,edge:r(Tt),chrome:r(At),ie:r(Ot),opera:r(Mt),firefox:r(Dt),safari:r(It)},Pt="Windows",Lt="iOS",Bt="Android",zt="Linux",Vt="OSX",Ft="Solaris",jt="FreeBSD",Ht="ChromeOS",Ut=function(){return Wt({current:void 0,version:ct.unknown()})},Wt=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Pt),isiOS:r(Lt),isAndroid:r(Bt),isOSX:r(Vt),isLinux:r(zt),isSolaris:r(Ft),isFreeBSD:r(jt),isChromeOS:r(Ht)}},Gt={unknown:Ut,nu:Wt,windows:r(Pt),ios:r(Lt),android:r(Bt),linux:r(zt),osx:r(Vt),solaris:r(Ft),freebsd:r(jt),chromeos:r(Ht)},qt=function(t,e){var n=kt.browsers(),r=kt.oses(),o=ht.detectBrowser(n,t).fold(Nt.unknown,Nt.nu),i=ht.detectOs(r,t).fold(Gt.unknown,Gt.nu),a=rt(i,o,t,e);return{browser:o,os:i,deviceType:a}},Yt={detect:qt},Xt=function(t){return window.matchMedia(t).matches},Zt=nt((function(){return Yt.detect(navigator.userAgent,Xt)})),$t=function(){return Zt()},Kt=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},Jt=function(t,e){return Kt(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},Qt=8,te=9,ee=11,ne=1,re=3,oe=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ue(r.childNodes[0])},ie=function(t,e){var n=e||document,r=n.createElement(t);return ue(r)},ae=function(t,e){var n=e||document,r=n.createTextNode(t);return ue(r)},ue=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},se=function(t,e,n){return p.from(t.dom.elementFromPoint(e,n)).map(ue)},ce={fromHtml:oe,fromTag:ie,fromText:ae,fromDom:ue,fromPoint:se},le=function(t,e){var n=t.dom;if(n.nodeType!==ne)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},fe=function(t){return t.nodeType!==ne&&t.nodeType!==te&&t.nodeType!==ee||0===t.childElementCount},de=function(t,e){var n=void 0===e?document:e.dom;return fe(n)?[]:P(n.querySelectorAll(t),ce.fromDom)},he=function(t,e){var n=void 0===e?document:e.dom;return fe(n)?p.none():p.from(n.querySelector(t)).map(ce.fromDom)},pe=function(t,e){return t.dom===e.dom},me=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},ge=function(t,e){return Jt(t.dom,e.dom)},ve=function(t,e){return $t().browser.isIE()?ge(t,e):me(t,e)},ye=le,be=Object.keys,xe=Object.hasOwnProperty,we=function(t,e){for(var n=be(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},_e=function(t,e){return Se(t,(function(t,n){return{k:n,v:e(t,n)}}))},Se=function(t,e){var n={};return we(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},Ce=function(t){return function(e,n){t[n]=e}},ke=function(t,e,n,r){var o={};return we(t,(function(t,o){(e(t,o)?n:r)(t,o)})),o},Te=function(e,n){var r={};return ke(e,n,Ce(r),t),r},Ae=function(t,e){var n=[];return we(t,(function(t,r){n.push(e(t,r))})),n},Oe=function(t){return Ae(t,(function(t){return t}))},Me=function(t,e){return De(t,e)?p.from(t[e]):p.none()},De=function(t,e){return xe.call(t,e)},Ie=function(t,e){return De(t,e)&&void 0!==t[e]&&null!==t[e]},Ee=function(t){for(var e in t)if(xe.call(t,e))return!1;return!0},Re=["tfoot","thead","tbody","colgroup"],Ne=function(t){return E(Re,t)},Pe=function(t,e){return{rows:t,columns:e}},Le=function(t,e){return{row:t,column:e}},Be=function(t,e,n){return{element:t,rowspan:e,colspan:n}},ze=function(t,e,n,r){return{element:t,rowspan:e,colspan:n,isNew:r}},Ve=function(t,e,n,r,o){return{element:t,rowspan:e,colspan:n,row:r,column:o}},Fe=function(t,e,n){return{element:t,cells:e,section:n}},je=function(t,e){return{element:t,isNew:e}},He=function(t,e,n,r){return{element:t,cells:e,section:n,isNew:r}},Ue=function(t,e){return{cells:t,section:e}},We=function(t,e){return{details:t,section:e}},Ge=function(t,e,n,r){return{startRow:t,startCol:e,finishRow:n,finishCol:r}},qe=function(t,e,n){return{element:t,colspan:e,column:n}},Ye=("undefined"!==typeof window?window:Function("return this;")(),function(t){var e=t.dom.nodeName;return e.toLowerCase()}),Xe=function(t){return t.dom.nodeType},Ze=function(t){return function(e){return Xe(e)===t}},$e=function(t){return Xe(t)===Qt||"#comment"===Ye(t)},Ke=Ze(ne),Je=Ze(re),Qe=Ze(te),tn=Ze(ee),en=function(t){return function(e){return Ke(e)&&Ye(e)===t}},nn=function(t){return ce.fromDom(t.dom.ownerDocument)},rn=function(t){return Qe(t)?t:nn(t)},on=function(t){return ce.fromDom(rn(t).dom.defaultView)},an=function(t){return p.from(t.dom.parentNode).map(ce.fromDom)},un=function(t,e){var n=T(e)?e:s,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=ce.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},sn=function(t){return p.from(t.dom.offsetParent).map(ce.fromDom)},cn=function(t){return p.from(t.dom.previousSibling).map(ce.fromDom)},ln=function(t){return p.from(t.dom.nextSibling).map(ce.fromDom)},fn=function(t){return P(t.dom.childNodes,ce.fromDom)},dn=function(t,e){var n=t.dom.childNodes;return p.from(n[e]).map(ce.fromDom)},hn=function(t){return dn(t,0)},pn=function(t){return tn(t)},mn=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode),gn=r(mn),vn=mn?function(t){return ce.fromDom(t.dom.getRootNode())}:rn,yn=function(t){var e=vn(t);return pn(e)?p.some(e):p.none()},bn=function(t){return ce.fromDom(t.dom.host)},xn=function(t){if(gn()&&k(t.target)){var e=ce.fromDom(t.target);if(Ke(e)&&wn(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return K(n)}}return p.from(t.target)},wn=function(t){return k(t.dom.shadowRoot)},_n=function(t){var e=Je(t)?t.dom.parentNode:t.dom;if(void 0===e||null===e||null===e.ownerDocument)return!1;var r=e.ownerDocument;return yn(ce.fromDom(e)).fold((function(){return r.body.contains(e)}),n(_n,bn))},Sn=function(){return Cn(ce.fromDom(document))},Cn=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return ce.fromDom(e)},kn=function(t,e,n){return V(un(t,n),e)},Tn=function(t,e){return V(fn(t),e)},An=function(t,e){var n=[];return L(fn(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(An(t,e))})),n},On=function(t,e,n){return kn(t,(function(t){return le(t,e)}),n)},Mn=function(t,e){return Tn(t,(function(t){return le(t,e)}))},Dn=function(t,e){return de(e,t)};function In(t,e,n,r,o){return t(n,r)?p.some(n):T(o)&&o(n)?p.none():e(n,r,o)}var En=function(t,e,n){var r=t.dom,o=T(n)?n:s;while(r.parentNode){r=r.parentNode;var i=ce.fromDom(r);if(e(i))return p.some(i);if(o(i))break}return p.none()},Rn=function(t,e,n){var r=function(t,e){return e(t)};return In(r,En,t,e,n)},Nn=function(t,e){var n=function(t){return e(ce.fromDom(t))},r=U(t.dom.childNodes,n);return r.map(ce.fromDom)},Pn=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=ce.fromDom(t.childNodes[r]);if(e(o))return p.some(o);var i=n(t.childNodes[r]);if(i.isSome())return i}return p.none()};return n(t.dom)},Ln=function(t,e,n){return En(t,(function(t){return le(t,e)}),n)},Bn=function(t,e){return Nn(t,(function(t){return le(t,e)}))},zn=function(t,e){return he(e,t)},Vn=function(t,e,n){var r=function(t,e){return le(t,e)};return In(r,Ln,t,e,n)},Fn=function(t,e,n){if(!(b(n)||_(n)||A(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},jn=function(t,e,n){Fn(t.dom,e,n)},Hn=function(t,e){var n=t.dom;we(e,(function(t,e){Fn(n,e,t)}))},Un=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},Wn=function(t,e){return p.from(Un(t,e))},Gn=function(t,e){t.dom.removeAttribute(e)},qn=function(t){return j(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},Yn=function(t){return void 0!==t.style&&T(t.style.getPropertyValue)},Xn=function(t,e,n){if(!b(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);Yn(t)&&t.style.setProperty(e,n)},Zn=function(t,e){Yn(t)&&t.style.removeProperty(e)},$n=function(t,e,n){var r=t.dom;Xn(r,e,n)},Kn=function(t,e){var n=t.dom;we(e,(function(t,e){Xn(n,e,t)}))},Jn=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||_n(t)?o:Qn(n,e)},Qn=function(t,e){return Yn(t)?t.style.getPropertyValue(e):""},tr=function(t,e){var n=t.dom,r=Qn(n,e);return p.from(r).filter((function(t){return t.length>0}))},er=function(t,e){var n=t.dom;Zn(n,e),Wn(t,"style").map(bt).is("")&&Gn(t,"style")},nr=function(t,e){var n=t.dom,r=e.dom;Yn(n)&&Yn(r)&&(r.style.cssText=n.style.cssText)},rr=function(t,e,n){return void 0===n&&(n=0),Wn(t,e).map((function(t){return parseInt(t,10)})).getOr(n)},or=function(t,e){return rr(t,e,1)},ir=function(t){return or(t,"colspan")>1},ar=function(t){return or(t,"rowspan")>1},ur=function(t,e){return parseInt(Jn(t,e),10)},sr=r(10),cr=r(10),lr=function(t,e){return fr(t,e,c)},fr=function(t,e,n){return q(fn(t),(function(t){return le(t,e)?n(t)?[t]:[]:fr(t,e,n)}))},dr=function(t,e,n){if(void 0===n&&(n=s),n(e))return p.none();if(E(t,Ye(e)))return p.some(e);var r=function(t){return le(t,"table")||n(t)};return Ln(e,t.join(","),r)},hr=function(t,e){return dr(["td","th"],t,e)},pr=function(t){return lr(t,"th,td")},mr=function(t){return le(t,"colgroup")?Mn(t,"col"):q(yr(t),(function(t){return Mn(t,"col")}))},gr=function(t,e){return Vn(t,"table",e)},vr=function(t){return lr(t,"tr")},yr=function(t){return gr(t).fold(r([]),(function(t){return Mn(t,"colgroup")}))},br=function(t,e){return P(t,(function(t){if("colgroup"===Ye(t)){var n=P(mr(t),(function(t){var e=rr(t,"span",1);return Be(t,1,e)}));return Fe(t,n,"colgroup")}n=P(pr(t),(function(t){var e=rr(t,"rowspan",1),n=rr(t,"colspan",1);return Be(t,e,n)}));return Fe(t,n,e(t))}))},xr=function(t){return an(t).map((function(t){var e=Ye(t);return Ne(e)?e:"tbody"})).getOr("tbody")},wr=function(t){var e=vr(t),n=yr(t),r=et(n,e);return br(r,xr)},_r=function(t,e){return br(t,(function(){return e}))},Sr=function(t,e){return t+","+e},Cr=function(t,e,n){var r=t.access[Sr(e,n)];return void 0!==r?p.some(r):p.none()},kr=function(t,e,n){var r=Tr(t,(function(t){return n(e,t.element)}));return r.length>0?p.some(r[0]):p.none()},Tr=function(t,e){var n=q(t.all,(function(t){return t.cells}));return V(n,e)},Ar=function(t){var e={},n=0;return L(t.cells,(function(t){var r=t.colspan;N(r,(function(o){var i=n+o;e[i]=qe(t.element,r,i)})),n+=r})),e},Or=function(t){var e={},n=[],r={},o=0,i=0,a=0;L(t,(function(t){if("colgroup"===t.section)r=Ar(t);else{var u=[];L(t.cells,(function(t){var n=0;while(void 0!==e[Sr(a,n)])n++;for(var r=Ve(t.element,t.rowspan,t.colspan,a,n),o=0;o<t.colspan;o++)for(var s=0;s<t.rowspan;s++){var c=a+s,l=n+o,f=Sr(c,l);e[f]=r,i=Math.max(i,l+1)}u.push(r)})),o++,n.push(Fe(t.element,u,t.section)),a++}}));var u=Pe(o,i);return{grid:u,access:e,all:n,columns:r}},Mr=function(t){var e=wr(t);return Or(e)},Dr=function(t){return q(t.all,(function(t){return t.cells}))},Ir=function(t){return Oe(t.columns)},Er=function(t){return be(t.columns).length>0},Rr=function(t,e){return p.from(t.columns[e])},Nr={fromTable:Mr,generate:Or,getAt:Cr,findItem:kr,filterItems:Tr,justCells:Dr,justColumns:Ir,hasColumns:Er,getColumnAt:Rr},Pr=function(t,e){var n=e.column,r=e.column+e.colspan-1,o=e.row,i=e.row+e.rowspan-1;return n<=t.finishCol&&r>=t.startCol&&o<=t.finishRow&&i>=t.startRow},Lr=function(t,e){return e.column>=t.startCol&&e.column+e.colspan-1<=t.finishCol&&e.row>=t.startRow&&e.row+e.rowspan-1<=t.finishRow},Br=function(t,e){for(var n=!0,r=i(Lr,e),o=e.startRow;o<=e.finishRow;o++)for(var a=e.startCol;a<=e.finishCol;a++)n=n&&Nr.getAt(t,o,a).exists(r);return n?p.some(e):p.none()},zr=function(t,e){return Ge(Math.min(t.row,e.row),Math.min(t.column,e.column),Math.max(t.row+t.rowspan-1,e.row+e.rowspan-1),Math.max(t.column+t.colspan-1,e.column+e.colspan-1))},Vr=function(t,e,n){var r=Nr.findItem(t,e,pe),o=Nr.findItem(t,n,pe);return r.bind((function(t){return o.map((function(e){return zr(t,e)}))}))},Fr=function(t,e,n){return Vr(t,e,n).bind((function(e){return Br(t,e)}))},jr=function(t,e,n,r){return Nr.findItem(t,e,pe).bind((function(e){var o=n>0?e.row+e.rowspan-1:e.row,i=r>0?e.column+e.colspan-1:e.column,a=Nr.getAt(t,o+n,i+r);return a.map((function(t){return t.element}))}))},Hr=function(t,e,n){return Vr(t,e,n).map((function(e){var n=Nr.filterItems(t,i(Pr,e));return P(n,(function(t){return t.element}))}))},Ur=function(t,e){var n=function(t,e){return ve(e,t)};return Nr.findItem(t,e,n).map((function(t){return t.element}))},Wr=function(t,e,n){return gr(t).bind((function(r){var o=Xr(r);return jr(o,t,e,n)}))},Gr=function(t,e,n){var r=Xr(t);return Hr(r,e,n)},qr=function(t,e,n,r,o){var i=Xr(t),a=pe(t,n)?p.some(e):Ur(i,e),u=pe(t,o)?p.some(r):Ur(i,r);return a.bind((function(t){return u.bind((function(e){return Hr(i,t,e)}))}))},Yr=function(t,e,n){var r=Xr(t);return Fr(r,e,n)},Xr=Nr.fromTable,Zr=function(t,e){var n=an(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},$r=function(t,e){var n=ln(t);n.fold((function(){var n=an(t);n.each((function(t){Jr(t,e)}))}),(function(t){Zr(t,e)}))},Kr=function(t,e){var n=hn(t);n.fold((function(){Jr(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},Jr=function(t,e){t.dom.appendChild(e.dom)},Qr=function(t,e){Zr(t,e),Jr(e,t)},to=function(t,e){L(e,(function(e){Zr(t,e)}))},eo=function(t,e){L(e,(function(n,r){var o=0===r?t:e[r-1];$r(o,n)}))},no=function(t,e){L(e,(function(e){Jr(t,e)}))},ro=function(t){t.dom.textContent="",L(fn(t),(function(t){oo(t)}))},oo=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},io=function(t){var e=fn(t);e.length>0&&to(t,e),oo(t)};function ao(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?p.from(e.dom.nodeValue):p.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}}var uo=ao(Je,"text"),so=function(t){return uo.get(t)},co=function(t){return uo.getOption(t)},lo=function(t,e){return uo.set(t,e)},fo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function ho(){var t=function(t){return ce.fromDom(t.dom.cloneNode(!1))},e=function(t){return rn(t).dom},n=function(t){return!!Ke(t)&&("body"===Ye(t)||E(fo,Ye(t)))},o=function(t){return!!Ke(t)&&E(["br","img","hr","input"],Ye(t))},i=function(t){return Ke(t)&&"false"===Un(t,"contenteditable")},a=function(t,e){return t.dom.compareDocumentPosition(e.dom)},u=function(t,e){var n=qn(t);Hn(e,n)};return{up:r({selector:Ln,closest:Vn,predicate:En,all:un}),down:r({selector:Dn,predicate:An}),styles:r({get:Jn,getRaw:tr,set:$n,remove:er}),attrs:r({get:Un,set:jn,remove:Gn,copyTo:u}),insert:r({before:Zr,after:$r,afterAll:eo,append:Jr,appendAll:no,prepend:Kr,wrap:Qr}),remove:r({unwrap:io,remove:oo}),create:r({nu:ce.fromTag,clone:t,text:ce.fromText}),query:r({comparePosition:a,prevSibling:cn,nextSibling:ln}),property:r({children:fn,name:Ye,parent:an,document:e,isText:Je,isComment:$e,isElement:Ke,getText:so,setText:lo,isBoundary:n,isEmptyTag:o,isNonEditable:i}),eq:pe,is:ye}}var po=function(t,e,n,r){var o=n[0],i=n.slice(1);return r(t,e,o,i)},mo=function(t,e,n){return n.length>0?po(t,e,n,go):p.none()},go=function(t,e,n,r){var o=e(t,n);return F(r,(function(n,r){var o=e(t,r);return vo(t,n,o)}),o)},vo=function(t,e,n){return e.bind((function(e){return n.filter(i(t.eq,e))}))},yo=function(t,e){return i(t.eq,e)},bo=function(t,e,n,r){void 0===r&&(r=s);var o=[e].concat(t.up().all(e)),i=[n].concat(t.up().all(n)),a=function(t){var e=W(t,r);return e.fold((function(){return t}),(function(e){return t.slice(0,e+1)}))},u=a(o),c=a(i),l=U(u,(function(e){return R(c,yo(t,e))}));return{firstpath:u,secondpath:c,shared:l}},xo=mo,wo=bo,_o=ho(),So=function(t,e){return xo(_o,(function(e,n){return t(n)}),e)},Co=function(t,e,n){return wo(_o,t,e,n)},ko=function(t){return Ln(t,"table")},To=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||pe(e,t)}};return pe(t,e)?p.some({boxes:p.some([t]),start:t,finish:e}):ko(t).bind((function(o){return ko(e).bind((function(i){if(pe(o,i))return p.some({boxes:Gr(o,t,e),start:t,finish:e});if(ve(o,i)){var a=On(e,"td,th",r(o)),u=a.length>0?a[a.length-1]:e;return p.some({boxes:qr(o,t,o,e,i),start:t,finish:u})}if(ve(i,o)){a=On(t,"td,th",r(i));var s=a.length>0?a[a.length-1]:t;return p.some({boxes:qr(i,t,o,e,i),start:t,finish:s})}return Co(t,e).shared.bind((function(a){return Vn(a,"table",n).bind((function(n){var a=On(e,"td,th",r(n)),u=a.length>0?a[a.length-1]:e,s=On(t,"td,th",r(n)),c=s.length>0?s[s.length-1]:t;return p.some({boxes:qr(n,t,o,e,i),start:c,finish:u})}))}))}))}))},Ao=function(t,e){var n=Dn(t,e);return n.length>0?p.some(n):p.none()},Oo=function(t,e){return U(t,(function(t){return le(t,e)}))},Mo=function(t,e,n){return zn(t,e).bind((function(e){return zn(t,n).bind((function(t){return So(ko,[e,t]).map((function(n){return{first:e,last:t,table:n}}))}))}))},Do=function(t,e){return Ln(t,"table").bind((function(n){return zn(n,e).bind((function(e){return To(e,t).bind((function(t){return t.boxes.map((function(e){return{boxes:e,start:t.start,finish:t.finish}}))}))}))}))},Io=function(t,e,n,r,o){return Oo(t,o).bind((function(t){return Wr(t,e,n).bind((function(t){return Do(t,r)}))}))},Eo=function(t,e){return Ao(t,e)},Ro=function(t,e,n){return Mo(t,e,n).bind((function(e){var n=function(e){return pe(t,e)},r="thead,tfoot,tbody,table",o=Ln(e.first,r,n),i=Ln(e.last,r,n);return o.bind((function(t){return i.bind((function(n){return pe(t,n)?Yr(e.table,e.first,e.last):p.none()}))}))}))},No=function(t){if(!w(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return L(t,(function(r,o){var i=be(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!w(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){var n=arguments.length;if(n!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var s=function(t){var n=be(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=Y(e,(function(t){return E(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,r)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[o];return e.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:a,params:r})}}}})),n},Po={generate:No},Lo=Po.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Bo=function(t,e,n,r){return t.fold(e,n,r)},zo=Lo.none,Vo=Lo.multiple,Fo=Lo.single,jo=function(t,e,n){var r=function(){return Eo(t(),n).fold((function(){return e().map(Fo).getOrThunk(zo)}),(function(t){return Vo(t)}))};return{get:r}},Ho=tinymce.util.Tools.resolve("tinymce.PluginManager"),Uo=function(t,e,n,r){return{minRow:t,minCol:e,maxRow:n,maxCol:r}},Wo=function(t,e){var n=t.grid.columns,r=t.grid.rows,o=r,i=n,a=0,u=0;return we(t.access,(function(t){if(e(t)){var n=t.row,r=n+t.rowspan-1,s=t.column,c=s+t.colspan-1;n<o?o=n:r>a&&(a=r),s<i?i=s:c>u&&(u=c)}})),Uo(o,i,a,u)},Go=function(t,e,n){var r=t[n].element,o=ce.fromTag("td");Jr(o,ce.fromTag("br"));var i=e?Jr:Kr;i(r,o)},qo=function(t,e,n,r){for(var o=e.grid.columns,i=e.grid.rows,a=0;a<i;a++)for(var u=!1,s=0;s<o;s++)if(!(a<n.minRow||a>n.maxRow||s<n.minCol||s>n.maxCol)){var c=Nr.getAt(e,a,s).filter(r).isNone();c?Go(t,u,a):u=!0}},Yo=function(t,e){var n=V(lr(t,"tr"),(function(t){return 0===t.dom.childElementCount}));L(n,oo),e.minCol!==e.maxCol&&e.minRow!==e.maxRow||L(lr(t,"th,td"),(function(t){Gn(t,"rowspan"),Gn(t,"colspan")})),Gn(t,"width"),Gn(t,"height"),er(t,"width"),er(t,"height")},Xo=function(t,e){var n=function(t){return le(t.element,e)},r=wr(t),o=Nr.generate(r),i=Wo(o,n),a="th:not("+e+"),td:not("+e+")",u=fr(t,"th,td",(function(t){return le(t,a)}));return L(u,oo),qo(r,o,i,n),Yo(t,i),t},Zo="",$o=function(t){return"img"===Ye(t)?1:co(t).fold((function(){return fn(t).length}),(function(t){return t.length}))},Ko=function(t){return co(t).filter((function(t){return 0!==t.trim().length||t.indexOf(Zo)>-1})).isSome()},Jo=["img","br"],Qo=function(t){var e=Ko(t);return e||E(Jo,Ye(t))},ti=function(t){return Pn(t,Qo)},ei=function(t){return ni(t,Qo)},ni=function(t,e){var n=function(t){for(var r=fn(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return p.some(i);var a=n(i);if(a.isSome())return a}return p.none()};return n(t)},ri=function(t,e){return ce.fromDom(t.dom.cloneNode(e))},oi=function(t){return ri(t,!1)},ii=function(t){return ri(t,!0)},ai=function(t,e){var n=ce.fromTag(e),r=qn(t);return Hn(n,r),n},ui=function(t,e){var n=ai(t,e),r=fn(ii(t));return no(n,r),n},si={scope:["row","col"]},ci=function(){var t=ce.fromTag("td");return Jr(t,ce.fromTag("br")),t},li=function(){return ce.fromTag("col")},fi=function(){return ce.fromTag("colgroup")},di=function(t,e,n){var r=ui(t,e);return we(n,(function(t,e){null===t?Gn(r,e):jn(r,e,t)})),r},hi=function(t){return t},pi=function(t){return function(){return ce.fromTag("tr",t.dom)}},mi=function(t,e,n){var r=ti(t);return r.map((function(r){var o=n.join(","),i=On(r,o,(function(e){return pe(e,t)}));return F(i,(function(t,e){var n=oi(e);return Gn(n,"contenteditable"),Jr(t,n),n}),e)})).getOr(e)},gi=function(t,e){we(si,(function(n,r){return Wn(t,r).filter((function(t){return E(n,t)})).each((function(t){return jn(e,r,t)}))}))},vi=function(t,e,n){var r=function(t,e){nr(t.element,e),er(e,"height"),1!==t.colspan&&er(t.element,"width")},o=function(e){var o=nn(e.element),i=ce.fromTag(Ye(e.element),o.dom),a=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),u=a.length>0?mi(e.element,i,a):i;return Jr(u,ce.fromTag("br")),r(e,i),gi(e.element,i),t(e.element,i),i},i=function(e){var n=nn(e.element),o=ce.fromTag(Ye(e.element),n.dom);return r(e,o),t(e.element,o),o};return{col:i,colgroup:fi,row:pi(e),cell:o,replace:di,gap:ci}},yi=function(t){return{col:li,colgroup:fi,row:pi(t),cell:ci,replace:hi,gap:ci}},bi=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,fn(ce.fromDom(r))},xi=function(t){return P(t,ce.fromDom)},wi=function(t){return Bo(t.get(),r([]),o,Z)},_i=function(t){var e=function(t,e){return Wn(t,e).exists((function(t){return parseInt(t,10)>1}))},n=function(t){return e(t,"rowspan")||e(t,"colspan")},r=wi(t);return r.length>0&&Y(r,n)?p.some(r):p.none()},Si=function(t,e,n){return Bo(e.get(),p.none,(function(e){return e.length<=1?p.none():Ro(t,n.firstSelectedSelector,n.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))}),p.none)},Ci="data-mce-selected",ki="td["+Ci+"],th["+Ci+"]",Ti="["+Ci+"]",Ai="data-mce-first-selected",Oi="td["+Ai+"],th["+Ai+"]",Mi="data-mce-last-selected",Di="td["+Mi+"],th["+Mi+"]",Ii=Ti,Ei={selected:Ci,selectedSelector:ki,firstSelected:Ai,firstSelectedSelector:Oi,lastSelected:Mi,lastSelectedSelector:Di},Ri=function(t){return{element:t,mergable:p.none(),unmergable:p.none(),selection:[t]}},Ni=function(t,e,n){return{element:n,mergable:Si(e,t,Ei),unmergable:_i(t),selection:wi(t)}},Pi=function(t,e,n){return{element:t,clipboard:e,generators:n}},Li=function(t,e,n,r){return{selection:wi(t),clipboard:n,generators:r}},Bi=function(t){return gr(t[0]).map(ii).map((function(t){return[Xo(t,Ii)]}))},zi=function(t,e){return P(e,(function(e){return t.selection.serializer.serialize(e.dom,{})})).join("")},Vi=function(t){return P(t,(function(t){return t.dom.innerText})).join("")},Fi=function(e,n,r,o){e.on("BeforeGetContent",(function(r){var o=function(t){r.preventDefault(),Bi(t).each((function(t){r.content="text"===r.format?Vi(t):zi(e,t)}))};!0===r.selection&&Bo(n.get(),t,o,t)})),e.on("BeforeSetContent",(function(t){if(!0===t.selection&&!0===t.paste){var n=p.from(e.dom.getParent(e.selection.getStart(),"th,td"));n.each((function(n){var i=ce.fromDom(n);gr(i).each((function(n){var a=V(bi(t.content),(function(t){return"meta"!==Ye(t)})),u=function(t){return"table"===Ye(t)};if(1===a.length&&u(a[0])){t.preventDefault();var s=ce.fromDom(e.getDoc()),c=yi(s),l=Pi(i,a[0],c);r.pasteCells(n,l).each((function(t){e.selection.setRng(t),e.focus(),o.clear(n)}))}}))}))}}))},ji=Po.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Hi=tt({},ji),Ui=function(t,e){return 0===t.length?Hi.none():1===t.length?Hi.only(0):0===e?Hi.left(0,1):e===t.length-1?Hi.right(e-1,e):e>0&&e<t.length-1?Hi.middle(e-1,e,e+1):Hi.none()},Wi=function(t,e,n,o,i){var a=t.slice(0),u=Ui(t,e),s=r(P(a,r(0))),c=function(t){return o.singleColumnWidth(a[t],n)},l=function(t,e){return i.calcLeftEdgeDeltas(a,t,e,n,o.minCellWidth(),o.isRelative)},f=function(t,e,r){return i.calcMiddleDeltas(a,t,e,r,n,o.minCellWidth(),o.isRelative)},d=function(t,e){return i.calcRightEdgeDeltas(a,t,e,n,o.minCellWidth(),o.isRelative)};return u.fold(s,c,l,f,d)},Gi=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},qi=function(t,e,n){return t.isSome()&&e.isSome()?p.some(n(t.getOrDie(),e.getOrDie())):p.none()},Yi=function(t,e){return void 0!==t&&null!==t?e(t):p.none()};function Xi(t,e){var n=function(e,n){if(!A(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;Yn(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=Jn(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return j(e,(function(e,n){var r=Jn(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)},a=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}}var Zi=Xi("width",(function(t){return t.dom.offsetWidth})),$i=function(t){return Zi.get(t)},Ki=function(t){return Zi.getOuter(t)},Ji=function(t){var e=t.grid,n=N(e.columns,o),r=N(e.rows,o);return P(n,(function(e){var n=function(){return q(r,(function(n){return Nr.getAt(t,n,e).filter((function(t){return t.column===e})).toArray()}))},o=function(t){return 1===t.colspan},i=function(){return Nr.getAt(t,0,e)};return Qi(n,o,i)}))},Qi=function(t,e,n){var r=t(),o=U(r,e),i=o.orThunk((function(){return p.from(r[0]).orThunk(n)}));return i.map((function(t){return t.element}))},ta=function(t){var e=t.grid,n=N(e.rows,o),i=N(e.columns,o);return P(n,(function(e){var n=function(){return q(i,(function(n){return Nr.getAt(t,e,n).filter((function(t){return t.row===e})).fold(r([]),(function(t){return[t]}))}))},o=function(t){return 1===t.rowspan},a=function(){return Nr.getAt(t,e,0)};return Qi(n,o,a)}))},ea=function(t,e){if(e<0||e>=t.length-1)return p.none();var n=t[e].fold((function(){var n=X(t.slice(0,e));return Q(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return p.some({value:t,delta:0})})),r=t[e+1].fold((function(){var n=t.slice(e+1);return Q(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return p.some({value:t,delta:1})}));return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta;return Math.abs(e.value-t.value)/n}))}))},na=function(t,e){return function(n){return"rtl"===ra(n)?e:t}},ra=function(t){return"rtl"===Jn(t,"direction")?"rtl":"ltr"},oa=Xi("height",(function(t){var e=t.dom;return _n(t)?e.getBoundingClientRect().height:e.offsetHeight})),ia=function(t){return oa.get(t)},aa=function(t){return oa.getOuter(t)},ua=function(t,e){var n=function(n,r){return ua(t+n,e+r)};return{left:t,top:e,translate:n}},sa=ua,ca=function(t){var e=t.getBoundingClientRect();return sa(e.left,e.top)},la=function(t,e){return void 0!==t?t:void 0!==e?e:0},fa=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return sa(n.offsetLeft,n.offsetTop);var i=la(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=la(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),u=la(o.clientTop,n.clientTop),s=la(o.clientLeft,n.clientLeft);return da(t).translate(a-s,i-u)},da=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?sa(r.offsetLeft,r.offsetTop):_n(t)?ca(e):sa(0,0)},ha=function(t,e){return{row:t,y:e}},pa=function(t,e){return{col:t,x:e}},ma=function(t){var e=fa(t);return e.left+Ki(t)},ga=function(t){return fa(t).left},va=function(t,e){return pa(t,ga(e))},ya=function(t,e){return pa(t,ma(e))},ba=function(t){return fa(t).top},xa=function(t,e){return ha(t,ba(e))},wa=function(t,e){return ha(t,ba(e)+aa(e))},_a=function(t,e,n){if(0===n.length)return[];var r=P(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))})),o=n[n.length-1].map((function(t){return e(n.length-1,t)}));return r.concat([o])},Sa=function(t){return-t},Ca={delta:o,positions:function(t){return _a(xa,wa,t)},edge:ba},ka={delta:o,edge:ga,positions:function(t){return _a(va,ya,t)}},Ta={delta:Sa,edge:ma,positions:function(t){return _a(ya,va,t)}},Aa=na(ka,Ta),Oa={delta:function(t,e){return Aa(e).delta(t,e)},positions:function(t,e){return Aa(e).positions(t,e)},edge:function(t){return Aa(t).edge(t)}},Ma={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Da=function(){var t="[0-9]+",e="[+-]?"+t,n="[eE]"+e,r="\\.",o=function(t){return"(?:"+t+")?"},i=["Infinity",t+r+o(t)+o(n),r+t+o(n),t+o(n)].join("|"),a="[+-]?(?:"+i+")";return new RegExp("^("+a+")(.*)$")}(),Ia=function(t,e){return R(e,(function(e){return R(Ma[e],(function(e){return t===e}))}))},Ea=function(t,e){var n=p.from(Da.exec(t));return n.bind((function(t){var n=Number(t[1]),r=t[2];return Ia(r,e)?p.some({value:n,unit:r}):p.none()}))},Ra=function(){var t=$t().browser;return t.isIE()||t.isEdge()},Na=function(t,e){var n=parseFloat(t);return isNaN(n)?e:n},Pa=function(t,e,n){return Na(Jn(t,e),n)},La=function(t){var e=t.dom.getBoundingClientRect().height,n=Jn(t,"box-sizing");if("border-box"===n)return e;var r=Pa(t,"padding-top",0),o=Pa(t,"padding-bottom",0),i=Pa(t,"border-top-width",0),a=Pa(t,"border-bottom-width",0),u=i+a;return e-r-o-u},Ba=function(t){var e=t.dom.getBoundingClientRect().width,n=Jn(t,"box-sizing");if("border-box"===n)return e;var r=Pa(t,"padding-left",0),o=Pa(t,"padding-right",0),i=Pa(t,"border-left-width",0),a=Pa(t,"border-right-width",0),u=i+a;return e-r-o-u},za=function(t){return Ra()?La(t):Pa(t,"height",ia(t))},Va=function(t){return Ra()?Ba(t):Pa(t,"width",$i(t))},Fa=/(\d+(\.\d+)?)%/,ja=/(\d+(\.\d+)?)px|em/,Ha=function(t,e){var n=sn(t).getOr(Cn(nn(t)));return e(t)/e(n)*100},Ua=function(t,e){$n(t,"width",e+"px")},Wa=function(t,e){$n(t,"width",e+"%")},Ga=function(t,e){$n(t,"height",e+"px")},qa=function(t){return tr(t,"height").getOrThunk((function(){return za(t)+"px"}))},Ya=function(t,e,n,r){var o=gr(t).map((function(t){var r=n(t);return Math.floor(e/100*r)})).getOr(e);return r(t,o),o},Xa=function(t,e,n,r){var o=parseInt(t,10);return vt(t,"%")&&"table"!==Ye(e)?Ya(e,o,n,r):o},Za=function(t){var e=qa(t);return e?Xa(e,t,ia,Ga):ia(t)},$a=function(t,e,n){var r=n(t),o=or(t,e);return r/o},Ka=function(t){var e=tr(t,"width");return e.fold((function(){return p.from(Un(t,"width"))}),(function(t){return p.some(t)}))},Ja=function(t,e){return t/e.pixelWidth()*100},Qa=function(t,e,n){var r=Fa.exec(e);if(null!==r)return parseFloat(r[1]);var o=Va(t);return Ja(o,n)},tu=function(t,e){var n=Ka(t);return n.fold((function(){var n=$i(t);return Ja(n,e)}),(function(n){return Qa(t,n,e)}))},eu=function(t,e){return t/100*e.pixelWidth()},nu=function(t,e,n){var r=ja.exec(e);if(null!==r)return parseInt(r[1],10);var o=Fa.exec(e);if(null!==o){var i=parseFloat(o[1]);return eu(i,n)}return Va(t)},ru=function(t,e){var n=Ka(t);return n.fold((function(){return Va(t)}),(function(n){return nu(t,n,e)}))},ou=function(t){return $a(t,"rowspan",Za)},iu=function(t){var e=Ka(t);return e.bind((function(t){return Ea(t,["fixed","relative","empty"])}))},au=function(t,e,n){$n(t,"width",e+n)},uu=function(t){return $i(t)+"px"},su=function(t){return Ha(t,$i)+"%"},cu=function(t){return Ka(t).exists((function(t){return Fa.test(t)}))},lu=function(t){return Ka(t).exists((function(t){return ja.test(t)}))},fu=function(t){return Ka(t).isNone()},du=r(Fa),hu=r(ja),pu=en("col"),mu=function(t,e,n){return tr(t,e).fold((function(){return n(t)+"px"}),(function(t){return t}))},gu=function(t,e){var n=function(t){return pu(t)?$i(t):ru(t,e)};return mu(t,"width",n)},vu=function(t){return mu(t,"height",ou)},yu=function(t){return P(Nr.justColumns(t),(function(t){return p.from(t.element)}))},bu=function(t){return!pu(t)||tr(t,"width").isSome()},xu=function(t,e,n,r,o,i){return t.filter(r).fold((function(){return i(ea(n,e))}),(function(t){return o(t)}))},wu=function(t,e,n,r,i){var u=Ji(t),s=Nr.hasColumns(t)?yu(t):u,c=[p.some(Oa.edge(e))].concat(P(Oa.positions(u,e),(function(t){return t.map((function(t){return t.x}))}))),l=a(ir);return P(s,(function(t,e){return xu(t,e,c,l,(function(t){if(bu(t))return n(t,i);var a=Yi(u[e],o);return xu(a,e,c,l,(function(t){return r(p.some($i(t)))}),r)}),r)}))},_u=function(t){return t.map((function(t){return t+"px"})).getOr("")},Su=function(t,e,n){return wu(t,e,gu,_u,n)},Cu=function(t,e,n){return wu(t,e,tu,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}),n)},ku=function(t,e,n){return wu(t,e,ru,(function(t){return t.getOrThunk(n.minCellWidth)}),n)},Tu=function(t,e,n,r,o){var i=ta(t),u=[p.some(n.edge(e))].concat(P(n.positions(i,e),(function(t){return t.map((function(t){return t.y}))})));return P(i,(function(t,e){return xu(t,e,u,a(ar),r,o)}))},Au=function(t,e,n){return Tu(t,e,n,ou,(function(t){return t.getOrThunk(cr)}))},Ou=function(t,e,n){return Tu(t,e,n,vu,_u)},Mu=function(t,e,n){for(var r=0,o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0;return r},Du=function(t,e){var n=Nr.justCells(t);return P(n,(function(t){var n=Mu(t.column,t.column+t.colspan,e);return{element:t.element,width:n,colspan:t.colspan}}))},Iu=function(t,e){var n=Nr.justColumns(t);return P(n,(function(t,n){return{element:t.element,width:e[n],colspan:t.colspan}}))},Eu=function(t,e){var n=Nr.justCells(t);return P(n,(function(t){var n=Mu(t.row,t.row+t.rowspan,e);return{element:t.element,height:n,rowspan:t.rowspan}}))},Ru=function(t,e){return P(t.all,(function(t,n){return{element:t.element,height:e[n]}}))},Nu=function(t){return F(t,(function(t,e){return t+e}),0)},Pu=function(t,e){return Nr.hasColumns(t)?Iu(t,e):Du(t,e)},Lu=function(t,e,n){var r=Pu(t,e);L(r,(function(t){n.setElementWidth(t.element,t.width)}))},Bu=function(t,e,n,r,o){var i=Nr.fromTable(t),a=o.getCellDelta(e),u=o.getWidths(i,o),s=n===i.grid.columns-1,c=r.clampTableDelta(u,n,a,o.minCellWidth(),s),l=Wi(u,n,c,o,r),f=P(l,(function(t,e){return t+u[e]}));Lu(i,f,o),r.resizeTable(o.adjustTableWidth,c,s)},zu=function(t,e,n,r){var o=Nr.fromTable(t),i=Au(o,t,r),a=P(i,(function(t,r){return n===r?Math.max(e+t,cr()):t})),u=Eu(o,a),s=Ru(o,a);L(s,(function(t){Ga(t.element,t.height)})),L(u,(function(t){Ga(t.element,t.height)}));var c=Nu(a);Ga(t,c)},Vu=function(t,e,n){var r=Nr.generate(e),o=n.getWidths(r,n);Lu(r,o,n)},Fu=function(t){return P(t,r(0))},ju=function(t,e,n,r,o){return o(t.slice(0,e)).concat(r).concat(o(t.slice(n)))},Hu=function(t){return function(e,n,r,o){if(t(r)){var i=Math.max(o,e[n]-Math.abs(r)),a=Math.abs(i-e[n]);return r>=0?a:-a}return r}},Uu=Hu((function(t){return t<0})),Wu=Hu(c),Gu=function(){var t=function(t,e,n,r,o){var i=Uu(t,e,r,o);return ju(t,e,n+1,[i,0],Fu)},e=function(t,e,n,r){var o=(100+n)/100,i=Math.max(r,(t[e]+n)/o);return P(t,(function(t,n){var r=n===e?i:t/o;return r-t}))},n=function(n,r,o,i,a,u){return u?e(n,r,i,a):t(n,r,o,i,a)},r=function(t,e,r,o,i,a,u){return n(t,r,o,i,a,u)},o=function(t,e){return t(e)},i=function(t,n,r,o,i,a){if(a)return e(t,r,o,i);var u=Uu(t,r,o,i);return Fu(t.slice(0,r)).concat([u])};return{resizeTable:o,clampTableDelta:Uu,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:i}},qu=function(){var t=function(t,e,n,r,o){var i=r>=0?n:e,a=Wu(t,i,r,o);return ju(t,e,n+1,[a,-a],Fu)},e=function(e,n,r,o,i,a){return t(e,r,o,i,a)},n=function(t,e,n){n&&t(e)},o=function(t,e,n,o,i,a){if(a)return Fu(t);var u=o/t.length;return P(t,r(u))},i=function(t,e,n,r,o){if(o){if(n>=0)return n;var i=j(t,(function(t,e){return t+e-r}),0);return Math.max(-i,n)}return Uu(t,e,n,r)};return{resizeTable:n,clampTableDelta:i,calcLeftEdgeDeltas:t,calcMiddleDeltas:e,calcRightEdgeDeltas:o}},Yu=function(t,e){var n=p.from(t.dom.documentElement).map(ce.fromDom).getOr(t);return{parent:r(n),view:r(t),origin:r(sa(0,0)),isResizable:e}},Xu=function(t,e,n){var o=function(){return fa(e)};return{parent:r(e),view:r(t),origin:o,isResizable:n}},Zu=function(t,e,n){return{parent:r(e),view:r(t),origin:r(sa(0,0)),isResizable:n}},$u={only:Yu,detached:Xu,body:Zu},Ku=Po.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ju=function(t,e,n){var r=n.substring(0,n.length-t.length),o=parseFloat(r);return r===o.toString()?e(o):Ku.invalid(n)},Qu=function(t){return vt(t,"%")?Ju("%",Ku.percent,t):vt(t,"px")?Ju("px",Ku.pixels,t):Ku.invalid(t)},ts=tt(tt({},Ku),{from:Qu}),es=function(t,e){return P(t,(function(t){var n=ts.from(t);return n.fold((function(){return t}),(function(t){var n=t/e*100;return n+"%"}),(function(t){return t+"%"}))}))},ns=function(t,e,n){var r=n/e;return P(t,(function(t){var e=ts.from(t);return e.fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*n+"px"}))}))},rs=function(t,e){var n=t.fold((function(){return r("")}),(function(t){var n=t/e;return r(n+"px")}),(function(){var t=100/e;return r(t+"%")}));return N(e,n)},os=function(t,e,n){return t.fold((function(){return e}),(function(t){return ns(e,n,t)}),(function(t){return es(e,n)}))},is=function(t,e,n){var r=ts.from(n),o=Y(t,(function(t){return"0px"===t}))?rs(r,t.length):os(r,t,e);return cs(o)},as=function(t,e){return 0===t.length?e:F(t,(function(t,e){return ts.from(e).fold(r(0),o,o)+t}),0)},us=function(t,e){var n=Math.floor(t);return{value:n+e,remainder:t-n}},ss=function(t,e){return ts.from(t).fold(r(t),(function(t){return t+e+"px"}),(function(t){return t+e+"%"}))},cs=function(t){if(0===t.length)return t;var e=F(t,(function(t,e){var n=ts.from(e).fold((function(){return{value:e,remainder:0}}),(function(t){return us(t,"px")}),(function(t){return{value:t+"%",remainder:0}}));return{output:[n.value].concat(t.output),remainder:t.remainder+n.remainder}}),{output:[],remainder:0}),n=e.output;return n.slice(0,n.length-1).concat([ss(n[n.length-1],Math.round(e.remainder))])},ls=ts.from,fs=function(t,e,n){L(e,(function(e){var r=t.slice(e.column,e.colspan+e.column),o=as(r,sr());$n(e.element,"width",o+n)}))},ds=function(t,e,n){L(e,(function(e,r){var o=as([t[r]],sr());$n(e.element,"width",o+n)}))},hs=function(t,e,n,r){L(n,(function(e){var n=t.slice(e.row,e.rowspan+e.row),o=as(n,cr());$n(e.element,"height",o+r)})),L(e,(function(e,n){$n(e.element,"height",t[n])}))},ps=function(t){return ls(t).fold(r("px"),r("px"),r("%"))},ms=function(t,e,n,r){var o=Nr.fromTable(t),i=o.all,a=Nr.justCells(o),u=Nr.justColumns(o);e.each((function(e){var n=ps(e),i=$i(t),s=Su(o,t,r),c=is(s,i,e);Nr.hasColumns(o)?ds(c,u,n):fs(c,a,n),$n(t,"width",e)})),n.each((function(e){var n=ps(e),r=ia(t),u=Ou(o,t,Ca),s=is(u,r,e);hs(s,i,a,n),$n(t,"height",e)}))},gs=cu,vs=lu,ys=fu,bs=su,xs=function(t){var e=Nr.fromTable(t);return e.grid},ws=function(t){var e=[],n=function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");e.push(t)},r=function(t){e=V(e,(function(e){return e!==t}))},o=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};L(t,(function(t,e){o[t]=n[e]})),L(e,(function(t){t(o)}))};return{bind:n,unbind:r,trigger:o}},_s=function(t){var e=_e(t,(function(t){return{bind:t.bind,unbind:t.unbind}})),n=_e(t,(function(t){return t.trigger}));return{registry:e,trigger:n}},Ss=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){t.apply(null,r),n=null}),e)};return{cancel:r,throttle:o}},Cs=function(t){return t.slice(0).sort()},ks=function(t,e){throw new Error("All required keys ("+Cs(t).join(", ")+") were not specified. Specified keys were: "+Cs(e).join(", ")+".")},Ts=function(t){throw new Error("Unsupported keys for object: "+Cs(t).join(", "))},As=function(t,e){if(!w(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");L(e,(function(e){if(!b(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},Os=function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+Cs(t).join(", ")+") were not.")},Ms=function(t){var e=Cs(t),n=U(e,(function(t,n){return n<e.length-1&&t===e[n+1]}));n.each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))},Ds=function(t,e){return Is(t,e,{validate:T,label:"function"})},Is=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.");return As("required",e),Ms(e),function(r){var o=be(r),i=Y(e,(function(t){return E(o,t)}));i||ks(e,o),t(e,o);var a=V(e,(function(t){return!n.validate(r[t],t)}));return a.length>0&&Os(a,n.label),r}},Es=function(t,e){var n=V(e,(function(e){return!E(t,e)}));n.length>0&&Ts(n)},Rs=function(t){return Ds(Es,t)},Ns=Rs(["compare","extract","mutate","sink"]),Ps=Rs(["element","start","stop","destroy"]),Ls=Rs(["forceDrop","drop","move","delayDrop"]);function Bs(){var t=p.none(),e=function(){t=p.none()},n=function(e,n){var r=t.map((function(t){return e.compare(t,n)}));return t=p.some(n),r},r=function(t,e){var r=e.extract(t);r.each((function(t){var r=n(e,t);r.each((function(t){o.trigger.move(t)}))}))},o=_s({move:ws(["info"])});return{onEvent:r,reset:e,events:o.registry}}function zs(){return{onEvent:t,reset:t}}function Vs(){var t=zs(),e=Bs(),n=t,r=function(){n.reset(),n=e},o=function(){n.reset(),n=t},i=function(t,e){n.onEvent(t,e)},a=function(){return n===e};return{on:r,off:o,isOn:a,onEvent:i,events:e.events}}var Fs=function(t,e,n){var r=!1,o=_s({start:ws([]),stop:ws([])}),i=Vs(),a=function(){h.stop(),i.isOn()&&(i.off(),o.trigger.stop())},u=Ss(a,200),s=function(t){h.start(t),i.on(),o.trigger.start()},c=function(t){u.cancel(),i.onEvent(t,e)};i.events.move.bind((function(n){e.mutate(t,n.info)}));var l=function(){r=!0},f=function(){r=!1},d=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r&&t.apply(null,e)}},h=e.sink(Ls({forceDrop:a,drop:d(a),move:d(c),delayDrop:d(u.throttle)}),n),p=function(){h.destroy()};return{element:h.element,go:s,on:l,off:f,destroy:p,events:o.registry}},js=function(t,e,n,r,o,i,a){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:a}},Hs=function(t){var n=ce.fromDom(xn(t).getOr(t.target)),r=function(){return t.stopPropagation()},o=function(){return t.preventDefault()},i=e(o,r);return js(n,t.clientX,t.clientY,r,o,i,t)},Us=function(t,e){return function(n){t(n)&&e(Hs(n))}},Ws=function(t,e,n,r,o){var a=Us(n,r);return t.dom.addEventListener(e,a,o),{unbind:i(qs,t,e,a,o)}},Gs=function(t,e,n,r){return Ws(t,e,n,r,!1)},qs=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Ys=c,Xs=function(t,e,n){return Gs(t,e,Ys,n)},Zs=Hs,$s=function(t,e){var n=Un(t,e);return void 0===n||""===n?[]:n.split(" ")},Ks=function(t,e,n){var r=$s(t,e),o=r.concat([n]);return jn(t,e,o.join(" ")),!0},Js=function(t,e,n){var r=V($s(t,e),(function(t){return t!==n}));return r.length>0?jn(t,e,r.join(" ")):Gn(t,e),!1},Qs=function(t){return void 0!==t.dom.classList},tc=function(t){return $s(t,"class")},ec=function(t,e){return Ks(t,"class",e)},nc=function(t,e){return Js(t,"class",e)},rc=function(t,e){Qs(t)?t.dom.classList.add(e):ec(t,e)},oc=function(t){var e=Qs(t)?t.dom.classList:tc(t);0===e.length&&Gn(t,"class")},ic=function(t,e){if(Qs(t)){var n=t.dom.classList;n.remove(e)}else nc(t,e);oc(t)},ac=function(t,e){return Qs(t)&&t.dom.classList.contains(e)},uc=function(t){var e=t.replace(/\./g,"-"),n=function(t){return e+"-"+t};return{resolve:n}},sc=uc("ephox-dragster"),cc=sc.resolve,lc=function(t){var e=tt({layerClass:cc("blocker")},t),n=ce.fromTag("div");jn(n,"role","presentation"),Kn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),rc(n,cc("blocker")),rc(n,e.layerClass);var r=function(){return n},o=function(){oo(n)};return{element:r,destroy:o}},fc=function(t,e){return sa(e.left-t.left,e.top-t.top)},dc=function(t){return p.some(sa(t.x,t.y))},hc=function(t,e){t.mutate(e.left,e.top)},pc=function(t,e){var n=lc(e),r=Xs(n.element(),"mousedown",t.forceDrop),o=Xs(n.element(),"mouseup",t.drop),i=Xs(n.element(),"mousemove",t.move),a=Xs(n.element(),"mouseout",t.delayDrop),u=function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()},s=function(t){Jr(t,n.element())},c=function(){oo(n.element())};return Ps({element:n.element,start:s,stop:c,destroy:u})},mc=Ns({compare:fc,extract:dc,sink:pc,mutate:hc}),gc=function(t,e){void 0===e&&(e={});var n=void 0!==e.mode?e.mode:mc;return Fs(t,n,e)},vc=function(t){return"true"===Un(t,"contenteditable")},yc=function(t,e){return Vn(t,"[contenteditable]",e)},bc=uc("ephox-snooker"),xc=bc.resolve,wc=function(){var t=_s({drag:ws(["xDelta","yDelta"])}),e=function(e,n){t.trigger.drag(e,n)};return{mutate:e,events:t.registry}},_c=function(){var t=_s({drag:ws(["xDelta","yDelta","target"])}),e=p.none(),n=wc();n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta,n.yDelta,e)}))}));var r=function(t){e=p.some(t)},o=function(){return e};return{assign:r,get:o,mutate:n.mutate,events:t.registry}},Sc=function(t,e,n,r,o){var i=ce.fromTag("div");return Kn(i,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Hn(i,{"data-column":t,role:"presentation"}),i},Cc=function(t,e,n,r,o){var i=ce.fromTag("div");return Kn(i,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Hn(i,{"data-row":t,role:"presentation"}),i},kc=xc("resizer-bar"),Tc=xc("resizer-rows"),Ac=xc("resizer-cols"),Oc=7,Mc=function(t,e){return q(t.all,(function(t,n){return e(t.element)?[n]:[]}))},Dc=function(t,e){var n=[];return N(t.grid.columns,(function(r){var o=Nr.getColumnAt(t,r).map((function(t){return t.element}));o.forall(e)&&n.push(r)})),V(n,(function(n){var r=Nr.filterItems(t,(function(t){return t.column===n}));return Y(r,(function(t){return e(t.element)}))}))},Ic=function(t){var e=Dn(t.parent(),"."+kc);L(e,oo)},Ec=function(t,e,n){var r=t.origin();L(e,(function(e){e.each((function(e){var o=n(r,e);rc(o,kc),Jr(t.parent(),o)}))}))},Rc=function(t,e,n,r){Ec(t,e,(function(t,e){var o=Sc(e.col,e.x-t.left,n.top-t.top,Oc,r);return rc(o,Ac),o}))},Nc=function(t,e,n,r){Ec(t,e,(function(t,e){var o=Cc(e.row,n.left-t.left,e.y-t.top,r,Oc);return rc(o,Tc),o}))},Pc=function(t,e,n,r,o){var i=fa(n),a=e.isResizable,u=r.length>0?Ca.positions(r,n):[],s=u.length>0?Mc(t,a):[],c=V(u,(function(t,e){return R(s,(function(t){return e===t}))}));Nc(e,c,i,Ki(n));var l=o.length>0?Oa.positions(o,n):[],f=l.length>0?Dc(t,a):[],d=V(l,(function(t,e){return R(f,(function(t){return e===t}))}));Rc(e,d,i,aa(n))},Lc=function(t,e){if(Ic(t),t.isResizable(e)){var n=Nr.fromTable(e),r=ta(n),o=Ji(n);Pc(n,t,e,r,o)}},Bc=function(t,e){var n=Dn(t.parent(),"."+kc);L(n,e)},zc=function(t){Bc(t,(function(t){$n(t,"display","none")}))},Vc=function(t){Bc(t,(function(t){$n(t,"display","block")}))},Fc=function(t){return ac(t,Tc)},jc=function(t){return ac(t,Ac)},Hc=xc("resizer-bar-dragging"),Uc=function(t){var e=_c(),n=gc(e,{}),r=p.none(),o=function(t,e){return p.from(Un(t,e))};e.events.drag.bind((function(t){o(t.target,"data-row").each((function(e){var n=ur(t.target,"top");$n(t.target,"top",n+t.yDelta+"px")})),o(t.target,"data-column").each((function(e){var n=ur(t.target,"left");$n(t.target,"left",n+t.xDelta+"px")}))}));var a=function(t,e){var n=ur(t,e),r=rr(t,"data-initial-"+e,0);return n-r};n.events.stop.bind((function(){e.get().each((function(e){r.each((function(n){o(e,"data-row").each((function(t){var r=a(e,"top");Gn(e,"data-initial-top"),m.trigger.adjustHeight(n,r,parseInt(t,10))})),o(e,"data-column").each((function(t){var r=a(e,"left");Gn(e,"data-initial-left"),m.trigger.adjustWidth(n,r,parseInt(t,10))})),Lc(t,n)}))}))}));var u=function(r,o){m.trigger.startAdjust(),e.assign(r),jn(r,"data-initial-"+o,ur(r,o)),rc(r,Hc),$n(r,"opacity","0.2"),n.go(t.parent())},s=Xs(t.parent(),"mousedown",(function(t){Fc(t.target)&&u(t.target,"top"),jc(t.target)&&u(t.target,"left")})),c=function(e){return pe(e,t.view())},l=function(t){return Vn(t,"table",c).filter((function(t){return yc(t,c).exists(vc)}))},f=Xs(t.view(),"mouseover",(function(e){l(e.target).fold((function(){_n(e.target)&&Ic(t)}),(function(e){r=p.some(e),Lc(t,e)}))})),d=function(){s.unbind(),f.unbind(),n.destroy(),Ic(t)},h=function(e){Lc(t,e)},m=_s({adjustHeight:ws(["table","delta","row"]),adjustWidth:ws(["table","delta","column"]),startAdjust:ws([])});return{destroy:d,refresh:h,on:n.on,off:n.off,hideBars:i(zc,t),showBars:i(Vc,t),events:m.registry}},Wc=function(t,e,n){var r=Ca,o=Oa,i=Uc(t),a=_s({beforeResize:ws(["table","type"]),afterResize:ws(["table","type"]),startDrag:ws([])});return i.events.adjustHeight.bind((function(t){var e=t.table;a.trigger.beforeResize(e,"row");var n=r.delta(t.delta,e);zu(e,n,t.row,r),a.trigger.afterResize(e,"row")})),i.events.startAdjust.bind((function(t){a.trigger.startDrag()})),i.events.adjustWidth.bind((function(t){var r=t.table;a.trigger.beforeResize(r,"col");var i=o.delta(t.delta,r),u=n(r);Bu(r,i,t.column,e,u),a.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:a.registry}},Gc={create:Wc},qc=function(t,e){return t.fire("newrow",{node:e})},Yc=function(t,e){return t.fire("newcell",{node:e})},Xc=function(t,e,n,r,o){t.fire("ObjectResizeStart",{target:e,width:n,height:r,origin:o})},Zc=function(t,e,n,r,o){t.fire("ObjectResized",{target:e,width:n,height:r,origin:o})},$c=function(t,e,n,r,o){t.fire("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:o})},Kc=function(t){t.fire("TableSelectionClear")},Jc=function(t,e,n){t.fire("TableModified",tt(tt({},n),{table:e}))},Qc="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",tl={"border-collapse":"collapse",width:"100%"},el=function(t){if(xl(t)){var e=t.getBody().offsetWidth;return tt(tt({},tl),{width:e+"px"})}return wl(t)?Te(tl,(function(t,e){return"width"!==e})):tl},nl={border:"1"},rl="preservetable",ol=function(t){return t.getParam("table_sizing_mode","auto")},il=function(t){return t.getParam("table_responsive_width")},al=function(t){return t.getParam("table_default_attributes",nl,"object")},ul=function(t){return t.getParam("table_default_styles",el(t),"object")},sl=function(t){return t.getParam("table_resize_bars",!0,"boolean")},cl=function(t){return t.getParam("table_tab_navigation",!0,"boolean")},ll=function(t){return t.getParam("table_cell_advtab",!0,"boolean")},fl=function(t){return t.getParam("table_row_advtab",!0,"boolean")},dl=function(t){return t.getParam("table_advtab",!0,"boolean")},hl=function(t){return t.getParam("table_appearance_options",!0,"boolean")},pl=function(t){return t.getParam("table_grid",!0,"boolean")},ml=function(t){return t.getParam("table_style_by_css",!1,"boolean")},gl=function(t){return t.getParam("table_cell_class_list",[],"array")},vl=function(t){return t.getParam("table_row_class_list",[],"array")},yl=function(t){return t.getParam("table_class_list",[],"array")},bl=function(t){return"relative"===ol(t)||!0===il(t)},xl=function(t){return"fixed"===ol(t)||!1===il(t)},wl=function(t){return"responsive"===ol(t)},_l=function(t){return t.getParam("table_toolbar",Qc)},Sl=function(t){return t.getParam("table_use_colgroups",!1,"boolean")},Cl=function(t){var e="section",n=t.getParam("table_header_type",e,"string"),r=["section","cells","sectionCells","auto"];return E(r,n)?n:e},kl=function(t){var e=["preservetable","resizetable"],n=t.getParam("table_column_resizing",rl,"string");return U(e,(function(t){return t===n})).getOr(rl)},Tl=function(t){return"preservetable"===kl(t)},Al=function(t){var e=t.getParam("table_clone_elements");return b(e)?p.some(e.split(/[ ,]/)):Array.isArray(e)?p.some(e):p.none()},Ol=function(t){var e=t.getParam("object_resizing",!0);return b(e)?"table"===e:e},Ml=function(t){return t.nodeName.toLowerCase()},Dl=function(t){return ce.fromDom(t.getBody())},Il=function(t){return t.getBoundingClientRect().width},El=function(t){return t.getBoundingClientRect().height},Rl=function(t){return function(e){return pe(e,Dl(t))}},Nl=function(t){return t?t.replace(/px$/,""):""},Pl=function(t){return/^\d+(\.\d+)?$/.test(t)?t+"px":t},Ll=function(t){Gn(t,"data-mce-style");var e=function(t){return Gn(t,"data-mce-style")};L(pr(t),e),L(mr(t),e)},Bl=function(t,e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width");return p.from(n).filter(xt)},zl=function(t){return/^(\d+(\.\d+)?)%$/.test(t)},Vl=function(t){return/^(\d+(\.\d+)?)px$/.test(t)},Fl=function(t){return ce.fromDom(t.selection.getStart())},jl=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},Hl=function(e){var n=function(){return $i(e)},o=r(0),i=function(t,n){return ku(t,e,n)};return{width:n,pixelWidth:n,getWidths:i,getCellDelta:o,singleColumnWidth:r([0]),minCellWidth:o,setElementWidth:t,adjustTableWidth:t,isRelative:!0,label:"none"}},Ul=function(t,e){var n=jl(parseFloat(t)),r=jl($i(e)),o=function(t){return t/r.get()*100},i=function(t,e){return[100-t]},a=function(){return sr()/r.get()*100},u=function(t){var o=n.get(),i=t/100*o,a=o+i;Wa(e,a),n.set(a),r.set($i(e))},s=function(t,n){return Cu(t,e,n)};return{width:n.get,pixelWidth:r.get,getWidths:s,getCellDelta:o,singleColumnWidth:i,minCellWidth:a,setElementWidth:Wa,adjustTableWidth:u,isRelative:!0,label:"percent"}},Wl=function(t,e){var n=jl(t),r=n.get,i=o,a=function(t,e){var n=Math.max(sr(),t+e);return[n-t]},u=function(t){var o=r()+t;Ua(e,o),n.set(o)},s=function(t,n){return ku(t,e,n)};return{width:r,pixelWidth:r,getWidths:s,getCellDelta:i,singleColumnWidth:a,minCellWidth:sr,setElementWidth:Ua,adjustTableWidth:u,isRelative:!1,label:"pixel"}},Gl=function(t,e){var n=du().exec(e);if(null!==n)return Ul(n[1],t);var r=hu().exec(e);if(null!==r){var o=parseInt(r[1],10);return Wl(o,t)}var i=$i(t);return Wl(i,t)},ql=function(t){var e=Ka(t);return e.fold((function(){return Hl(t)}),(function(e){return Gl(t,e)}))},Yl={getTableSize:ql,pixelSize:Wl,percentageSize:Ul,noneSize:Hl},Xl=function(t,e){if(bl(t)){var n=Bl(t,e.dom).filter(zl).getOrThunk((function(){return bs(e)}));return Yl.percentageSize(n,e)}return xl(t)?Yl.pixelSize($i(e),e):Yl.getTableSize(e)},Zl=function(t){Gn(t,"width")},$l=function(t,e){var n=su(t);ms(t,p.some(n),p.none(),e),Zl(t)},Kl=function(t,e){var n=uu(t);ms(t,p.some(n),p.none(),e),Zl(t)},Jl=function(t){er(t,"width");var e=mr(t),n=e.length>0?e:pr(t);L(n,(function(t){er(t,"width"),Zl(t)})),Zl(t)},Ql=function(t,e){var n=Xl(t,e);$l(e,n)},tf=function(t,e){var n=Xl(t,e);Kl(e,n)},ef=Jl,nf=function(t){var e=Nr.fromTable(t);Nr.hasColumns(e)||L(pr(t),(function(t){var e=Jn(t,"width");$n(t,"width",e),Gn(t,"width")}))},rf=function(){var t=ce.fromTag("div");return Kn(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Jr(Sn(),t),t},of=function(t,e){return t.inline?$u.body(Dl(t),rf(),e):$u.only(ce.fromDom(t.getDoc()),e)},af=function(t,e){t.inline&&oo(e.parent())},uf="bar-",sf=function(t){return"false"!==Un(t,"data-mce-resize")},cf=function(t){var e,n,r=p.none(),o=p.none(),i=p.none(),a=function(t){return"TABLE"===t.nodeName},u=function(){return o},s=function(){return i.getOr($u.only(ce.fromDom(t.getBody()),sf))},c=function(e){return Xl(t,e)},l=function(){return Tl(t)?qu():Gu()},f=function(t){return xs(t).columns},d=function(r,o,i){var a=vt(o,"e");if(""===n&&Ql(t,r),i!==e&&""!==n){$n(r,"width",n);var u=l(),s=c(r),d=Tl(t)||a?f(r)-1:0;Bu(r,i-e,d,u,s)}else if(zl(n)){var h=parseFloat(n.replace("%","")),p=i*h/e;$n(r,"width",p+"%")}Vl(n)&&nf(r)},h=function(){o.each((function(t){t.destroy()})),i.each((function(e){af(t,e)}))};return t.on("init",(function(){var e=of(t,sf);if(i=p.some(e),Ol(t)&&sl(t)){var n=l(),a=Gc.create(e,n,c);a.on(),a.events.startDrag.bind((function(e){r=p.some(t.selection.getRng())})),a.events.beforeResize.bind((function(e){var n=e.table.dom;Xc(t,n,Il(n),El(n),uf+e.type)})),a.events.afterResize.bind((function(e){var n=e.table,o=n.dom;Ll(n),r.each((function(e){t.selection.setRng(e),t.focus()})),Zc(t,o,Il(o),El(o),uf+e.type),t.undoManager.add()})),o=p.some(a)}})),t.on("ObjectResizeStart",(function(r){var o=r.target;if(a(o)){var i=ce.fromDom(o);L(t.dom.select(".mce-clonedresizable"),(function(e){t.dom.addClass(e,"mce-"+kl(t)+"-columns")})),!vs(i)&&xl(t)?tf(t,i):!gs(i)&&bl(t)&&Ql(t,i),ys(i)&&gt(r.origin,uf)&&Ql(t,i),e=r.width,n=wl(t)?"":Bl(t,o).getOr("")}})),t.on("ObjectResized",(function(e){var n=e.target;if(a(n)){var r=ce.fromDom(n),o=e.origin;gt(o,"corner-")&&d(r,o,e.width),Ll(r),Jc(t,r.dom)}})),t.on("SwitchMode",(function(){u().each((function(e){t.mode.isReadOnly()?e.hideBars():e.showBars()}))})),{lazyResize:u,lazyWire:s,destroy:h}},lf=function(t,e){return{element:t,offset:e}},ff=function(t,e,n){return t.property().isText(e)&&0===t.property().getText(e).trim().length||t.property().isComment(e)?n(e).bind((function(e){return ff(t,e,n).orThunk((function(){return p.some(e)}))})):p.none()},df=function(t,e){if(t.property().isText(e))return t.property().getText(e).length;var n=t.property().children(e);return n.length},hf=function(t,e){var n=ff(t,e,t.query().prevSibling).getOr(e);if(t.property().isText(n))return lf(n,df(t,n));var r=t.property().children(n);return r.length>0?hf(t,r[r.length-1]):lf(n,df(t,n))},pf=hf,mf=ho(),gf=function(t){return pf(mf,t)},vf=function(t,e){var n=iu(t);n.each((function(n){var r=n.value/2;au(t,r,n.unit),au(e,r,n.unit)}))},yf=function(t,e,n){var r=t.cells,o=r.slice(0,e),i=r.slice(e),a=o.concat([n]).concat(i);return xf(t,a)},bf=function(t,e,n){var r=t.cells;r[e]=n},xf=function(t,e){return Ue(e,t.section)},wf=function(t,e){var n=t.cells,r=P(n,e);return Ue(r,t.section)},_f=function(t,e){return t.cells[e]},Sf=function(t,e){return _f(t,e).element},Cf=function(t){return t.cells.length},kf=function(t){var e=z(t,(function(t){return"colgroup"===t.section}));return{rows:e.fail,cols:e.pass}},Tf=function(t,e,n,r){n===r?Gn(t,e):jn(t,e,n)},Af=function(t,e,n){J(Mn(t,e)).fold((function(){return Kr(t,n)}),(function(t){return $r(t,n)}))},Of=function(t,e){var n=Bn(t,e).getOrThunk((function(){var n=ce.fromTag(e,nn(t).dom);return"thead"===e?Af(t,"caption,colgroup",n):"colgroup"===e?Af(t,"caption",n):Jr(t,n),n}));return ro(n),n},Mf=function(t,e){var n=[],r=[],o=function(t){return P(t,(function(t){t.isNew&&n.push(t.element);var e=t.element;return ro(e),L(t.cells,(function(t){t.isNew&&r.push(t.element),Tf(t.element,"colspan",t.colspan,1),Tf(t.element,"rowspan",t.rowspan,1),Jr(e,t.element)})),e}))},i=function(t){return q(t,(function(t){return P(t.cells,(function(t){return Tf(t.element,"span",t.colspan,1),t.element}))}))},a=function(e,n){var r=Of(t,n),a="colgroup"===n?i:o,u=a(e);no(r,u)},u=function(e){Bn(t,e).each(oo)},s=function(t,e){t.length>0?a(t,e):u(e)},c=[],l=[],f=[],d=[];return L(e,(function(t){switch(t.section){case"thead":c.push(t);break;case"tbody":l.push(t);break;case"tfoot":f.push(t);break;case"colgroup":d.push(t);break}})),s(d,"colgroup"),s(c,"thead"),s(l,"tbody"),s(f,"tfoot"),{newRows:n,newCells:r}},Df=function(t){return P(t,(function(t){var e=oi(t.element);return L(t.cells,(function(t){var n=ii(t.element);Tf(n,"colspan",t.colspan,1),Tf(n,"rowspan",t.rowspan,1),Jr(e,n)})),e}))},If=function(t,e){return P(t,(function(t){return _f(t,e)}))},Ef=function(t,e){return t[e]},Rf=function(t,e){if(0===t.length)return 0;var n=t[0],r=W(t,(function(t){return!e(n.element,t.element)}));return r.fold((function(){return t.length}),(function(t){return t}))},Nf=function(t,e,n,r){var o=Ef(t,e).cells.slice(n),i=Rf(o,r),a=If(t,n).slice(e),u=Rf(a,r);return{colspan:i,rowspan:u}},Pf=function(t,e){var n=P(t,(function(t){return P(t.cells,s)})),r=function(t,e,r,o){for(var i=t;i<t+r;i++)for(var a=e;a<e+o;a++)n[i][a]=!0};return P(t,(function(o,i){var a=q(o.cells,(function(o,a){if(!1===n[i][a]){var u=Nf(t,i,a,e);return r(i,a,u.rowspan,u.colspan),[ze(o.element,u.rowspan,u.colspan,o.isNew)]}return[]}));return We(a,o.section)}))},Lf=function(t,e,n){var r=[];if(Nr.hasColumns(t)){var o=P(Nr.justColumns(t),(function(t){return je(t.element,n)}));r.push(Ue(o,"colgroup"))}for(var i=0;i<t.grid.rows;i++){for(var a=[],u=0;u<t.grid.columns;u++){var s=Nr.getAt(t,i,u).map((function(t){return je(t.element,n)})).getOrThunk((function(){return je(e.gap(),!0)}));a.push(s)}var c=Ue(a,t.all[i].section);r.push(c)}return r},Bf=function(t,e){return Lf(t,e,!1)},zf=function(t,e){var n=function(t){var n=Q(t,(function(t){return an(t.element).map((function(t){var e=an(t).isNone();return je(t,e)}))}));return n.getOrThunk((function(){return je(e.row(),!0)}))};return P(t,(function(t){var e=n(t.details);return He(e.element,t.details,t.section,e.isNew)}))},Vf=function(t,e){var n=Pf(t,pe);return zf(n,e)},Ff=function(t,e){return Q(t.all,(function(t){return U(t.cells,(function(t){return pe(e,t.element)}))}))},jf=function(t,e,n,r,o){return function(i,a,u,s,c){var l=Nr.fromTable(a),f=e(l,u).map((function(e){var n=Bf(l,s),r=t(n,e,pe,o(s)),i=Vf(r.grid,s);return{grid:i,cursor:r.cursor}}));return f.fold((function(){return p.none()}),(function(t){var e=Mf(a,t.grid),o=p.from(c).getOrThunk((function(){return Yl.getTableSize(a)}));return n(a,t.grid,o),r(a),Lc(i,a),p.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})}))}},Hf=function(t,e){return hr(e.element).bind((function(e){return Ff(t,e)}))},Uf=function(t,e){return hr(e.element).bind((function(n){return Ff(t,n).map((function(t){var n=tt(tt({},t),{generators:e.generators,clipboard:e.clipboard});return n}))}))},Wf=function(t,e){var n=P(e.selection,(function(e){return hr(e).bind((function(e){return Ff(t,e)}))})),r=Gi(n);return r.length>0?p.some({cells:r,generators:e.generators,clipboard:e.clipboard}):p.none()},Gf=function(t,e){return e.mergable},qf=function(t,e){return e.unmergable},Yf=function(t,e){var n=P(e.selection,(function(e){return hr(e).bind((function(e){return Ff(t,e)}))})),r=Gi(n);return r.length>0?p.some(r):p.none()},Xf=function(t,e,n,r){var o=kf(t).rows;if(0===o.length)return t;for(var i=e.startRow;i<=e.finishRow;i++)for(var a=e.startCol;a<=e.finishCol;a++)bf(o[i],a,je(r(),!1));return t},Zf=function(t,e,n,r){for(var o=kf(t).rows,i=!0,a=0;a<o.length;a++)for(var u=0;u<Cf(o[0]);u++){var s=Sf(o[a],u),c=n(s,e);!0===c&&!1===i?bf(o[a],u,je(r(),!0)):!0===c&&(i=!1)}return t},$f=function(t,e){return j(t,(function(t,n){return R(t,(function(t){return e(t.element,n.element)}))?t:t.concat([n])}),[])},Kf=function(t,e,n,r){return e>0&&e<t[0].cells.length&&L(t,(function(t){var o=t.cells[e-1],i=t.cells[e],a=n(i.element,o.element);a&&bf(t,e,je(r(),!0))})),t},Jf=function(t,e,n,r){var o=kf(t).rows;if(e>0&&e<o.length){var i=o[e-1].cells,a=$f(i,n);L(a,(function(t){for(var i=p.none(),a=function(e){for(var a=function(a){var u=o[e].cells[a],s=n(u.element,t.element);s&&(i.isNone()&&(i=p.some(r())),i.each((function(t){bf(o[e],a,je(t,!0))})))},u=0;u<Cf(o[0]);u++)a(u)},u=e;u<o.length;u++)a(u)}))}return t},Qf=function(t){var e=function(e){return t===e},n=function(e){return Qf(t)},o=function(e){return Qf(t)},i=function(e){return Qf(e(t))},a=function(e){return Qf(t)},u=function(e){e(t)},l=function(e){return e(t)},f=function(e,n){return n(t)},d=function(e){return e(t)},h=function(e){return e(t)},m=function(){return p.some(t)};return{is:e,isValue:c,isError:s,getOr:r(t),getOrThunk:r(t),getOrDie:r(t),or:n,orThunk:o,fold:f,map:i,mapError:a,each:u,bind:l,exists:d,forall:h,toOptional:m}},td=function(e){var n=function(t){return t()},r=function(){return u(String(e))()},i=function(t){return t},a=function(t){return t()},l=function(t){return td(e)},f=function(t){return td(t(e))},d=function(t){return td(e)},h=function(t,n){return t(e)};return{is:s,isValue:s,isError:c,getOr:o,getOrThunk:n,getOrDie:r,or:i,orThunk:a,fold:h,map:l,mapError:f,each:t,bind:d,exists:s,forall:c,toOptional:p.none}},ed=function(t,e){return t.fold((function(){return td(e)}),Qf)},nd={value:Qf,error:td,fromOption:ed},rd=function(t,e,n){if(t.row>=e.length||t.column>Cf(e[0]))return nd.error("invalid start address out of table bounds, row: "+t.row+", column: "+t.column);var r=e.slice(t.row),o=r[0].cells.slice(t.column),i=Cf(n[0]),a=n.length;return nd.value({rowDelta:r.length-a,colDelta:o.length-i})},od=function(t,e){var n=Cf(t[0]),r=Cf(e[0]);return{rowDelta:0,colDelta:n-r}},id=function(t,e){var n=t.length,r=e.length;return{rowDelta:n-r,colDelta:0}},ad=function(t,e,n){var r="colgroup"===e.section?n.col:n.cell;return P(t,(function(){return je(r(),!0)}))},ud=function(t,e,n){return t.concat(N(e,(function(){var e=t[t.length-1];return xf(e,ad(e.cells,e,n))})))},sd=function(t,e,n){return P(t,(function(t){var r=ad(N(e,o),t,n);return xf(t,t.cells.concat(r))}))},cd=function(t,e,n){var r=e.colDelta<0?sd:o,i=e.rowDelta<0?ud:o,a=r(t,Math.abs(e.colDelta),n);return i(a,Math.abs(e.rowDelta),n)},ld=function(t,e,n,r){var o=_f(t[e],n),a=i(r,o.element),u=t[e];return t.length>1&&Cf(u)>1&&(n>0&&a(Sf(u,n-1))||n<u.cells.length-1&&a(Sf(u,n+1))||e>0&&a(Sf(t[e-1],n))||e<t.length-1&&a(Sf(t[e+1],n)))},fd=function(t,e,n,r,o){for(var i=t.row,a=t.column,u=n.length,s=Cf(n[0]),c=i+u,l=a+s,f=i;f<c;f++)for(var d=a;d<l;d++){ld(e,f,d,o)&&Zf(e,Sf(e[f],d),o,r.cell);var h=Sf(n[f-i],d-a),p=r.replace(h);bf(e[f],d,je(p,!0))}return e},dd=function(t,e,n,r,o){var i=rd(t,e,n);return i.map((function(i){var a=cd(e,i,r);return fd(t,a,n,r,o)}))},hd=function(t,e,n,r,o){Kf(e,t,o,r.cell);var i=id(n,e),a=cd(n,i,r),u=id(e,a),s=cd(e,u,r);return P(s,(function(e,n){var r=e.cells.slice(0,t).concat(a[n].cells).concat(e.cells.slice(t,e.cells.length));return xf(e,r)}))},pd=function(t,e,n,r,o){Jf(e,t,o,r.cell);var i=od(n,e),a=cd(n,i,r),u=od(e,a),s=cd(e,u,r),c=kf(s),l=c.cols,f=c.rows;return l.concat(f.slice(0,t)).concat(a).concat(f.slice(t,f.length))},md=function(t,e,n,r,o){var i=kf(t),a=i.rows,u=i.cols,s=a.slice(0,e),c=a.slice(e),l=wf(a[n],(function(t,n){var i=e>0&&e<a.length&&r(Sf(a[e-1],n),Sf(a[e],n)),u=i?_f(a[e],n):je(o(t.element,r),!0);return u}));return u.concat(s).concat([l]).concat(c)},gd=function(t,e,n,r,o,i,a){return"colgroup"!==n&&r?_f(t,e):je(a(Sf(t,o),i),!0)},vd=function(t,e,n,r,o){return P(t,(function(t){var i=e>0&&e<Cf(t)&&r(Sf(t,e-1),Sf(t,e)),a=gd(t,e,t.section,i,n,r,o);return yf(t,e,a)}))},yd=function(t,e,n){var r=P(t,(function(t){var r=t.cells.slice(0,e).concat(t.cells.slice(n+1));return Ue(r,t.section)}));return V(r,(function(t){return t.cells.length>0}))},bd=function(t,e,n){var r=kf(t),o=r.rows,i=r.cols;return i.concat(o.slice(0,e)).concat(o.slice(n+1))},xd=function(t,e,n,r){var o=function(t){return R(e,(function(e){return n(t.element,e.element)}))};return P(t,(function(t){return wf(t,(function(t){return o(t)?je(r(t.element,n),!0):t}))}))},wd=function(t,e,n,r){return void 0!==Sf(t[e],n)&&e>0&&r(Sf(t[e-1],n),Sf(t[e],n))},_d=function(t,e,n){return e>0&&n(Sf(t,e-1),Sf(t,e))},Sd=function(t,e,n,r){var o=q(t,(function(r,o){var i=wd(t,o,e,n)||_d(r,e,n);return i?[]:[_f(r,e)]}));return xd(t,o,n,r)},Cd=function(t,e,n,r){var o=kf(t).rows,i=o[e],a=q(i.cells,(function(t,r){var a=wd(o,e,r,n)||_d(i,r,n);return a?[]:[t]}));return xd(t,a,n,r)},kd=Rs(["cell","row","replace","gap","col","colgroup"]),Td=function(t){var e=rr(t,"colspan",1),n=rr(t,"rowspan",1);return{element:t,colspan:e,rowspan:n}},Ad=function(t,e){void 0===e&&(e=Td),kd(t);var n=jl(p.none()),r=function(e){switch(Ye(e.element)){case"col":return t.col(e);default:return t.cell(e)}},o=function(t){var n=e(t);return r(n)},i=function(t){var e=o(t);return n.get().isNone()&&n.set(p.some(e)),a=p.some({item:t,replacement:e}),e},a=p.none(),u=function(t,e){return a.fold((function(){return i(t)}),(function(n){return e(t,n.item)?n.replacement:i(t)}))};return{getOrInit:u,cursor:n.get}},Od=function(t,e){return function(n){var r=jl(p.none());kd(n);var o=[],i=function(t,e){return U(o,(function(n){return e(n.item,t)}))},a=function(i){var a={scope:t},u=n.replace(i,e,a);return o.push({item:i,sub:u}),r.get().isNone()&&r.set(p.some(u)),u},u=function(t,e){return i(t,e).fold((function(){return a(t)}),(function(n){return e(t,n.item)?n.sub:a(t)}))};return{replaceOrInit:u,cursor:r.get}}},Md=function(t){kd(t);var e=jl(p.none()),n=function(n){return e.get().isNone()&&e.set(p.some(n)),function(){var e=t.cell({element:n,colspan:1,rowspan:1});return er(e,"width"),er(n,"width"),e}};return{combine:n,cursor:e.get}},Dd={modification:Ad,transform:Od,merging:Md},Id=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ed=function(t,e){var n=t.property().name(e);return E(["ol","ul"],n)},Rd=function(t,e){var n=t.property().name(e);return E(Id,n)},Nd=function(t,e){return E(["br","img","hr","input"],t.property().name(e))},Pd=ho(),Ld=function(t){return Rd(Pd,t)},Bd=function(t){return Ed(Pd,t)},zd=function(t){return Nd(Pd,t)},Vd=function(t){var e=function(t){return"br"===Ye(t)},n=function(t){return Y(t,(function(t){return e(t)||Je(t)&&0===so(t).trim().length}))},r=function(t){return"li"===Ye(t)||En(t,Bd).isSome()},o=function(t){return ln(t).map((function(t){return!!Ld(t)||!!zd(t)&&"img"!==Ye(t)})).getOr(!1)},i=function(t){return ei(t).bind((function(n){var i=o(n);return an(n).map((function(o){return!0===i||r(o)||e(n)||Ld(o)&&!pe(t,o)?[]:[ce.fromTag("br")]}))})).getOr([])},a=function(){var e=q(t,(function(t){var e=fn(t);return n(e)?[]:e.concat(i(t))}));return 0===e.length?[ce.fromTag("br")]:e},u=a();ro(t[0]),no(t[0],u)},Fd=function(t){var e=pr(t);0===e.length&&oo(t)},jd=function(t,e){return{grid:t,cursor:e}},Hd=function(t,e,n){var r=kf(t).rows;return Ud(r,e,n).orThunk((function(){return Ud(r,0,0)}))},Ud=function(t,e,n){return p.from(t[e]).bind((function(t){return p.from(t.cells[n]).bind((function(t){return p.from(t.element)}))}))},Wd=function(t,e,n){var r=kf(t).rows;return jd(t,Ud(r,e,n))},Gd=function(t){var e=function(t,e){var n=R(t,(function(t){return t.row===e.row}));return n?t:t.concat([e])};return j(t,e,[]).sort((function(t,e){return t.row-e.row}))},qd=function(t){var e=function(t,e){var n=R(t,(function(t){return t.column===e.column}));return n?t:t.concat([e])};return j(t,e,[]).sort((function(t,e){return t.column-e.column}))},Yd=function(t,e,n,r){var o=e[0].row,i=e[0].row,a=Gd(e),u=j(a,(function(t,e){return md(t,i,o,n,r.getOrInit)}),t);return Wd(u,i,e[0].column)},Xd=function(t,e,n,r){var o=Gd(e),i=o[o.length-1].row,a=o[o.length-1].row+o[o.length-1].rowspan,u=j(o,(function(t,e){return md(t,a,i,n,r.getOrInit)}),t);return Wd(u,a,e[0].column)},Zd=function(t,e,n,r){var o=qd(e),i=o[0].column,a=o[0].column,u=j(o,(function(t,e){return vd(t,a,i,n,r.getOrInit)}),t);return Wd(u,e[0].row,a)},$d=function(t,e,n,r){var o=e[e.length-1].column,i=e[e.length-1].column+e[e.length-1].colspan,a=qd(e),u=j(a,(function(t,e){return vd(t,i,o,n,r.getOrInit)}),t);return Wd(u,e[0].row,i)},Kd=function(t,e,n,r){var o=Cd(t,e.row,n,r.replaceOrInit);return Wd(o,e.row,e.column)},Jd=function(t,e,n,r){var o=Gd(e),i=function(t,e){return Cd(t,e.row,n,r.replaceOrInit)},a=j(o,i,t);return Wd(a,e[0].row,e[0].column)},Qd=function(t,e,n,r){var o=Sd(t,e.column,n,r.replaceOrInit);return Wd(o,e.row,e.column)},th=function(t,e,n,r){var o=qd(e),i=function(t,e){return Sd(t,e.column,n,r.replaceOrInit)},a=j(o,i,t);return Wd(a,e[0].row,e[0].column)},eh=function(t,e,n,r){var o=Cd(t,e.row,n,r.replaceOrInit);return Wd(o,e.row,e.column)},nh=function(t,e,n,r){var o=Gd(e),i=function(t,e){return Cd(t,e.row,n,r.replaceOrInit)},a=j(o,i,t);return Wd(a,e[0].row,e[0].column)},rh=function(t,e,n,r){var o=Sd(t,e.column,n,r.replaceOrInit);return Wd(o,e.row,e.column)},oh=function(t,e,n,r){var o=qd(e),i=function(t,e){return Sd(t,e.column,n,r.replaceOrInit)},a=j(o,i,t);return Wd(a,e[0].row,e[0].column)},ih=function(t,e,n,r){var o=qd(e),i=yd(t,o[0].column,o[o.length-1].column),a=Hd(i,e[0].row,e[0].column);return jd(i,a)},ah=function(t,e,n,r){var o=Gd(e),i=bd(t,o[0].row,o[o.length-1].row),a=Hd(i,e[0].row,e[0].column);return jd(i,a)},uh=function(t,e,n,o){var i=e.cells;Vd(i);var a=Xf(t,e.bounds,n,r(i[0]));return jd(a,p.from(i[0]))},sh=function(t,e,n,r){var o=F(e,(function(t,e){return Zf(t,e,n,r.combine(e))}),t);return jd(o,p.from(e[0]))},ch=function(t,e,n,r){var o=function(t,e){var n=Nr.fromTable(t);return Lf(n,e,!0)},i=o(e.clipboard,e.generators),a=Le(e.row,e.column),u=dd(a,t,i,e.generators,n);return u.fold((function(){return jd(t,p.some(e.element))}),(function(t){var n=Hd(t,e.row,e.column);return jd(t,n)}))},lh=function(t,e,n){var r=_r(t,n.section),o=Nr.generate(r);return Lf(o,e,!0)},fh=function(t,e,n,r){var o=kf(t).rows,i=e.cells[0].column,a=o[e.cells[0].row],u=lh(e.clipboard,e.generators,a),s=hd(i,t,u,e.generators,n),c=Hd(s,e.cells[0].row,e.cells[0].column);return jd(s,c)},dh=function(t,e,n,r){var o=kf(t).rows,i=e.cells[e.cells.length-1].column+e.cells[e.cells.length-1].colspan,a=o[e.cells[0].row],u=lh(e.clipboard,e.generators,a),s=hd(i,t,u,e.generators,n),c=Hd(s,e.cells[0].row,e.cells[0].column);return jd(s,c)},hh=function(t,e,n,r){var o=kf(t).rows,i=e.cells[0].row,a=o[i],u=lh(e.clipboard,e.generators,a),s=pd(i,t,u,e.generators,n),c=Hd(s,e.cells[0].row,e.cells[0].column);return jd(s,c)},ph=function(t,e,n,r){var o=kf(t).rows,i=e.cells[e.cells.length-1].row+e.cells[e.cells.length-1].rowspan,a=o[e.cells[0].row],u=lh(e.clipboard,e.generators,a),s=pd(i,t,u,e.generators,n),c=Hd(s,e.cells[0].row,e.cells[0].column);return jd(s,c)},mh=function(t,e){var n=Nr.fromTable(t),r=Yf(n,e);return r.bind((function(t){var e=t[t.length-1],r=t[0].column,o=e.column+e.colspan,i=G(P(n.all,(function(t){return V(t.cells,(function(t){return t.column>=r&&t.column<o}))})));return gh(i,(function(t){return"th"===Ye(t.element)}))})).getOr("")},gh=function(t,e){var n=V(t,e);return 0===n.length?p.some("td"):n.length===t.length?p.some("th"):p.none()},vh=Vu,yh=jf(Yd,Yf,t,t,Dd.modification),bh=jf(Xd,Yf,t,t,Dd.modification),xh=jf(Zd,Yf,vh,t,Dd.modification),wh=jf($d,Yf,vh,t,Dd.modification),_h=jf(ih,Yf,vh,Fd,Dd.modification),Sh=jf(ah,Yf,t,Fd,Dd.modification),Ch=(jf(Qd,Hf,t,t,Dd.transform("row","th")),jf(th,Yf,t,t,Dd.transform("row","th"))),kh=(jf(rh,Hf,t,t,Dd.transform(null,"td")),jf(oh,Yf,t,t,Dd.transform(null,"td"))),Th=(jf(Kd,Hf,t,t,Dd.transform("col","th")),jf(Jd,Yf,t,t,Dd.transform("col","th")),jf(eh,Hf,t,t,Dd.transform(null,"td")),jf(nh,Yf,t,t,Dd.transform(null,"td")),jf(uh,Gf,t,t,Dd.merging)),Ah=jf(sh,qf,vh,t,Dd.merging),Oh=jf(ch,Uf,vh,t,Dd.modification),Mh=jf(fh,Wf,t,t,Dd.modification),Dh=jf(dh,Wf,t,t,Dd.modification),Ih=jf(hh,Wf,t,t,Dd.modification),Eh=jf(ph,Wf,t,t,Dd.modification),Rh=mh,Nh=function(t){return Ml(t.parentNode)},Ph=function(t){return"thead"===t?"header":"tfoot"===t?"footer":"body"},Lh=function(t,e){var n="thead"===Nh(e),r=!R(e.cells,(function(t){return"th"!==Ml(t)}));return n||r?p.some({thead:n,ths:r}):p.none()},Bh=function(t,e){return Ph(Lh(t,e).fold((function(){return Nh(e)}),(function(t){return"thead"})))},zh=function(t,e,n){var r=t.getParent(e,"table"),o=e.parentNode,i=Ml(o);if(n!==i){var a=t.select(n,r)[0];if(!a){a=t.create(n);var u=r.firstChild;"thead"===n?J(Mn(ce.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(a,u)}),(function(e){return t.insertAfter(a,e.dom)})):r.appendChild(a)}"tbody"===n&&"thead"===i&&a.firstChild?a.insertBefore(e,a.firstChild):a.appendChild(e),o.hasChildNodes()||t.remove(o)}},Vh=function(t,e,n){if(k(n)&&Ml(e)!==n){var r=t.dom.rename(e,n);return Yc(t,r),r}return e},Fh=function(t,e,n,r){var o=t.dom,i=Vh(t,e,n);return S(r)||o.setAttrib(i,"scope",r),i},jh=function(t,e,n,r){return L(e,(function(e){return Fh(t,e,n,r)}))},Hh=function(t,e,n){var r=function(){var n=gr(ce.fromDom(e.cells[0])).map((function(t){return vr(t)})).getOr([]);return Q(n,(function(e){return Lh(t,e.dom)})).map((function(t){return t.thead&&t.ths?"sectionCells":t.thead?"section":"cells"})).getOr("section")},o=t.dom;if("header"===n){var i=Cl(t),a="auto"===i?r():i;jh(t,e.cells,"section"===a?"td":"th","col"),zh(o,e,"cells"===a?"tbody":"thead")}else jh(t,e.cells,"td",null),zh(o,e,"footer"===n?"tfoot":"tbody")},Uh=function(t){return gr(t).bind((function(t){return Eo(t,Ei.firstSelectedSelector)})).fold((function(){return t}),(function(t){return t[0]}))},Wh=function(t){return function(e){var n=Ye(e),r="col"===n||"colgroup"===n?Uh(e):e;return Vn(r,t)}},Gh=Wh("th,td"),qh=Wh("th,td,caption"),Yh=function(t,e){return Gh(t).map((function(t){return wi(e)})).getOr([])},Xh=function(t,e){var n=Gh(t),r=n.bind((function(t){return gr(t)})).map((function(t){return vr(t)}));return qi(n,r,(function(t,n){return V(n,(function(n){return R(xi(n.dom.cells),(function(n){return"1"===Un(n,e)||pe(n,t)}))}))})).getOr([])},Zh=function(e,n,r){var o=function(t){return"table"===Ye(Dl(t))},i=function(t){return!1===o(e)||xs(t).rows>1},a=function(t){return!1===o(e)||xs(t).columns>1},u=Al(e),s=function(t,n,r,o){return function(i,a){Ll(i);var s=o(),c=ce.fromDom(e.getDoc()),l=vi(r,c,u),f=Xl(e,i);return n(i)?t(s,i,a,l,f).bind((function(t){return L(t.newRows,(function(t){qc(e,t.dom)})),L(t.newCells,(function(t){Yc(e,t.dom)})),t.cursor.map((function(t){var n=gf(t),r=e.dom.createRng();return r.setStart(n.element.dom,n.offset),r.setEnd(n.element.dom,n.offset),r}))})):p.none()}},l=s(Sh,i,t,n),f=s(_h,a,t,n),d=s(yh,c,t,n),h=s(bh,c,t,n),m=s(xh,c,vf,n),g=s(wh,c,vf,n),v=s(Th,c,t,n),y=s(Ah,c,t,n),b=s(Mh,c,t,n),x=s(Dh,c,t,n),w=s(Ih,c,t,n),_=s(Eh,c,t,n),S=s(Oh,c,t,n),C=function(t,e){return Me(t,"type").filter((function(t){return E(e,t)}))},k=function(t,e){return C(e,["td","th"]).each((function(e){var n=P(Yh(Fl(t),r),(function(t){return t.dom}));jh(t,n,e,null)}))},T=function(t,e){return C(e,["header","body","footer"]).each((function(e){P(Xh(Fl(t),Ei.selected),(function(n){return Hh(t,n.dom,e)}))}))},A=s(Ch,c,t,n),O=s(kh,c,t,n),M=function(t){var e=Xh(Fl(t),Ei.selected);if(e.length>0){var n=P(e,(function(e){return Bh(t,e.dom)})),r=E(n,"header"),o=E(n,"footer");if(r||o){var i=E(n,"body");return!r||i||o?r||i||!o?"":"footer":"header"}return"body"}},D=function(t){return gh(Yh(Fl(t),r),(function(t){return"th"===Ye(t)})).getOr("")},I=Rh;return{deleteRow:l,deleteColumn:f,insertRowsBefore:d,insertRowsAfter:h,insertColumnsBefore:m,insertColumnsAfter:g,mergeCells:v,unmergeCells:y,pasteColsBefore:b,pasteColsAfter:x,pasteRowsBefore:w,pasteRowsAfter:_,pasteCells:S,setTableCellType:k,setTableRowType:T,makeColumnsHeader:A,unmakeColumnsHeader:O,getTableRowType:M,getTableCellType:D,getTableColType:I}},$h={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Kh=function(){return ce.fromTag("th")},Jh=function(){return ce.fromTag("td")},Qh=function(){return ce.fromTag("col")},tp=function(t,e,n,r){for(var o=ce.fromTag("tr"),i=0;i<t;i++){var a=r<e||i<n?Kh():Jh();i<n&&jn(a,"scope","row"),r<e&&jn(a,"scope","col"),Jr(a,ce.fromTag("br")),Jr(o,a)}return o},ep=function(t){var e=ce.fromTag("colgroup");return N(t,(function(){return Jr(e,Qh())})),e},np=function(t,e,n,r){return N(t,(function(t){return tp(e,n,r,t)}))},rp=function(t,e,n,r,o,i){void 0===i&&(i=$h);var a=ce.fromTag("table"),u="cells"!==o;Kn(a,i.styles),Hn(a,i.attributes),i.colGroups&&Jr(a,ep(e));var s=Math.min(t,n);if(u&&n>0){var c=ce.fromTag("thead");Jr(a,c);var l="sectionCells"===o?s:0,f=np(n,e,l,r);no(c,f)}var d=ce.fromTag("tbody");Jr(a,d);var h=u?t-s:t,p=u?0:n,m=np(h,e,p,r);return no(d,m),a},op=function(t){return t.dom.innerHTML},ip=function(t){var e=ce.fromTag("div"),n=ce.fromDom(t.dom.cloneNode(!0));return Jr(e,n),op(e)},ap=function(t,e){t.selection.select(e.dom,!0),t.selection.collapse(!0)},up=function(t,e){zn(e,"td,th").each(i(ap,t))},sp=function(t,e){L(Dn(e,"tr"),(function(e){qc(t,e.dom),L(Dn(e,"th,td"),(function(e){Yc(t,e.dom)}))}))},cp=function(t){return b(t)&&-1!==t.indexOf("%")},lp=function(t,e,n,r,o){var i=ul(t),a={styles:i,attributes:al(t),colGroups:Sl(t)};return t.undoManager.ignore((function(){var i=rp(n,e,o,r,Cl(t),a);jn(i,"data-mce-id","__mce");var u=ip(i);t.insertContent(u),t.addVisual()})),zn(Dl(t),'table[data-mce-id="__mce"]').map((function(e){return xl(t)?tf(t,e):wl(t)?ef(e):(bl(t)||cp(i.width))&&Ql(t,e),Ll(e),Gn(e,"data-mce-id"),sp(t,e),up(t,e),e.dom})).getOr(null)},fp=function(t,e,n,r,o){void 0===r&&(r={});var i=function(t){return A(t)&&t>0};if(i(e)&&i(n)){var a=r.headerRows||0,u=r.headerColumns||0;return lp(t,n,e,u,a)}return console.error(o),null},dp=function(t){return function(){return t().fold((function(){return[]}),(function(t){return P(t,(function(t){return t.dom}))}))}},hp=function(t){return function(e){var n=e.length>0?p.some(xi(e)):p.none();t(n)}},pp=function(t){return function(e,n,r){void 0===r&&(r={});var o=fp(t,n,e,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");return t.undoManager.add(),o}},mp=function(t,e,n,r){return{insertTable:pp(t),setClipboardRows:hp(e.setRows),getClipboardRows:dp(e.getRows),setClipboardCols:hp(e.setColumns),getClipboardCols:dp(e.getColumns),resizeHandler:n,selectionTargets:r}},gp=function(t,e,n){var r=rr(t,e,1);1===n||r<=1?Gn(t,e):jn(t,e,Math.min(n,r))},vp=function(t,e,n){if(Nr.hasColumns(t)){var r=V(Nr.justColumns(t),(function(t){return t.column>=e&&t.column<n})),o=P(r,(function(t){var r=ii(t.element);return gp(r,"span",n-e),r})),i=ce.fromTag("colgroup");return no(i,o),[i]}return[]},yp=function(t,e,n){return P(t.all,(function(t){var r=V(t.cells,(function(t){return t.column>=e&&t.column<n})),o=P(r,(function(t){var r=ii(t.element);return gp(r,"colspan",n-e),r})),i=ce.fromTag("tr");return no(i,o),i}))},bp=function(t,e){var n=Nr.fromTable(t),r=Yf(n,e);return r.map((function(t){var e=t[t.length-1],r=t[0].column,o=e.column+e.colspan,i=vp(n,r,o),a=yp(n,r,o);return et(i,a)}))},xp=function(t,e,n){var r=Nr.fromTable(t),o=Yf(r,e);return o.map((function(t){var e=Lf(r,n,!1),o=kf(e).rows,i=o.slice(t[0].row,t[t.length-1].row+t[t.length-1].rowspan),a=Vf(i,n);return Df(a)}))},wp=tinymce.util.Tools.resolve("tinymce.util.Tools"),_p=function(t,e,n){var r,o=t.select("td,th",e),i=function(e,r){for(var o=0;o<r.length;o++){var i=t.getStyle(r[o],n);if("undefined"===typeof e&&(e=i),e!==i)return""}return e};return i(r,o)},Sp=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)},Cp=function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)},kp=function(t,e){wp.each("left center right".split(" "),(function(n){t.formatter.remove("align"+n,{},e)}))},Tp=function(t,e){wp.each("top middle bottom".split(" "),(function(n){t.formatter.remove("valign"+n,{},e)}))},Ap=function(t){return Ie(t,"menu")},Op=function(t,e){var n=function(t,e){return e.concat(P(t,(function(t){var e=t.text||t.title;return Ap(t)?{text:e,items:Op(t.menu)}:{text:e,value:t.value}})))};return n(t,e||[])},Mp=function(t){return function(e){return gt(e,"rgb")?t.toHex(e):e}},Dp=function(t,e){var n=ce.fromDom(e);return{borderwidth:tr(n,"border-width").getOr(""),borderstyle:tr(n,"border-style").getOr(""),bordercolor:tr(n,"border-color").map(Mp(t)).getOr(""),backgroundcolor:tr(n,"background-color").map(Mp(t)).getOr("")}},Ip=function(t){var e=t[0],n=t.slice(1);return L(n,(function(t){L(be(e),(function(n){we(t,(function(t,r){var o=e[n];""!==o&&n===r&&o!==t&&(e[n]="")}))}))})),e},Ep=function(t){var e=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],n={name:"borderwidth",type:"input",label:"Border width"},r="cell"===t?[n].concat(e):e;return{title:"Advanced",name:"advanced",items:r}},Rp=function(t,e,n,r){return U(t,(function(t){return n.formatter.matchNode(r,e+t)})).getOr("")},Np=i(Rp,["left","center","right"],"align"),Pp=i(Rp,["top","middle","bottom"],"valign"),Lp=function(t,e){var n=ul(t),r=al(t),o=function(t){return{borderstyle:Me(n,"border-style").getOr(""),bordercolor:Mp(t)(Me(n,"border-color").getOr("")),backgroundcolor:Mp(t)(Me(n,"background-color").getOr(""))}},i={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},a=function(){var e=n["border-width"];return ml(t)&&e?{border:e}:Me(r,"border").fold((function(){return{}}),(function(t){return{border:t}}))},u=e?o(t.dom):{},s=function(){var t=Me(n,"border-spacing").or(Me(r,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}})),e=Me(n,"border-padding").or(Me(r,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}}));return tt(tt({},t),e)},c=tt(tt(tt(tt(tt(tt({},i),n),r),u),a()),s());return c},Bp=function(t,e,n){var r=function(e,n){var r=tr(ce.fromDom(n),"border-width");return ml(t)&&r.isSome()?r.getOr(""):e.getAttrib(n,"border")||_p(t.dom,n,"border-width")||_p(t.dom,n,"border")},o=t.dom;return tt({width:o.getStyle(e,"width")||o.getAttrib(e,"width"),height:o.getStyle(e,"height")||o.getAttrib(e,"height"),cellspacing:o.getStyle(e,"border-spacing")||o.getAttrib(e,"cellspacing"),cellpadding:o.getAttrib(e,"cellpadding")||_p(t.dom,e,"padding"),border:r(o,e),caption:!!o.select("caption",e)[0],class:o.getAttrib(e,"class",""),align:Np(t,e)},n?Dp(o,e):{})},zp=function(t,e,n){var r=t.dom;return tt({height:r.getStyle(e,"height")||r.getAttrib(e,"height"),scope:r.getAttrib(e,"scope"),class:r.getAttrib(e,"class",""),type:Bh(t,e),align:Np(t,e)},n?Dp(r,e):{})},Vp=function(t,e,n,r){var o=t.dom,i=r.getOr(e),a=function(t,e){return o.getStyle(t,e)||o.getAttrib(t,e)};return tt({width:a(i,"width"),height:a(e,"height"),scope:o.getAttrib(e,"scope"),celltype:Ml(e),class:o.getAttrib(e,"class",""),halign:Np(t,e),valign:Pp(t,e)},n?Dp(o,e):{})},Fp=function(t){var e=Op(gl(t));return e.length>0?p.some({name:"class",type:"listbox",label:"Class",items:e}):p.none()},jp=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Hp=function(t){return jp.concat(Fp(t).toArray())},Up=function(t){return function(e,n){var r=e.dom,o=function(e,o){t&&!o||r.setAttrib(n,e,o)},i=function(e,o){t&&!o||r.setStyle(n,e,o)},a=function(r,o){t&&!o||(""===o?e.formatter.remove(r,{value:null},n,!0):e.formatter.apply(r,{value:o},n))};return{setAttrib:o,setStyle:i,setFormat:a}}},Wp={normal:Up(!1),ifTruthy:Up(!0)},Gp=function(t){return gr(t[0]).map((function(e){var n=Nr.fromTable(e),r=Nr.justCells(n),o=V(r,(function(e){return R(t,(function(t){return pe(e.element,t)}))}));return P(o,(function(t){return{element:t.element.dom,column:Nr.getColumnAt(n,t.column).map((function(t){return t.element.dom}))}}))}))},qp=function(t,e,n){t.setAttrib("scope",n.scope),t.setAttrib("class",n.class),t.setStyle("height",Pl(n.height)),e.setStyle("width",Pl(n.width))},Yp=function(t,e){t.setFormat("tablecellbackgroundcolor",e.backgroundcolor),t.setFormat("tablecellbordercolor",e.bordercolor),t.setFormat("tablecellborderstyle",e.borderstyle),t.setFormat("tablecellborderwidth",Pl(e.borderwidth))},Xp=function(t,e,n){var r=1===e.length;if(e.length>=1){var o=gr(e[0]);Gp(e).each((function(e){L(e,(function(e){var o=Fh(t,e.element,n.celltype),i=r?Wp.normal(t,o):Wp.ifTruthy(t,o),a=e.column.map((function(e){return r?Wp.normal(t,e):Wp.ifTruthy(t,e)})).getOr(i);qp(i,a,n),ll(t)&&Yp(i,n),r&&(kp(t,o),Tp(t,o)),n.halign&&Sp(t,o,n.halign),n.valign&&Cp(t,o,n.valign)}))})),o.each((function(e){return Jc(t,e.dom)}))}},Zp=function(t,e,n){var r=n.getData();n.close(),t.undoManager.transact((function(){Xp(t,e,r),t.focus()}))},$p=function(t,e){var n=Gp(e).map((function(e){return P(e,(function(e){return Vp(t,e.element,ll(t),e.column)}))}));return Ip(n.getOrDie())},Kp=function(t,e){var n=Yh(Fl(t),e);if(0!==n.length){var r=$p(t,n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Hp(t)},Ep("cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:Hp(t)}]};t.windowManager.open({title:"Cell Properties",size:"normal",body:ll(t)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:i(Zp,t,n)})}},Jp=function(t){var e=Op(vl(t));return e.length>0?p.some({name:"class",type:"listbox",label:"Class",items:e}):p.none()},Qp=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],tm=function(t){return Qp.concat(Jp(t).toArray())},em=function(t,e){t.setAttrib("scope",e.scope),t.setAttrib("class",e.class),t.setStyle("height",Pl(e.height))},nm=function(t,e){t.setStyle("background-color",e.backgroundcolor),t.setStyle("border-color",e.bordercolor),t.setStyle("border-style",e.borderstyle)},rm=function(t,e,n,r){var o=1===e.length;L(e,(function(e){r.type!==Ml(e.parentNode)&&Hh(t,e,r.type);var i=o?Wp.normal(t,e):Wp.ifTruthy(t,e);em(i,r),fl(t)&&nm(i,r),r.align!==n.align&&(kp(t,e),Sp(t,e,r.align))})),gr(ce.fromDom(e[0])).each((function(e){return Jc(t,e.dom)}))},om=function(t,e,n,r){var o=r.getData();r.close(),t.undoManager.transact((function(){rm(t,e,n,o),t.focus()}))},im=function(t){var e=Xh(Fl(t),Ei.selected);if(0!==e.length){var n=P(e,(function(e){return zp(t,e.dom,fl(t))})),r=Ip(n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:tm(t)},Ep("row")]},a={type:"panel",items:[{type:"grid",columns:2,items:tm(t)}]};t.windowManager.open({title:"Row Properties",size:"normal",body:fl(t)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:i(om,t,P(e,(function(t){return t.dom})),r)})}},am=tinymce.util.Tools.resolve("tinymce.Env"),um=function(t,e,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],i=hl(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],u=e.length>0?[{type:"listbox",name:"class",label:"Class",items:e}]:[];return r.concat(o).concat(i).concat(a).concat(u)},sm=function(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)b(n)?t.setStyle(e,n,r):t.setStyle(e,n);else if(e.children)for(var o=0;o<e.children.length;o++)sm(t,e.children[o],n,r)},cm=function(t,e,n){var r=t.dom,o={},i={};if(o.class=n.class,i.height=Pl(n.height),r.getAttrib(e,"width")&&!ml(t)?o.width=Nl(n.width):i.width=Pl(n.width),ml(t)?(i["border-width"]=Pl(n.border),i["border-spacing"]=Pl(n.cellspacing)):(o.border=n.border,o.cellpadding=n.cellpadding,o.cellspacing=n.cellspacing),ml(t)&&e.children)for(var a=0;a<e.children.length;a++)sm(r,e.children[a],{"border-width":Pl(n.border),padding:Pl(n.cellpadding)}),dl(t)&&sm(r,e.children[a],{"border-color":n.bordercolor});dl(t)&&(i["background-color"]=n.backgroundcolor,i["border-color"]=n.bordercolor,i["border-style"]=n.borderstyle),o.style=r.serializeStyle(tt(tt({},ul(t)),i)),r.setAttribs(e,tt(tt({},al(t)),o)),Jc(t,e)},lm=function(t,e,n){var r,o=t.dom,i=n.getData();n.close(),""===i.class&&delete i.class,t.undoManager.transact((function(){if(!e){var n=parseInt(i.cols,10)||1,a=parseInt(i.rows,10)||1;e=lp(t,n,a,0,0)}cm(t,e,i),r=o.select("caption",e)[0],r&&!i.caption&&o.remove(r),!r&&i.caption&&(r=o.create("caption"),r.innerHTML=am.ie?Zo:'<br data-mce-bogus="1"/>',e.insertBefore(r,e.firstChild)),""===i.align?kp(t,e):Sp(t,e,i.align),t.focus(),t.addVisual()}))},fm=function(t,e){var n,r=t.dom,o=Lp(t,dl(t));!1===e?(n=r.getParent(t.selection.getStart(),"table"),n?o=Bp(t,n,dl(t)):dl(t)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor="")):(o.cols="1",o.rows="1",dl(t)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var a=Op(yl(t));a.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:um(t,a,e)},s=function(){return{type:"panel",items:[u]}},c=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},Ep("table")]}},l=dl(t)?c():s();t.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:i(lm,t,n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},dm=function(t){return qh(Fl(t))},hm=function(t){return Gh(Fl(t))},pm=function(e,n,r,o,u){var s=Rl(e),c=function(){return dm(e).each((function(t){gr(t,s).filter(a(s)).each((function(t){var n=ce.fromText("");if($r(t,n),oo(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom,0),r.setEnd(n.dom,0),e.selection.setRng(r),e.nodeChanged()}}))}))},l=function(t){return dm(e).each((function(n){var r=wl(e)||xl(e)||bl(e);r||gr(n,s).each((function(n){"relative"!==t||gs(n)?"fixed"!==t||vs(n)?"responsive"!==t||ys(n)||ef(n):tf(e,n):Ql(e,n),Ll(n),Jc(e,n.dom)}))}))},f=function(t){return gr(t,s)},d=function(t){return function(n){e.selection.setRng(n),e.focus(),r.clear(t),Ll(t),Jc(e,t.dom)}},h=function(t){return hm(e).each((function(e){f(e).each((function(n){var r=Ni(o,n,e);t(n,r).each(d(n))}))}))},m=function(){return hm(e).map((function(n){return f(n).bind((function(r){var i=Ni(o,r,n),a=vi(t,ce.fromDom(e.getDoc()),p.none());return xp(r,i,a)}))}))},g=function(){return hm(e).map((function(t){return f(t).bind((function(e){var n=Ni(o,e,t);return bp(e,n)}))}))},v=function(t,n){return n().each((function(n){var r=P(n,(function(t){return ii(t)}));hm(e).each((function(n){return f(n).each((function(i){var a=yi(ce.fromDom(e.getDoc())),u=Li(o,n,r,a);t(i,u).each(d(i))}))}))}))};we({mceTableSplitCells:function(){return h(n.unmergeCells)},mceTableMergeCells:function(){return h(n.mergeCells)},mceTableInsertRowBefore:function(){return h(n.insertRowsBefore)},mceTableInsertRowAfter:function(){return h(n.insertRowsAfter)},mceTableInsertColBefore:function(){return h(n.insertColumnsBefore)},mceTableInsertColAfter:function(){return h(n.insertColumnsAfter)},mceTableDeleteCol:function(){return h(n.deleteColumn)},mceTableDeleteRow:function(){return h(n.deleteRow)},mceTableCutCol:function(t){return g().each((function(t){u.setColumns(t),h(n.deleteColumn)}))},mceTableCutRow:function(t){return m().each((function(t){u.setRows(t),h(n.deleteRow)}))},mceTableCopyCol:function(t){return g().each((function(t){return u.setColumns(t)}))},mceTableCopyRow:function(t){return m().each((function(t){return u.setRows(t)}))},mceTablePasteColBefore:function(t){return v(n.pasteColsBefore,u.getColumns)},mceTablePasteColAfter:function(t){return v(n.pasteColsAfter,u.getColumns)},mceTablePasteRowBefore:function(t){return v(n.pasteRowsBefore,u.getRows)},mceTablePasteRowAfter:function(t){return v(n.pasteRowsAfter,u.getRows)},mceTableDelete:c,mceTableSizingMode:function(t,e){return l(e)}},(function(t,n){return e.addCommand(n,t)}));var y=function(t,e){e.each((function(e){Jc(t,e.dom)}))};we({mceTableCellType:function(t,r){var o=gr(Fl(e),s);n.setTableCellType(e,r),y(e,o)},mceTableRowType:function(t,r){var o=gr(Fl(e),s);n.setTableRowType(e,r),y(e,o)}},(function(t,n){return e.addCommand(n,t)})),e.addCommand("mceTableColType",(function(t,e){return Me(e,"type").each((function(t){return h("th"===t?n.makeColumnsHeader:n.unmakeColumnsHeader)}))})),we({mceTableProps:i(fm,e,!1),mceTableRowProps:i(im,e),mceTableCellProps:i(Kp,e,o)},(function(t,n){return e.addCommand(n,(function(){return t()}))})),e.addCommand("mceInsertTable",(function(t,n){x(n)&&be(n).length>0?fp(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):fm(e,!0)})),e.addCommand("mceTableApplyCellStyle",(function(t,n){var r=function(t){return"tablecell"+t.toLowerCase().replace("-","")};if(x(n)){var i=Yh(Fl(e),o);if(0!==i.length){var a=Te(n,(function(t,n){return e.formatter.has(r(n))&&b(t)}));Ee(a)||(we(a,(function(t,n){L(i,(function(o){Wp.normal(e,o.dom).setFormat(r(n),t)}))})),f(i[0]).each((function(t){return Jc(e,t.dom,{structure:!1,style:!0})})))}}}))},mm=function(t,e,n){var r=Rl(t),o=function(t){return gr(t,r)};we({mceTableRowType:function(){return e.getTableRowType(t)},mceTableCellType:function(){return e.getTableCellType(t)},mceTableColType:function(){return Gh(Fl(t)).bind((function(t){return o(t).map((function(r){var o=Ni(n,r,t);return e.getTableColType(r,o)}))})).getOr("")}},(function(e,n){return t.addQueryValueHandler(n,e)}))},gm=function(){var t=jl(p.none()),e=jl(p.none()),n=function(t){t.set(p.none())};return{getRows:t.get,setRows:function(r){t.set(r),n(e)},clearRows:function(){return n(t)},getColumns:e.get,setColumns:function(r){e.set(r),n(t)},clearColumns:function(){return n(e)}}},vm={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},ym=function(t){t.formatter.register(vm)},bm=Po.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),xm=function(t){return void 0===t&&(t=void 0),bm.none(t)},wm=tt(tt({},bm),{none:xm}),_m=function(t,e){return gr(t,e).bind((function(e){var n=pr(e),r=W(n,(function(e){return pe(t,e)}));return r.map((function(t){return{index:t,all:n}}))}))},Sm=function(t,e){var n=_m(t,e);return n.fold((function(){return wm.none(t)}),(function(e){return e.index+1<e.all.length?wm.middle(t,e.all[e.index+1]):wm.last(t)}))},Cm=function(t,e){var n=_m(t,e);return n.fold((function(){return wm.none()}),(function(e){return e.index-1>=0?wm.middle(t,e.all[e.index-1]):wm.first(t)}))},km=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},Tm={create:km},Am=Po.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Om=function(t,e,n,r){return t.fold(e,n,r)},Mm=function(t){return t.fold(o,o,o)},Dm=Am.before,Im=Am.on,Em=Am.after,Rm={before:Dm,on:Im,after:Em,cata:Om,getStart:Mm},Nm=Po.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pm=function(t){return Nm.exact(t.start,t.soffset,t.finish,t.foffset)},Lm=function(t){return t.match({domRange:function(t){return ce.fromDom(t.startContainer)},relative:function(t,e){return Rm.getStart(t)},exact:function(t,e,n,r){return t}})},Bm=Nm.domRange,zm=Nm.relative,Vm=Nm.exact,Fm=function(t){var e=Lm(t);return on(e)},jm=Tm.create,Hm={domRange:Bm,relative:zm,exact:Vm,exactFromRange:Pm,getWin:Fm,range:jm},Um=function(t,e){var n=t.document.createRange();return Wm(n,e),n},Wm=function(t,e){return t.selectNodeContents(e.dom)},Gm=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))},qm=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))},Ym=function(t,e,n){var r=t.document.createRange();return Gm(r,e),qm(r,n),r},Xm=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},Zm=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},$m=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?p.some(n).map(Zm):p.none()},Km=Po.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jm=function(t,e,n){return e(ce.fromDom(n.startContainer),n.startOffset,ce.fromDom(n.endContainer),n.endOffset)},Qm=function(t,e){return e.match({domRange:function(t){return{ltr:r(t),rtl:p.none}},relative:function(e,n){return{ltr:nt((function(){return Ym(t,e,n)})),rtl:nt((function(){return p.some(Ym(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:nt((function(){return Xm(t,e,n,r,o)})),rtl:nt((function(){return p.some(Xm(t,r,o,e,n))}))}}})},tg=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return Km.rtl(ce.fromDom(t.endContainer),t.endOffset,ce.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return Jm(t,Km.ltr,n)}))}return Jm(t,Km.ltr,n)},eg=function(t,e){var n=Qm(t,e);return tg(t,n)},ng=function(t,e){var n=eg(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,n),i}})},rg=(Km.ltr,Km.rtl,function(t,e,n,r,o){if(0===o)return 0;if(e===r)return o-1;for(var i=r,a=1;a<o;a++){var u=t(a),s=Math.abs(e-u.left);if(n<=u.bottom){if(n<u.top||s>i)return a-1;i=s}}return 0}),og=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},ig=function(t,e,n,r,o){var i=function(n){var r=t.dom.createRange();return r.setStart(e.dom,n),r.collapse(!0),r},a=function(t){var e=i(t);return e.getBoundingClientRect()},u=so(e).length,s=rg(a,n,r,o.right,u);return i(s)},ag=function(t,e,n,r){var o=t.dom.createRange();o.selectNode(e.dom);var i=o.getClientRects(),a=Q(i,(function(t){return og(t,n,r)?p.some(t):p.none()}));return a.map((function(o){return ig(t,e,n,r,o)}))},ug=function(t,e,n,r){var o=t.dom.createRange(),i=fn(e);return Q(i,(function(e){return o.selectNode(e.dom),og(o.getBoundingClientRect(),n,r)?sg(t,e,n,r):p.none()}))},sg=function(t,e,n,r){return Je(e)?ag(t,e,n,r):ug(t,e,n,r)},cg=function(t,e,n,r){var o=t.dom.createRange();o.selectNode(e.dom);var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return sg(t,e,a,u)},lg=!0,fg=!1,dg=function(t,e){return e-t.left<t.right-e?lg:fg},hg=function(t,e,n){var r=t.dom.createRange();return r.selectNode(e.dom),r.collapse(n),r},pg=function(t,e,n){var r=t.dom.createRange();r.selectNode(e.dom);var o=r.getBoundingClientRect(),i=dg(o,n),a=i===lg?ti:ei;return a(e).map((function(e){return hg(t,e,i)}))},mg=function(t,e,n){var r=e.dom.getBoundingClientRect(),o=dg(r,n);return p.some(hg(t,e,o))},gg=function(t,e,n){var r=0===fn(e).length?mg:pg;return r(t,e,n)},vg=function(t,e,n){return p.from(t.dom.caretPositionFromPoint(e,n)).bind((function(e){if(null===e.offsetNode)return p.none();var n=t.dom.createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),p.some(n)}))},yg=function(t,e,n){return p.from(t.dom.caretRangeFromPoint(e,n))},bg=function(t,e,n,r){var o=t.dom.createRange();o.selectNode(e.dom);var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),u=Math.max(i.top,Math.min(i.bottom,r));return cg(t,e,a,u)},xg=function(t,e,n){return ce.fromPoint(t,e,n).bind((function(r){var o=function(){return gg(t,r,e)};return 0===fn(r).length?o():bg(t,r,e,n).orThunk(o)}))},wg=function(){return document.caretPositionFromPoint?vg:document.caretRangeFromPoint?yg:xg}(),_g=function(t,e,n){var r=ce.fromDom(t.document);return wg(r,e,n).map((function(t){return Tm.create(ce.fromDom(t.startContainer),t.startOffset,ce.fromDom(t.endContainer),t.endOffset)}))},Sg=function(t,e){var n=Ye(t);return"input"===n?Rm.after(t):E(["br","img"],n)?0===e?Rm.before(t):Rm.after(t):Rm.on(t,e)},Cg=function(t,e){var n=t.fold(Rm.before,Sg,Rm.after),r=e.fold(Rm.before,Sg,Rm.after);return Hm.relative(n,r)},kg=function(t,e,n,r){var o=Sg(t,e),i=Sg(n,r);return Hm.relative(o,i)},Tg=function(t){return t.match({domRange:function(t){var e=ce.fromDom(t.startContainer),n=ce.fromDom(t.endContainer);return kg(e,t.startOffset,n,t.endOffset)},relative:Cg,exact:kg})},Ag=function(t,e,n,r){var o=nn(t),i=o.dom.createRange();return i.setStart(t.dom,e),i.setEnd(n.dom,r),i},Og=function(t,e,n,r){var o=Ag(t,e,n,r),i=pe(t,n)&&e===r;return o.collapsed&&!i},Mg=function(t){return p.from(t.getSelection())},Dg=function(t,e){Mg(t).each((function(t){t.removeAllRanges(),t.addRange(e)}))},Ig=function(t,e,n,r,o){var i=Xm(t,e,n,r,o);Dg(t,i)},Eg=function(t,e,n,r,o,i){e.collapse(n.dom,r),e.extend(o.dom,i)},Rg=function(t,e){return eg(t,e).match({ltr:function(e,n,r,o){Ig(t,e,n,r,o)},rtl:function(e,n,r,o){Mg(t).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(e.dom,n,r.dom,o);else if(i.extend)try{Eg(t,i,e,n,r,o)}catch(a){Ig(t,r,o,e,n)}else Ig(t,r,o,e,n)}))}})},Ng=function(t,e,n,r,o){var i=kg(e,n,r,o);Rg(t,i)},Pg=function(t,e,n){var r=Cg(e,n);Rg(t,r)},Lg=function(t){var e=Hm.getWin(t).dom,n=function(t,n,r,o){return Xm(e,t,n,r,o)},r=Tg(t);return eg(e,r).match({ltr:n,rtl:n})},Bg=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return p.some(Tm.create(ce.fromDom(e.startContainer),e.startOffset,ce.fromDom(n.endContainer),n.endOffset))}return p.none()},zg=function(t){if(null===t.anchorNode||null===t.focusNode)return Bg(t);var e=ce.fromDom(t.anchorNode),n=ce.fromDom(t.focusNode);return Og(e,t.anchorOffset,n,t.focusOffset)?p.some(Tm.create(e,t.anchorOffset,n,t.focusOffset)):Bg(t)},Vg=function(t,e){var n=Um(t,e);Dg(t,n)},Fg=function(t){return Mg(t).filter((function(t){return t.rangeCount>0})).bind(zg)},jg=function(t){return Fg(t).map((function(t){return Hm.exact(t.start,t.soffset,t.finish,t.foffset)}))},Hg=function(t,e){var n=ng(t,e);return $m(n)},Ug=function(t,e,n){return _g(t,e,n)},Wg=function(t){Mg(t).each((function(t){return t.removeAllRanges()}))},Gg=tinymce.util.Tools.resolve("tinymce.util.VK"),qg=function(t,e,n,r){return $g(t,e,Sm(n),r)},Yg=function(t,e,n,r){return $g(t,e,Cm(n),r)},Xg=function(t,e){var n=Hm.exact(e,0,e,0);return Lg(n)},Zg=function(t,e){var n=Dn(e,"tr");return J(n).bind((function(e){return zn(e,"td,th").map((function(e){return Xg(t,e)}))}))},$g=function(t,e,n,r){return n.fold(p.none,p.none,(function(e,n){return ti(n).map((function(e){return Xg(t,e)}))}),(function(n){return gr(n,e).bind((function(e){var o=Ri(n);return t.undoManager.transact((function(){r.insertRowsAfter(e,o)})),Zg(t,e)}))}))},Kg=["table","li","dl"],Jg=function(t,e,n){if(t.keyCode===Gg.TAB){var r=Dl(e),o=function(t){var e=Ye(t);return pe(t,r)||E(Kg,e)},i=e.selection.getRng();if(i.collapsed){var a=ce.fromDom(i.startContainer);hr(a,o).each((function(r){t.preventDefault();var i=t.shiftKey?Yg:qg,a=i(e,o,r,n);a.each((function(t){e.selection.setRng(t)}))}))}}},Qg=function(t,e){return{selection:t,kill:e}},tv={create:Qg},ev=function(t,e,n,r){return{start:Rm.on(t,e),finish:Rm.on(n,r)}},nv={create:ev},rv=function(t,e){var n=ng(t,e);return Tm.create(ce.fromDom(n.startContainer),n.startOffset,ce.fromDom(n.endContainer),n.endOffset)},ov=nv.create,iv=function(t,e,n,r,o,i,a){return pe(n,o)&&r===i?p.none():Vn(n,"td,th",e).bind((function(n){return Vn(o,"td,th",e).bind((function(r){return av(t,e,n,r,a)}))}))},av=function(t,e,n,r,o){return pe(n,r)?p.none():To(n,r,e).bind((function(e){var r=e.boxes.getOr([]);return r.length>0?(o(t,r,e.start,e.finish),p.some(tv.create(p.some(ov(n,0,n,$o(n))),!0))):p.none()}))},uv=function(t,e,n,r,o){var i=function(t){return o.clearBeforeUpdate(n),o.selectRange(n,t.boxes,t.start,t.finish),t.boxes};return Io(r,t,e,o.firstSelectedSelector,o.lastSelectedSelector).map(i)},sv=function(t,e){return{item:t,mode:e}},cv=function(t,e,n,r){return void 0===r&&(r=lv),t.property().parent(e).map((function(t){return sv(t,r)}))},lv=function(t,e,n,r){return void 0===r&&(r=fv),n.sibling(t,e).map((function(t){return sv(t,r)}))},fv=function(t,e,n,r){void 0===r&&(r=fv);var o=t.property().children(e),i=n.first(o);return i.map((function(t){return sv(t,r)}))},dv=[{current:cv,next:lv,fallback:p.none()},{current:lv,next:fv,fallback:p.some(cv)},{current:fv,next:fv,fallback:p.some(lv)}],hv=function(t,e,n,r,o){void 0===o&&(o=dv);var i=U(o,(function(t){return t.current===n}));return i.bind((function(n){return n.current(t,e,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return hv(t,e,n,r)}))}))}))},pv=function(){var t=function(t,e){return t.query().prevSibling(e)},e=function(t){return t.length>0?p.some(t[t.length-1]):p.none()};return{sibling:t,first:e}},mv=function(){var t=function(t,e){return t.query().nextSibling(e)},e=function(t){return t.length>0?p.some(t[0]):p.none()};return{sibling:t,first:e}},gv={left:pv,right:mv},vv=function(t,e,n,r,o,i){var a=hv(t,e,r,o);return a.bind((function(e){return i(e.item)?p.none():n(e.item)?p.some(e.item):vv(t,e.item,n,e.mode,o,i)}))},yv=function(t,e,n,r){return vv(t,e,n,lv,gv.left(),r)},bv=function(t,e,n,r){return vv(t,e,n,lv,gv.right(),r)},xv=function(t){return function(e){return 0===t.property().children(e).length}},wv=function(t,e,n){return Sv(t,e,xv(t),n)},_v=function(t,e,n){return Cv(t,e,xv(t),n)},Sv=yv,Cv=bv,kv=ho(),Tv=function(t,e){return wv(kv,t,e)},Av=function(t,e){return _v(kv,t,e)},Ov=function(t,e,n){return Sv(kv,t,e,n)},Mv=function(t,e,n){return Cv(kv,t,e,n)},Dv=function(t,e,n){return En(t,e,n).isSome()},Iv=Po.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ev=function(t,e,n){var r=t.getRect(e),o=t.getRect(n);return o.right>r.left&&o.left<r.right},Rv=function(t){return Vn(t,"tr")},Nv=function(t,e,n,r,o,i,a){return Vn(r,"td,th",a).bind((function(n){return Vn(e,"td,th",a).map((function(e){return pe(n,e)?pe(r,n)&&$o(n)===o?i(e):Iv.none("in same cell"):So(Rv,[n,e]).fold((function(){return Ev(t,e,n)?Iv.success():i(e)}),(function(t){return i(e)}))}))})).getOr(Iv.none("default"))},Pv=function(t,e,n,r,o){return t.fold(e,n,r,o)},Lv=tt(tt({},Iv),{verify:Nv,cata:Pv}),Bv=function(t,e,n,r){return{parent:t,children:e,element:n,index:r}},zv=function(t){return an(t).bind((function(e){var n=fn(e);return Vv(n,t).map((function(r){return Bv(e,n,t,r)}))}))},Vv=function(t,e){return W(t,i(pe,e))},Fv=function(t){return"br"===Ye(t)},jv=function(t,e,n){return e(t,n).bind((function(t){return Je(t)&&0===so(t).trim().length?jv(t,e,n):p.some(t)}))},Hv=function(t,e,n){return n.traverse(e).orThunk((function(){return jv(e,n.gather,t)})).map(n.relative)},Uv=function(t,e){return dn(t,e).filter(Fv).orThunk((function(){return dn(t,e-1).filter(Fv)}))},Wv=function(t,e,n,r){return Uv(e,n).bind((function(e){return r.traverse(e).fold((function(){return jv(e,r.gather,t).map(r.relative)}),(function(t){return zv(t).map((function(t){return Rm.on(t.parent,t.index)}))}))}))},Gv=function(t,e,n,r){var o=Fv(e)?Hv(t,e,r):Wv(t,e,n,r);return o.map((function(t){return{start:t,finish:t}}))},qv=function(t){return Lv.cata(t,(function(t){return p.none()}),(function(){return p.none()}),(function(t){return p.some(lf(t,0))}),(function(t){return p.some(lf(t,$o(t)))}))},Yv=function(t,e){return{left:t.left,top:t.top+e,right:t.right,bottom:t.bottom+e}},Xv=function(t,e){return{left:t.left,top:t.top-e,right:t.right,bottom:t.bottom-e}},Zv=function(t,e,n){return{left:t.left+e,top:t.top+n,right:t.right+e,bottom:t.bottom+n}},$v=function(t){return t.top},Kv=function(t){return t.bottom},Jv=function(t,e,n){return n>=0&&n<$o(e)?t.getRangedRect(e,n,e,n+1):n>0?t.getRangedRect(e,n-1,e,n):p.none()},Qv=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}},ty=function(t,e){return p.some(t.getRect(e))},ey=function(t,e,n){return Ke(e)?ty(t,e).map(Qv):Je(e)?Jv(t,e,n).map(Qv):p.none()},ny=function(t,e){return Ke(e)?ty(t,e).map(Qv):Je(e)?t.getRangedRect(e,0,e,$o(e)).map(Qv):p.none()},ry=5,oy=100,iy=Po.generate([{none:[]},{retry:["caret"]}]),ay=function(t,e){return t.left<e.left||Math.abs(e.right-t.left)<1||t.left>e.right},uy=function(t,e,n){return Rn(e,Ld).fold(s,(function(e){return ny(t,e).exists((function(t){return ay(n,t)}))}))},sy=function(t,e,n,r,o){var i=Yv(o,ry);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?iy.retry(i):n.top===o.bottom?iy.retry(Yv(o,1)):uy(t,e,o)?iy.retry(Zv(i,ry,0)):iy.none()},cy=function(t,e,n,r,o){var i=Xv(o,ry);return Math.abs(n.top-r.top)<1||n.bottom<o.top?iy.retry(i):n.bottom===o.top?iy.retry(Xv(o,1)):uy(t,e,o)?iy.retry(Zv(i,ry,0)):iy.none()},ly={point:$v,adjuster:cy,move:Xv,gather:Tv},fy={point:Kv,adjuster:sy,move:Yv,gather:Av},dy=function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===Ye(t)})).isSome()},hy=function(t,e,n,r,o){return py(t,e,n,e.move(r,ry),o)},py=function(t,e,n,r,o){return 0===o?p.some(r):dy(t,r.left,e.point(r))?hy(t,e,n,r,o-1):t.situsFromPoint(r.left,e.point(r)).bind((function(i){return i.start.fold(p.none,(function(i){return ny(t,i).bind((function(a){return e.adjuster(t,i,a,n,r).fold(p.none,(function(r){return py(t,e,n,r,o-1)}))})).orThunk((function(){return p.some(r)}))}),p.none)}))},my=function(t,e){return t.situsFromPoint(e.left,e.bottom+ry)},gy=function(t,e){return t.situsFromPoint(e.left,e.top-ry)},vy=function(t,e,n){return t.point(e)>n.getInnerHeight()?p.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?p.some(-t.point(e)):p.none()},yy=function(t,e,n){var r=t.move(n,ry),o=py(e,t,n,r,oy).getOr(r);return vy(t,o,e).fold((function(){return e.situsFromPoint(o.left,t.point(o))}),(function(n){return e.scrollBy(0,n),e.situsFromPoint(o.left,t.point(o)-n)}))},by={tryUp:i(yy,ly),tryDown:i(yy,fy),ieTryUp:gy,ieTryDown:my,getJumpSize:r(ry)},xy=20,wy=function(t,e,n){return t.getSelection().bind((function(r){return Gv(e,r.finish,r.foffset,n).fold((function(){return p.some(lf(r.finish,r.foffset))}),(function(o){var i=t.fromSitus(o),a=Lv.verify(t,r.finish,r.foffset,i.finish,i.foffset,n.failure,e);return qv(a)}))}))},_y=function(t,e,n,r,o,i){return 0===i?p.none():ky(t,e,n,r,o).bind((function(a){var u=t.fromSitus(a),s=Lv.verify(t,n,r,u.finish,u.foffset,o.failure,e);return Lv.cata(s,(function(){return p.none()}),(function(){return p.some(a)}),(function(a){return pe(n,a)&&0===r?Sy(t,n,r,Xv,o):_y(t,e,a,0,o,i-1)}),(function(a){return pe(n,a)&&r===$o(a)?Sy(t,n,r,Yv,o):_y(t,e,a,$o(a),o,i-1)}))}))},Sy=function(t,e,n,r,o){return ey(t,e,n).bind((function(e){return Cy(t,o,r(e,by.getJumpSize()))}))},Cy=function(t,e,n){var r=$t().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?e.otherRetry(t,n):r.isIE()?e.ieRetry(t,n):p.none()},ky=function(t,e,n,r,o){return ey(t,n,r).bind((function(e){return Cy(t,o,e)}))},Ty=function(t,e,n){return wy(t,e,n).bind((function(r){return _y(t,e,r.element,r.offset,n,xy).map(t.fromSitus)}))},Ay=function(t,e){return Dv(t,(function(t){return an(t).exists((function(t){return pe(t,e)}))}))},Oy=function(t,e,n,r,o){return Vn(r,"td,th",e).bind((function(r){return Vn(r,"table",e).bind((function(i){return Ay(o,i)?Ty(t,e,n).bind((function(t){return Vn(t.finish,"td,th",e).map((function(e){return{start:r,finish:e,range:t}}))})):p.none()}))}))},My=function(t,e,n,r,o,i){return $t().browser.isIE()?p.none():i(r,e).orThunk((function(){return Oy(t,e,n,r,o).map((function(t){var e=t.range;return tv.create(p.some(ov(e.start,e.soffset,e.finish,e.foffset)),!0)}))}))},Dy=function(t,e){return Vn(t,"tr",e).bind((function(t){return Vn(t,"table",e).bind((function(n){var r=Dn(n,"tr");return pe(t,r[0])?Ov(n,(function(t){return ei(t).isSome()}),e).map((function(t){var e=$o(t);return tv.create(p.some(ov(t,e,t,e)),!0)})):p.none()}))}))},Iy=function(t,e){return Vn(t,"tr",e).bind((function(t){return Vn(t,"table",e).bind((function(n){var r=Dn(n,"tr");return pe(t,r[r.length-1])?Mv(n,(function(t){return ti(t).isSome()}),e).map((function(t){return tv.create(p.some(ov(t,0,t,0)),!0)})):p.none()}))}))},Ey=function(t,e,n,r,o,i,a){return Oy(t,n,r,o,i).bind((function(t){return av(e,n,t.start,t.finish,a)}))},Ry=function(){var t=jl(p.none()),e=function(){return t.set(p.none())},n=function(e){return t.set(p.some(e))},r=function(){return t.get().isSome()},o=function(e){return t.get().each(e)};return{clear:e,set:n,isSet:r,on:o}},Ny=function(t,e){return Vn(t,"td,th",e)};function Py(t,e,n,r){var o=Ry(),i=o.clear,a=function(t){r.clear(e),Ny(t.target,n).each(o.set)},u=function(i){o.on((function(o){r.clearBeforeUpdate(e),Ny(i.target,n).each((function(i){To(o,i,n).each((function(n){var a=n.boxes.getOr([]);(a.length>1||1===a.length&&!pe(o,i))&&(r.selectRange(e,a,n.start,n.finish),t.selectContents(i))}))}))}))},s=function(t){i()};return{clearstate:i,mousedown:a,mouseover:u,mouseup:s}}var Ly={traverse:ln,gather:Av,relative:Rm.before,otherRetry:by.tryDown,ieRetry:by.ieTryDown,failure:Lv.failedDown},By={traverse:cn,gather:Tv,relative:Rm.before,otherRetry:by.tryUp,ieRetry:by.ieTryUp,failure:Lv.failedUp},zy=function(t){return function(e){return e===t}},Vy=zy(38),Fy=zy(40),jy=function(t){return t>=37&&t<=40},Hy={isBackward:zy(37),isForward:zy(39)},Uy={isBackward:zy(39),isForward:zy(37)},Wy=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return sa(n,r)},Gy=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollBy(t,e)},qy=function(t){var e=function(e,n){return ce.fromPoint(ce.fromDom(t.document),e,n)},n=function(t){return t.dom.getBoundingClientRect()},r=function(e,n,r,o){var i=Hm.exact(e,n,r,o);return Hg(t,i)},o=function(){return jg(t).map((function(e){return rv(t,e)}))},i=function(e){var n=Hm.relative(e.start,e.finish);return rv(t,n)},a=function(e,n){return Ug(t,e,n).map((function(t){return nv.create(t.start,t.soffset,t.finish,t.foffset)}))},u=function(){Wg(t)},s=function(e){void 0===e&&(e=!1),jg(t).each((function(n){return n.fold((function(t){return t.collapse(e)}),(function(n,r){var o=e?n:r;Pg(t,o,o)}),(function(n,r,o,i){var a=e?n:o,u=e?r:i;Ng(t,a,u,a,u)}))}))},c=function(e){Vg(t,e)},l=function(e){Ng(t,e.start,e.soffset,e.finish,e.foffset)},f=function(e,n){Pg(t,e,n)},d=function(){return t.innerHeight},h=function(){var e=Wy(ce.fromDom(t.document));return e.top},p=function(e,n){Gy(e,n,ce.fromDom(t.document))};return{elementFromPoint:e,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:a,clearSelection:u,collapseSelection:s,setSelection:l,setRelativeSelection:f,selectContents:c,getInnerHeight:d,getScrollY:h,scrollBy:p}},Yy=function(t,e){return{rows:t,cols:e}},Xy=function(t,e,n,r){var o=qy(t),i=Py(o,e,n,r);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Zy=function(t,e,n,r){var o=qy(t),a=function(){return r.clear(e),p.none()},u=function(t,u,s,c,l,f){var d=t.raw,h=d.which,m=!0===d.shiftKey,g=Ao(e,r.selectedSelector).fold((function(){return Fy(h)&&m?i(Ey,o,e,n,Ly,c,u,r.selectRange):Vy(h)&&m?i(Ey,o,e,n,By,c,u,r.selectRange):Fy(h)?i(My,o,n,Ly,c,u,Iy):Vy(h)?i(My,o,n,By,c,u,Dy):p.none}),(function(t){var n=function(n){return function(){var i=Q(n,(function(n){return uv(n.rows,n.cols,e,t,r)}));return i.fold((function(){return Mo(e,r.firstSelectedSelector,r.lastSelectedSelector).map((function(t){var n=Fy(h)||f.isForward(h)?Rm.after:Rm.before;return o.setRelativeSelection(Rm.on(t.first,0),n(t.table)),r.clear(e),tv.create(p.none(),!0)}))}),(function(t){return p.some(tv.create(p.none(),!0))}))}};return Fy(h)&&m?n([Yy(1,0)]):Vy(h)&&m?n([Yy(-1,0)]):f.isBackward(h)&&m?n([Yy(0,-1),Yy(-1,0)]):f.isForward(h)&&m?n([Yy(0,1),Yy(1,0)]):jy(h)&&!1===m?a:p.none}));return g()},s=function(t,o,i,a,u){return Ao(e,r.selectedSelector).fold((function(){var s=t.raw,c=s.which,l=!0===s.shiftKey;return!1===l?p.none():jy(c)?iv(e,n,o,i,a,u,r.selectRange):p.none()}),p.none)};return{keydown:u,keyup:s}},$y=function(t,e,n,r){var o=qy(t);return function(t,i){r.clearBeforeUpdate(e),To(t,i,n).each((function(t){var n=t.boxes.getOr([]);r.selectRange(e,n,t.start,t.finish),o.selectContents(i),o.collapseSelection()}))}},Ky=function(t,e){L(e,(function(e){ic(t,e)}))},Jy=function(t){return function(e){rc(e,t)}},Qy=function(t){return function(e){Ky(e,t)}},tb=function(t){var e=Jy(t.selected),n=Qy([t.selected,t.lastSelected,t.firstSelected]),r=function(e){var r=Dn(e,t.selectedSelector);L(r,n)},o=function(n,o,i,a){r(n),L(o,e),rc(i,t.firstSelected),rc(a,t.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},eb=function(t,e,n){var r=function(e){Gn(e,t.selected),Gn(e,t.firstSelected),Gn(e,t.lastSelected)},o=function(e){jn(e,t.selected,"1")},i=function(t){a(t),n()},a=function(e){var n=Dn(e,t.selectedSelector);L(n,r)},u=function(n,r,a,u){i(n),L(r,o),jn(a,t.firstSelected,"1"),jn(u,t.lastSelected,"1"),e(r,a,u)};return{clearBeforeUpdate:a,clear:i,selectRange:u,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},nb={byClass:tb,byAttr:eb},rb=function(t,e,n){var r=t.slice(0,e[e.length-1].row+1),o=Vf(r,n);return q(o,(function(t){var n=t.cells.slice(0,e[e.length-1].column+1);return P(n,(function(t){return t.element}))}))},ob=function(t,e,n){var r=t.slice(e[0].row+e[0].rowspan-1,t.length),o=Vf(r,n);return q(o,(function(t){var n=t.cells.slice(e[0].column+e[0].colspan-1,t.cells.length);return P(n,(function(t){return t.element}))}))},ib=function(t,e,n){var r=Nr.fromTable(t),o=Yf(r,e);return o.map((function(t){var e=Lf(r,n,!1),o=rb(e,t,n),i=ob(e,t,n);return{upOrLeftCells:o,downOrRightCells:i}}))},ab=function(t){return!1===ac(ce.fromDom(t.target),"ephox-snooker-resizer-bar")};function ub(e,n,r){var o=function(n,o,i){r.targets().each((function(r){var a=gr(o);a.each((function(a){var u=Al(e),s=vi(t,ce.fromDom(e.getDoc()),u),c=ib(a,r,s);$c(e,n,o,i,c)}))}))},i=function(){return Kc(e)},a=nb.byAttr(Ei,o,i);return e.on("init",(function(r){var o=e.getWin(),i=Dl(e),u=Rl(e),s=function(){var n=e.selection,r=ce.fromDom(n.getStart()),o=ce.fromDom(n.getEnd()),u=So(gr,[r,o]);u.fold((function(){return a.clear(i)}),t)},c=Xy(o,i,u,a),l=Zy(o,i,u,a),f=$y(o,i,u,a),d=function(t){return!0===t.raw.shiftKey};e.on("TableSelectorChange",(function(t){return f(t.start,t.finish)}));var h=function(t,n){d(t)&&(n.kill&&t.kill(),n.selection.each((function(t){var n=Hm.relative(t.start,t.finish),r=ng(o,n);e.selection.setRng(r)})))},p=function(t){var n=Zs(t);if(n.raw.shiftKey&&jy(n.raw.which)){var r=e.selection.getRng(),o=ce.fromDom(r.startContainer),i=ce.fromDom(r.endContainer);l.keyup(n,o,r.startOffset,i,r.endOffset).each((function(t){h(n,t)}))}},m=function(t){var r=Zs(t);n().each((function(t){return t.hideBars()}));var o=e.selection.getRng(),i=ce.fromDom(o.startContainer),a=ce.fromDom(o.endContainer),u=na(Hy,Uy)(ce.fromDom(e.selection.getStart()));l.keydown(r,i,o.startOffset,a,o.endOffset,u).each((function(t){h(r,t)})),n().each((function(t){return t.showBars()}))},g=function(t){return 0===t.button},v=function(t){return void 0===t.buttons||(!(!am.browser.isEdge()||0!==t.buttons)||0!==(1&t.buttons))},y=function(t){c.clearstate()},b=function(t){g(t)&&ab(t)&&c.mousedown(Zs(t))},x=function(t){v(t)&&ab(t)&&c.mouseover(Zs(t))},w=function(t){g(t)&&ab(t)&&c.mouseup(Zs(t))},_=function(){var t=jl(ce.fromDom(i)),e=jl(0),n=function(n){var r=ce.fromDom(n.target);if("td"===Ye(r)||"th"===Ye(r)){var o=t.get(),i=e.get();pe(o,r)&&n.timeStamp-i<300&&(n.preventDefault(),f(r,r))}t.set(r),e.set(n.timeStamp)};return{touchEnd:n}},S=_();e.on("dragstart",y),e.on("mousedown",b),e.on("mouseover",x),e.on("mouseup",w),e.on("touchend",S.touchEnd),e.on("keyup",p),e.on("keydown",m),e.on("NodeChange",s)})),{clear:a.clear}}var sb=function(t,e){var n=jl(p.none()),r=jl([]),o=function(){return qh(Fl(t)).bind((function(t){var n=gr(t),r=function(t){return"caption"===Ye(t)};return n.map((function(n){return r(t)?Ri(t):Ni(e,n,t)}))}))},i=function(){n.set(nt(o)()),L(r.get(),(function(t){return t()}))},a=function(t,e){var o=function(){return n.get().fold((function(){t.setDisabled(!0)}),(function(n){t.setDisabled(e(n))}))};return o(),r.set(r.get().concat([o])),function(){r.set(V(r.get(),(function(t){return t!==o})))}},u=function(t){return a(t,(function(t){return!1}))},s=function(t){return a(t,(function(t){return"caption"===Ye(t.element)}))},c=function(t){return function(e){return a(e,(function(e){return"caption"===Ye(e.element)||t().isNone()}))}},l=function(t){return a(t,(function(t){return t.mergable.isNone()}))},f=function(t){return a(t,(function(t){return t.unmergable.isNone()}))};return t.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:u,onSetupCellOrRow:s,onSetupPasteable:c,onSetupMergeable:l,onSetupUnmergeable:f,resetTargets:i,targets:function(){return n.get()}}},cb=function(t,e,n){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}});var r=function(e){return function(){return t.execCommand(e)}};t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable}),t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable}),t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)}),t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)}),t.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteable(n.getColumns)}),t.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteable(n.getColumns)}),t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})},lb=function(t){var e=function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)},n=_l(t);n.length>0&&t.ui.registry.addContextToolbar("table",{predicate:e,items:n,scope:"node",position:"node"})},fb=function(t,e,n){var r=function(e){return function(){return t.execCommand(e)}},o=function(e){t.execCommand("mceInsertTable",!1,{rows:e.numRows,columns:e.numColumns})},i={text:"Table properties",onSetup:e.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:r("mceTableDelete")};t.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)}),t.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)});var u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};t.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteable(n.getColumns)}),t.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteable(n.getColumns)});var s={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}};t.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:e.onSetupMergeable}),t.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:e.onSetupUnmergeable});var c={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};!1===pl(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}}),t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),t.ui.registry.addMenuItem("tableprops",i),t.ui.registry.addMenuItem("deletetable",a),t.ui.registry.addNestedMenuItem("row",u),t.ui.registry.addNestedMenuItem("column",s),t.ui.registry.addNestedMenuItem("cell",c),t.ui.registry.addContextMenu("table",{update:function(){return e.resetTargets(),e.targets().fold((function(){return""}),(function(t){return"caption"===Ye(t.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})};function db(t){var e=jo((function(){return Dl(t)}),(function(){return qh(Fl(t))}),Ei.selectedSelector),n=sb(t,e),r=cf(t),o=ub(t,r.lazyResize,n),i=Zh(t,r.lazyWire,e),a=gm();return pm(t,i,o,e,a),mm(t,i,e),Fi(t,e,i,o),fb(t,n,a),cb(t,n,a),lb(t),t.on("PreInit",(function(){t.serializer.addTempAttr(Ei.firstSelected),t.serializer.addTempAttr(Ei.lastSelected),ym(t)})),cl(t)&&t.on("keydown",(function(e){Jg(e,t,i)})),t.on("remove",(function(){r.destroy()})),mp(t,a,r,n)}function hb(){Ho.add("table",db)}hb()})()},9658:function(t,e,n){"use strict";n("c7a8")},9861:function(t,e,n){"use strict";n("e260");var r=n("23e7"),o=n("d066"),i=n("0d3b"),a=n("6eeb"),u=n("e2cc"),s=n("d44e"),c=n("9ed3"),l=n("69f3"),f=n("19aa"),d=n("5135"),h=n("0366"),p=n("f5df"),m=n("825a"),g=n("861d"),v=n("7c73"),y=n("5c6c"),b=n("9a1f"),x=n("35a1"),w=n("b622"),_=o("fetch"),S=o("Headers"),C=w("iterator"),k="URLSearchParams",T=k+"Iterator",A=l.set,O=l.getterFor(k),M=l.getterFor(T),D=/\+/g,I=Array(4),E=function(t){return I[t-1]||(I[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},R=function(t){try{return decodeURIComponent(t)}catch(e){return t}},N=function(t){var e=t.replace(D," "),n=4;try{return decodeURIComponent(e)}catch(r){while(n)e=e.replace(E(n--),R);return e}},P=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(t){return L[t]},z=function(t){return encodeURIComponent(t).replace(P,B)},V=function(t,e){if(e){var n,r,o=e.split("&"),i=0;while(i<o.length)n=o[i++],n.length&&(r=n.split("="),t.push({key:N(r.shift()),value:N(r.join("="))}))}},F=function(t){this.entries.length=0,V(this.entries,t)},j=function(t,e){if(t<e)throw TypeError("Not enough arguments")},H=c((function(t,e){A(this,{type:T,iterator:b(O(t).entries),kind:e})}),"Iterator",(function(){var t=M(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),U=function(){f(this,U,k);var t,e,n,r,o,i,a,u,s,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(A(l,{type:k,entries:h,updateURL:function(){},updateSearchParams:F}),void 0!==c)if(g(c))if(t=x(c),"function"===typeof t){e=t.call(c),n=e.next;while(!(r=n.call(e)).done){if(o=b(m(r.value)),i=o.next,(a=i.call(o)).done||(u=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:u.value+""})}}else for(s in c)d(c,s)&&h.push({key:s,value:c[s]+""});else V(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},W=U.prototype;u(W,{append:function(t,e){j(arguments.length,2);var n=O(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){j(arguments.length,1);var e=O(this),n=e.entries,r=t+"",o=0;while(o<n.length)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){j(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){j(arguments.length,1);for(var e=O(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){j(arguments.length,1);var e=O(this).entries,n=t+"",r=0;while(r<e.length)if(e[r++].key===n)return!0;return!1},set:function(t,e){j(arguments.length,1);for(var n,r=O(this),o=r.entries,i=!1,a=t+"",u=e+"",s=0;s<o.length;s++)n=o[s],n.key===a&&(i?o.splice(s--,1):(i=!0,n.value=u));i||o.push({key:a,value:u}),r.updateURL()},sort:function(){var t,e,n,r=O(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){var e,n=O(this).entries,r=h(t,arguments.length>1?arguments[1]:void 0,3),o=0;while(o<n.length)e=n[o++],r(e.value,e.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),a(W,C,W.entries),a(W,"toString",(function(){var t,e=O(this).entries,n=[],r=0;while(r<e.length)t=e[r++],n.push(z(t.key)+"="+z(t.value));return n.join("&")}),{enumerable:!0}),s(U,k),r({global:!0,forced:!i},{URLSearchParams:U}),i||"function"!=typeof _||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,o=[t];return arguments.length>1&&(e=arguments[1],g(e)&&(n=e.body,p(n)===k&&(r=e.headers?new S(e.headers):new S,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:y(0,String(n)),headers:y(0,r)}))),o.push(e)),_.apply(this,o)}}),t.exports={URLSearchParams:U,getState:O}},"9a1f":function(t,e,n){var r=n("825a"),o=n("35a1");t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},"9dd9":function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(){},o=function(t){return function(){return t}},i=o(!1),a=o(!0),u=function(){return s},s=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},s={fold:function(t,e){return t()},is:i,isSome:i,isNone:a,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:n,orThunk:e,map:u,each:r,bind:u,exists:i,forall:a,filter:u,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")};return s}(),c=function(t){var e=o(t),n=function(){return u},r=function(e){return e(t)},u={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:a,isNone:i,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return c(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?u:s},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(i,(function(e){return n(t,e)}))}};return u},l=function(t){return null===t||void 0===t?s:c(t)},f={some:c,none:u,from:l},d=function(t){return function(e){return typeof e===t}},h=function(t){return null===t||void 0===t},p=function(t){return!h(t)},m=d("function");function g(t,e){return b(document.createElement("canvas"),t,e)}function v(t){var e=g(t.width,t.height),n=y(e);return n.drawImage(t,0,0),e}function y(t){return t.getContext("2d")}function b(t,e,n){return t.width=e,t.height=n,t}function x(t){return t.naturalWidth||t.width}function w(t){return t.naturalHeight||t.height}var _=function(){var t=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,r(a,this),r(u,this))},e=window,n=t.immediateFn||"function"===typeof e.setImmediate&&e.setImmediate||function(t){setTimeout(t,1)};function r(t,e){return function(){return t.apply(e,arguments)}}var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void t.reject(o)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var e=t.then;if("function"===typeof e)return void l(r(e,t),r(a,this),r(u,this))}this._state=!0,this._value=t,s.call(this)}catch(n){u.call(this,n)}}function u(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];i.call(this,n)}this._deferreds=[]}function c(t,e,n,r){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=n,this.reject=r}function l(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(o){if(r)return;r=!0,n(o)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){i.call(r,new c(e,n,t,o))}))},t.all=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e);return new t((function(t,e){if(0===r.length)return t([]);var n=r.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,(function(t){o(i,t)}),e)}r[i]=a,0===--n&&t(r)}catch(s){e(s)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},t.resolve=function(e){return e&&"object"===typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){var i=o[r];i.then(t,n)}}))},t},S=window.Promise?window.Promise:_();function C(t){var e=t.src;return 0===e.indexOf("data:")?O(e):T(e)}function k(t){return new S((function(e,n){var r=URL.createObjectURL(t),o=new Image,i=function(){o.removeEventListener("load",a),o.removeEventListener("error",u)};function a(){i(),e(o)}function u(){i(),n("Unable to load data of type "+t.type+": "+r)}o.addEventListener("load",a),o.addEventListener("error",u),o.src=r,o.complete&&a()}))}function T(t){return new S((function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status&&e(this.response)},r.onerror=function(){var t=this,e=function(){var t=new Error("No access to download image");return t.code=18,t.name="SecurityError",t},r=function(){return new Error("Error "+t.status+" downloading image")};n(0===this.status?e():r())},r.send()}))}function A(t){var e=t.split(","),n=/data:([^;]+)/.exec(e[0]);if(!n)return f.none();for(var r=n[1],o=e[1],i=1024,a=atob(o),u=a.length,s=Math.ceil(u/i),c=new Array(s),l=0;l<s;++l){for(var d=l*i,h=Math.min(d+i,u),p=new Array(h-d),m=d,g=0;m<h;++g,++m)p[g]=a[m].charCodeAt(0);c[l]=new Uint8Array(p)}return f.some(new Blob(c,{type:r}))}function O(t){return new S((function(e,n){A(t).fold((function(){n("uri is not base64: "+t)}),e)}))}function M(t,e,n){return e=e||"image/png",m(HTMLCanvasElement.prototype.toBlob)?new S((function(r,o){t.toBlob((function(t){t?r(t):o()}),e,n)})):O(t.toDataURL(e,n))}function D(t,e,n){return e=e||"image/png",t.toDataURL(e,n)}function I(t){return k(t).then((function(t){R(t);var e=g(x(t),w(t)),n=y(e);return n.drawImage(t,0,0),e}))}function E(t){return new S((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)}))}function R(t){URL.revokeObjectURL(t.src)}var N=function(t){return k(t)},P=function(t){return C(t)},L=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},B=function(t,e,n){return L(t,(function(t){n=e(n,t)})),n},z=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return f.some(i);if(n(i,r))break}return f.none()},V=function(t,e){return z(t,e,i)};function F(t,e,n){var r=e.type,i=o(r);function a(){return S.resolve(e)}var u=o(n);function s(){return n.split(",")[1]}function c(e,n){return t.then((function(t){return M(t,e,n)}))}function l(e,n){return t.then((function(t){return D(t,e,n)}))}function f(t,e){return l(t,e).then((function(t){return t.split(",")[1]}))}function d(){return t.then(v)}return{getType:i,toBlob:a,toDataURL:u,toBase64:s,toAdjustedBlob:c,toAdjustedDataURL:l,toAdjustedBase64:f,toCanvas:d}}function j(t){return E(t).then((function(e){return F(I(t),t,e)}))}function H(t,e){return M(t,e).then((function(e){return F(S.resolve(t),e,t.toDataURL())}))}function U(t,e){return t.toCanvas().then((function(n){return W(n,t.getType(),e)}))}function W(t,e,n){var r=g(t.width,t.height),o=y(r),i=0,a=0;return n=n<0?360+n:n,90!==n&&270!==n||b(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(a=r.height),o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(t,0,0),H(r,e)}function G(t,e){return t.toCanvas().then((function(n){return q(n,t.getType(),e)}))}function q(t,e,n){var r=g(t.width,t.height),o=y(r);return"v"===n?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0)),H(r,e)}var Y=function(t,e){return G(t,e)},X=function(t,e){return U(t,e)},Z=Object.keys,$=function(t,e){for(var n=Z(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},K=function(t,e,n){return void 0===n&&(n=!1),new S((function(r){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&r({status:o.status,blob:o.response})},o.open("GET",t,!0),o.withCredentials=n,$(e,(function(t,e){o.setRequestHeader(e,t)})),o.responseType="blob",o.send()}))},J=function(t){return new S((function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=function(t){n(t)},r.readAsText(t)}))},Q=function(t){try{return f.some(JSON.parse(t))}catch(e){return f.none()}},tt=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],et=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],nt=function(t,e){var n=B(e,(function(t,e){return p(t)?t[e]:void 0}),t);return f.from(n)},rt=function(t,e){return"application/json"===(null===e||void 0===e?void 0:e.type)&&(400===t||403===t||404===t||500===t)},ot=function(t){var e=V(tt,(function(e){return t===e.code})).fold(o("Unknown ImageProxy error"),(function(t){return t.message}));return"ImageProxy HTTP error: "+e},it=function(t){var e=ot(t);return S.reject(e)},at=function(t){return V(et,(function(e){return e.type===t})).fold(o("Unknown service error"),(function(t){return t.message}))},ut=function(t){var e=Q(t),n=e.bind((function(t){return nt(t,["error","type"]).map(at)})).getOr("Invalid JSON in service error message");return"ImageProxy Service error: "+n},st=function(t){return J(t).then((function(t){var e=ut(t);return S.reject(e)}))},ct=function(t,e){return rt(t,e)?st(e):it(t)},lt=function(t,e){var n=-1===t.indexOf("?")?"?":"&";return/[?&]apiKey=/.test(t)?t:t+n+"apiKey="+encodeURIComponent(e)},ft=function(t){return t<200||t>=300},dt=function(t,e){var n={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":e};return K(lt(t,e),n).then((function(t){return ft(t.status)?ct(t.status,t.blob):S.resolve(t.blob)}))},ht=function(t,e){return K(t,{},e).then((function(t){return ft(t.status)?it(t.status):S.resolve(t.blob)}))},pt=function(t,e,n){return void 0===n&&(n=!1),e?dt(t,e):ht(t,n)},mt=function(t){return j(t)},gt=1,vt=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return xt(r.childNodes[0])},yt=function(t,e){var n=e||document,r=n.createElement(t);return xt(r)},bt=function(t,e){var n=e||document,r=n.createTextNode(t);return xt(r)},xt=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},wt=function(t,e,n){return f.from(t.dom.elementFromPoint(e,n)).map(xt)},_t={fromHtml:vt,fromTag:yt,fromText:bt,fromDom:xt,fromPoint:wt},St=function(t,e){var n=t.dom;if(n.nodeType!==gt)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Ct=("undefined"!==typeof window?window:Function("return this;")(),function(t,e){var n=function(t){return e(_t.fromDom(t))},r=V(t.dom.childNodes,n);return r.map(_t.fromDom)}),kt=function(t,e){return Ct(t,(function(t){return St(t,e)}))},Tt=tinymce.util.Tools.resolve("tinymce.util.Delay"),At=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ot=tinymce.util.Tools.resolve("tinymce.util.URI"),Mt=function(t){return t.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},Dt=function(t){return t.getParam("imagetools_proxy")},It=function(t){return t.getParam("imagetools_cors_hosts",[],"string[]")},Et=function(t){return t.getParam("imagetools_credentials_hosts",[],"string[]")},Rt=function(t){return f.from(t.getParam("imagetools_fetch_image",null,"function"))},Nt=function(t){return t.getParam("api_key",t.getParam("imagetools_api_key","","string"),"string")},Pt=function(t){return t.getParam("images_upload_timeout",3e4,"number")},Lt=function(t){return t.getParam("images_reuse_filename",!1,"boolean")};function Bt(t){var e,n;function r(t){return/^[0-9\.]+px$/.test(t)}return e=t.style.width,n=t.style.height,e||n?r(e)&&r(n)?{w:parseInt(e,10),h:parseInt(n,10)}:null:(e=t.width,n=t.height,e&&n?{w:parseInt(e,10),h:parseInt(n,10)}:null)}function zt(t,e){var n,r;e&&(n=t.style.width,r=t.style.height,(n||r)&&(t.style.width=e.w+"px",t.style.height=e.h+"px",t.removeAttribute("data-mce-style")),n=t.width,r=t.height,(n||r)&&(t.setAttribute("width",String(e.w)),t.setAttribute("height",String(e.h))))}function Vt(t){return{w:t.naturalWidth,h:t.naturalHeight}}var Ft=0,jt=function(t){return kt(_t.fromDom(t),"img")},Ht=function(t,e){return t.dom.is(e,"figure")},Ut=function(t,e){return t.dom.is(e,"img:not([data-mce-object],[data-mce-placeholder])")},Wt=function(t,e){var n=function(e){return Ut(t,e)&&(Zt(t,e)||$t(t,e)||p(Dt(t)))};return Ht(t,e)?jt(e).bind((function(t){return n(t.dom)?f.some(t.dom):f.none()})):n(e)?f.some(e):f.none()},Gt=function(t,e){t.notificationManager.open({text:e,type:"error"})},qt=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,"figure.image");return null!==n&&Ht(t,n)?jt(n):Ut(t,e)?f.some(_t.fromDom(e)):f.none()},Yt=function(t,e,n){var r=e.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return p(r)?t.dom.encode(r[n]):null},Xt=function(){return"imagetools"+Ft++},Zt=function(t,e){var n=e.src;return 0===n.indexOf("data:")||0===n.indexOf("blob:")||new Ot(n).host===t.documentBaseURI.host},$t=function(t,e){return-1!==n.inArray(It(t),new Ot(e.src).host)},Kt=function(t,e){return-1!==n.inArray(Et(t),new Ot(e.src).host)},Jt=function(t,e){if($t(t,e))return pt(e.src,null,Kt(t,e));if(!Zt(t,e)){var n=Dt(t),r=n+(-1===n.indexOf("?")?"?":"&")+"url="+encodeURIComponent(e.src),o=Nt(t);return pt(r,o,!1)}return P(e)},Qt=function(t,e){return Rt(t).fold((function(){return Jt(t,e)}),(function(t){return t(e)}))},te=function(t,e){var n=t.editorUpload.blobCache.getByUri(e.src);return n?At.resolve(n.blob()):Qt(t,e)},ee=function(t,e){var n=Tt.setEditorTimeout(t,(function(){t.editorUpload.uploadImagesAuto()}),Pt(t));e.set(n)},ne=function(t){Tt.clearTimeout(t.get())},re=function(t,e,n,r,o,i,a){return n.toBlob().then((function(u){var s,c,l,f,d=t.editorUpload.blobCache;s=i.src;var h=e.type===u.type;return Lt(t)&&(f=d.getByUri(s),p(f)?(s=f.uri(),c=f.name(),l=f.filename()):(c=Yt(t,s,2),l=Yt(t,s,1))),f=d.create({id:Xt(),blob:u,base64:n.toBase64(),uri:s,name:c,filename:h?l:void 0}),d.add(f),t.undoManager.transact((function(){function e(){t.$(i).off("load",e),t.nodeChanged(),r?t.editorUpload.uploadImagesAuto():(ne(o),ee(t,o))}t.$(i).on("load",e),a&&t.$(i).attr({width:a.w,height:a.h}),t.$(i).attr({src:f.blobUri()}).removeAttr("data-mce-src")})),f}))},oe=function(t,e,n,r){return function(){var o=qt(t);return o.fold((function(){Gt(t,"Could not find selected image")}),(function(o){return t._scanForImages().then((function(){return te(t,o.dom)})).then((function(i){return mt(i).then(n).then((function(n){return re(t,i,n,!1,e,o.dom,r)}))})).catch((function(e){Gt(t,e)}))}))}},ie=function(t,e,n){return function(){var r=qt(t),o=r.fold((function(){return null}),(function(t){var e=Bt(t.dom);return e?{w:e.h,h:e.w}:null}));return oe(t,e,(function(t){return X(t,n)}),o)()}},ae=function(t,e,n){return function(){return oe(t,e,(function(t){return Y(t,n)}))()}},ue=function(t,e,n,r,o){return N(o).then((function(t){var e=Vt(t);return r.w===e.w&&r.h===e.h||Bt(n)&&zt(n,e),URL.revokeObjectURL(t.src),o})).then(mt).then((function(r){return re(t,o,r,!0,e,n)})).catch((function(){}))},se="save-state",ce="disable",le="enable",fe=function(t){return{blob:t,url:URL.createObjectURL(t)}},de=function(t,e){return function(){var n=function(n){return{title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:n}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(n){var i=n.getData().imagetools.blob;r.each((function(n){o.each((function(r){ue(t,e,n.dom,r,i)}))})),n.close()},onCancel:function(){},onAction:function(t,e){switch(e.name){case se:e.value?t.enable("save"):t.disable("save");break;case ce:t.disable("save"),t.disable("cancel");break;case le:t.enable("cancel");break}}}},r=qt(t),o=r.map((function(t){return Vt(t.dom)}));r.each((function(e){Wt(t,e.dom).each((function(r){te(t,e.dom).then((function(e){var r=fe(e);t.windowManager.open(n(r))}))}))}))}},he=function(t,e){n.each({mceImageRotateLeft:ie(t,e,-90),mceImageRotateRight:ie(t,e,90),mceImageFlipVertical:ae(t,e,"v"),mceImageFlipHorizontal:ae(t,e,"h"),mceEditImage:de(t,e)},(function(e,n){t.addCommand(n,e)}))},pe=function(t,e,n){t.on("NodeChange",(function(r){var o=n.get(),i=Wt(t,r.element);o&&!i.exists((function(t){return o.src===t.src}))&&(ne(e),t.editorUpload.uploadImagesAuto(),n.set(null)),i.each(n.set)}))},me=function(t){var e=function(e){return function(){return t.execCommand(e)}};t.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:e("mceImageRotateLeft")}),t.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:e("mceImageRotateRight")}),t.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:e("mceImageFlipVertical")}),t.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:e("mceImageFlipHorizontal")}),t.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:e("mceEditImage"),onSetup:function(e){var n=function(){var n=qt(t).forall((function(e){return Wt(t,e.dom).isNone()}));e.setDisabled(n)};return t.on("NodeChange",n),function(){t.off("NodeChange",n)}}}),t.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:e("mceImage")}),t.ui.registry.addContextMenu("imagetools",{update:function(n){return Wt(t,n).fold((function(){return[]}),(function(t){return[{text:"Edit image",icon:"edit-image",onAction:e("mceEditImage")}]}))}})},ge=function(t){t.ui.registry.addContextToolbar("imagetools",{items:Mt(t),predicate:function(e){return Wt(t,e).isSome()},position:"node",scope:"node"})};function ve(){e.add("imagetools",(function(e){var n=t(0),r=t(null);he(e,n),me(e),ge(e),pe(e,n,r)}))}ve()})()},a376:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){return t.getParam("insertdatetime_dateformat",t.translate("%Y-%m-%d"))},n=function(t){return t.getParam("insertdatetime_timeformat",t.translate("%H:%M:%S"))},r=function(t){return t.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},o=function(t){var e=r(t);return e.length>0?e[0]:n(t)},i=function(t){return t.getParam("insertdatetime_element",!1)},a="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),s="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" "),l=function(t,e){if(t=""+t,t.length<e)for(var n=0;n<e-t.length;n++)t="0"+t;return t},f=function(t,e,n){return n=n||new Date,e=e.replace("%D","%m/%d/%Y"),e=e.replace("%r","%I:%M:%S %p"),e=e.replace("%Y",""+n.getFullYear()),e=e.replace("%y",""+n.getYear()),e=e.replace("%m",l(n.getMonth()+1,2)),e=e.replace("%d",l(n.getDate(),2)),e=e.replace("%H",""+l(n.getHours(),2)),e=e.replace("%M",""+l(n.getMinutes(),2)),e=e.replace("%S",""+l(n.getSeconds(),2)),e=e.replace("%I",""+((n.getHours()+11)%12+1)),e=e.replace("%p",n.getHours()<12?"AM":"PM"),e=e.replace("%B",""+t.translate(c[n.getMonth()])),e=e.replace("%b",""+t.translate(s[n.getMonth()])),e=e.replace("%A",""+t.translate(u[n.getDay()])),e=e.replace("%a",""+t.translate(a[n.getDay()])),e=e.replace("%%","%"),e},d=function(t,e,n,r){var o=t.dom.create("time",{datetime:n},r);e.parentNode.insertBefore(o,e),t.dom.remove(e),t.selection.select(o,!0),t.selection.collapse(!1)},h=function(t,e){if(i(t)){var n=f(t,e),r=void 0;r=/%[HMSIp]/.test(e)?f(t,"%Y-%m-%dT%H:%M"):f(t,"%Y-%m-%d");var o=t.dom.getParent(t.selection.getStart(),"time");o?d(t,o,r,n):t.insertContent('<time datetime="'+r+'">'+n+"</time>")}else t.insertContent(f(t,e))},p=function(t){t.addCommand("mceInsertDate",(function(){h(t,e(t))})),t.addCommand("mceInsertTime",(function(){h(t,n(t))}))},m=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},g=tinymce.util.Tools.resolve("tinymce.util.Tools"),v=function(t){var e=r(t),n=m(o(t));t.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(t){return t===n.get()},fetch:function(n){n(g.map(e,(function(e){return{type:"choiceitem",text:f(t,e),value:e}})))},onAction:function(e){h(t,n.get())},onItemAction:function(e,r){n.set(r),h(t,r)}});var i=function(e){return function(){n.set(e),h(t,e)}};t.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return g.map(e,(function(e){return{type:"menuitem",text:f(t,e),onAction:i(e)}}))}})};function y(){t.add("insertdatetime",(function(t){p(t),v(t)}))}y()})()},a58c:function(t,e,n){},a623:function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").every,i=n("a640"),a=n("ae40"),u=i("every"),s=a("every");r({target:"Array",proto:!0,forced:!u||!s},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},a8b8:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){},n=function(t){return function(){return t}},r=n(!1),o=n(!0),i=function(){return a},a=function(){var t=function(t){return t.isNone()},a=function(t){return t()},u=function(t){return t},s={fold:function(t,e){return t()},is:r,isSome:r,isNone:o,getOr:u,getOrThunk:a,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:u,orThunk:a,map:i,each:e,bind:i,exists:r,forall:o,filter:i,equals:t,equals_:t,toArray:function(){return[]},toString:n("none()")};return s}(),u=function(t){var e=n(t),i=function(){return c},s=function(e){return e(t)},c={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:o,isNone:r,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:i,orThunk:i,map:function(e){return u(e(t))},each:function(e){e(t)},bind:s,exists:s,forall:s,filter:function(e){return e(t)?c:a},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(r,(function(e){return n(t,e)}))}};return c},s=function(t){return null===t||void 0===t?a:u(t)},c={some:u,none:i,from:s},l=function(t,e){return e>=0&&e<t.length?c.some(t[e]):c.none()},f=function(t){return l(t,0)},d=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");function h(t){return t&&"PRE"===t.nodeName&&-1!==t.className.indexOf("language-")}function p(t){return function(e,n){return t(n)}}var m="undefined"!==typeof window?window:Function("return this;")(),g={},v={exports:g},y={};(function(t,e,n,r){var o=window.Prism;window.Prism={manual:!0},function(r){if("object"===typeof e&&"undefined"!==typeof n)n.exports=r();else if("function"===typeof t&&t.amd)t([],r);else{var o;o="undefined"!==typeof window?window:"undefined"!==typeof y?y:"undefined"!==typeof self?self:this,o.EphoxContactWrapper=r()}}((function(){return function(){function t(e,n,o){function i(u,s){if(!n[u]){if(!e[u]){var c="function"==typeof r&&r;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};e[u][0].call(f.exports,(function(t){var n=e[u][1][t];return i(n||t)}),f,f.exports,t,e,n,o)}return n[u].exports}for(var a="function"==typeof r&&r,u=0;u<o.length;u++)i(o[u]);return i}return t}()({1:[function(t,e,n){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/,number:/(?:\b0x(?:[\da-f]+\.?[\da-f]*|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ful]*/i}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+(?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c["string"]],comment:Prism.languages.c["comment"],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c["boolean"]},{}],2:[function(t,e,n){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},{}],3:[function(t,e,n){(function(t){(function(){var n="undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},r=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function t(e){return e instanceof o?new o(e.type,t(e.content),e.alias):Array.isArray(e)?e.map(t):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t["__id"]||Object.defineProperty(t,"__id",{value:++n}),t["__id"]},clone:function t(e,n){var o,i;switch(n=n||{},r.util.type(e)){case"Object":if(i=r.util.objId(e),n[i])return n[i];for(var a in o={},n[i]=o,e)e.hasOwnProperty(a)&&(o[a]=t(e[a],n));return o;case"Array":return i=r.util.objId(e),n[i]?n[i]:(o=[],n[i]=o,e.forEach((function(e,r){o[r]=t(e,n)})),o);default:return e}},getLanguage:function(t){while(t&&!e.test(t.className))t=t.parentElement;return t?(t.className.match(e)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"===typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var t=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(r.stack)||[])[1];if(t){var e=document.getElementsByTagName("script");for(var n in e)if(e[n].src==t)return e[n]}return null}},isActive:function(t,e,n){var r="no-"+e;while(t){var o=t.classList;if(o.contains(e))return!0;if(o.contains(r))return!1;t=t.parentElement}return!!n}},languages:{extend:function(t,e){var n=r.util.clone(r.languages[t]);for(var o in e)n[o]=e[o];return n},insertBefore:function(t,e,n,o){o=o||r.languages;var i=o[t],a={};for(var u in i)if(i.hasOwnProperty(u)){if(u==e)for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);n.hasOwnProperty(u)||(a[u]=i[u])}var c=o[t];return o[t]=a,r.languages.DFS(r.languages,(function(e,n){n===c&&e!=t&&(this[e]=a)})),a},DFS:function t(e,n,o,i){i=i||{};var a=r.util.objId;for(var u in e)if(e.hasOwnProperty(u)){n.call(e,u,e[u],o||u);var s=e[u],c=r.util.type(s);"Object"!==c||i[a(s)]?"Array"!==c||i[a(s)]||(i[a(s)]=!0,t(s,n,u,i)):(i[a(s)]=!0,t(s,n,null,i))}}},plugins:{},highlightAll:function(t,e){r.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var o={callback:n,container:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var i,a=0;i=o.elements[a++];)r.highlightElement(i,!0===e,o.callback)},highlightElement:function(n,o,i){var a=r.util.getLanguage(n),u=r.languages[a];n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+a;var s=n.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&(s.className=s.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c=n.textContent,l={element:n,language:a,grammar:u,code:c};function f(t){l.highlightedCode=t,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),i&&i.call(l.element)}if(r.hooks.run("before-sanity-check",l),!l.code)return r.hooks.run("complete",l),void(i&&i.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(o&&t.Worker){var d=new Worker(r.filename);d.onmessage=function(t){f(t.data)},d.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else f(r.highlight(l.code,l.grammar,l.language));else f(r.util.encode(l.code))},highlight:function(t,e,n){var i={code:t,grammar:e,language:n};return r.hooks.run("before-tokenize",i),i.tokens=r.tokenize(i.code,i.grammar),r.hooks.run("after-tokenize",i),o.stringify(r.util.encode(i.tokens),i.language)},tokenize:function(t,e){var n=e.rest;if(n){for(var r in n)e[r]=n[r];delete e.rest}var o=new a;return u(o,o.head,t),i(t,o,e,o.head,0),c(o)},hooks:{all:{},add:function(t,e){var n=r.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=r.hooks.all[t];if(n&&n.length)for(var o,i=0;o=n[i++];)o(e)}},Token:o};function o(t,e,n,r){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length}function i(t,e,n,a,c,l){for(var f in n)if(n.hasOwnProperty(f)&&n[f]){var d=n[f];d=Array.isArray(d)?d:[d];for(var h=0;h<d.length;++h){if(l&&l.cause==f+","+h)return;var p=d[h],m=p.inside,g=!!p.lookbehind,v=!!p.greedy,y=0,b=p.alias;if(v&&!p.pattern.global){var x=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,x+"g")}for(var w=p.pattern||p,_=a.next,S=c;_!==e.tail;S+=_.value.length,_=_.next){if(l&&S>=l.reach)break;var C=_.value;if(e.length>t.length)return;if(!(C instanceof o)){var k=1;if(v&&_!=e.tail.prev){w.lastIndex=S;var T=w.exec(t);if(!T)break;var A=T.index+(g&&T[1]?T[1].length:0),O=T.index+T[0].length,M=S;M+=_.value.length;while(A>=M)_=_.next,M+=_.value.length;if(M-=_.value.length,S=M,_.value instanceof o)continue;for(var D=_;D!==e.tail&&(M<O||"string"===typeof D.value);D=D.next)k++,M+=D.value.length;k--,C=t.slice(S,M),T.index-=S}else{w.lastIndex=0;T=w.exec(C)}if(T){g&&(y=T[1]?T[1].length:0);A=T.index+y;var I=T[0].slice(y),E=(O=A+I.length,C.slice(0,A)),R=C.slice(O),N=S+C.length;l&&N>l.reach&&(l.reach=N);var P=_.prev;E&&(P=u(e,P,E),S+=E.length),s(e,P,k);var L=new o(f,m?r.tokenize(I,m):I,b,I);_=u(e,P,L),R&&u(e,_,R),k>1&&i(t,e,n,_.prev,S,{cause:f+","+h,reach:N})}}}}}}function a(){var t={value:null,prev:null,next:null},e={value:null,prev:t,next:null};t.next=e,this.head=t,this.tail=e,this.length=0}function u(t,e,n){var r=e.next,o={value:n,prev:e,next:r};return e.next=o,r.prev=o,t.length++,o}function s(t,e,n){for(var r=e.next,o=0;o<n&&r!==t.tail;o++)r=r.next;e.next=r,r.prev=e,t.length-=o}function c(t){var e=[],n=t.head.next;while(n!==t.tail)e.push(n.value),n=n.next;return e}if(t.Prism=r,o.stringify=function t(e,n){if("string"==typeof e)return e;if(Array.isArray(e)){var o="";return e.forEach((function(e){o+=t(e,n)})),o}var i={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n},a=e.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(i.classes,a):i.classes.push(a)),r.hooks.run("wrap",i);var u="";for(var s in i.attributes)u+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+u+">"+i.content+"</"+i.tag+">"},!t.document)return t.addEventListener?(r.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),o=n.language,i=n.code,a=n.immediateClose;t.postMessage(r.highlight(i,r.languages[o],o)),a&&t.close()}),!1),r):r;var l=r.util.currentScript();function f(){r.manual||r.highlightAll()}if(l&&(r.filename=l.src,l.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var d=document.readyState;"loading"===d||"interactive"===d&&l&&l.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return r}(n);"undefined"!==typeof e&&e.exports&&(e.exports=r),"undefined"!==typeof t&&(t.Prism=r)}).call(this)}).call(this,"undefined"!==typeof y?y:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],4:[function(t,e,n){(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return e.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+\.?[\da-f']*|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+\.?[\d']*|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]*/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),t.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)(?:[^;{}"'])+?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism)},{}],5:[function(t,e,n){(function(t){function e(t,e){return t.replace(/<<(\d+)>>/g,(function(t,n){return"(?:"+e[+n]+")"}))}function n(t,n,r){return RegExp(e(t,n),r||"")}function r(t,e){for(var n=0;n<e;n++)t=t.replace(/<<self>>/g,(function(){return"(?:"+t+")"}));return t.replace(/<<self>>/g,"[^\\s\\S]")}var o={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface struct",contextual:"add alias and ascending async await by descending from get global group into join let nameof not notnull on or orderby partial remove select set unmanaged value when where where",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function i(t){return"\\b(?:"+t.trim().replace(/ /g,"|")+")\\b"}var a=i(o.typeDeclaration),u=RegExp(i(o.type+" "+o.typeDeclaration+" "+o.contextual+" "+o.other)),s=i(o.typeDeclaration+" "+o.contextual+" "+o.other),c=i(o.type+" "+o.typeDeclaration+" "+o.other),l=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),f=r(/\((?:[^()]|<<self>>)*\)/.source,2),d=/@?\b[A-Za-z_]\w*\b/.source,h=e(/<<0>>(?:\s*<<1>>)?/.source,[d,l]),p=e(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[s,h]),m=/\[\s*(?:,\s*)*\]/.source,g=e(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[p,m]),v=e(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[l,f,m]),y=e(/\(<<0>>+(?:,<<0>>+)+\)/.source,[v]),b=e(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[y,p,m]),x={keyword:u,punctuation:/[<>()?,.:[\]]/},w=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,_=/"(?:\\.|[^\\"\r\n])*"/.source,S=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;t.languages.csharp=t.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[S]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0},{pattern:RegExp(w),greedy:!0,alias:"character"}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[p]),lookbehind:!0,inside:x},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[d,b]),lookbehind:!0,inside:x},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[d]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[a,h]),lookbehind:!0,inside:x},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[p]),lookbehind:!0,inside:x},{pattern:n(/(\bwhere\s+)<<0>>/.source,[d]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[g]),lookbehind:!0,inside:x},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[b,c,d]),inside:x}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),t.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),t.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[d]),lookbehind:!0,alias:"punctuation"}}),t.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[d]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|typeof|sizeof)\s*\(\s*)(?:[^()\s]|\s(?!\s*\))|<<0>>)*(?=\s*\))/.source,[f]),lookbehind:!0,alias:"class-name",inside:x},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[b,p]),inside:x,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[b]),lookbehind:!0,inside:x,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[d,l]),inside:{function:n(/^<<0>>/.source,[d]),generic:{pattern:RegExp(l),alias:"class-name",inside:x}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>)(?:\s*,\s*(?:<<3>>|<<4>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[a,h,d,b,u.source]),lookbehind:!0,inside:{keyword:u,"class-name":{pattern:RegExp(b),greedy:!0,inside:x},punctuation:/,/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var C=_+"|"+w,k=e(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[C]),T=r(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[k]),2),A=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,O=e(/<<0>>(?:\s*\(<<1>>*\))?/.source,[p,T]);t.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[A,O]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[A]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[T]),inside:t.languages.csharp},"class-name":{pattern:RegExp(p),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var M=/:[^}\r\n]+/.source,D=r(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[k]),2),I=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[D,M]),E=r(e(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[C]),2),R=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[E,M]);function N(e,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[e]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,M]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:t.languages.csharp}}},string:/[\s\S]+/}}t.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[I]),lookbehind:!0,greedy:!0,inside:N(I,D)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[R]),lookbehind:!0,greedy:!0,inside:N(R,E)}]})})(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp},{}],6:[function(t,e,n){(function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\((?!\s*\))\s*)(?:[^()]|\((?:[^()]|\([^()]*\))*\))+?(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css["atrule"].inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},n.tag))})(Prism)},{}],7:[function(t,e,n){(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|null|open|opens|package|private|protected|provides|public|record|requires|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/\b[A-Z](?:\w*[a-z]\w*)?\b/;t.languages.java=t.languages.extend("clike",{"class-name":[n,/\b[A-Z]\w*(?=\s+\w+\s*[;,=())])/],keyword:e,function:[t.languages.clike.function,{pattern:/(\:\:)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x[\da-f_]*\.?[\da-f_p+-]+\b|(?:\b\d[\d_]*\.?[\d_]*|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),t.languages.insertBefore("java","class-name",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return e.source}))),lookbehind:!0,inside:{punctuation:/\./}},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":n,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(Prism)},{}],8:[function(t,e,n){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript},{}],9:[function(t,e,n){(function(t){function e(t,e){return"___"+t.toUpperCase()+e+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,o,i){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(o,(function(t){if("function"===typeof i&&!i(t))return t;var o,u=a.length;while(-1!==n.code.indexOf(o=e(r,u)))++u;return a[u]=t,o})),n.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=t.languages[r];var o=0,i=Object.keys(n.tokenStack);a(n.tokens)}function a(u){for(var s=0;s<u.length;s++){if(o>=i.length)break;var c=u[s];if("string"===typeof c||c.content&&"string"===typeof c.content){var l=i[o],f=n.tokenStack[l],d="string"===typeof c?c:c.content,h=e(r,l),p=d.indexOf(h);if(p>-1){++o;var m=d.substring(0,p),g=new t.Token(r,t.tokenize(f,n.grammar),"language-"+r,f),v=d.substring(p+h.length),y=[];m&&y.push.apply(y,a([m])),y.push(g),v&&y.push.apply(y,a([v])),"string"===typeof c?u.splice.apply(u,[s,1].concat(y)):c.content=y}}else c.content&&a(c.content)}return u}}}})})(Prism)},{}],10:[function(t,e,n){Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup["tag"].inside["attr-value"].inside["entity"]=Prism.languages.markup["entity"],Prism.languages.markup["doctype"].inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes["title"]=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(t,e){var n={};n["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},n["cdata"]=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};var o={};o[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return t})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},{}],11:[function(t,e,n){(function(t){t.languages.php=t.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),t.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),t.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),t.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),t.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var e={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)*)/,lookbehind:!0,inside:t.languages.php};t.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:e}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:e}}}),delete t.languages.php["string"],t.hooks.add("before-tokenize",(function(e){if(/<\?/.test(e.code)){var n=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi;t.languages["markup-templating"].buildPlaceholders(e,"php",n)}})),t.hooks.add("after-tokenize",(function(e){t.languages["markup-templating"].tokenizePlaceholders(e,"php")}))})(Prism)},{}],12:[function(t,e,n){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside["interpolation"].inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},{}],13:[function(t,e,n){(function(t){t.languages.ruby=t.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var e={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:t.languages.ruby}};delete t.languages.ruby.function,t.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/.source,/\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/.source,/<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/.source].join("|")+")"),greedy:!0,inside:{interpolation:e}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:t.languages.ruby}}}),t.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),t.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:e}},{pattern:/("|')(?:#\{[^}]+\}|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:e}}],t.languages.rb=t.languages.ruby})(Prism)},{}],14:[function(t,e,n){var r=t("prismjs/components/prism-core");t("prismjs/components/prism-clike"),t("prismjs/components/prism-markup-templating"),t("prismjs/components/prism-c"),t("prismjs/components/prism-cpp"),t("prismjs/components/prism-csharp"),t("prismjs/components/prism-css"),t("prismjs/components/prism-java"),t("prismjs/components/prism-javascript"),t("prismjs/components/prism-markup"),t("prismjs/components/prism-php"),t("prismjs/components/prism-python"),t("prismjs/components/prism-ruby"),e.exports={boltExport:r}},{"prismjs/components/prism-c":1,"prismjs/components/prism-clike":2,"prismjs/components/prism-core":3,"prismjs/components/prism-cpp":4,"prismjs/components/prism-csharp":5,"prismjs/components/prism-css":6,"prismjs/components/prism-java":7,"prismjs/components/prism-javascript":8,"prismjs/components/prism-markup":10,"prismjs/components/prism-markup-templating":9,"prismjs/components/prism-php":11,"prismjs/components/prism-python":12,"prismjs/components/prism-ruby":13}]},{},[14])(14)}));var i=window.Prism;window.Prism=o})(void 0,g,v,void 0);var b=v.exports.boltExport,x=function(t){return t.getParam("codesample_languages")},w=function(t){return t.getParam("codesample_global_prismjs",!1,"boolean")},_=function(t){return m.Prism&&w(t)?m.Prism:b},S=function(t){var e=t.selection?t.selection.getNode():null;return h(e)?c.some(e):c.none()},C=function(t,e,n){t.undoManager.transact((function(){var r=S(t);return n=d.DOM.encode(n),r.fold((function(){t.insertContent('<pre id="__new" class="language-'+e+'">'+n+"</pre>"),t.selection.select(t.$("#__new").removeAttr("id")[0])}),(function(r){t.dom.setAttrib(r,"class","language-"+e),r.innerHTML=n,_(t).highlightElement(r),t.selection.select(r)}))}))},k=function(t){var e=S(t);return e.fold((function(){return""}),(function(t){return t.textContent}))},T=function(t){var e=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],n=x(t);return n||e},A=function(t,e){var n=S(t);return n.fold((function(){return e}),(function(t){var n=t.className.match(/language-(\w+)/);return n?n[1]:e}))},O=function(t){var e=T(t),n=f(e).fold((function(){return""}),(function(t){return t.value})),r=A(t,n),o=k(t);t.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:e},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:r,code:o},onSubmit:function(e){var n=e.getData();C(t,n.language,n.code),e.close()}})},M=function(t){t.addCommand("codesample",(function(){var e=t.selection.getNode();t.selection.isCollapsed()||h(e)?O(t):t.formatter.toggle("code")}))},D=function(t){var e=t.$;t.on("PreProcess",(function(t){e("pre[contenteditable=false]",t.node).filter(p(h)).each((function(t,n){var r=e(n),o=n.textContent;r.attr("class",e.trim(r.attr("class"))),r.removeAttr("contentEditable"),r.empty().append(e("<code></code>").each((function(){this.textContent=o})))}))})),t.on("SetContent",(function(){var n=e("pre").filter(p(h)).filter((function(t,e){return"false"!==e.contentEditable}));n.length&&t.undoManager.transact((function(){n.each((function(n,r){e(r).find("br").each((function(e,n){n.parentNode.replaceChild(t.getDoc().createTextNode("\n"),n)})),r.contentEditable="false",r.innerHTML=t.dom.encode(r.textContent),_(t).highlightElement(r),r.className=e.trim(r.className)}))}))}))},I=function(t){var e=t.selection.getStart();return t.dom.is(e,'pre[class*="language-"]')},E=function(t){t.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:function(){return O(t)},onSetup:function(e){var n=function(){e.setActive(I(t))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}}),t.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:function(){return O(t)}})};function R(){t.add("codesample",(function(t){D(t),E(t),M(t),t.on("dblclick",(function(e){h(e.target)&&O(t)}))}))}R()})()},a975:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAByCAYAAACP3YV9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQcSURBVHhe7dzNa1xlFMfxc557Z2LTFKlJF0VqN9rWWEppQ0UUKyj+AS51Ja4U10ZxUV9Wrl3oRhAXCoIr11IVX6CkG402G6mGlNiqoWrTJvPyHJ+hR9Bk7p20ZF7uL78PNJPzwISQb2/uc6e9I0REtN3UH7fkY5Hs2IH8IZEwI2ZT8RafT+UylbZouCKxfe7Dpdbc6yLpR7w1Wwpx8aDcsSa1pyTqrKoc82Xqr3Oieuba1PpnM+el6WuFgj8Wmp+WeiPmb6vpB4w4UKcs2qe7r9RetdOS+1qh0pCWjtj8Wv3lqOG5NGY3V2lQ0oGTq+grCxfHnvelQqW/Wr8/WL8/j/Jt+oJ3+hINx0q7EU488OvaLz5vUnpEpogvMOJIuCuvxWf8864KQ87vk4l0vD7oIw1ZFHskneoKT2+FIUNNxtIlxh4facjSuXKvnCzp5Y+bBOs8lxuckZE2Pj/cSB8LlJ4jqToYEgRDgmBIEAwJonAXtLBfpqxW+yZtXe/zpb4ys6/TN9PysTLS5v74gF40mWtNNB4++qM0fP6fkQnZ0ny/7L6+4mM1/CUTmdbPDugfEyoSMjYmjy5JpUJemJQ9Ml7/ahRC8hwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCSIkbn3I0Z7WkL828dKUOscCOEtVT3iS/1UjZt4qCfexLMTMCQIhgTBkCBue7MTRV5Ti1d9pG2h96Yd8Is+bNSfXWtoZwcOXbqx5CNtgwt3jz2mmZ31cSPuWiuj5/skF2NIEAwJgiFBMCSI27/8sPaTIYbLPtI2MJUZDfqejxvxRXMQvPzYCRgSBEOCYEgQDAlidHatZp+kb6frjmxUdf7PjgV7In026Uv9VI3LD77xbk+8/NgJGBIEQ4JgSBAMCYIhQTAkCIYEwZAgGBIEQ4JgSBAMCYIhQTAkCIYEwZAgGBIEQ4JgSBAMCYIhQTAkCIYEwZAgGBLEyNwy0Lb4aBb1Tx8rIYqNh6Dvi+phX+qnatz7YSKrap2HilHZlT5mN4e+4nsIgOBNPDsBQ4JgSBAMCYIhQRSGHM86l0nS8pGGzEyaa7uKL88KQ640ZT1dnVTqAh2Zqv128nznHci7Kwx5/LKspr8HX/pIQxZNv0gX/W0fNyk9R6qGd9Ox/LuPNCxmy6L5Rz51VRry8OL6z+nhzfSn8JCm/krnxjVRmZ1evL7sS12VH5Hp66zua7yjKi+lMf2qpYEyuRrMnl1ebJYejR2Fr7X+l52WfOGnsccl2BvpCad8mfrrc41x9tBSay79zHv+RtxSyH+l86Uu3FM7kZ40bWJ708ItPZ960BRM9Q9tyfyRS83vfJWIiIZB5B8AjEPQlDVuMwAAAABJRU5ErkJggg=="},ae68:function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),o=function(t){return t.fire("ResizeEditor")},i=function(t){return t.getParam("min_height",t.getElement().offsetHeight,"number")},a=function(t){return t.getParam("max_height",0,"number")},u=function(t){return t.getParam("autoresize_overflow_padding",1,"number")},s=function(t){return t.getParam("autoresize_bottom_margin",50,"number")},c=function(t){return t.getParam("autoresize_on_init",!0,"boolean")},l=function(t){return t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen()},f=function(t,e,n,o,i){r.setEditorTimeout(t,(function(){p(t,e),n--?f(t,e,n,o,i):i&&i()}),o)},d=function(t,e){var n=t.getBody();n&&(n.style.overflowY=e?"":"hidden",e||(n.scrollTop=0))},h=function(t,e,n,r){var o=parseInt(t.getStyle(e,n,r),10);return isNaN(o)?0:o},p=function(t,e){var r=t.dom,u=t.getDoc();if(u)if(l(t))d(t,!0);else{var c=u.documentElement,f=s(t),m=i(t),g=h(r,c,"margin-top",!0),v=h(r,c,"margin-bottom",!0),y=c.offsetHeight+g+v+f;y<0&&(y=0);var b=t.getContainer().offsetHeight,x=t.getContentAreaContainer().offsetHeight,w=b-x;y+w>i(t)&&(m=y+w);var _=a(t);if(_&&m>_?(m=_,d(t,!0)):d(t,!1),m!==e.get()){var S=m-e.get();if(r.setStyle(t.getContainer(),"height",m+"px"),e.set(m),o(t),n.browser.isSafari()&&n.mac){var C=t.getWin();C.scrollTo(C.pageXOffset,C.pageYOffset)}t.hasFocus()&&t.selection.scrollIntoView(t.selection.getNode()),n.webkit&&S<0&&p(t,e)}}},m=function(t,e){t.on("init",(function(){var e=u(t),n=t.dom;n.setStyles(t.getDoc().documentElement,{height:"auto"}),n.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})})),t.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(){p(t,e)})),c(t)&&t.on("init",(function(){f(t,e,20,100,(function(){f(t,e,5,1e3)}))}))},g=function(t,e){t.addCommand("mceAutoResize",(function(){p(t,e)}))};function v(){e.add("autoresize",(function(e){if(e.settings.hasOwnProperty("resize")||(e.settings.resize=!1),!e.inline){var n=t(0);g(e,n),m(e,n)}}))}v()})()},ae89:function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o={class:"app-container"},i={class:"filter-container"},a=Object(r["createVNode"])("br",null,null,-1),u={class:"dialog-footer"};function s(t,e,n,s,c,l){var f=Object(r["resolveComponent"])("el-input"),d=Object(r["resolveComponent"])("el-option"),h=Object(r["resolveComponent"])("el-select"),p=Object(r["resolveComponent"])("el-button"),m=Object(r["resolveComponent"])("el-table-column"),g=Object(r["resolveComponent"])("el-table"),v=Object(r["resolveComponent"])("el-pagination"),y=Object(r["resolveComponent"])("el-col"),b=Object(r["resolveComponent"])("el-form-item"),x=Object(r["resolveComponent"])("el-date-picker"),w=Object(r["resolveComponent"])("el-form"),_=Object(r["resolveComponent"])("el-dialog"),S=Object(r["resolveDirective"])("waves"),C=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])("div",i,[Object(r["createVNode"])(f,{modelValue:t.listQuery.findName,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.listQuery.findName=e}),placeholder:t.t("table.userName"),style:{width:"200px","margin-right":"1vw"},class:"filter-item",onKeyup:Object(r["withKeys"])(t.handleSearch,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),Object(r["createVNode"])(f,{modelValue:t.listQuery.findModel,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.listQuery.findModel=e}),placeholder:t.t("table.fileLink"),style:{width:"200px","margin-right":"1vw"},class:"filter-item",onKeyup:Object(r["withKeys"])(t.handleSearch,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),Object(r["createVNode"])(h,{modelValue:t.listQuery.findStatus,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.listQuery.findStatus=e}),placeholder:t.t("table.findStatus"),style:{width:"200px","margin-right":"1vw"},class:"filter-item",onKeyup:Object(r["withKeys"])(t.handleSearch,["enter"])},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{label:"",value:"1"}),Object(r["createVNode"])(d,{label:"",value:"0"})]})),_:1},8,["modelValue","placeholder","onKeyup"]),Object(r["createVNode"])(f,{modelValue:t.listQuery.findType,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.listQuery.findType=e}),placeholder:t.t("table.findType"),style:{width:"200px","margin-right":"1vw"},class:"filter-item",onKeyup:Object(r["withKeys"])(t.handleSearch,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),Object(r["withDirectives"])(Object(r["createVNode"])(p,{class:"filter-item",type:"primary",plain:"",icon:"el-icon-search",onClick:t.handleSearch},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.search")),1)]})),_:1},8,["onClick"]),[[S]])]),Object(r["withDirectives"])(Object(r["createVNode"])(g,{key:t.tableKey,data:t.list,border:"",fit:"","highlight-current-row":"",style:{width:"100%"},"default-sort":{prop:"userId",order:"descending"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{label:t.t("table.fileId"),prop:"userId",sortable:"",align:"center",width:"100",fixed:""},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.fileId),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.userId"),prop:"userName",align:"center",width:"100",fixed:""},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.userId),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.fileName"),prop:"userEmail",align:"center",width:"250"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.fileName),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.fileStatus"),prop:"userEmail",align:"center",width:"100"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(0==e.fileName?"":""),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.fileSize"),prop:"userEmail",align:"center",width:"100"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.fileSize),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.fileType"),prop:"userEmail",align:"center",width:"100"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.fileType),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.fileTime"),prop:"userEmail",align:"center",width:"250"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.fileTime),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.filePath"),prop:"userEmail",align:"center",width:"250"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.filePath),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.fileLink"),prop:"userEmail",align:"center",width:"250"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.fileLink),1)]})),_:1},8,["label"]),Object(r["createVNode"])(m,{label:t.t("table.actions"),align:"center",width:"200",fixed:"right"},{default:Object(r["withCtx"])((function(e){var n=e.row,o=e.$index;return[Object(r["createVNode"])(p,{type:"primary",size:"mini",onClick:function(e){return t.handleUpdate(n)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.edit")),1)]})),_:2},1032,["onClick"]),"deleted"!==n.status?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,size:"mini",type:"danger",onClick:function(e){return t.handleDelete(n,o)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.delete")),1)]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["label"])]})),_:1},8,["data"]),[[C,t.listLoading]]),a,Object(r["withDirectives"])(Object(r["createVNode"])(v,{total:t.total,page:t.listQuery.page,"onUpdate:page":e[5]||(e[5]=function(e){return t.listQuery.page=e}),limit:t.listQuery.limit,"onUpdate:limit":e[6]||(e[6]=function(e){return t.listQuery.limit=e}),onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange,"current-page":1,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","page","limit","onSizeChange","onCurrentChange"]),[[r["vShow"],t.total>0]]),Object(r["createVNode"])(_,{title:t.textMap[t.dialogStatus],modelValue:t.dialogFormVisible,"onUpdate:modelValue":e[18]||(e[18]=function(e){return t.dialogFormVisible=e}),top:"4vh"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(w,{ref:"dataForm",model:t.editData,"label-position":"left","label-width":"100px",style:{width:"600px","margin-left":"50px"}},{default:Object(r["withCtx"])((function(){return["create"!==t.dialogStatus?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,label:t.t("table.fileId")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y,{span:14},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.fileId,"onUpdate:modelValue":e[7]||(e[7]=function(e){return t.editData.fileId=e}),disabled:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["label"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(b,{label:t.t("table.userId")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y,{span:14},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.userId,"onUpdate:modelValue":e[8]||(e[8]=function(e){return t.editData.userId=e}),disabled:""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["label"]),Object(r["createVNode"])(b,{label:t.t("table.fileName")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.fileName,"onUpdate:modelValue":e[9]||(e[9]=function(e){return t.editData.fileName=e})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(b,{label:t.t("table.fileStatus")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{modelValue:t.editData.fileStatus,"onUpdate:modelValue":e[10]||(e[10]=function(e){return t.editData.fileStatus=e})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{label:"",value:"1"}),Object(r["createVNode"])(d,{label:"",value:"0"})]})),_:1},8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(b,{label:t.t("table.fileSize")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y,{span:14},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.fileSize,"onUpdate:modelValue":e[11]||(e[11]=function(e){return t.editData.fileSize=e})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["label"]),Object(r["createVNode"])(b,{label:t.t("table.fileTime")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(x,{modelValue:t.editData.fileTime,"onUpdate:modelValue":e[12]||(e[12]=function(e){return t.editData.fileTime=e}),type:"datetime",placeholder:"Please pick a date",disabled:""},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(b,{label:t.t("table.fileType")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y,{span:14},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.fileType,"onUpdate:modelValue":e[13]||(e[13]=function(e){return t.editData.fileType=e})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["label"]),Object(r["createVNode"])(b,{label:t.t("table.filePath")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.filePath,"onUpdate:modelValue":e[14]||(e[14]=function(e){return t.editData.filePath=e})},null,8,["modelValue"])]})),_:1},8,["label"]),Object(r["createVNode"])(b,{label:t.t("table.fileLink")},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:t.editData.fileLink,"onUpdate:modelValue":e[15]||(e[15]=function(e){return t.editData.fileLink=e})},null,8,["modelValue"])]})),_:1},8,["label"])]})),_:1},8,["model"]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])(p,{onClick:e[16]||(e[16]=function(e){return t.dialogFormVisible=!1})},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.cancel")),1)]})),_:1}),Object(r["createVNode"])(p,{type:"primary",onClick:e[17]||(e[17]=function(e){return"create"===t.dialogStatus?t.createData():t.updateData()})},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.confirm")),1)]})),_:1})])]})),_:1},8,["title","modelValue"])])}n("4795");var c=n("5530"),l=n("53ca"),f=(n("96cf"),n("1da1")),d=n("3fd4"),h=n("2ef0"),p={fileId:void 0,userId:void 0,fileName:void 0,fileStatus:void 0,fileSize:void 0,fileTime:void 0,fileType:void 0,filePath:void 0,fileLink:void 0},m=(n("99af"),n("59b9")),g=n("ba72"),v=function(t){return Object(m["a"])().request("/admin/file/list?page=".concat(t.page,"&size=").concat(t.size,"&userName=").concat(t.userName,"&fileModel=").concat(t.fileModel,"&fileStatus=").concat(t.fileStatus,"&fileType=").concat(t.fileType),g["b"].GET,null,g["a"].form)},y=function(t){return Object(m["a"])().request("/admin/file/update",g["b"].POST,t,g["a"].json)},b=function(t){return Object(m["a"])().request("/admin/file/delete/".concat(t),g["b"].DELETE,null,g["a"].json)},x=n("47e2"),w=Object(r["defineComponent"])({components:{},setup:function(){var t=Object(x["b"])(),e=t.t,n=Object(r["ref"])(d["a"]),o=Object(r["reactive"])({tableKey:0,list:Array(),total:0,listLoading:!0,listQuery:{page:1,limit:10,findName:"",findModel:"",findStatus:"",findType:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},editData:p,handleCurrentChange:function(t){o.getList(t)},handleSizeChange:function(t){o.getList(null,null,t)},getList:function(t,e,n){return Object(f["a"])(regeneratorRuntime.mark((function r(){var i,a,u,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t&&(o.listQuery.page=t),n&&(o.listQuery.limit=n),console.log(e),o.listLoading=!0,u={page:o.listQuery.page,size:o.listQuery.limit,userName:"",fileModel:"",fileStatus:"",fileType:""},console.log(u),r.next=8,v(u);case 8:s=r.sent,o.list=null!==(i=null===s||void 0===s?void 0:s.data.items)&&void 0!==i?i:[],o.total=null!==(a=null===s||void 0===s?void 0:s.data.total)&&void 0!==a?a:0,setTimeout((function(){o.listLoading=!1}),500);case 12:case"end":return r.stop()}}),r)})))()},handleSearch:function(){return Object(f["a"])(regeneratorRuntime.mark((function t(){var e,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o.listQuery.page=1,o.listLoading=!0,r={page:1,size:o.listQuery.limit,userName:o.listQuery.findName,fileModel:o.listQuery.findModel,fileStatus:o.listQuery.findStatus,fileType:o.listQuery.findType},console.log(r),t.next=6,v(r);case 6:i=t.sent,o.list=null!==(e=null===i||void 0===i?void 0:i.data.items)&&void 0!==e?e:[],o.total=null!==(n=null===i||void 0===i?void 0:i.data.total)&&void 0!==n?n:0,setTimeout((function(){o.listLoading=!1}),500);case 10:case"end":return t.stop()}}),t)})))()},reseteditData:function(){o.editData=Object(h["cloneDeep"])(p)},handleCreate:function(){console.log(""),o.reseteditData(),o.dialogStatus="create",o.dialogFormVisible=!0},createData:function(){Object(r["unref"])(n)},handleUpdate:function(t){o.editData=Object.assign({},t),o.dialogStatus="update",o.dialogFormVisible=!0},updateData:function(){var t=Object(r["unref"])(n);t.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e&&(n=Object.assign({},o.editData),console.log(n),y(n).then((function(t){"200"===t.code?o.getList(o.listQuery.page,null,o.listQuery.limit).then((function(){d["c"].success({message:"",type:"success",duration:2e3})})):d["c"].error({message:"",type:"error",duration:2e3})})),o.dialogFormVisible=!1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleDelete:function(t,e){b(t.fileId).then((function(t){"200"===t.code?o.getList(o.listQuery.page,null,o.listQuery.limit).then((function(){d["c"].success({message:"",type:"success",duration:2e3})})):d["c"].error({message:"",type:"error",duration:2e3})}))}});return Object(r["onMounted"])((function(){console.log(Object(l["a"])(d["a"])),o.getList(null,null,10)})),Object(c["a"])(Object(c["a"])({t:e},Object(r["toRefs"])(o)),{},{dataForm:n})}});w.render=s;var _=w,S=Object(r["defineComponent"])({expose:[],setup:function(t){return{ComplexTable:_}}});S.__scopeId="data-v-da45c0f2";e["default"]=S},b0d2:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("59b9"),o=n("ba72"),i=function(){return Object(r["a"])().request("/admin/introduction/list",o["b"].GET,null,o["a"].json)},a=function(t){return Object(r["a"])().request("/admin/introduction/delete/".concat(t),o["b"].DELETE,null,o["a"].json)},u=function(t){return Object(r["a"])().request("/admin/introduction/update",o["b"].POST,t,o["a"].json)}},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),o=n("9152"),i=n("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(u()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,r):"string"===typeof e?p(t,e,n):v(t,e)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,n,r){return f(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}function h(t,e){if(f(e),t=s(t,e<0?0:0|y(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|x(e,n);t=s(t,r);var o=t.write(e,n);return o!==r&&(t=t.slice(0,o)),t}function m(t,e){var n=e.length<0?0:0|y(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function g(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=m(t,e),t}function v(t,e){if(c.isBuffer(e)){var n=0|y(e.length);return t=s(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?s(t,0):m(t,e);if("Buffer"===e.type&&i(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),c.alloc(+t)}function x(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return $(t).length;e=(""+e).toLowerCase(),r=!0}}function w(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function S(t,e,n,r,o){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:C(t,e,n,r,o);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):C(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function C(t,e,n,r,o){var i,a=1,u=t.length,s=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<u;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===s)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+s>u&&(n=u-s),i=n;i>=0;i--){for(var f=!0,d=0;d<s;d++)if(c(t,i+d)!==c(e,d)){f=!1;break}if(f)return i}return-1}function k(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[n+a]=u}return a}function T(t,e,n,r){return tt($(e,t.length-n),t,n,r)}function A(t,e,n,r){return tt(K(e),t,n,r)}function O(t,e,n,r){return A(t,e,n,r)}function M(t,e,n,r){return tt(Q(e),t,n,r)}function D(t,e,n,r){return tt(J(e,t.length-n),t,n,r)}function I(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);var r=[],o=e;while(o<n){var i,a,u,s,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:i=t[o+1],128===(192&i)&&(s=(31&c)<<6|63&i,s>127&&(l=s));break;case 3:i=t[o+1],a=t[o+2],128===(192&i)&&128===(192&a)&&(s=(15&c)<<12|(63&i)<<6|63&a,s>2047&&(s<55296||s>57343)&&(l=s));break;case 4:i=t[o+1],a=t[o+2],u=t[o+3],128===(192&i)&&128===(192&a)&&128===(192&u)&&(s=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&u,s>65535&&s<1114112&&(l=s))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return N(r)}e.Buffer=c,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=u(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return d(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=x,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):w.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,a=n-e,u=Math.min(i,a),s=this.slice(r,o),l=t.slice(e,n),f=0;f<u;++f)if(s[f]!==l[f]){i=s[f],a=l[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return k(this,t,e,n);case"utf8":case"utf-8":return T(this,t,e,n);case"ascii":return A(this,t,e,n);case"latin1":case"binary":return O(this,t,e,n);case"base64":return M(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function N(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=R));return n}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function B(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=Z(t[i]);return o}function z(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function V(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function H(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function U(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function W(t,e,n,r,i){return i||U(t,e,n,4,34028234663852886e22,-34028234663852886e22),o.write(t,e,n,r,23,4),n+4}function G(t,e,n,r,i){return i||U(t,e,n,8,17976931348623157e292,-17976931348623157e292),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||V(t,e,this.length);var r=this[t],o=1,i=0;while(++i<e&&(o*=256))r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||V(t,e,this.length);var r=this[t+--e],o=1;while(e>0&&(o*=256))r+=this[t+--e]*o;return r},c.prototype.readUInt8=function(t,e){return e||V(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||V(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||V(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||V(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||V(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||V(t,e,this.length);var r=this[t],o=1,i=0;while(++i<e&&(o*=256))r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||V(t,e,this.length);var r=e,o=1,i=this[t+--r];while(r>0&&(o*=256))i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||V(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||V(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||V(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||V(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||V(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||V(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||V(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||V(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||V(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;F(this,t,e,n,o,0)}var i=1,a=0;this[e]=255&t;while(++a<n&&(i*=256))this[e+a]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;F(this,t,e,n,o,0)}var i=n-1,a=1;this[e+i]=255&t;while(--i>=0&&(a*=256))this[e+i]=t/a&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):H(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);F(this,t,e,n,o-1,-o)}var i=0,a=1,u=0;this[e]=255&t;while(++i<n&&(a*=256))t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);F(this,t,e,n,o-1,-o)}var i=n-1,a=1,u=0;this[e+i]=255&t;while(--i>=0&&(a*=256))t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):H(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return W(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return W(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return G(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return G(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=c.isBuffer(t)?t:$(new c(t,r).toString()),u=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%u]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function Y(t){if(t=X(t).replace(q,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function X(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,r,o,i=[],a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r)}return i}function Q(t){return r.toByteArray(Y(t))}function tt(t,e,n,r){for(var o=0;o<r;++o){if(o+n>=e.length||o>=t.length)break;e[o+n]=t[o]}return o}function et(t){return t!==t}}).call(this,n("c8ba"))},bc54:function(t,e,n){n("7c4f")},be6c:function(t,e,n){"use strict";n("a58c")},be7f:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.VK"),n=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},r=function(t){return function(e){return n(e)===t}},o=function(t){return function(e){return typeof e===t}},i=function(t){return function(e){return t===e}},a=r("string"),u=r("array"),s=i(null),c=o("boolean"),l=o("function"),f=function(t){var e=t.getParam("link_assume_external_targets",!1);return c(e)&&e?1:!a(e)||"http"!==e&&"https"!==e?0:e},d=function(t){return t.getParam("link_context_toolbar",!1,"boolean")},h=function(t){return t.getParam("link_list")},p=function(t){return t.getParam("default_link_target")},m=function(t){return t.getParam("target_list",!0)},g=function(t){return t.getParam("rel_list",[],"array")},v=function(t){return t.getParam("link_class_list",[],"array")},y=function(t){return t.getParam("link_title",!0,"boolean")},b=function(t){return t.getParam("allow_unsafe_link_target",!1,"boolean")},x=function(t){return t.getParam("link_quicklink",!1,"boolean")},w=function(t){return t.getParam("link_default_protocol","http","string")},_=function(){},S=function(t){return function(){return t}},C=S(!1),k=S(!0),T=function(){return A},A=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:C,isSome:C,isNone:k,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:n,orThunk:e,map:T,each:_,bind:T,exists:C,forall:k,filter:T,equals:t,equals_:t,toArray:function(){return[]},toString:S("none()")};return r}(),O=function(t){var e=S(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:k,isNone:C,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return O(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:A},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(C,(function(e){return n(t,e)}))}};return o},M=function(t){return null===t||void 0===t?A:O(t)},D={some:O,none:T,from:M},I=Array.prototype.indexOf,E=Array.prototype.push,R=function(t,e){return I.call(t,e)},N=function(t,e){return R(t,e)>-1},P=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},L=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},B=function(t,e,n){return L(t,(function(t){n=e(n,t)})),n},z=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!u(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);E.apply(e,t[n])}return e},V=function(t,e){return z(P(t,e))},F=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return D.none()},j=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},H=function(t,e){return t?D.some(e):D.none()},U=tinymce.util.Tools.resolve("tinymce.util.Tools"),W=function(t){return a(t.value)?t.value:""},G=function(t){return a(t.text)?t.text:a(t.title)?t.title:""},q=function(t,e){var n=[];return U.each(t,(function(t){var r=G(t);if(void 0!==t.menu){var o=q(t.menu,e);n.push({text:r,items:o})}else{var i=e(t);n.push({text:r,value:i})}})),n},Y=function(t){return void 0===t&&(t=W),function(e){return D.from(e).map((function(e){return q(e,t)}))}},X=function(t){return Y(W)(t)},Z=function(t,e){return function(n){return{name:t,type:"listbox",label:e,items:n}}},$={sanitize:X,sanitizeWith:Y,createUi:Z,getValue:W},K=function(){return K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},K.apply(this,arguments)},J=Object.keys,Q=Object.hasOwnProperty,tt=function(t,e){for(var n=J(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},et=function(t){return function(e,n){t[n]=e}},nt=function(t,e,n,r){var o={};return tt(t,(function(t,o){(e(t,o)?n:r)(t,o)})),o},rt=function(t,e){var n={};return nt(t,e,et(n),_),n},ot=function(t,e){return Q.call(t,e)},it=function(t,e){return ot(t,e)&&void 0!==t[e]&&null!==t[e]},at=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ut=function(t){return t&&"a"===t.nodeName.toLowerCase()},st=function(t){return ut(t)&&!!ft(t)},ct=function(t,e){if(t.collapsed)return[];var n=t.cloneContents(),r=new at(n.firstChild,n),o=[],i=n.firstChild;do{e(i)&&o.push(i)}while(i=r.next());return o},lt=function(t){return/^\w+:/i.test(t)},ft=function(t){var e=t.getAttribute("data-mce-href");return e||t.getAttribute("href")},dt=function(t,e){var n=["noopener"],r=t?t.split(/\s+/):[],o=function(t){return U.trim(t.sort().join(" "))},i=function(t){return t=a(t),t.length>0?t.concat(n):n},a=function(t){return t.filter((function(t){return-1===U.inArray(n,t)}))},u=e?i(r):a(r);return u.length>0?o(u):""},ht=function(t){return t.replace(/\uFEFF/g,"")},pt=function(t,e){return e=e||t.selection.getNode(),bt(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]")},mt=function(t,e){var n=e?e.innerText||e.textContent:t.getContent({format:"text"});return ht(n)},gt=function(t){return U.grep(t,st).length>0},vt=function(t){return ct(t,st).length>0},yt=function(t){var e=t.schema.getTextInlineElements(),n=function(t){return 1===t.nodeType&&!ut(t)&&!ot(e,t.nodeName.toLowerCase())},r=ct(t.selection.getRng(),n);return 0===r.length},bt=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},xt=function(t){return B(["title","rel","class","target"],(function(e,n){return t[n].each((function(t){e[n]=t.length>0?t:null})),e}),{href:t.href})},wt=function(t,e){return"http"!==e&&"https"!==e||lt(t)?t:e+"://"+t},_t=function(t,e){var n=K({},e);if(!(g(t).length>0)&&!1===b(t)){var r=dt(n.rel,"_blank"===n.target);n.rel=r||null}return D.from(n.target).isNone()&&!1===m(t)&&(n.target=p(t)),n.href=wt(n.href,f(t)),n},St=function(t,e,n,r){n.each((function(t){e.hasOwnProperty("innerText")?e.innerText=t:e.textContent=t})),t.dom.setAttribs(e,r),t.selection.select(e)},Ct=function(t,e,n,r){bt(e)?Et(t,e,r):n.fold((function(){t.execCommand("mceInsertLink",!1,r)}),(function(e){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(e)))}))},kt=function(t,e,n){var r=t.selection.getNode(),o=pt(t,r),i=_t(t,xt(n));t.undoManager.transact((function(){n.href===e.href&&e.attach(),o?(t.focus(),St(t,o,n.text,i)):Ct(t,r,n.text,i)}))},Tt=function(t){var e=t.dom,n=t.selection,r=n.getBookmark(),o=n.getRng().cloneRange(),i=e.getParent(o.startContainer,"a[href]",t.getBody()),a=e.getParent(o.endContainer,"a[href]",t.getBody());i&&o.setStartBefore(i),a&&o.setEndAfter(a),n.setRng(o),t.execCommand("unlink"),n.moveToBookmark(r)},At=function(t){t.undoManager.transact((function(){var e=t.selection.getNode();bt(e)?It(t,e):Tt(t),t.focus()}))},Ot=function(t){var e=t.class,n=t.href,r=t.rel,o=t.target,i=t.text,a=t.title;return rt({class:e.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},(function(t,e){return!1===s(t)}))},Mt=function(t,e,n){t.hasPlugin("rtc",!0)?t.execCommand("createlink",!1,Ot(n)):kt(t,e,n)},Dt=function(t){t.hasPlugin("rtc",!0)?t.execCommand("unlink"):At(t)},It=function(t,e){var n=t.dom.select("img",e)[0];if(n){var r=t.dom.getParents(n,"a[href]",e)[0];r&&(r.parentNode.insertBefore(n,r),t.dom.remove(r))}},Et=function(t,e,n){var r=t.dom.select("img",e)[0];if(r){var o=t.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},Rt=function(t){return it(t,"items")},Nt=function(t,e){return F(e,(function(e){return Rt(e)?Nt(t,e.items):H(e.value===t,e)}))},Pt=function(t,e,n,r){var o=r[e],i=t.length>0;return void 0!==o?Nt(o,n).map((function(e){return{url:{value:e.value,meta:{text:i?t:e.text,attach:_}},text:i?t:e.text}})):D.none()},Lt=function(t,e){return"link"===e?t.link:"anchor"===e?t.anchor:D.none()},Bt=function(t,e){var n={text:t.text,title:t.title},r=function(t){return H(n.title.length<=0,D.from(t.meta.title).getOr(""))},o=function(t){return H(n.text.length<=0,D.from(t.meta.text).getOr(t.value))},i=function(t){var e=o(t.url),n=r(t.url);return e.isSome()||n.isSome()?D.some(K(K({},e.map((function(t){return{text:t}})).getOr({})),n.map((function(t){return{title:t}})).getOr({}))):D.none()},a=function(t,r){var o=Lt(e,r.name).getOr([]);return Pt(n.text,r.name,o,t)},u=function(t,e){var r=e.name;return"url"===r?i(t()):N(["anchor","link"],r)?a(t(),e):"text"===r||"title"===r?(n[r]=t()[r],D.none()):D.none()};return{onChange:u}},zt={init:Bt,getDelta:Pt},Vt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ft=tinymce.util.Tools.resolve("tinymce.util.Promise"),jt=function(t,e,n){var r=t.selection.getRng();Vt.setEditorTimeout(t,(function(){t.windowManager.confirm(e,(function(e){t.selection.setRng(r),n(e)}))}))},Ht=function(t){var e=t.href,n=e.indexOf("@")>0&&-1===e.indexOf("/")&&-1===e.indexOf("mailto:");return n?D.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return K(K({},t),{href:"mailto:"+e})}}):D.none()},Ut=function(t,e){return function(n){var r=n.href,o=1===t&&!lt(r)||0===t&&/^\s*www(\.|\d\.)/i.test(r);return o?D.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+e+":// prefix?",preprocess:function(t){return K(K({},t),{href:e+"://"+r})}}):D.none()}},Wt=function(t,e){return F([Ht,Ut(f(t),w(t))],(function(t){return t(e)})).fold((function(){return Ft.resolve(e)}),(function(n){return new Ft((function(r){jt(t,n.message,(function(t){r(t?n.preprocess(e):e)}))}))}))},Gt={preprocess:Wt},qt=function(t){var e=t.dom.select("a:not([href])"),n=V(e,(function(t){var e=t.name||t.id;return e?[{text:e,value:"#"+e}]:[]}));return n.length>0?D.some([{text:"None",value:""}].concat(n)):D.none()},Yt={getAnchors:qt},Xt=function(t){var e=v(t);return e.length>0?$.sanitize(e):D.none()},Zt={getClasses:Xt},$t=tinymce.util.Tools.resolve("tinymce.util.XHR"),Kt=function(t){try{return D.some(JSON.parse(t))}catch(e){return D.none()}},Jt=function(t){var e=function(e){return t.convertURL(e.value||e.url,"href")},n=h(t);return new Ft((function(t){a(n)?$t.send({url:n,success:function(e){return t(Kt(e))},error:function(e){return t(D.none())}}):l(n)?n((function(e){return t(D.some(e))})):t(D.from(n))})).then((function(t){return t.bind($.sanitizeWith(e)).map((function(t){if(t.length>0){var e=[{text:"None",value:""}];return e.concat(t)}return t}))}))},Qt={getLinks:Jt},te=function(t,e){var n=g(t);if(n.length>0){var r=e.is("_blank"),o=!1===b(t),i=function(t){return dt($.getValue(t),r)},a=o?$.sanitizeWith(i):$.sanitize;return a(n)}return D.none()},ee={getRels:te},ne=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],re=function(t){var e=m(t);return u(e)?$.sanitize(e).orThunk((function(){return D.some(ne)})):!1===e?D.none():D.some(ne)},oe={getTargets:re},ie=function(t,e,n){var r=t.getAttrib(e,n);return null!==r&&r.length>0?D.some(r):D.none()},ae=function(t,e){var n=t.dom,r=yt(t),o=r?D.some(mt(t.selection,e)):D.none(),i=e?D.some(n.getAttrib(e,"href")):D.none(),a=e?D.from(n.getAttrib(e,"target")):D.none(),u=ie(n,e,"rel"),s=ie(n,e,"class"),c=ie(n,e,"title");return{url:i,text:o,title:c,target:a,rel:u,linkClass:s}},ue=function(t,e){return Qt.getLinks(t).then((function(n){var r=ae(t,e);return{anchor:r,catalogs:{targets:oe.getTargets(t),rels:ee.getRels(t,r.target),classes:Zt.getClasses(t),anchor:Yt.getAnchors(t),link:n},optNode:D.from(e),flags:{titleEnabled:y(t)}}}))},se={collect:ue},ce=function(t,e){return function(n){var r=n.getData();if(!r.url.value)return Dt(t),void n.close();var o=function(t){return D.from(r[t]).filter((function(n){return!e.anchor[t].is(n)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}};Gt.preprocess(t,i).then((function(e){Mt(t,a,e)})),n.close()}},le=function(t){var e=pt(t);return se.collect(t,e)},fe=function(t,e){var n=t.anchor,r=n.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(e).getOr(""),linkClass:n.linkClass.getOr("")}},de=function(t,e,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),i=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=D.from(p(n)),u=fe(t,a),s=t.catalogs,c=zt.init(u,s),l={type:"panel",items:z([r,o,i,j([s.anchor.map($.createUi("anchor","Anchors")),s.rels.map($.createUi("rel","Rel")),s.targets.map($.createUi("target","Open link in...")),s.link.map($.createUi("link","Link list")),s.classes.map($.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onChange:function(t,e){var n=e.name;c.onChange(t.getData,{name:n}).each((function(e){t.setData(e)}))},onSubmit:e}},he=function(t){var e=le(t);e.then((function(e){var n=ce(t,e);return de(e,n,t)})).then((function(e){t.windowManager.open(e)}))},pe=function(t,e){document.body.appendChild(t),t.dispatchEvent(e),document.body.removeChild(t)},me=function(t){var e=document.createElement("a");e.target="_blank",e.href=t,e.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),pe(e,n)},ge=function(t,e){return t.dom.getParent(e,"a[href]")},ve=function(t){return ge(t,t.selection.getStart())},ye=function(t){return!0===t.altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey},be=function(t,e){if(e){var n=ft(e);if(/^#/.test(n)){var r=t.$(n);r.length&&t.selection.scrollIntoView(r[0],!0)}else me(e.href)}},xe=function(t){return function(){he(t)}},we=function(t){return function(){be(t,ve(t))}},_e=function(t){t.on("click",(function(n){var r=ge(t,n.target);r&&e.metaKeyPressed(n)&&(n.preventDefault(),be(t,r))})),t.on("keydown",(function(e){var n=ve(t);n&&13===e.keyCode&&ye(e)&&(e.preventDefault(),be(t,n))}))},Se=function(t,e){return t.on("NodeChange",e),function(){return t.off("NodeChange",e)}},Ce=function(t){return function(e){return Se(t,(function(){e.setActive(!t.mode.isReadOnly()&&null!==pt(t,t.selection.getNode()))}))}},ke=function(t){return function(e){var n=function(){return e.setDisabled(null===pt(t,t.selection.getNode()))};return n(),Se(t,n)}},Te=function(t){return function(e){var n=function(e){return gt(e)||vt(t.selection.getRng())},r=t.dom.getParents(t.selection.getStart());return e.setDisabled(!n(r)),Se(t,(function(t){return e.setDisabled(!n(t.parents))}))}},Ae=function(t){t.addCommand("mceLink",(function(){x(t)?t.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):xe(t)()}))},Oe=function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))},Me=function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:xe(t),onSetup:Ce(t)}),t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:we(t),onSetup:ke(t)}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Dt(t)},onSetup:Te(t)})},De=function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:we(t),onSetup:ke(t)}),t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:xe(t)}),t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Dt(t)},onSetup:Te(t)})},Ie=function(t){var e="link unlink openlink",n="link";t.ui.registry.addContextMenu("link",{update:function(r){return gt(t.dom.getParents(r,"a"))?e:n}})},Ee=function(t){var e=function(t){t.selection.collapse(!1)},n=function(e){var n=t.selection.getNode();return e.setDisabled(!pt(t,n)),function(){}};t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ce(t)},label:"Link",predicate:function(e){return!!pt(t,e)&&d(t)},initValue:function(){var e=pt(t);return e?ft(e):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(e){var n=t.selection.getNode();return e.setActive(!!pt(t,n)),Ce(t)(e)},onAction:function(n){var r=pt(t),o=n.getValue();if(r)t.undoManager.transact((function(){t.dom.setAttrib(r,"href",o),e(t),n.hide()}));else{var i={href:o,attach:function(){}},a=yt(t),u=a?D.some(mt(t.selection,r)).filter((function(t){return t.length>0})).or(D.from(o)):D.none();Mt(t,i,{href:o,text:u,title:D.none(),rel:D.none(),target:D.none(),class:D.none()}),n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(e){Dt(t),e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(e){we(t)(),e.hide()}}]})};function Re(){t.add("link",(function(t){Me(t),De(t),Ie(t),Ee(t),_e(t),Ae(t),Oe(t)}))}Re()})()},c361:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){var e=t.getParam("nonbreaking_force_tab",0);return"boolean"===typeof e?!0===e?3:0:e},n=function(t){return t.getParam("nonbreaking_wrap",!0,"boolean")},r=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},o=function(t){return!!t.plugins.visualchars&&t.plugins.visualchars.isEnabled()},i=function(t,e){var i=function(){return o(t)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},a=function(){return'<span class="'+i()+'" contenteditable="false">'+r("&nbsp;",e)+"</span>"},u=n(t),s=u||t.plugins.visualchars?a():r("&nbsp;",e);t.undoManager.transact((function(){return t.insertContent(s)}))},a=function(t){t.addCommand("mceNonBreaking",(function(){i(t,1)}))},u=tinymce.util.Tools.resolve("tinymce.util.VK"),s=function(t){var n=e(t);n>0&&t.on("keydown",(function(e){if(e.keyCode===u.TAB&&!e.isDefaultPrevented()){if(e.shiftKey)return;e.preventDefault(),e.stopImmediatePropagation(),i(t,n)}}))},c=function(t){t.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return t.execCommand("mceNonBreaking")}}),t.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return t.execCommand("mceNonBreaking")}})};function l(){t.add("nonbreaking",(function(t){a(t),c(t),s(t)}))}l()})()},c3d7:function(t,e,n){n("16f1")},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=function(){return"undefined"!==typeof window?window:t},o=function(){var t=r();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},c532:function(t,e,n){"use strict";(function(t){var r=n("1d2b");const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,a=(t=>e=>{const n=o.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),u=t=>(t=t.toLowerCase(),e=>a(e)===t),s=t=>e=>typeof e===t,{isArray:c}=Array,l=s("undefined");function f(t){return null!==t&&!l(t)&&null!==t.constructor&&!l(t.constructor)&&m(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const d=u("ArrayBuffer");function h(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e}const p=s("string"),m=s("function"),g=s("number"),v=t=>null!==t&&"object"===typeof t,y=t=>!0===t||!1===t,b=t=>{if("object"!==a(t))return!1;const e=i(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},x=u("Date"),w=u("File"),_=u("Blob"),S=u("FileList"),C=t=>v(t)&&m(t.pipe),k=t=>{const e="[object FormData]";return t&&("function"===typeof FormData&&t instanceof FormData||o.call(t)===e||m(t.toString)&&t.toString()===e)},T=u("URLSearchParams"),A=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function O(t,e,{allOwnKeys:n=!1}={}){if(null===t||"undefined"===typeof t)return;let r,o;if("object"!==typeof t&&(t=[t]),c(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function M(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,o=n.length;while(o-- >0)if(r=n[o],e===r.toLowerCase())return r;return null}const D=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:t)(),I=t=>!l(t)&&t!==D;function E(){const{caseless:t}=I(this)&&this||{},e={},n=(n,r)=>{const o=t&&M(e,r)||r;b(e[o])&&b(n)?e[o]=E(e[o],n):b(n)?e[o]=E({},n):c(n)?e[o]=n.slice():e[o]=n};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&O(arguments[r],n);return e}const R=(t,e,n,{allOwnKeys:o}={})=>(O(e,(e,o)=>{n&&m(e)?t[o]=Object(r["a"])(e,n):t[o]=e},{allOwnKeys:o}),t),N=t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),P=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},L=(t,e,n,r)=>{let o,a,u;const s={};if(e=e||{},null==t)return e;do{o=Object.getOwnPropertyNames(t),a=o.length;while(a-- >0)u=o[a],r&&!r(u,t,e)||s[u]||(e[u]=t[u],s[u]=!0);t=!1!==n&&i(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},B=(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},z=t=>{if(!t)return null;if(c(t))return t;let e=t.length;if(!g(e))return null;const n=new Array(e);while(e-- >0)n[e]=t[e];return n},V=(t=>e=>t&&e instanceof t)("undefined"!==typeof Uint8Array&&i(Uint8Array)),F=(t,e)=>{const n=t&&t[Symbol.iterator],r=n.call(t);let o;while((o=r.next())&&!o.done){const n=o.value;e.call(t,n[0],n[1])}},j=(t,e)=>{let n;const r=[];while(null!==(n=t.exec(e)))r.push(n);return r},H=u("HTMLFormElement"),U=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),W=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),G=u("RegExp"),q=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};O(n,(n,o)=>{!1!==e(n,o,t)&&(r[o]=n)}),Object.defineProperties(t,r)},Y=t=>{q(t,(e,n)=>{if(m(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];m(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},X=(t,e)=>{const n={},r=t=>{t.forEach(t=>{n[t]=!0})};return c(t)?r(t):r(String(t).split(e)),n},Z=()=>{},$=(t,e)=>(t=+t,Number.isFinite(t)?t:e),K="abcdefghijklmnopqrstuvwxyz",J="0123456789",Q={DIGIT:J,ALPHA:K,ALPHA_DIGIT:K+K.toUpperCase()+J},tt=(t=16,e=Q.ALPHA_DIGIT)=>{let n="";const{length:r}=e;while(t--)n+=e[Math.random()*r|0];return n};function et(t){return!!(t&&m(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])}const nt=t=>{const e=new Array(10),n=(t,r)=>{if(v(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const o=c(t)?[]:{};return O(t,(t,e)=>{const i=n(t,r+1);!l(i)&&(o[e]=i)}),e[r]=void 0,o}}return t};return n(t,0)};e["a"]={isArray:c,isArrayBuffer:d,isBuffer:f,isFormData:k,isArrayBufferView:h,isString:p,isNumber:g,isBoolean:y,isObject:v,isPlainObject:b,isUndefined:l,isDate:x,isFile:w,isBlob:_,isRegExp:G,isFunction:m,isStream:C,isURLSearchParams:T,isTypedArray:V,isFileList:S,forEach:O,merge:E,extend:R,trim:A,stripBOM:N,inherits:P,toFlatObject:L,kindOf:a,kindOfTest:u,endsWith:B,toArray:z,forEachEntry:F,matchAll:j,isHTMLForm:H,hasOwnProperty:W,hasOwnProp:W,reduceDescriptors:q,freezeMethods:Y,toObjectSet:X,toCamelCase:U,noop:Z,toFiniteNumber:$,findKey:M,global:D,isContextDefined:I,ALPHABET:Q,generateString:tt,isSpecCompliantForm:et,toJSONObject:nt}}).call(this,n("c8ba"))},c7a8:function(t,e,n){t.exports={menuBg:"#fff",menuText:"#162b64",menuActiveText:"#435ebe"}},cd59:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"extendShape",(function(){return xd})),n.d(r,"extendPath",(function(){return _d})),n.d(r,"registerShape",(function(){return Sd})),n.d(r,"getShapeClass",(function(){return Cd})),n.d(r,"makePath",(function(){return kd})),n.d(r,"makeImage",(function(){return Td})),n.d(r,"mergePath",(function(){return Od})),n.d(r,"resizePath",(function(){return Md})),n.d(r,"subPixelOptimizeLine",(function(){return Dd})),n.d(r,"subPixelOptimizeRect",(function(){return Id})),n.d(r,"subPixelOptimize",(function(){return Ed})),n.d(r,"updateProps",(function(){return Nd})),n.d(r,"initProps",(function(){return Pd})),n.d(r,"removeElement",(function(){return Ld})),n.d(r,"removeElementWithFadeOut",(function(){return zd})),n.d(r,"isElementRemoved",(function(){return Vd})),n.d(r,"getTransform",(function(){return Fd})),n.d(r,"applyTransform",(function(){return jd})),n.d(r,"transformDirection",(function(){return Hd})),n.d(r,"groupTransition",(function(){return Gd})),n.d(r,"clipPointsByRect",(function(){return qd})),n.d(r,"clipRectByRect",(function(){return Yd})),n.d(r,"createIcon",(function(){return Xd})),n.d(r,"linePolygonIntersect",(function(){return Zd})),n.d(r,"lineLineIntersect",(function(){return $d})),n.d(r,"Group",(function(){return fi})),n.d(r,"Image",(function(){return ac})),n.d(r,"Text",(function(){return Mc})),n.d(r,"Circle",(function(){return sf})),n.d(r,"Ellipse",(function(){return ff})),n.d(r,"Sector",(function(){return Of})),n.d(r,"Ring",(function(){return If})),n.d(r,"Polygon",(function(){return zf})),n.d(r,"Polyline",(function(){return jf})),n.d(r,"Rect",(function(){return mc})),n.d(r,"Line",(function(){return Gf})),n.d(r,"BezierCurve",(function(){return $f})),n.d(r,"Arc",(function(){return Qf})),n.d(r,"IncrementalDisplayable",(function(){return gd})),n.d(r,"CompoundPath",(function(){return ed})),n.d(r,"LinearGradient",(function(){return id})),n.d(r,"RadialGradient",(function(){return ud})),n.d(r,"BoundingRect",(function(){return Yr})),n.d(r,"OrientedBoundingRect",(function(){return hd})),n.d(r,"Point",(function(){return Br})),n.d(r,"Path",(function(){return Js}));var o=n("7a23"),i={class:"dashboard-container"};function a(t,e,n,r,a,u){return Object(o["openBlock"])(),Object(o["createBlock"])("div",i,[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(t.currentRole)))])}var u=Object(o["withScopeId"])("data-v-7dec9eb0");Object(o["pushScopeId"])("data-v-7dec9eb0");var s={class:"dashboard-editor-container"};Object(o["popScopeId"])();var c=u((function(t,e,n,r,i,a){var c=Object(o["resolveComponent"])("PanelGroup"),l=Object(o["resolveComponent"])("LineChart"),f=Object(o["resolveComponent"])("el-row");return Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[Object(o["createVNode"])(c,{showData:r.showData},null,8,["showData"]),Object(o["createVNode"])(f,{style:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px","border-radius":"8px"}},{default:u((function(){return[Object(o["createVNode"])(l,{"chart-data":r.chartData},null,8,["chart-data"])]})),_:1})])})),l=n("59b9"),f=n("ba72"),d=function(){return Object(l["a"])().request("/admin/showTotal",f["b"].POST,null,f["a"].json)},h=Object(o["withScopeId"])("data-v-f3d3fa36");Object(o["pushScopeId"])("data-v-f3d3fa36");var p={class:"card-panel"},m={class:"card-panel-icon-wrapper icon-people"},g={class:"card-panel-description"},v=Object(o["createVNode"])("div",{class:"card-panel-text"}," Display ",-1),y={class:"card-panel-num"},b={class:"card-panel"},x={class:"card-panel-icon-wrapper icon-message"},w={class:"card-panel-description"},_=Object(o["createVNode"])("div",{class:"card-panel-text"}," Segment ",-1),S={class:"card-panel-num"},C={class:"card-panel"},k={class:"card-panel-icon-wrapper icon-money"},T={class:"card-panel-description"},A=Object(o["createVNode"])("div",{class:"card-panel-text"}," Analyse ",-1),O={class:"card-panel-num"},M={class:"card-panel"},D={class:"card-panel-icon-wrapper icon-shopping"},I={class:"card-panel-description"},E=Object(o["createVNode"])("div",{class:"card-panel-text"}," Constrast ",-1),R={class:"card-panel-num"};Object(o["popScopeId"])();var N=h((function(t,e,n,r,i,a){var u=Object(o["resolveComponent"])("el-col"),s=Object(o["resolveComponent"])("el-row");return Object(o["openBlock"])(),Object(o["createBlock"])(s,{gutter:40,class:"panel-group"},{default:h((function(){return[Object(o["createVNode"])(u,{xs:12,sm:12,lg:6,class:"card-panel-col"},{default:h((function(){return[Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",m,[Object(o["createVNode"])("img",{src:t.visits},null,8,["src"])]),Object(o["createVNode"])("div",g,[v,Object(o["createVNode"])("div",y,Object(o["toDisplayString"])(t.showData.totalDisplay||0),1)])])]})),_:1}),Object(o["createVNode"])(u,{xs:12,sm:12,lg:6,class:"card-panel-col"},{default:h((function(){return[Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",x,[Object(o["createVNode"])("img",{src:t.messages},null,8,["src"])]),Object(o["createVNode"])("div",w,[_,Object(o["createVNode"])("div",S,Object(o["toDisplayString"])(t.showData.totalSegment||0),1)])])]})),_:1}),Object(o["createVNode"])(u,{xs:12,sm:12,lg:6,class:"card-panel-col"},{default:h((function(){return[Object(o["createVNode"])("div",C,[Object(o["createVNode"])("div",k,[Object(o["createVNode"])("img",{src:t.purchases},null,8,["src"])]),Object(o["createVNode"])("div",T,[A,Object(o["createVNode"])("div",O,Object(o["toDisplayString"])(t.showData.totalAnalyse||0),1)])])]})),_:1}),Object(o["createVNode"])(u,{xs:12,sm:12,lg:6,class:"card-panel-col"},{default:h((function(){return[Object(o["createVNode"])("div",M,[Object(o["createVNode"])("div",D,[Object(o["createVNode"])("img",{src:t.shoppings},null,8,["src"])]),Object(o["createVNode"])("div",I,[E,Object(o["createVNode"])("div",R,Object(o["toDisplayString"])(t.showData.totalContrast||0),1)])])]})),_:1})]})),_:1})})),P=n("4026"),L=n("a975"),B=n.n(L),z=n("70c7"),V=n.n(z),F=n("1748"),j=n.n(F),H=n("01be"),U=n.n(H),W=Object(o["defineComponent"])({components:{CountTo:P["CountTo"]},props:{showData:{type:Object,required:!0}},setup:function(t){return{messages:B.a,purchases:V.a,visits:U.a,shoppings:j.a,showData:t.showData}}});n("2b75");W.render=N,W.__scopeId="data-v-f3d3fa36";var G=W;function q(t,e,n,r,i,a){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{id:"homeLineCharts",class:t.className,style:{height:t.height,width:t.width}},null,6)}var Y=function(){var t=Object(o["ref"])(),e=Object(o["ref"])(),n=function(){t.value&&t.value.resize()},r=function(t){"width"===t.propertyName&&n()},i=function(){window.addEventListener("resize",n)},a=function(){window.removeEventListener("resize",n)},u=function(){e.value=document.getElementsByClassName("sidebar-container")[0],e.value&&e.value.addEventListener("transitionend",r)},s=function(){e.value&&e.value.removeEventListener("transitionend",r)},c=function(){i(),u()},l=function(){a(),s()},f=function(){i(),u()},d=function(){a(),s()};return{chart:t,mounted:c,beforeDestroy:l,activated:f,deactivated:d}},X=function(t,e){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},X(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Z(t,e){function n(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $=function(){return $=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$.apply(this,arguments)};Object.create;function K(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}Object.create;var J=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),Q=function(){function t(){this.browser=new J,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1}return t}(),tt=new Q;function et(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),o=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]),o&&(n.ie=!0,n.version=o[1]),i&&(n.edge=!0,n.version=i[1],n.newEdge=+i[1].split(".")[0]>18),a&&(n.weChat=!0),e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!==typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!==typeof document}"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(tt.wxa=!0,tt.canvasSupported=!0,tt.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?(tt.worker=!0,tt.canvasSupported=!0):"undefined"===typeof navigator?(tt.node=!0,tt.canvasSupported=!0,tt.svgSupported=!0):et(navigator.userAgent,tt);var nt=tt,rt={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},ot={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},it=Object.prototype.toString,at=Array.prototype,ut=at.forEach,st=at.filter,ct=at.slice,lt=at.map,ft=function(){}.constructor,dt=ft?ft.prototype:null,ht={};var pt=2311;function mt(){return pt++}function gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!==typeof console&&console.error.apply(console,t)}function vt(t){if(null==t||"object"!==typeof t)return t;var e=t,n=it.call(t);if("[object Array]"===n){if(!oe(t)){e=[];for(var r=0,o=t.length;r<o;r++)e[r]=vt(t[r])}}else if(ot[n]){if(!oe(t)){var i=t.constructor;if(i.from)e=i.from(t);else{e=new i(t.length);for(r=0,o=t.length;r<o;r++)e[r]=vt(t[r])}}}else if(!rt[n]&&!oe(t)&&!Wt(t))for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=vt(t[a]));return e}function yt(t,e,n){if(!jt(e)||!jt(t))return n?vt(e):t;for(var r in e)if(e.hasOwnProperty(r)){var o=t[r],i=e[r];!jt(i)||!jt(o)||Lt(i)||Lt(o)||Wt(i)||Wt(o)||Ht(i)||Ht(o)||oe(i)||oe(o)?!n&&r in t||(t[r]=vt(e[r])):yt(o,i,n)}return t}function bt(t,e){for(var n=t[0],r=1,o=t.length;r<o;r++)n=yt(n,t[r],e);return n}function xt(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function wt(t,e,n){for(var r=Et(e),o=0;o<r.length;o++){var i=r[o];(n?null!=e[i]:null==t[i])&&(t[i]=e[i])}return t}var _t=function(){return ht.createCanvas()};function St(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function Ct(t,e){var n=t.prototype;function r(){}for(var o in r.prototype=e.prototype,t.prototype=new r,n)n.hasOwnProperty(o)&&(t.prototype[o]=n[o]);t.prototype.constructor=t,t.superClass=e}function kt(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var i=r[o];"constructor"!==i&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i])}else wt(t,e,n)}function Tt(t){return!!t&&("string"!==typeof t&&"number"===typeof t.length)}function At(t,e,n){if(t&&e)if(t.forEach&&t.forEach===ut)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t);else for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function Ot(t,e,n){if(!t)return[];if(!e)return Jt(t);if(t.map&&t.map===lt)return t.map(e,n);for(var r=[],o=0,i=t.length;o<i;o++)r.push(e.call(n,t[o],o,t));return r}function Mt(t,e,n,r){if(t&&e){for(var o=0,i=t.length;o<i;o++)n=e.call(r,n,t[o],o,t);return n}}function Dt(t,e,n){if(!t)return[];if(!e)return Jt(t);if(t.filter&&t.filter===st)return t.filter(e,n);for(var r=[],o=0,i=t.length;o<i;o++)e.call(n,t[o],o,t)&&r.push(t[o]);return r}function It(t,e,n){if(t&&e)for(var r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return t[r]}function Et(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function Rt(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(ct.call(arguments)))}}ht.createCanvas=function(){return document.createElement("canvas")};var Nt=dt&&Bt(dt.bind)?dt.call.bind(dt.bind):Rt;function Pt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(ct.call(arguments)))}}function Lt(t){return Array.isArray?Array.isArray(t):"[object Array]"===it.call(t)}function Bt(t){return"function"===typeof t}function zt(t){return"string"===typeof t}function Vt(t){return"[object String]"===it.call(t)}function Ft(t){return"number"===typeof t}function jt(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function Ht(t){return!!rt[it.call(t)]}function Ut(t){return!!ot[it.call(t)]}function Wt(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function Gt(t){return null!=t.colorStops}function qt(t){return null!=t.image}function Yt(t){return"[object RegExp]"===it.call(t)}function Xt(t){return t!==t}function Zt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(null!=t[n])return t[n]}function $t(t,e){return null!=t?t:e}function Kt(t,e,n){return null!=t?t:null!=e?e:n}function Jt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ct.apply(t,e)}function Qt(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function te(t,e){if(!t)throw new Error(e)}function ee(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ne="__ec_primitive__";function re(t){t[ne]=!0}function oe(t){return t[ne]}var ie=function(){function t(e){this.data={};var n=Lt(e);this.data={};var r=this;function o(t,e){n?r.set(t,e):r.set(e,t)}e instanceof t?e.each(o):e&&At(e,o)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},t.prototype.keys=function(){return Et(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function ae(t){return new ie(t)}function ue(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var o=t.length;for(r=0;r<e.length;r++)n[r+o]=e[r];return n}function se(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&xt(n,e),n}function ce(t,e){return t.hasOwnProperty(e)}function le(){}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fe=function(t,e){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},fe(t,e)};function de(t,e){function n(){this.constructor=t}fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;function he(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function pe(t,e){return t[0]=e[0],t[1]=e[1],t}function me(t){return[t[0],t[1]]}function ge(t,e,n){return t[0]=e,t[1]=n,t}function ve(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function ye(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function be(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function xe(t){return Math.sqrt(we(t))}function we(t){return t[0]*t[0]+t[1]*t[1]}function _e(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Se(t,e){var n=xe(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function Ce(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var ke=Ce;function Te(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Ae=Te;function Oe(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function Me(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}function De(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Ie(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var Ee=function(){function t(t,e){this.target=t,this.topTarget=e&&e.topTarget}return t}(),Re=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){var e=t.target;while(e&&!e.draggable)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Ee(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,o=n-this._x,i=r-this._y;this._x=n,this._y=r,e.drift(o,i,t),this.handler.dispatchToElement(new Ee(e,t),"drag",t.event);var a=this.handler.findHover(n,r,e).target,u=this._dropTarget;this._dropTarget=a,e!==a&&(u&&a!==u&&this.handler.dispatchToElement(new Ee(u,t),"dragleave",t.event),a&&a!==u&&this.handler.dispatchToElement(new Ee(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Ee(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Ee(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),Ne=Re,Pe=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"===typeof e&&(r=n,n=e,e=null),!n||!t)return this;var i=this._$eventProcessor;null!=e&&i&&i.normalizeQuery&&(e=i.normalizeQuery(e)),o[t]||(o[t]=[]);for(var a=0;a<o[t].length;a++)if(o[t][a].h===n)return this;var u={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},s=o[t].length-1,c=o[t][s];return c&&c.callAtLast?o[t].splice(s,0,u):o[t].push(u),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],o=0,i=n[t].length;o<i;o++)n[t][o].h!==e&&r.push(n[t][o]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var i=e.length,a=r.length,u=0;u<a;u++){var s=r[u];if(!o||!o.filter||null==s.query||o.filter(t,s.query))switch(i){case 0:s.h.call(s.ctx);break;case 1:s.h.call(s.ctx,e[0]);break;case 2:s.h.call(s.ctx,e[0],e[1]);break;default:s.h.apply(s.ctx,e);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){if(!this._$handlers)return this;var e=this._$handlers[t],n=this._$eventProcessor;if(e)for(var r=arguments,o=r.length,i=r[o-1],a=e.length,u=0;u<a;u++){var s=e[u];if(!n||!n.filter||null==s.query||n.filter(t,s.query))switch(o){case 0:s.h.call(i);break;case 1:s.h.call(i,r[0]);break;case 2:s.h.call(i,r[0],r[1]);break;default:s.h.apply(i,r.slice(1,o-1));break}}return n&&n.afterTrigger&&n.afterTrigger(t),this},t}(),Le=Pe,Be=Math.log(2);function ze(t,e,n,r,o,i){var a=r+"-"+o,u=t.length;if(i.hasOwnProperty(a))return i[a];if(1===e){var s=Math.round(Math.log((1<<u)-1&~o)/Be);return t[n][s]}var c=r|1<<n,l=n+1;while(r&1<<l)l++;for(var f=0,d=0,h=0;d<u;d++){var p=1<<d;p&o||(f+=(h%2?-1:1)*t[n][d]*ze(t,e-1,l,c,o|p,i),h++)}return i[a]=f,f}function Ve(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},o=ze(n,8,0,0,0,r);if(0!==o){for(var i=[],a=0;a<8;a++)for(var u=0;u<8;u++)null==i[u]&&(i[u]=0),i[u]+=((a+u)%2?-1:1)*ze(n,7,0===a?1:0,1<<a,1<<u,r)/o*e[a];return function(t,e,n){var r=e*i[6]+n*i[7]+1;t[0]=(e*i[0]+n*i[1]+i[2])/r,t[1]=(e*i[3]+n*i[4]+i[5])/r}}}var Fe="___zrEVENTSAVED",je=[];function He(t,e,n,r,o){return Ue(je,e,r,o,!0)&&Ue(t,n,je[0],je[1])}function Ue(t,e,n,r,o){if(e.getBoundingClientRect&&nt.domSupported&&!qe(e)){var i=e[Fe]||(e[Fe]={}),a=We(e,i),u=Ge(a,i,o);if(u)return u(t,n,r),!0}return!1}function We(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],o=["top","bottom"],i=0;i<4;i++){var a=document.createElement("div"),u=a.style,s=i%2,c=(i>>1)%2;u.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[s]+":0",o[c]+":0",r[1-s]+":auto",o[1-c]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}function Ge(t,e,n){for(var r=n?"invTrans":"trans",o=e[r],i=e.srcCoords,a=[],u=[],s=!0,c=0;c<4;c++){var l=t[c].getBoundingClientRect(),f=2*c,d=l.left,h=l.top;a.push(d,h),s=s&&i&&d===i[f]&&h===i[f+1],u.push(t[c].offsetLeft,t[c].offsetTop)}return s&&o?o:(e.srcCoords=a,e[r]=n?Ve(u,a):Ve(a,u))}function qe(t){return"CANVAS"===t.nodeName.toUpperCase()}var Ye="undefined"!==typeof window&&!!window.addEventListener,Xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ze=[];function $e(t,e,n,r){return n=n||{},r||!nt.canvasSupported?Ke(t,e,n):nt.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Ke(t,e,n),n}function Ke(t,e,n){if(nt.domSupported&&t.getBoundingClientRect){var r=e.clientX,o=e.clientY;if(qe(t)){var i=t.getBoundingClientRect();return n.zrX=r-i.left,void(n.zrY=o-i.top)}if(Ue(Ze,t,r,o))return n.zrX=Ze[0],void(n.zrY=Ze[1])}n.zrX=n.zrY=0}function Je(t){return t||window.event}function Qe(t,e,n){if(e=Je(e),null!=e.zrX)return e;var r=e.type,o=r&&r.indexOf("touch")>=0;if(o){var i="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];i&&$e(t,i,e,n)}else{$e(t,e,e,n);var a=tn(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var u=e.button;return null==e.which&&void 0!==u&&Xe.test(e.type)&&(e.which=1&u?1:2&u?3:4&u?2:0),e}function tn(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(null==n||null==r)return e;var o=0!==r?Math.abs(r):Math.abs(n),i=r>0?-1:r<0?1:n>0?-1:1;return 3*o*i}function en(t,e,n,r){Ye?t.addEventListener(e,n,r):t.attachEvent("on"+e,n)}function nn(t,e,n,r){Ye?t.removeEventListener(e,n,r):t.detachEvent("on"+e,n)}var rn=Ye?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function on(t){return 2===t.which||3===t.which}var an=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},i=0,a=r.length;i<a;i++){var u=r[i],s=$e(n,u,{});o.points.push([s.zrX,s.zrY]),o.touches.push(u)}this._track.push(o)}},t.prototype._recognize=function(t){for(var e in cn)if(cn.hasOwnProperty(e)){var n=cn[e](this._track,t);if(n)return n}},t}();function un(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function sn(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var cn={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,o=(t[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var i=un(r)/un(o);!isFinite(i)&&(i=1),e.pinchScale=i;var a=sn(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}},ln="silent";function fn(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:dn}}function dn(){rn(this.event)}var hn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return de(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Le),pn=function(){function t(t,e){this.x=t,this.y=e}return t}(),mn=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],gn=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i._hovered=new pn(0,0),i.storage=e,i.painter=n,i.painterRoot=o,r=r||new hn,i.proxy=null,i.setHandlerProxy(r),i._draggingMgr=new Ne(i),i}return de(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(At(mn,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,r=yn(this,e,n),o=this._hovered,i=o.target;i&&!i.__zr&&(o=this.findHover(o.x,o.y),i=o.target);var a=this._hovered=r?new pn(e,n):this.findHover(e,n),u=a.target,s=this.proxy;s.setCursor&&s.setCursor(u?u.cursor:"default"),i&&u!==i&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(a,"mousemove",t),u&&u!==i&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new pn(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){t=t||{};var r=t.target;if(!r||!r.silent){var o="on"+e,i=fn(e,t,n);while(r)if(r[o]&&(i.cancelBubble=!!r[o].call(r,i)),r.trigger(e,i),r=r.__hostTarget?r.__hostTarget:r.parent,i.cancelBubble)break;i.cancelBubble||(this.trigger(e,i),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"===typeof t[o]&&t[o].call(t,i),t.trigger&&t.trigger(e,i)})))}},e.prototype.findHover=function(t,e,n){for(var r=this.storage.getDisplayList(),o=new pn(t,e),i=r.length-1;i>=0;i--){var a=void 0;if(r[i]!==n&&!r[i].ignore&&(a=vn(r[i],t,e))&&(!o.topTarget&&(o.topTarget=r[i]),a!==ln)){o.target=r[i];break}}return o},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new an);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var o=r.type;t.gestureEvent=o;var i=new pn;i.target=r.target,this.dispatchToElement(i,o,r.event)}},e}(Le);function vn(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){var r=t,o=void 0,i=!1;while(r){if(r.ignoreClip&&(i=!0),!i){var a=r.getClipPath();if(a&&!a.contain(e,n))return!1;r.silent&&(o=!0)}var u=r.__hostTarget;r=u||r.parent}return!o||ln}return!1}function yn(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}At(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){gn.prototype[t]=function(e){var n,r,o=e.zrX,i=e.zrY,a=yn(this,o,i);if("mouseup"===t&&a||(n=this.findHover(o,i),r=n.target),"mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||ke(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}));var bn=gn;function xn(){return[1,0,0,1,0,0]}function wn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function _n(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Sn(t,e,n){var r=e[0]*n[0]+e[2]*n[1],o=e[1]*n[0]+e[3]*n[1],i=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],u=e[0]*n[4]+e[2]*n[5]+e[4],s=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t}function Cn(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function kn(t,e,n){var r=e[0],o=e[2],i=e[4],a=e[1],u=e[3],s=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*c,t[1]=-r*c+a*l,t[2]=o*l+u*c,t[3]=-o*c+l*u,t[4]=l*i+c*s,t[5]=l*s-c*i,t}function Tn(t,e,n){var r=n[0],o=n[1];return t[0]=e[0]*r,t[1]=e[1]*o,t[2]=e[2]*r,t[3]=e[3]*o,t[4]=e[4]*r,t[5]=e[5]*o,t}function An(t,e){var n=e[0],r=e[2],o=e[4],i=e[1],a=e[3],u=e[5],s=n*a-i*r;return s?(s=1/s,t[0]=a*s,t[1]=-i*s,t[2]=-r*s,t[3]=n*s,t[4]=(r*u-a*o)*s,t[5]=(i*o-n*u)*s,t):null}function On(t){var e=xn();return _n(e,t),e}var Mn=wn,Dn=5e-5;function In(t){return t>Dn||t<-Dn}var En=[],Rn=[],Nn=xn(),Pn=Math.abs,Ln=function(){function t(){}return t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return In(this.rotation)||In(this.x)||In(this.y)||In(this.scaleX-1)||In(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;n||e?(r=r||xn(),n?this.getLocalTransform(r):Mn(r),e&&(n?Sn(r,t.transform,r):_n(r,t.transform)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&Mn(r)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(En);var n=En[0]<0?-1:1,r=En[1]<0?-1:1,o=((En[0]-n)*e+n)/En[0]||0,i=((En[1]-r)*e+r)/En[1]||0;t[0]*=o,t[1]*=o,t[2]*=i,t[3]*=i}this.invTransform=this.invTransform||xn(),An(this.invTransform,t)},t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.getComputedTransform=function(){var t=this,e=[];while(t)e.push(t),t=t.parent;while(t=e.pop())t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3];In(e-1)&&(e=Math.sqrt(e)),In(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),this.rotation=Math.atan2(-t[1]/n,t[0]/e),e<0&&n<0&&(this.rotation+=Math.PI,e=-e,n=-n),this.x=t[4],this.y=t[5],this.scaleX=e,this.scaleY=n}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Sn(Rn,t.invTransform,e),e=Rn);var n=this.originX,r=this.originY;(n||r)&&(Nn[4]=n,Nn[5]=r,Sn(Rn,e,Nn),Rn[4]-=n,Rn[5]-=r,e=Rn),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&Me(n,n,r),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&Me(n,n,r),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&Pn(t[0]-1)>1e-10&&Pn(t[3]-1)>1e-10?Math.sqrt(Pn(t[0]*t[3]-t[2]*t[1])):1},t.getLocalTransform=function(t,e){e=e||[],Mn(e);var n=t.originX||0,r=t.originY||0,o=t.scaleX,i=t.scaleY,a=t.rotation||0,u=t.x,s=t.y;return e[4]-=n,e[5]-=r,e[0]*=o,e[1]*=i,e[2]*=o,e[3]*=i,e[4]*=o,e[5]*=i,a&&kn(e,e,a),e[4]+=n,e[5]+=r,e[4]+=u,e[5]+=s,e},t.initDefaultProps=function(){var e=t.prototype;e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.rotation=0,e.globalScaleRatio=1}(),t}(),Bn=Ln,zn={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))},elasticOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-zn.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*zn.bounceIn(2*t):.5*zn.bounceOut(2*t-1)+.5}},Vn=zn,Fn=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var n=(t-this._startTime-this._pausedTime)/this._life;n<0&&(n=0),n=Math.min(n,1);var r=this.easing,o="string"===typeof r?Vn[r]:r,i="function"===typeof o?o(n):n;if(this.onframe&&this.onframe(i),1===n){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}(),jn=Fn,Hn=function(){function t(t){this.value=t}return t}(),Un=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new Hn(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Wn=function(){function t(t){this._list=new Un,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,r=this._map,o=null;if(null==r[t]){var i=n.len(),a=this._lastRemovedEntry;if(i>=this._maxSize&&i>0){var u=n.head;n.remove(u),delete r[u.key],o=u.value,this._lastRemovedEntry=u}a?a.value=e:a=new Hn(e),a.key=t,n.insertEntry(a),r[t]=a}return o},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),Gn=Wn,qn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Yn(t){return t=Math.round(t),t<0?0:t>255?255:t}function Xn(t){return t=Math.round(t),t<0?0:t>360?360:t}function Zn(t){return t<0?0:t>1?1:t}function $n(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Yn(parseFloat(e)/100*255):Yn(parseInt(e,10))}function Kn(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Zn(parseFloat(e)/100):Zn(parseFloat(e))}function Jn(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function Qn(t,e,n){return t+(e-t)*n}function tr(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function er(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var nr=new Gn(20),rr=null;function or(t,e){rr&&er(rr,e),rr=nr.put(t,rr||e.slice())}function ir(t,e){if(t){e=e||[];var n=nr.get(t);if(n)return er(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in qn)return er(e,qn[r]),or(t,e),e;var o=r.length;if("#"!==r.charAt(0)){var i=r.indexOf("("),a=r.indexOf(")");if(-1!==i&&a+1===o){var u=r.substr(0,i),s=r.substr(i+1,a-(i+1)).split(","),c=1;switch(u){case"rgba":if(4!==s.length)return 3===s.length?tr(e,+s[0],+s[1],+s[2],1):tr(e,0,0,0,1);c=Kn(s.pop());case"rgb":return 3!==s.length?void tr(e,0,0,0,1):(tr(e,$n(s[0]),$n(s[1]),$n(s[2]),c),or(t,e),e);case"hsla":return 4!==s.length?void tr(e,0,0,0,1):(s[3]=Kn(s[3]),ar(s,e),or(t,e),e);case"hsl":return 3!==s.length?void tr(e,0,0,0,1):(ar(s,e),or(t,e),e);default:return}}tr(e,0,0,0,1)}else{if(4===o||5===o){var l=parseInt(r.slice(1,4),16);return l>=0&&l<=4095?(tr(e,(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,5===o?parseInt(r.slice(4),16)/15:1),or(t,e),e):void tr(e,0,0,0,1)}if(7===o||9===o){l=parseInt(r.slice(1,7),16);return l>=0&&l<=16777215?(tr(e,(16711680&l)>>16,(65280&l)>>8,255&l,9===o?parseInt(r.slice(7),16)/255:1),or(t,e),e):void tr(e,0,0,0,1)}}}}function ar(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=Kn(t[1]),o=Kn(t[2]),i=o<=.5?o*(r+1):o+r-o*r,a=2*o-i;return e=e||[],tr(e,Yn(255*Jn(a,i,n+1/3)),Yn(255*Jn(a,i,n)),Yn(255*Jn(a,i,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function ur(t){if(t){var e,n,r=t[0]/255,o=t[1]/255,i=t[2]/255,a=Math.min(r,o,i),u=Math.max(r,o,i),s=u-a,c=(u+a)/2;if(0===s)e=0,n=0;else{n=c<.5?s/(u+a):s/(2-u-a);var l=((u-r)/6+s/2)/s,f=((u-o)/6+s/2)/s,d=((u-i)/6+s/2)/s;r===u?e=d-f:o===u?e=1/3+l-d:i===u&&(e=2/3+f-l),e<0&&(e+=1),e>1&&(e-=1)}var h=[360*e,n,c];return null!=t[3]&&h.push(t[3]),h}}function sr(t,e){var n=ir(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return hr(n,4===n.length?"rgba":"rgb")}}function cr(t){var e=ir(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function lr(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),o=Math.floor(r),i=Math.ceil(r),a=e[o],u=e[i],s=r-o;return n[0]=Yn(Qn(a[0],u[0],s)),n[1]=Yn(Qn(a[1],u[1],s)),n[2]=Yn(Qn(a[2],u[2],s)),n[3]=Zn(Qn(a[3],u[3],s)),n}}function fr(t,e,n,r){var o=ir(t);if(t)return o=ur(o),null!=e&&(o[0]=Xn(e)),null!=n&&(o[1]=Kn(n)),null!=r&&(o[2]=Kn(r)),hr(ar(o),"rgba")}function dr(t,e){var n=ir(t);if(n&&null!=e)return n[3]=Zn(e),hr(n,"rgba")}function hr(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function pr(t,e){var n=ir(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var mr=Array.prototype.slice;function gr(t,e,n){return(e-t)*n+t}function vr(t,e,n){return n>.5?e:t}function yr(t,e,n,r){for(var o=e.length,i=0;i<o;i++)t[i]=gr(e[i],n[i],r)}function br(t,e,n,r){for(var o=e.length,i=o&&e[0].length,a=0;a<o;a++){t[a]||(t[a]=[]);for(var u=0;u<i;u++)t[a][u]=gr(e[a][u],n[a][u],r)}}function xr(t,e,n,r){for(var o=e.length,i=0;i<o;i++)t[i]=e[i]+n[i]*r;return t}function wr(t,e,n,r){for(var o=e.length,i=o&&e[0].length,a=0;a<o;a++){t[a]||(t[a]=[]);for(var u=0;u<i;u++)t[a][u]=e[a][u]+n[a][u]*r}return t}function _r(t,e,n){var r=t,o=e;if(r.push&&o.push){var i=r.length,a=o.length;if(i!==a){var u=i>a;if(u)r.length=a;else for(var s=i;s<a;s++)r.push(1===n?o[s]:mr.call(o[s]))}var c=r[0]&&r[0].length;for(s=0;s<r.length;s++)if(1===n)isNaN(r[s])&&(r[s]=o[s]);else for(var l=0;l<c;l++)isNaN(r[s][l])&&(r[s][l]=o[s][l])}}function Sr(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Cr(t,e,n,r,o,i,a){var u=.5*(n-t),s=.5*(r-e);return(2*(e-n)+u+s)*a+(-3*(e-n)-2*u-s)*i+u*o+e}function kr(t,e,n,r,o,i,a,u){for(var s=e.length,c=0;c<s;c++)t[c]=Cr(e[c],n[c],r[c],o[c],i,a,u)}function Tr(t,e,n,r,o,i,a,u){for(var s=e.length,c=e[0].length,l=0;l<s;l++){t[l]||(t[1]=[]);for(var f=0;f<c;f++)t[l][f]=Cr(e[l][f],n[l][f],r[l][f],o[l][f],i,a,u)}}function Ar(t){if(Tt(t)){var e=t.length;if(Tt(t[0])){for(var n=[],r=0;r<e;r++)n.push(mr.call(t[r]));return n}return mr.call(t)}return t}function Or(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function Mr(t){return Tt(t&&t[0])?2:1}var Dr,Ir,Er=[0,0,0,0],Rr=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var n=this.keyframes,r=n.length;if(this.interpolable)if(Tt(e)){var o=Mr(e);if(r>0&&this.arrDim!==o)return void(this.interpolable=!1);if(1===o&&"number"!==typeof e[0]||2===o&&"number"!==typeof e[0][0])return void(this.interpolable=!1);if(r>0){var i=n[r-1];this._isAllValueEqual&&(1===o&&Sr(e,i.value)||(this._isAllValueEqual=!1))}this.arrDim=o}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"===typeof e){var a=ir(e);a?(e=a,this.isValueColor=!0):this.interpolable=!1}else if("number"!==typeof e)return void(this.interpolable=!1);if(this._isAllValueEqual&&r>0){i=n[r-1];(this.isValueColor&&!Sr(i.value,e)||i.value!==e)&&(this._isAllValueEqual=!1)}}var u={time:t,value:e,percent:0};return this.keyframes.push(u),u},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var n=this.arrDim,r=e.length,o=e[r-1],i=0;i<r;i++)e[i].percent=e[i].time/this.maxTime,n>0&&i!==r-1&&_r(e[i].value,o.value,n);if(t&&this.needsAnimate()&&t.needsAnimate()&&n===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var a=e[0].value;for(i=0;i<r;i++)0===n?this.isValueColor?e[i].additiveValue=xr([],e[i].value,a,-1):e[i].additiveValue=e[i].value-a:1===n?e[i].additiveValue=xr([],e[i].value,a,-1):2===n&&(e[i].additiveValue=wr([],e[i].value,a,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r=null!=this._additiveTrack,o=r?"additiveValue":"value",i=this.keyframes,a=this.keyframes.length,u=this.propName,s=this.arrDim,c=this.isValueColor;if(e<0)n=0;else if(e<this._lastFramePercent){var l=Math.min(this._lastFrame+1,a-1);for(n=l;n>=0;n--)if(i[n].percent<=e)break;n=Math.min(n,a-2)}else{for(n=this._lastFrame;n<a;n++)if(i[n].percent>e)break;n=Math.min(n-1,a-2)}var f=i[n+1],d=i[n];if(d&&f){this._lastFrame=n,this._lastFramePercent=e;var h=f.percent-d.percent;if(0!==h){var p=(e-d.percent)/h,m=r?this._additiveValue:c?Er:t[u];if((s>0||c)&&!m&&(m=this._additiveValue=[]),this.useSpline){var g=i[n][o],v=i[0===n?n:n-1][o],y=i[n>a-2?a-1:n+1][o],b=i[n>a-3?a-1:n+2][o];if(s>0)1===s?kr(m,v,g,y,b,p,p*p,p*p*p):Tr(m,v,g,y,b,p,p*p,p*p*p);else if(c)kr(m,v,g,y,b,p,p*p,p*p*p),r||(t[u]=Or(m));else{var x=void 0;x=this.interpolable?Cr(v,g,y,b,p,p*p,p*p*p):y,r?this._additiveValue=x:t[u]=x}}else if(s>0)1===s?yr(m,d[o],f[o],p):br(m,d[o],f[o],p);else if(c)yr(m,d[o],f[o],p),r||(t[u]=Or(m));else{x=void 0;x=this.interpolable?gr(d[o],f[o],p):vr(d[o],f[o],p),r?this._additiveValue=x:t[u]=x}r&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,n=this.propName,r=this._additiveValue;0===e?this.isValueColor?(ir(t[n],Er),xr(Er,Er,r,1),t[n]=Or(Er)):t[n]=t[n]+r:1===e?xr(t[n],t[n],r,1):2===e&&wr(t[n],t[n],r,1)},t}(),Nr=function(){function t(t,e,n){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&n?gt("Can' use additive animation on looped animation."):this._additiveAnimators=n}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,Et(e))},t.prototype.whenWithKeys=function(t,e,n){for(var r=this._tracks,o=0;o<n.length;o++){var i=n[o],a=r[i];if(!a){a=r[i]=new Rr(i);var u=void 0,s=this._getAdditiveTrack(i);if(s){var c=s.keyframes[s.keyframes.length-1];u=c&&c.value,s.isValueColor&&u&&(u=Or(u))}else u=this._target[i];if(null==u)continue;0!==t&&a.addKeyframe(0,Ar(u)),this._trackKeys.push(i)}a.addKeyframe(t,Ar(e[i]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneList;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedList;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var o=n[r].getTrack(t);o&&(e=o)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var n=this,r=[],o=0;o<this._trackKeys.length;o++){var i=this._trackKeys[o],a=this._tracks[i],u=this._getAdditiveTrack(i),s=a.keyframes;if(a.prepare(u),a.needsAnimate())r.push(a);else if(!a.interpolable){var c=s[s.length-1];c&&(n._target[a.propName]=c.value)}}if(r.length||e){var l=new jn({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){n._started=2;var e=n._additiveAnimators;if(e){for(var o=!1,i=0;i<e.length;i++)if(e[i]._clip){o=!0;break}o||(n._additiveAnimators=null)}for(i=0;i<r.length;i++)r[i].step(n._target,t);var a=n._onframeList;if(a)for(i=0;i<a.length;i++)a[i](n._target,t)},ondestroy:function(){n._doneCallback()}});this._clip=l,this.animation&&this.animation.addClip(l),t&&"spline"!==t&&(l.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(t)),this},t.prototype.done=function(t){return t&&(this._doneList||(this._doneList=[]),this._doneList.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var i=n[t[o]];i&&(e?i.step(this._target,1):1===this._started&&i.step(this._target,0),i.setFinished())}var a=!0;for(o=0;o<r.length;o++)if(!n[r[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var n=0;n<e.length;n++){var r=e[n],o=this._tracks[r];if(o&&!o.isFinished()){var i=o.keyframes,a=i[i.length-1];if(a){var u=Ar(a.value);o.isValueColor&&(u=Or(u)),t[r]=u}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||Et(t);for(var n=0;n<e.length;n++){var r=e[n],o=this._tracks[r];if(o){var i=o.keyframes;if(i.length>1){var a=i.pop();o.addKeyframe(a.time,t[r]),o.prepare(o.getAdditiveTrack())}}}},t}(),Pr=Nr,Lr=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},t.lerp=function(t,e,n,r){var o=1-r;t.x=o*e.x+r*n.x,t.y=o*e.y+r*n.y},t}(),Br=Lr,zr=Math.min,Vr=Math.max,Fr=new Br,jr=new Br,Hr=new Br,Ur=new Br,Wr=new Br,Gr=new Br,qr=function(){function t(t,e,n,r){n<0&&isFinite(n)&&(t+=n,n=-n),r<0&&isFinite(r)&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.union=function(t){var e=zr(t.x,this.x),n=zr(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Vr(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Vr(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,r=t.height/e.height,o=xn();return Cn(o,o,[-e.x,-e.y]),Tn(o,o,[n,r]),Cn(o,o,[t.x,t.y]),o},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,o=r.x,i=r.x+r.width,a=r.y,u=r.y+r.height,s=e.x,c=e.x+e.width,l=e.y,f=e.y+e.height,d=!(i<s||c<o||u<l||f<a);if(n){var h=1/0,p=0,m=Math.abs(i-s),g=Math.abs(c-o),v=Math.abs(u-l),y=Math.abs(f-a),b=Math.min(m,g),x=Math.min(v,y);i<s||c<o?b>p&&(p=b,m<g?Br.set(Gr,-m,0):Br.set(Gr,g,0)):b<h&&(h=b,m<g?Br.set(Wr,m,0):Br.set(Wr,-g,0)),u<l||f<a?x>p&&(p=x,v<y?Br.set(Gr,0,-v):Br.set(Gr,0,y)):b<h&&(h=b,v<y?Br.set(Wr,0,v):Br.set(Wr,0,-y))}return n&&Br.copy(n,d?Wr:Gr),d},t.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var o=r[0],i=r[3],a=r[4],u=r[5];return e.x=n.x*o+a,e.y=n.y*i+u,e.width=n.width*o,e.height=n.height*i,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Fr.x=Hr.x=n.x,Fr.y=Ur.y=n.y,jr.x=Ur.x=n.x+n.width,jr.y=Hr.y=n.y+n.height,Fr.transform(r),Ur.transform(r),jr.transform(r),Hr.transform(r),e.x=zr(Fr.x,jr.x,Hr.x,Ur.x),e.y=zr(Fr.y,jr.y,Hr.y,Ur.y);var s=Vr(Fr.x,jr.x,Hr.x,Ur.x),c=Vr(Fr.y,jr.y,Hr.y,Ur.y);e.width=s-e.x,e.height=c-e.y}else e!==n&&t.copy(e,n)},t}(),Yr=qr,Xr={},Zr="12px sans-serif";function $r(t,e){return Dr||(Dr=_t().getContext("2d")),Ir!==e&&(Ir=Dr.font=e||Zr),Dr.measureText(t)}var Kr={measureText:$r};function Jr(t,e){e=e||Zr;var n=Xr[e];n||(n=Xr[e]=new Gn(500));var r=n.get(t);return null==r&&(r=Kr.measureText(t,e).width,n.put(t,r)),r}function Qr(t,e,n,r){var o=Jr(t,e),i=ro(e),a=eo(0,o,n),u=no(0,i,r),s=new Yr(a,u,o,i);return s}function to(t,e,n,r){var o=((t||"")+"").split("\n"),i=o.length;if(1===i)return Qr(o[0],e,n,r);for(var a=new Yr(0,0,0,0),u=0;u<o.length;u++){var s=Qr(o[u],e,n,r);0===u?a.copy(s):a.union(s)}return a}function eo(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function no(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function ro(t){return Jr("",t)}function oo(t,e){return"string"===typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function io(t,e,n){var r=e.position||"inside",o=null!=e.distance?e.distance:5,i=n.height,a=n.width,u=i/2,s=n.x,c=n.y,l="left",f="top";if(r instanceof Array)s+=oo(r[0],n.width),c+=oo(r[1],n.height),l=null,f=null;else switch(r){case"left":s-=o,c+=u,l="right",f="middle";break;case"right":s+=o+a,c+=u,f="middle";break;case"top":s+=a/2,c-=o,l="center",f="bottom";break;case"bottom":s+=a/2,c+=i+o,l="center";break;case"inside":s+=a/2,c+=u,l="center",f="middle";break;case"insideLeft":s+=o,c+=u,f="middle";break;case"insideRight":s+=a-o,c+=u,l="right",f="middle";break;case"insideTop":s+=a/2,c+=o,l="center";break;case"insideBottom":s+=a/2,c+=i-o,l="center",f="bottom";break;case"insideTopLeft":s+=o,c+=o;break;case"insideTopRight":s+=a-o,c+=o,l="right";break;case"insideBottomLeft":s+=o,c+=i-o,f="bottom";break;case"insideBottomRight":s+=a-o,c+=i-o,l="right",f="bottom";break}return t=t||{},t.x=s,t.y=c,t.align=l,t.verticalAlign=f,t}var ao=1;"undefined"!==typeof window&&(ao=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var uo=ao,so=.4,co="#333",lo="#ccc",fo="#eee",ho="__zr_normal__",po=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],mo={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},go={},vo=new Yr(0,0,0,0),yo=function(){function t(t){this.id=mt(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,o=e.attachedTransform,i=void 0,a=void 0,u=!1;o.parent=r?this:null;var s=!1;if(o.x=e.x,o.y=e.y,o.originX=e.originX,o.originY=e.originY,o.rotation=e.rotation,o.scaleX=e.scaleX,o.scaleY=e.scaleY,null!=n.position){var c=vo;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),r||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(go,n,c):io(go,n,c),o.x=go.x,o.y=go.y,i=go.align,a=go.verticalAlign;var l=n.origin;if(l&&null!=n.rotation){var f=void 0,d=void 0;"center"===l?(f=.5*c.width,d=.5*c.height):(f=oo(l[0],c.width),d=oo(l[1],c.height)),s=!0,o.originX=-o.x+f+(r?0:c.x),o.originY=-o.y+d+(r?0:c.y)}}null!=n.rotation&&(o.rotation=n.rotation);var h=n.offset;h&&(o.x+=h[0],o.y+=h[1],s||(o.originX=-h[0],o.originY=-h[1]));var p=null==n.inside?"string"===typeof n.position&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,v=void 0,y=void 0;p&&this.canBeInsideText()?(g=n.insideFill,v=n.insideStroke,null!=g&&"auto"!==g||(g=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(g),y=!0)):(g=n.outsideFill,v=n.outsideStroke,null!=g&&"auto"!==g||(g=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(g),y=!0)),g=g||"#000",g===m.fill&&v===m.stroke&&y===m.autoStroke&&i===m.align&&a===m.verticalAlign||(u=!0,m.fill=g,m.stroke=v,m.autoStroke=y,m.align=i,m.verticalAlign=a,e.setDefaultTextStyle(m)),u&&e.dirtyStyle(),e.markRedraw()}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?lo:co},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"===typeof e&&ir(e);n||(n=[255,255,255,1]);for(var r=n[3],o=this.__zr.isDarkMode(),i=0;i<3;i++)n[i]=n[i]*r+(o?0:255)*(1-r);return n[3]=1,hr(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},xt(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"===typeof t)this.attrKV(t,e);else if(jt(t))for(var n=t,r=Et(n),o=0;o<r.length;o++){var i=r[o];this.attrKV(i,t[i])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],o=r.__fromStateTransition;if(!o||o===ho){var i=r.targetName,a=i?e[i]:e;r.saveFinalToTarget(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,po)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var o=n[r];null==t[o]||o in e||(e[o]=this[o])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(ho,!1,t)},t.prototype.useState=function(e,n,r){var o=e===ho,i=this.hasState();if(i||!o){var a=this.currentStates,u=this.stateTransition;if(!(St(a,e)>=0)||!n&&1!==a.length){var s;if(this.stateProxy&&!o&&(s=this.stateProxy(e)),s||(s=this.states&&this.states[e]),s||o){o||this.saveCurrentToNormalState(s);var c=!(!s||!s.hoverLayer);return c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,s,this._normalState,n,!r&&!this.__inHover&&u&&u.duration>0,u),this._textContent&&this._textContent.useState(e,n),this._textGuide&&this._textGuide.useState(e,n),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT),s}gt("State "+e+" not exists.")}}},t.prototype.useStates=function(e,n){if(e.length){var r=[],o=this.currentStates,i=e.length,a=i===o.length;if(a)for(var u=0;u<i;u++)if(e[u]!==o[u]){a=!1;break}if(a)return;for(u=0;u<i;u++){var s=e[u],c=void 0;this.stateProxy&&(c=this.stateProxy(s,e)),c||(c=this.states[s]),c&&r.push(c)}var l=!(!r[i-1]||!r[i-1].hoverLayer);l&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(r),d=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(e.join(","),f,this._normalState,!1,!n&&!this.__inHover&&d&&d.duration>0,d),this._textContent&&this._textContent.useStates(e),this._textGuide&&this._textGuide.useStates(e),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=St(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),o=St(r,t),i=St(r,e)>=0;o>=0?i?r.splice(o,1):r[o]=e:n&&!i&&r.push(e),this.useStates(r)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},r=0;r<t.length;r++){var o=t[r];xt(n,o),o.textConfig&&(e=e||{},xt(e,o.textConfig))}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,r,o,i){var a=!(e&&r);e&&e.textConfig?(this.textConfig=xt({},r?this.textConfig:n.textConfig),xt(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var u={},s=!1,c=0;c<po.length;c++){var l=po[c],f=o&&mo[l];e&&null!=e[l]?f?(s=!0,u[l]=e[l]):this[l]=e[l]:a&&null!=n[l]&&(f?(s=!0,u[l]=n[l]):this[l]=n[l])}if(!o)for(c=0;c<this.animators.length;c++){var d=this.animators[c],h=d.targetName;d.__changeFinalValue(h?(e||n)[h]:e||n)}s&&this._transitionState(t,u,i)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.attachedTransform=new Bn,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),xt(this.textConfig,t),this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.attachedTransform=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=t.REDARAW_BIT;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)},t.prototype.removeSelfFromZr=function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)},t.prototype.animate=function(t,e){var n=t?this[t]:this;if(n){var r=new Pr(n,e);return this.addAnimator(r,t),r}gt('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during((function(){r.updateDuringAnimation(e)})).done((function(){var e=r.animators,n=St(e,t);n>=0&&e.splice(n,1)})),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,o=[],i=0;i<r;i++){var a=n[i];t&&t!==a.scope?o.push(a):a.stop(e)}return this.animators=o,this},t.prototype.animateTo=function(t,e,n){bo(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){bo(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,r){for(var o=bo(this,e,n,r),i=0;i<o.length;i++)o[i].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.REDARAW_BIT=1,t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=t.REDARAW_BIT;var n={};function r(t,e,r){n[t+e+r]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+r+"' instead"),n[t+e+r]=!0)}function o(t,n,o,i){function a(t,e){Object.defineProperty(e,0,{get:function(){return t[o]},set:function(e){t[o]=e}}),Object.defineProperty(e,1,{get:function(){return t[i]},set:function(e){t[i]=e}})}Object.defineProperty(e,t,{get:function(){if(r(t,o,i),!this[n]){var e=this[n]=[];a(this,e)}return this[n]},set:function(e){r(t,o,i),this[o]=e[0],this[i]=e[1],this[n]=e,a(this,e)}})}Object.defineProperty&&(!nt.browser.ie||nt.browser.version>8)&&(o("position","_legacyPos","x","y"),o("scale","_legacyScale","scaleX","scaleY"),o("origin","_legacyOrigin","originX","originY"))}(),t}();function bo(t,e,n,r,o){n=n||{};var i=[];So(t,"",t,e,n,r,i,o);var a=i.length,u=!1,s=n.done,c=n.aborted,l=function(){u=!0,a--,a<=0&&(u?s&&s():c&&c())},f=function(){a--,a<=0&&(u?s&&s():c&&c())};a||s&&s(),i.length>0&&n.during&&i[0].during((function(t,e){n.during(e)}));for(var d=0;d<i.length;d++){var h=i[d];l&&h.done(l),f&&h.aborted(f),h.start(n.easing,n.force)}return i}function xo(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function wo(t){return Tt(t[0])}function _o(t,e,n){if(Tt(e[n]))if(Tt(t[n])||(t[n]=[]),Ut(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),xo(t[n],e[n],r))}else{var o=e[n],i=t[n],a=o.length;if(wo(o))for(var u=o[0].length,s=0;s<a;s++)i[s]?xo(i[s],o[s],u):i[s]=Array.prototype.slice.call(o[s]);else xo(i,o,a);i.length=o.length}else t[n]=e[n]}function So(t,e,n,r,o,i,a,u){for(var s=[],c=[],l=Et(r),f=o.duration,d=o.delay,h=o.additive,p=o.setToFinal,m=!jt(i),g=0;g<l.length;g++){var v=l[g];if(null!=n[v]&&null!=r[v]&&(m||i[v]))if(jt(r[v])&&!Tt(r[v])){if(e){u||(n[v]=r[v],t.updateDuringAnimation(e));continue}So(t,v,n[v],r[v],o,i&&i[v],a,u)}else s.push(v),c.push(v);else u||(n[v]=r[v],t.updateDuringAnimation(e),c.push(v))}var y=s.length;if(y>0||o.force&&!a.length){for(var b=t.animators,x=[],w=0;w<b.length;w++)b[w].targetName===e&&x.push(b[w]);if(!h&&x.length)for(w=0;w<x.length;w++){var _=x[w].stopTracks(c);if(_){var S=St(b,x[w]);b.splice(S,1)}}var C=void 0,k=void 0,T=void 0;if(u){k={},p&&(C={});for(w=0;w<y;w++){v=s[w];k[v]=n[v],p?C[v]=r[v]:n[v]=r[v]}}else if(p){T={};for(w=0;w<y;w++){v=s[w];T[v]=Ar(n[v]),_o(n,r,v)}}var A=new Pr(n,!1,h?x:null);A.targetName=e,o.scope&&(A.scope=o.scope),p&&C&&A.whenWithKeys(0,C,s),T&&A.whenWithKeys(0,T,s),A.whenWithKeys(null==f?500:f,u?k:r,s).delay(d||0),t.addAnimator(A,e),a.push(A)}}kt(yo,Le),kt(yo,Bn);var Co=yo,ko=32,To=7;function Ao(t){var e=0;while(t>=ko)e|=1&t,t>>=1;return t+e}function Oo(t,e,n,r){var o=e+1;if(o===n)return 1;if(r(t[o++],t[e])<0){while(o<n&&r(t[o],t[o-1])<0)o++;Mo(t,e,o)}else while(o<n&&r(t[o],t[o-1])>=0)o++;return o-e}function Mo(t,e,n){n--;while(e<n){var r=t[e];t[e++]=t[n],t[n--]=r}}function Do(t,e,n,r,o){for(r===e&&r++;r<n;r++){var i,a=t[r],u=e,s=r;while(u<s)i=u+s>>>1,o(a,t[i])<0?s=i:u=i+1;var c=r-u;switch(c){case 3:t[u+3]=t[u+2];case 2:t[u+2]=t[u+1];case 1:t[u+1]=t[u];break;default:while(c>0)t[u+c]=t[u+c-1],c--}t[u]=a}}function Io(t,e,n,r,o,i){var a=0,u=0,s=1;if(i(t,e[n+o])>0){u=r-o;while(s<u&&i(t,e[n+o+s])>0)a=s,s=1+(s<<1),s<=0&&(s=u);s>u&&(s=u),a+=o,s+=o}else{u=o+1;while(s<u&&i(t,e[n+o-s])<=0)a=s,s=1+(s<<1),s<=0&&(s=u);s>u&&(s=u);var c=a;a=o-s,s=o-c}a++;while(a<s){var l=a+(s-a>>>1);i(t,e[n+l])>0?a=l+1:s=l}return s}function Eo(t,e,n,r,o,i){var a=0,u=0,s=1;if(i(t,e[n+o])<0){u=o+1;while(s<u&&i(t,e[n+o-s])<0)a=s,s=1+(s<<1),s<=0&&(s=u);s>u&&(s=u);var c=a;a=o-s,s=o-c}else{u=r-o;while(s<u&&i(t,e[n+o+s])>=0)a=s,s=1+(s<<1),s<=0&&(s=u);s>u&&(s=u),a+=o,s+=o}a++;while(a<s){var l=a+(s-a>>>1);i(t,e[n+l])<0?s=l:a=l+1}return s}function Ro(t,e){var n,r,o=To,i=0,a=0;i=t.length;var u=[];function s(t,e){n[a]=t,r[a]=e,a+=1}function c(){while(a>1){var t=a-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;f(t)}}function l(){while(a>1){var t=a-2;t>0&&r[t-1]<r[t+1]&&t--,f(t)}}function f(o){var i=n[o],u=r[o],s=n[o+1],c=r[o+1];r[o]=u+c,o===a-3&&(n[o+1]=n[o+2],r[o+1]=r[o+2]),a--;var l=Eo(t[s],t,i,u,0,e);i+=l,u-=l,0!==u&&(c=Io(t[i+u-1],t,s,c,c-1,e),0!==c&&(u<=c?d(i,u,s,c):h(i,u,s,c)))}function d(n,r,i,a){var s=0;for(s=0;s<r;s++)u[s]=t[n+s];var c=0,l=i,f=n;if(t[f++]=t[l++],0!==--a)if(1!==r){var d,h,p,m=o;while(1){d=0,h=0,p=!1;do{if(e(t[l],u[c])<0){if(t[f++]=t[l++],h++,d=0,0===--a){p=!0;break}}else if(t[f++]=u[c++],d++,h=0,1===--r){p=!0;break}}while((d|h)<m);if(p)break;do{if(d=Eo(t[l],u,c,r,0,e),0!==d){for(s=0;s<d;s++)t[f+s]=u[c+s];if(f+=d,c+=d,r-=d,r<=1){p=!0;break}}if(t[f++]=t[l++],0===--a){p=!0;break}if(h=Io(u[c],t,l,a,0,e),0!==h){for(s=0;s<h;s++)t[f+s]=t[l+s];if(f+=h,l+=h,a-=h,0===a){p=!0;break}}if(t[f++]=u[c++],1===--r){p=!0;break}m--}while(d>=To||h>=To);if(p)break;m<0&&(m=0),m+=2}if(o=m,o<1&&(o=1),1===r){for(s=0;s<a;s++)t[f+s]=t[l+s];t[f+a]=u[c]}else{if(0===r)throw new Error;for(s=0;s<r;s++)t[f+s]=u[c+s]}}else{for(s=0;s<a;s++)t[f+s]=t[l+s];t[f+a]=u[c]}else for(s=0;s<r;s++)t[f+s]=u[c+s]}function h(n,r,i,a){var s=0;for(s=0;s<a;s++)u[s]=t[i+s];var c=n+r-1,l=a-1,f=i+a-1,d=0,h=0;if(t[f--]=t[c--],0!==--r)if(1!==a){var p=o;while(1){var m=0,g=0,v=!1;do{if(e(u[l],t[c])<0){if(t[f--]=t[c--],m++,g=0,0===--r){v=!0;break}}else if(t[f--]=u[l--],g++,m=0,1===--a){v=!0;break}}while((m|g)<p);if(v)break;do{if(m=r-Eo(u[l],t,n,r,r-1,e),0!==m){for(f-=m,c-=m,r-=m,h=f+1,d=c+1,s=m-1;s>=0;s--)t[h+s]=t[d+s];if(0===r){v=!0;break}}if(t[f--]=u[l--],1===--a){v=!0;break}if(g=a-Io(t[c],u,0,a,a-1,e),0!==g){for(f-=g,l-=g,a-=g,h=f+1,d=l+1,s=0;s<g;s++)t[h+s]=u[d+s];if(a<=1){v=!0;break}}if(t[f--]=t[c--],0===--r){v=!0;break}p--}while(m>=To||g>=To);if(v)break;p<0&&(p=0),p+=2}if(o=p,o<1&&(o=1),1===a){for(f-=r,c-=r,h=f+1,d=c+1,s=r-1;s>=0;s--)t[h+s]=t[d+s];t[f]=u[l]}else{if(0===a)throw new Error;for(d=f-(a-1),s=0;s<a;s++)t[d+s]=u[s]}}else{for(f-=r,c-=r,h=f+1,d=c+1,s=r-1;s>=0;s--)t[h+s]=t[d+s];t[f]=u[l]}else for(d=f-(a-1),s=0;s<a;s++)t[d+s]=u[s]}return i<120?5:i<1542?10:i<119151?19:40,n=[],r=[],{mergeRuns:c,forceMergeRuns:l,pushRun:s}}function No(t,e,n,r){n||(n=0),r||(r=t.length);var o=r-n;if(!(o<2)){var i=0;if(o<ko)return i=Oo(t,n,r,e),void Do(t,n,r,n+i,e);var a=Ro(t,e),u=Ao(o);do{if(i=Oo(t,n,r,e),i<u){var s=o;s>u&&(s=u),Do(t,n,n+s,n+i,e),i=s}a.pushRun(n,i),a.mergeRuns(),o-=i,n+=i}while(0!==o);a.forceMergeRuns()}}var Po=!1;function Lo(){Po||(Po=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Bo(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var zo,Vo=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Bo}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,nt.canvasSupported&&No(n,Bo)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];var o=r,i=t;while(o)o.parent=i,o.updateTransform(),e.push(o),i=o,o=o.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),u=0;u<a.length;u++){var s=a[u];t.__dirty&&(s.__dirty|=Co.REDARAW_BIT),this._updateAndAddDisplayable(s,e,n)}t.__dirty=0}else{var c=t;e&&e.length?c.__clipPaths=e:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(Lo(),c.z=0),isNaN(c.z2)&&(Lo(),c.z2=0),isNaN(c.zlevel)&&(Lo(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var l=t.getDecalElement&&t.getDecalElement();l&&this._updateAndAddDisplayable(l,e,n);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,e,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var r=St(this._roots,t);r>=0&&this._roots.splice(r,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),Fo=Vo;zo="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var jo=zo,Ho=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n.onframe=e.onframe||function(){},n}return de(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._clipsHead=n,n?n.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){var e=(new Date).getTime()-this._pausedTime,n=e-this._time,r=this._clipsHead;while(r){var o=r.next,i=r.step(e,n);i?(r.ondestroy&&r.ondestroy(),this.removeClip(r),r=o):r=o}this._time=e,t||(this.onframe(n),this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;function e(){t._running&&(jo(e),!t._paused&&t.update())}this._running=!0,jo(e)},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){var t=this._clipsHead;while(t){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new Pr(t,e.loop);return this.addAnimator(n),n},e}(Le),Uo=Ho,Wo=300,Go=nt.domSupported,qo=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=Ot(t,(function(t){var e=t.replace("mouse","pointer");return n.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:r}}(),Yo={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Xo=!1;function Zo(t){var e=t.pointerType;return"pen"===e||"touch"===e}function $o(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}function Ko(t){t&&(t.zrByTouch=!0)}function Jo(t,e){return Qe(t.dom,new ti(t,e),!0)}function Qo(t,e){var n=e,r=!1;while(n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot))n=n.parentNode;return r}var ti=function(){function t(t,e){this.stopPropagation=le,this.stopImmediatePropagation=le,this.preventDefault=le,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return t}(),ei={mousedown:function(t){t=Qe(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Qe(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Qe(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Qe(this.dom,t);var e=t.toElement||t.relatedTarget;Qo(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Xo=!0,t=Qe(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Xo||(t=Qe(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=Qe(this.dom,t),Ko(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),ei.mousemove.call(this,t),ei.mousedown.call(this,t)},touchmove:function(t){t=Qe(this.dom,t),Ko(t),this.handler.processGesture(t,"change"),ei.mousemove.call(this,t)},touchend:function(t){t=Qe(this.dom,t),Ko(t),this.handler.processGesture(t,"end"),ei.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<Wo&&ei.click.call(this,t)},pointerdown:function(t){ei.mousedown.call(this,t)},pointermove:function(t){Zo(t)||ei.mousemove.call(this,t)},pointerup:function(t){ei.mouseup.call(this,t)},pointerout:function(t){Zo(t)||ei.mouseout.call(this,t)}};At(["click","dblclick","contextmenu"],(function(t){ei[t]=function(e){e=Qe(this.dom,e),this.trigger(t,e)}}));var ni={pointermove:function(t){Zo(t)||ni.mousemove.call(this,t)},pointerup:function(t){ni.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function ri(t,e){var n=e.domHandlers;nt.pointerEventsSupported?At(qo.pointer,(function(r){ii(e,r,(function(e){n[r].call(t,e)}))})):(nt.touchEventsSupported&&At(qo.touch,(function(r){ii(e,r,(function(o){n[r].call(t,o),$o(e)}))})),At(qo.mouse,(function(r){ii(e,r,(function(o){o=Je(o),e.touching||n[r].call(t,o)}))})))}function oi(t,e){function n(n){function r(r){r=Je(r),Qo(t,r.target)||(r=Jo(t,r),e.domHandlers[n].call(t,r))}ii(e,n,r,{capture:!0})}nt.pointerEventsSupported?At(Yo.pointer,n):nt.touchEventsSupported||At(Yo.mouse,n)}function ii(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,en(t.domTarget,e,n,r)}function ai(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&nn(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var ui=function(){function t(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return t}(),si=function(t){function e(e,n){var r=t.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new ui(e,ei),Go&&(r._globalHandlerScope=new ui(document,ni)),ri(r,r._localHandlerScope),r}return de(e,t),e.prototype.dispose=function(){ai(this._localHandlerScope),Go&&ai(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Go&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?oi(this,e):ai(e)}},e}(Le),ci=si,li=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return de(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},e.prototype.replaceAt=function(t,e){var n=this._children,r=n[e];if(t&&t!==this&&t.parent!==this&&t!==r){n[e]=t,r.parent=null;var o=this.__zr;o&&r.removeSelfFromZr(o),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,r=St(n,t);return r<0||(n.splice(r,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var r=t[n];e&&r.removeSelfFromZr(e),r.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,r=0;r<n.length;r++){var o=n[r];t.call(e,o,r)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n],o=t.call(e,r);r.isGroup&&!o&&r.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new Yr(0,0,0,0),n=t||this._children,r=[],o=null,i=0;i<n.length;i++){var a=n[i];if(!a.ignore&&!a.invisible){var u=a.getBoundingRect(),s=a.getLocalTransform(r);s?(Yr.applyTransform(e,u,s),o=o||e.clone(),o.union(e)):(o=o||u.clone(),o.union(u))}}return o||e},e}(Co);li.prototype.type="group";var fi=li,di=!nt.canvasSupported,hi={},pi={};
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/function mi(t){delete pi[t]}function gi(t){if(!t)return!1;if("string"===typeof t)return pr(t,1)<so;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,o=0;o<r;o++)n+=pr(e[o].color,1);return n/=r,n<so}return!1}var vi=function(){function t(t,e,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var o=new Fo,i=n.renderer||"canvas";if(di)throw new Error("IE8 support has been dropped since 5.0");if(hi[i]||(i=Et(hi)[0]),!hi[i])throw new Error("Renderer '"+i+"' is not imported. Please import it first.");n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var a=new hi[i](e,o,n,t);this.storage=o,this.painter=a;var u=nt.node||nt.worker?null:new ci(a.getViewportRoot(),a.root);this.handler=new bn(o,a,u,a.root),this.animation=new Uo({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=gi(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof fi&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,mi(this.id)},t}();function yi(t,e){var n=new vi(mt(),t,e);return pi[n.id]=n,n}function bi(t,e){hi[t]=e}var xi=1e-4;function wi(t){return t.replace(/^\s+|\s+$/g,"")}function _i(t,e,n,r){var o=e[1]-e[0],i=n[1]-n[0];if(0===o)return 0===i?n[0]:(n[0]+n[1])/2;if(r)if(o>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/o*i+n[0]}function Si(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return"string"===typeof t?wi(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function Ci(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function ki(t){return t.sort((function(t,e){return t-e})),t}function Ti(t){if(t=+t,isNaN(t))return 0;var e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function Ai(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var o=e.indexOf(".");return o<0?0:e.length-1-o}function Oi(t,e){var n=Math.log,r=Math.LN10,o=Math.floor(n(t[1]-t[0])/r),i=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-o+i,0),20);return isFinite(a)?a:20}function Mi(t,e,n){if(!t[e])return 0;var r=Mt(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===r)return 0;var o=Math.pow(10,n),i=Ot(t,(function(t){return(isNaN(t)?0:t)/r*o*100})),a=100*o,u=Ot(i,(function(t){return Math.floor(t)})),s=Mt(u,(function(t,e){return t+e}),0),c=Ot(i,(function(t,e){return t-u[e]}));while(s<a){for(var l=Number.NEGATIVE_INFINITY,f=null,d=0,h=c.length;d<h;++d)c[d]>l&&(l=c[d],f=d);++u[f],c[f]=0,++s}return u[e]/o}var Di=9007199254740991;function Ii(t){var e=2*Math.PI;return(t%e+e)%e}function Ei(t){return t>-xi&&t<xi}var Ri=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ni(t){if(t instanceof Date)return t;if("string"===typeof t){var e=Ri.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Pi(t){return Math.pow(10,Li(t))}function Li(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Bi(t,e){var n,r=Li(t),o=Math.pow(10,r),i=t/o;return n=e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10,t=n*o,r>=-20?+t.toFixed(r<0?-r:0):t}function zi(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o}function Vi(t){t.sort((function(t,e){return u(t,e,0)?-1:1}));for(var e=-1/0,n=1,r=0;r<t.length;){for(var o=t[r].interval,i=t[r].close,a=0;a<2;a++)o[a]<=e&&(o[a]=e,i[a]=a?1:1-n),e=o[a],n=i[a];o[0]===o[1]&&i[0]*i[1]!==1?t.splice(r,1):r++}return t;function u(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]===(n?-1:1)||!n&&u(t,e,1))}}function Fi(t){var e=parseFloat(t);return e==t&&(0!==e||"string"!==typeof t||t.indexOf("x")<=0)?e:NaN}function ji(t){return!isNaN(Fi(t))}function Hi(){return Math.round(9*Math.random())}function Ui(t,e){return 0===e?t:Ui(e,t%e)}function Wi(t,e){return null==t?e:null==e?t:t*e/Ui(t,e)}var Gi="series\0",qi="\0_ec_\0";function Yi(t){return t instanceof Array?t:null==t?[]:[t]}function Xi(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,o=n.length;r<o;r++){var i=n[r];!t.emphasis[e].hasOwnProperty(i)&&t[e].hasOwnProperty(i)&&(t.emphasis[e][i]=t[e][i])}}}var Zi=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function $i(t){return!jt(t)||Lt(t)||t instanceof Date?t:t.value}function Ki(t){return jt(t)&&!(t instanceof Array)}function Ji(t,e,n){var r="normalMerge"===n,o="replaceMerge"===n,i="replaceAll"===n;t=t||[],e=(e||[]).slice();var a=ae();At(e,(function(t,n){jt(t)||(e[n]=null)}));var u=Qi(t,a,n);return(r||o)&&ta(u,t,a,e),r&&ea(u,e),r||o?na(u,e,o):i&&ra(u,e),oa(u),u}function Qi(t,e,n){var r=[];if("replaceAll"===n)return r;for(var o=0;o<t.length;o++){var i=t[o];i&&null!=i.id&&e.set(i.id,o),r.push({existing:"replaceMerge"===n||ca(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return r}function ta(t,e,n,r){At(r,(function(o,i){if(o&&null!=o.id){var a=aa(o.id),u=n.get(a);if(null!=u){var s=t[u];te(!s.newOption,'Duplicated option on id "'+a+'".'),s.newOption=o,s.existing=e[u],r[i]=null}}}))}function ea(t,e){At(e,(function(n,r){if(n&&null!=n.name)for(var o=0;o<t.length;o++){var i=t[o].existing;if(!t[o].newOption&&i&&(null==i.id||null==n.id)&&!ca(n)&&!ca(i)&&ia("name",i,n))return t[o].newOption=n,void(e[r]=null)}}))}function na(t,e,n){At(e,(function(e){if(e){var r,o=0;while((r=t[o])&&(r.newOption||ca(r.existing)||r.existing&&null!=e.id&&!ia("id",e,r.existing)))o++;r?(r.newOption=e,r.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),o++}}))}function ra(t,e){At(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}function oa(t){var e=ae();At(t,(function(t){var n=t.existing;n&&e.set(n.id,t)})),At(t,(function(t){var n=t.newOption;te(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})})),At(t,(function(t,n){var r=t.existing,o=t.newOption,i=t.keyInfo;if(jt(o)){if(i.name=null!=o.name?aa(o.name):r?r.name:Gi+n,r)i.id=aa(r.id);else if(null!=o.id)i.id=aa(o.id);else{var a=0;do{i.id="\0"+i.name+"\0"+a++}while(e.get(i.id))}e.set(i.id,t)}}))}function ia(t,e,n){var r=ua(e[t],null),o=ua(n[t],null);return null!=r&&null!=o&&r===o}function aa(t){return ua(t,"")}function ua(t,e){if(null==t)return e;var n=typeof t;return"string"===n?t:"number"===n||Vt(t)?t+"":e}function sa(t){var e=t.name;return!(!e||!e.indexOf(Gi))}function ca(t){return t&&null!=t.id&&0===aa(t.id).indexOf(qi)}function la(t){return qi+t}function fa(t,e,n){At(t,(function(t){var r=t.newOption;jt(r)&&(t.keyInfo.mainType=e,t.keyInfo.subType=da(e,r,t.existing,n))}))}function da(t,e,n,r){var o=e.type?e.type:n?n.subType:r.determineSubType(t,e);return o}function ha(t,e){var n={},r={};return o(t||[],n),o(e||[],r,n),[i(n),i(r)];function o(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=ua(t[r].seriesId,null);if(null==i)return;for(var a=Yi(t[r].dataIndex),u=n&&n[i],s=0,c=a.length;s<c;s++){var l=a[s];u&&u[l]?u[l]=null:(e[i]||(e[i]={}))[l]=1}}}function i(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var o=i(t[r],!0);o.length&&n.push({seriesId:r,dataIndex:o})}return n}}function pa(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Lt(e.dataIndex)?Ot(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?Lt(e.name)?Ot(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function ma(){var t="__ec_inner_"+ga++;return function(e){return e[t]||(e[t]={})}}var ga=Hi();function va(t,e,n){var r;if(zt(e)){var o={};o[e+"Index"]=0,r=o}else r=e;var i=ae(),a={},u=!1;At(r,(function(t,e){if("dataIndex"!==e&&"dataIndexInside"!==e){var r=e.match(/^(\w+)(Index|Id|Name)$/)||[],o=r[1],s=(r[2]||"").toLowerCase();if(o&&s&&!(n&&n.includeMainTypes&&St(n.includeMainTypes,o)<0)){u=u||!!o;var c=i.get(o)||i.set(o,{});c[s]=t}}else a[e]=t}));var s=n?n.defaultMainType:null;return!u&&s&&i.set(s,{}),i.each((function(e,r){var o=xa(t,r,e,{useDefault:s===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[r+"Models"]=o.models,a[r+"Model"]=o.models[0]})),a}var ya={useDefault:!0,enableAll:!1,enableNone:!1},ba={useDefault:!1,enableAll:!0,enableNone:!0};function xa(t,e,n,r){r=r||ya;var o=n.index,i=n.id,a=n.name,u={models:null,specified:null!=o||null!=i||null!=a};if(!u.specified){var s=void 0;return u.models=r.useDefault&&(s=t.getComponent(e))?[s]:[],u}return"none"===o||!1===o?(te(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),u.models=[],u):("all"===o&&(te(r.enableAll,'`"all"` is not a valid value on index option.'),o=i=a=null),u.models=t.queryComponents({mainType:e,index:o,id:i,name:a}),u)}function wa(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function _a(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Sa(t){return"auto"===t?nt.domSupported?"html":"richText":t||"html"}function Ca(t,e){var n=ae(),r=[];return At(t,(function(t){var o=e(t);(n.get(o)||(r.push(o),n.set(o,[]))).push(t)})),{keys:r,buckets:n}}function ka(t,e,n,r,o){var i=null==e||"auto"===e;if(null==r)return r;if("number"===typeof r){var a=gr(n||0,r,o);return Ci(a,i?Math.max(Ai(n||0),Ai(r)):e)}if("string"===typeof r)return o<1?n:r;for(var u=[],s=n,c=r,l=Math.max(s?s.length:0,c.length),f=0;f<l;++f){var d=t.getDimensionInfo(f);if("ordinal"===d.type)u[f]=(o<1&&s?s:c)[f];else{var h=s&&s[f]?s[f]:0,p=c[f];a=gr(h,p,o);u[f]=Ci(a,i?Math.max(Ai(h),Ai(p)):e)}}return u}var Ta=".",Aa="___EC__COMPONENT__CONTAINER___",Oa="___EC__EXTENDED_CLASS___";function Ma(t){var e={main:"",sub:""};if(t){var n=t.split(Ta);e.main=n[0]||"",e.sub=n[1]||""}return e}function Da(t){te(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function Ia(t){return!(!t||!t[Oa])}function Ea(t,e){t.$constructor=t,t.extend=function(t){var e=this;function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t.$constructor)t.$constructor.apply(this,arguments);else{if(Ra(e)){var i=se(n.prototype,new(e.bind.apply(e,K([void 0],r))));return i}e.apply(this,arguments)}}return n[Oa]=!0,xt(n.prototype,t),n.extend=this.extend,n.superCall=Ba,n.superApply=za,Ct(n,this),n.superClass=e,n}}function Ra(t){return"function"===typeof t&&/^class\s/.test(Function.prototype.toString.call(t))}function Na(t,e){t.extend=e.extend}var Pa=Math.round(10*Math.random());function La(t){var e=["__\0is_clz",Pa++].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function Ba(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function za(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Va(t){var e={};function n(t){var n=e[t.main];return n&&n[Aa]||(n=e[t.main]={},n[Aa]=!0),n}t.registerClass=function(t){var r=t.type||t.prototype.type;if(r){Da(r),t.prototype.type=r;var o=Ma(r);if(o.sub){if(o.sub!==Aa){var i=n(o);i[o.sub]=t}}else e[o.main]=t}return t},t.getClass=function(t,n,r){var o=e[t];if(o&&o[Aa]&&(o=n?o[n]:null),r&&!o)throw new Error(n?"Component "+t+"."+(n||"")+" not exists. Load it first.":t+".type should be specified.");return o},t.getClassesByMainType=function(t){var n=Ma(t),r=[],o=e[n.main];return o&&o[Aa]?At(o,(function(t,e){e!==Aa&&r.push(t)})):r.push(o),r},t.hasClass=function(t){var n=Ma(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return At(e,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){var n=Ma(t),r=e[n.main];return r&&r[Aa]}}function Fa(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,r,o){for(var i={},a=0;a<t.length;a++){var u=t[a][1];if(!(r&&St(r,u)>=0||o&&St(o,u)<0)){var s=n.getShallow(u,e);null!=s&&(i[t[a][0]]=s)}}return i}}var ja=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Ha=Fa(ja),Ua=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return Ha(this,t,e)},t}(),Wa=new Gn(50);function Ga(t){if("string"===typeof t){var e=Wa.get(t);return e&&e.image}return t}function qa(t,e,n,r,o){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var i=Wa.get(t),a={hostEl:n,cb:r,cbPayload:o};return i?(e=i.image,!Xa(e)&&i.pending.push(a)):(e=new Image,e.onload=e.onerror=Ya,Wa.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function Ya(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Xa(t){return t&&t.width&&t.height}var Za=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function $a(t,e,n,r,o){if(!e)return"";var i=(t+"").split("\n");o=Ka(e,n,r,o);for(var a=0,u=i.length;a<u;a++)i[a]=Ja(i[a],o);return i.join("\n")}function Ka(t,e,n,r){r=r||{};var o=xt({},r);o.font=e,n=$t(n,"..."),o.maxIterations=$t(r.maxIterations,2);var i=o.minChar=$t(r.minChar,0);o.cnCharWidth=Jr("",e);var a=o.ascCharWidth=Jr("a",e);o.placeholder=$t(r.placeholder,"");for(var u=t=Math.max(0,t-1),s=0;s<i&&u>=a;s++)u-=a;var c=Jr(n,e);return c>u&&(n="",c=0),u=t-c,o.ellipsis=n,o.ellipsisWidth=c,o.contentWidth=u,o.containerWidth=t,o}function Ja(t,e){var n=e.containerWidth,r=e.font,o=e.contentWidth;if(!n)return"";var i=Jr(t,r);if(i<=n)return t;for(var a=0;;a++){if(i<=o||a>=e.maxIterations){t+=e.ellipsis;break}var u=0===a?Qa(t,o,e.ascCharWidth,e.cnCharWidth):i>0?Math.floor(t.length*o/i):0;t=t.substr(0,u),i=Jr(t,r)}return""===t&&(t=e.placeholder),t}function Qa(t,e,n,r){for(var o=0,i=0,a=t.length;i<a&&o<e;i++){var u=t.charCodeAt(i);o+=0<=u&&u<=127?n:r}return i}function tu(t,e){null!=t&&(t+="");var n,r=e.overflow,o=e.padding,i=e.font,a="truncate"===r,u=ro(i),s=$t(e.lineHeight,u),c="truncate"===e.lineOverflow,l=e.width;n=null!=l&&"break"===r||"breakAll"===r?t?cu(t,e.font,l,"breakAll"===r,0).lines:[]:t?t.split("\n"):[];var f=n.length*s,d=$t(e.height,f);if(f>d&&c){var h=Math.floor(d/s);n=n.slice(0,h)}var p=d,m=l;if(o&&(p+=o[0]+o[2],null!=m&&(m+=o[1]+o[3])),t&&a&&null!=m)for(var g=Ka(l,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),v=0;v<n.length;v++)n[v]=Ja(n[v],g);if(null==l){var y=0;for(v=0;v<n.length;v++)y=Math.max(Jr(n[v],i),y);l=y}return{lines:n,height:d,outerHeight:p,lineHeight:s,calculatedLineHeight:u,contentHeight:f,width:l}}var eu=function(){function t(){}return t}(),nu=function(){function t(t){this.tokens=[],t&&(this.tokens=t)}return t}(),ru=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function ou(t,e){var n=new ru;if(null!=t&&(t+=""),!t)return n;var r,o=e.width,i=e.height,a=e.overflow,u="break"!==a&&"breakAll"!==a||null==o?null:{width:o,accumWidth:0,breakAll:"breakAll"===a},s=Za.lastIndex=0;while(null!=(r=Za.exec(t))){var c=r.index;c>s&&iu(n,t.substring(s,c),e,u),iu(n,r[2],e,u,r[1]),s=Za.lastIndex}s<t.length&&iu(n,t.substring(s,t.length),e,u);var l=[],f=0,d=0,h=e.padding,p="truncate"===a,m="truncate"===e.lineOverflow;function g(t,e,n){t.width=e,t.lineHeight=n,f+=n,d=Math.max(d,e)}t:for(var v=0;v<n.lines.length;v++){for(var y=n.lines[v],b=0,x=0,w=0;w<y.tokens.length;w++){var _=y.tokens[w],S=_.styleName&&e.rich[_.styleName]||{},C=_.textPadding=S.padding,k=C?C[1]+C[3]:0,T=_.font=S.font||e.font;_.contentHeight=ro(T);var A=$t(S.height,_.contentHeight);if(_.innerHeight=A,C&&(A+=C[0]+C[2]),_.height=A,_.lineHeight=Kt(S.lineHeight,e.lineHeight,A),_.align=S&&S.align||e.align,_.verticalAlign=S&&S.verticalAlign||"middle",m&&null!=i&&f+_.lineHeight>i){w>0?(y.tokens=y.tokens.slice(0,w),g(y,x,b),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break t}var O=S.width,M=null==O||"auto"===O;if("string"===typeof O&&"%"===O.charAt(O.length-1))_.percentWidth=O,l.push(_),_.contentWidth=Jr(_.text,T);else{if(M){var D=S.backgroundColor,I=D&&D.image;I&&(I=Ga(I),Xa(I)&&(_.width=Math.max(_.width,I.width*A/I.height)))}var E=p&&null!=o?o-x:null;null!=E&&E<_.width?!M||E<k?(_.text="",_.width=_.contentWidth=0):(_.text=$a(_.text,E-k,T,e.ellipsis,{minChar:e.truncateMinChar}),_.width=_.contentWidth=Jr(_.text,T)):_.contentWidth=Jr(_.text,T)}_.width+=k,x+=_.width,S&&(b=Math.max(b,_.lineHeight)),_}g(y,x,b)}n.outerWidth=n.width=$t(o,d),n.outerHeight=n.height=$t(i,f),n.contentHeight=f,n.contentWidth=d,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(v=0;v<l.length;v++){_=l[v];var R=_.percentWidth;_.width=parseInt(R,10)/100*n.width}return n}function iu(t,e,n,r,o){var i,a,u=""===e,s=o&&n.rich[o]||{},c=t.lines,l=s.font||n.font,f=!1;if(r){var d=s.padding,h=d?d[1]+d[3]:0;if(null!=s.width&&"auto"!==s.width){var p=lu(s.width,r.width)+h;c.length>0&&p+r.accumWidth>r.width&&(i=e.split("\n"),f=!0),r.accumWidth=p}else{var m=cu(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=m.accumWidth+h,a=m.linesWidths,i=m.lines}}else i=e.split("\n");for(var g=0;g<i.length;g++){var v=i[g],y=new eu;if(y.styleName=o,y.text=v,y.isLineHolder=!v&&!u,"number"===typeof s.width?y.width=s.width:y.width=a?a[g]:Jr(v,l),g||f)c.push(new nu([y]));else{var b=(c[c.length-1]||(c[0]=new nu)).tokens,x=b.length;1===x&&b[0].isLineHolder?b[0]=y:(v||!x||u)&&b.push(y)}}}function au(t){var e=t.charCodeAt(0);return e>=33&&e<=255}var uu=Mt(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function su(t){return!au(t)||!!uu[t]}function cu(t,e,n,r,o){for(var i=[],a=[],u="",s="",c=0,l=0,f=0;f<t.length;f++){var d=t.charAt(f);if("\n"!==d){var h=Jr(d,e),p=!r&&!su(d);(i.length?l+h>n:o+l+h>n)?l?(u||s)&&(p?(u||(u=s,s="",c=0,l=c),i.push(u),a.push(l-c),s+=d,c+=h,u="",l=c):(s&&(u+=s,l+=c,s="",c=0),i.push(u),a.push(l),u=d,l=h)):p?(i.push(s),a.push(c),s=d,c=h):(i.push(d),a.push(h)):(l+=h,p?(s+=d,c+=h):(s&&(u+=s,s="",c=0),u+=d))}else s&&(u+=s,l+=c),i.push(u),a.push(l),u="",s="",c=0,l=0}return i.length||u||(u=t,s="",c=0),s&&(u+=s),u&&(i.push(u),a.push(l)),1===i.length&&(l+=o),{accumWidth:l,lines:i,linesWidths:a}}function lu(t,e){return"string"===typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}var fu="__zr_style_"+Math.round(10*Math.random()),du={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},hu={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};du[fu]=!0;var pu=["z","z2","invisible"],mu=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype._init=function(e){for(var n=Et(e),r=0;r<n.length;r++){var o=n[r];"style"===o?this.useStyle(e[o]):t.prototype.attrKV.call(this,o,e[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,r){var o=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&yu(this,t,e)||o&&!o[0]&&!o[3])return!1;if(n&&this.__clipPaths)for(var i=0;i<this.__clipPaths.length;++i)if(this.__clipPaths[i].isZeroArea())return!1;if(r&&this.parent){var a=this.parent;while(a){if(a.ignore)return!1;a=a.parent}}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return r.contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),r=this.style,o=r.shadowBlur||0,i=r.shadowOffsetX||0,a=r.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Yr(0,0,0,0)),e?Yr.applyTransform(t,n,e):t.copy(n),(o||i||a)&&(t.width+=2*o+Math.abs(i),t.height+=2*o+Math.abs(a),t.x=Math.min(t.x,t.x+i-o),t.y=Math.min(t.y,t.y+a-o));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+2*u),t.height=Math.ceil(t.height+1+2*u))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Yr(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"===typeof t?this.style[t]=e:xt(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=e.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&e.STYLE_CHANGED_BIT)},e.prototype.styleUpdated=function(){this.__dirty&=~e.STYLE_CHANGED_BIT},e.prototype.createStyle=function(t){return se(du,t)},e.prototype.useStyle=function(t){t[fu]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[fu]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,pu)},e.prototype._applyStateObj=function(e,n,r,o,i,a){t.prototype._applyStateObj.call(this,e,n,r,o,i,a);var u,s=!(n&&o);if(n&&n.style?i?o?u=n.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(u,n.style)):s&&(u=r.style),u)if(i){var c=this.style;if(this.style=this.createStyle(s?{}:c),s)for(var l=Et(c),f=0;f<l.length;f++){var d=l[f];d in u&&(u[d]=u[d],this.style[d]=c[d])}var h=Et(u);for(f=0;f<h.length;f++){d=h[f];this.style[d]=this.style[d]}this._transitionState(e,{style:u},a,this.getAnimationStyleProps())}else this.useStyle(u);for(f=0;f<pu.length;f++){d=pu[f];n&&null!=n[d]?this[d]=n[d]:s&&null!=r[d]&&(this[d]=r[d])}},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),o=0;o<e.length;o++){var i=e[o];i.style&&(n=n||{},this._mergeStyle(n,i.style))}return n&&(r.style=n),r},e.prototype._mergeStyle=function(t,e){return xt(t,e),t},e.prototype.getAnimationStyleProps=function(){return hu},e.STYLE_CHANGED_BIT=2,e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Co.REDARAW_BIT|e.STYLE_CHANGED_BIT}(),e}(Co),gu=new Yr(0,0,0,0),vu=new Yr(0,0,0,0);function yu(t,e,n){return gu.copy(t.getBoundingRect()),t.transform&&gu.applyTransform(t.transform),vu.width=e,vu.height=n,!gu.intersect(vu)}var bu=mu,xu=Math.pow,wu=Math.sqrt,_u=1e-8,Su=1e-4,Cu=wu(3),ku=1/3,Tu=he(),Au=he(),Ou=he();function Mu(t){return t>-_u&&t<_u}function Du(t){return t>_u||t<-_u}function Iu(t,e,n,r,o){var i=1-o;return i*i*(i*t+3*o*e)+o*o*(o*r+3*i*n)}function Eu(t,e,n,r,o){var i=1-o;return 3*(((e-t)*i+2*(n-e)*o)*i+(r-n)*o*o)}function Ru(t,e,n,r,o,i){var a=r+3*(e-n)-t,u=3*(n-2*e+t),s=3*(e-t),c=t-o,l=u*u-3*a*s,f=u*s-9*a*c,d=s*s-3*u*c,h=0;if(Mu(l)&&Mu(f))if(Mu(u))i[0]=0;else{var p=-s/u;p>=0&&p<=1&&(i[h++]=p)}else{var m=f*f-4*l*d;if(Mu(m)){var g=f/l,v=(p=-u/a+g,-g/2);p>=0&&p<=1&&(i[h++]=p),v>=0&&v<=1&&(i[h++]=v)}else if(m>0){var y=wu(m),b=l*u+1.5*a*(-f+y),x=l*u+1.5*a*(-f-y);b=b<0?-xu(-b,ku):xu(b,ku),x=x<0?-xu(-x,ku):xu(x,ku);p=(-u-(b+x))/(3*a);p>=0&&p<=1&&(i[h++]=p)}else{var w=(2*l*u-3*a*f)/(2*wu(l*l*l)),_=Math.acos(w)/3,S=wu(l),C=Math.cos(_),k=(p=(-u-2*S*C)/(3*a),v=(-u+S*(C+Cu*Math.sin(_)))/(3*a),(-u+S*(C-Cu*Math.sin(_)))/(3*a));p>=0&&p<=1&&(i[h++]=p),v>=0&&v<=1&&(i[h++]=v),k>=0&&k<=1&&(i[h++]=k)}}return h}function Nu(t,e,n,r,o){var i=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,u=3*e-3*t,s=0;if(Mu(a)){if(Du(i)){var c=-u/i;c>=0&&c<=1&&(o[s++]=c)}}else{var l=i*i-4*a*u;if(Mu(l))o[0]=-i/(2*a);else if(l>0){var f=wu(l),d=(c=(-i+f)/(2*a),(-i-f)/(2*a));c>=0&&c<=1&&(o[s++]=c),d>=0&&d<=1&&(o[s++]=d)}}return s}function Pu(t,e,n,r,o,i){var a=(e-t)*o+t,u=(n-e)*o+e,s=(r-n)*o+n,c=(u-a)*o+a,l=(s-u)*o+u,f=(l-c)*o+c;i[0]=t,i[1]=a,i[2]=c,i[3]=f,i[4]=f,i[5]=l,i[6]=s,i[7]=r}function Lu(t,e,n,r,o,i,a,u,s,c,l){var f,d,h,p,m,g=.005,v=1/0;Tu[0]=s,Tu[1]=c;for(var y=0;y<1;y+=.05)Au[0]=Iu(t,n,o,a,y),Au[1]=Iu(e,r,i,u,y),p=Ae(Tu,Au),p<v&&(f=y,v=p);v=1/0;for(var b=0;b<32;b++){if(g<Su)break;d=f-g,h=f+g,Au[0]=Iu(t,n,o,a,d),Au[1]=Iu(e,r,i,u,d),p=Ae(Au,Tu),d>=0&&p<v?(f=d,v=p):(Ou[0]=Iu(t,n,o,a,h),Ou[1]=Iu(e,r,i,u,h),m=Ae(Ou,Tu),h<=1&&m<v?(f=h,v=m):g*=.5)}return l&&(l[0]=Iu(t,n,o,a,f),l[1]=Iu(e,r,i,u,f)),wu(v)}function Bu(t,e,n,r,o,i,a,u,s){for(var c=t,l=e,f=0,d=1/s,h=1;h<=s;h++){var p=h*d,m=Iu(t,n,o,a,p),g=Iu(e,r,i,u,p),v=m-c,y=g-l;f+=Math.sqrt(v*v+y*y),c=m,l=g}return f}function zu(t,e,n,r){var o=1-r;return o*(o*t+2*r*e)+r*r*n}function Vu(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function Fu(t,e,n,r,o){var i=t-2*e+n,a=2*(e-t),u=t-r,s=0;if(Mu(i)){if(Du(a)){var c=-u/a;c>=0&&c<=1&&(o[s++]=c)}}else{var l=a*a-4*i*u;if(Mu(l)){c=-a/(2*i);c>=0&&c<=1&&(o[s++]=c)}else if(l>0){var f=wu(l),d=(c=(-a+f)/(2*i),(-a-f)/(2*i));c>=0&&c<=1&&(o[s++]=c),d>=0&&d<=1&&(o[s++]=d)}}return s}function ju(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function Hu(t,e,n,r,o){var i=(e-t)*r+t,a=(n-e)*r+e,u=(a-i)*r+i;o[0]=t,o[1]=i,o[2]=u,o[3]=u,o[4]=a,o[5]=n}function Uu(t,e,n,r,o,i,a,u,s){var c,l=.005,f=1/0;Tu[0]=a,Tu[1]=u;for(var d=0;d<1;d+=.05){Au[0]=zu(t,n,o,d),Au[1]=zu(e,r,i,d);var h=Ae(Tu,Au);h<f&&(c=d,f=h)}f=1/0;for(var p=0;p<32;p++){if(l<Su)break;var m=c-l,g=c+l;Au[0]=zu(t,n,o,m),Au[1]=zu(e,r,i,m);h=Ae(Au,Tu);if(m>=0&&h<f)c=m,f=h;else{Ou[0]=zu(t,n,o,g),Ou[1]=zu(e,r,i,g);var v=Ae(Ou,Tu);g<=1&&v<f?(c=g,f=v):l*=.5}}return s&&(s[0]=zu(t,n,o,c),s[1]=zu(e,r,i,c)),wu(f)}function Wu(t,e,n,r,o,i,a){for(var u=t,s=e,c=0,l=1/a,f=1;f<=a;f++){var d=f*l,h=zu(t,n,o,d),p=zu(e,r,i,d),m=h-u,g=p-s;c+=Math.sqrt(m*m+g*g),u=h,s=p}return c}var Gu=Math.min,qu=Math.max,Yu=Math.sin,Xu=Math.cos,Zu=2*Math.PI,$u=he(),Ku=he(),Ju=he();function Qu(t,e,n){if(0!==t.length){for(var r=t[0],o=r[0],i=r[0],a=r[1],u=r[1],s=1;s<t.length;s++)r=t[s],o=Gu(o,r[0]),i=qu(i,r[0]),a=Gu(a,r[1]),u=qu(u,r[1]);e[0]=o,e[1]=a,n[0]=i,n[1]=u}}function ts(t,e,n,r,o,i){o[0]=Gu(t,n),o[1]=Gu(e,r),i[0]=qu(t,n),i[1]=qu(e,r)}var es=[],ns=[];function rs(t,e,n,r,o,i,a,u,s,c){var l=Nu,f=Iu,d=l(t,n,o,a,es);s[0]=1/0,s[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var h=0;h<d;h++){var p=f(t,n,o,a,es[h]);s[0]=Gu(p,s[0]),c[0]=qu(p,c[0])}d=l(e,r,i,u,ns);for(h=0;h<d;h++){var m=f(e,r,i,u,ns[h]);s[1]=Gu(m,s[1]),c[1]=qu(m,c[1])}s[0]=Gu(t,s[0]),c[0]=qu(t,c[0]),s[0]=Gu(a,s[0]),c[0]=qu(a,c[0]),s[1]=Gu(e,s[1]),c[1]=qu(e,c[1]),s[1]=Gu(u,s[1]),c[1]=qu(u,c[1])}function os(t,e,n,r,o,i,a,u){var s=ju,c=zu,l=qu(Gu(s(t,n,o),1),0),f=qu(Gu(s(e,r,i),1),0),d=c(t,n,o,l),h=c(e,r,i,f);a[0]=Gu(t,o,d),a[1]=Gu(e,i,h),u[0]=qu(t,o,d),u[1]=qu(e,i,h)}function is(t,e,n,r,o,i,a,u,s){var c=De,l=Ie,f=Math.abs(o-i);if(f%Zu<1e-4&&f>1e-4)return u[0]=t-n,u[1]=e-r,s[0]=t+n,void(s[1]=e+r);if($u[0]=Xu(o)*n+t,$u[1]=Yu(o)*r+e,Ku[0]=Xu(i)*n+t,Ku[1]=Yu(i)*r+e,c(u,$u,Ku),l(s,$u,Ku),o%=Zu,o<0&&(o+=Zu),i%=Zu,i<0&&(i+=Zu),o>i&&!a?i+=Zu:o<i&&a&&(o+=Zu),a){var d=i;i=o,o=d}for(var h=0;h<i;h+=Math.PI/2)h>o&&(Ju[0]=Xu(h)*n+t,Ju[1]=Yu(h)*r+e,c(u,Ju,u),l(s,Ju,s))}var as={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},us=[],ss=[],cs=[],ls=[],fs=[],ds=[],hs=Math.min,ps=Math.max,ms=Math.cos,gs=Math.sin,vs=Math.sqrt,ys=Math.abs,bs=Math.PI,xs=2*bs,ws="undefined"!==typeof Float32Array,_s=[];function Ss(t){var e=Math.round(t/bs*1e8)/1e8;return e%2*bs}function Cs(t,e){var n=Ss(t[0]);n<0&&(n+=xs);var r=n-t[0],o=t[1];o+=r,!e&&o-n>=xs?o=n+xs:e&&n-o>=xs?o=n-xs:!e&&n>o?o=n+(xs-Ss(n-o)):e&&n<o&&(o=n-(xs-Ss(o-n))),t[0]=n,t[1]=o}var ks=function(){function t(t){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=ys(n/uo/t)||0,this._uy=ys(n/uo/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this.addData(as.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=ys(t-this._xi)>this._ux||ys(e-this._yi)>this._uy||this._len<5;return this.addData(as.L,t,e),this._ctx&&n&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},t.prototype.bezierCurveTo=function(t,e,n,r,o,i){return this.addData(as.C,t,e,n,r,o,i),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,n,r,o,i):this._ctx.bezierCurveTo(t,e,n,r,o,i)),this._xi=o,this._yi=i,this},t.prototype.quadraticCurveTo=function(t,e,n,r){return this.addData(as.Q,t,e,n,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},t.prototype.arc=function(t,e,n,r,o,i){_s[0]=r,_s[1]=o,Cs(_s,i),r=_s[0],o=_s[1];var a=o-r;return this.addData(as.A,t,e,n,n,r,a,0,i?0:1),this._ctx&&this._ctx.arc(t,e,n,r,o,i),this._xi=ms(o)*n+t,this._yi=gs(o)*n+e,this},t.prototype.arcTo=function(t,e,n,r,o){return this._ctx&&this._ctx.arcTo(t,e,n,r,o),this},t.prototype.rect=function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(as.R,t,e,n,r),this},t.prototype.closePath=function(){this.addData(as.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!ws||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,o=0;o<e;o++)n+=t[o].len();ws&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(o=0;o<e;o++)for(var i=t[o].data,a=0;a<i.length;a++)this.data[r++]=i[a];this._len=r},t.prototype.addData=function(t,e,n,r,o,i,a,u,s){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var l=0;l<arguments.length;l++)c[this._len++]=arguments[l]}},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var n,r,o=this._dashSum,i=this._lineDash,a=this._ctx,u=this._dashOffset,s=this._xi,c=this._yi,l=t-s,f=e-c,d=vs(l*l+f*f),h=s,p=c,m=i.length;l/=d,f/=d,u<0&&(u=o+u),u%=o,h-=u*l,p-=u*f;while(l>0&&h<=t||l<0&&h>=t||0===l&&(f>0&&p<=e||f<0&&p>=e))r=this._dashIdx,n=i[r],h+=l*n,p+=f*n,this._dashIdx=(r+1)%m,l>0&&h<s||l<0&&h>s||f>0&&p<c||f<0&&p>c||a[r%2?"moveTo":"lineTo"](l>=0?hs(h,t):ps(h,t),f>=0?hs(p,e):ps(p,e));l=h-t,f=p-e,this._dashOffset=-vs(l*l+f*f)},t.prototype._dashedBezierTo=function(t,e,n,r,o,i){var a,u,s,c,l,f=this._ctx,d=this._dashSum,h=this._dashOffset,p=this._lineDash,m=this._xi,g=this._yi,v=0,y=this._dashIdx,b=p.length,x=0;for(h<0&&(h=d+h),h%=d,a=0;a<1;a+=.1)u=Iu(m,t,n,o,a+.1)-Iu(m,t,n,o,a),s=Iu(g,e,r,i,a+.1)-Iu(g,e,r,i,a),v+=vs(u*u+s*s);for(;y<b;y++)if(x+=p[y],x>h)break;a=(x-h)/v;while(a<=1)c=Iu(m,t,n,o,a),l=Iu(g,e,r,i,a),y%2?f.moveTo(c,l):f.lineTo(c,l),a+=p[y]/v,y=(y+1)%b;y%2!==0&&f.lineTo(o,i),u=o-c,s=i-l,this._dashOffset=-vs(u*u+s*s)},t.prototype._dashedQuadraticTo=function(t,e,n,r){var o=n,i=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,o,i)},t.prototype.toStatic=function(){if(this._saveData){var t=this.data;t instanceof Array&&(t.length=this._len,ws&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){cs[0]=cs[1]=fs[0]=fs[1]=Number.MAX_VALUE,ls[0]=ls[1]=ds[0]=ds[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,r=0,o=0,i=0;for(t=0;t<this._len;){var a=e[t++],u=1===t;switch(u&&(n=e[t],r=e[t+1],o=n,i=r),a){case as.M:n=o=e[t++],r=i=e[t++],fs[0]=o,fs[1]=i,ds[0]=o,ds[1]=i;break;case as.L:ts(n,r,e[t],e[t+1],fs,ds),n=e[t++],r=e[t++];break;case as.C:rs(n,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],fs,ds),n=e[t++],r=e[t++];break;case as.Q:os(n,r,e[t++],e[t++],e[t],e[t+1],fs,ds),n=e[t++],r=e[t++];break;case as.A:var s=e[t++],c=e[t++],l=e[t++],f=e[t++],d=e[t++],h=e[t++]+d;t+=1;var p=!e[t++];u&&(o=ms(d)*l+s,i=gs(d)*f+c),is(s,c,l,f,d,h,p,fs,ds),n=ms(h)*l+s,r=gs(h)*f+c;break;case as.R:o=n=e[t++],i=r=e[t++];var m=e[t++],g=e[t++];ts(o,i,o+m,i+g,fs,ds);break;case as.Z:n=o,r=i;break}De(cs,cs,fs),Ie(ls,ls,ds)}return 0===t&&(cs[0]=cs[1]=ls[0]=ls[1]=0),new Yr(cs[0],cs[1],ls[0]-cs[0],ls[1]-cs[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,o=0,i=0,a=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var s=this._pathSegLen,c=0,l=0,f=0;f<e;){var d=t[f++],h=1===f;h&&(o=t[f],i=t[f+1],a=o,u=i);var p=-1;switch(d){case as.M:o=a=t[f++],i=u=t[f++];break;case as.L:var m=t[f++],g=t[f++],v=m-o,y=g-i;(ys(v)>n||ys(y)>r||f===e-1)&&(p=Math.sqrt(v*v+y*y),o=m,i=g);break;case as.C:var b=t[f++],x=t[f++],w=(m=t[f++],g=t[f++],t[f++]),_=t[f++];p=Bu(o,i,b,x,m,g,w,_,10),o=w,i=_;break;case as.Q:b=t[f++],x=t[f++],m=t[f++],g=t[f++];p=Wu(o,i,b,x,m,g,10),o=m,i=g;break;case as.A:var S=t[f++],C=t[f++],k=t[f++],T=t[f++],A=t[f++],O=t[f++],M=O+A;f+=1;t[f++];h&&(a=ms(A)*k+S,u=gs(A)*T+C),p=ps(k,T)*hs(xs,Math.abs(O)),o=ms(M)*k+S,i=gs(M)*T+C;break;case as.R:a=o=t[f++],u=i=t[f++];var D=t[f++],I=t[f++];p=2*D+2*I;break;case as.Z:v=a-o,y=u-i;p=Math.sqrt(v*v+y*y),o=a,i=u;break}p>=0&&(s[l++]=p,c+=p)}return this._pathLen=c,c},t.prototype.rebuildPath=function(t,e){var n,r,o,i,a,u,s,c,l,f=this.data,d=this._ux,h=this._uy,p=this._len,m=e<1,g=0,v=0;if(!m||(this._pathSegLen||this._calculateLength(),s=this._pathSegLen,c=this._pathLen,l=e*c,l))t:for(var y=0;y<p;){var b=f[y++],x=1===y;switch(x&&(o=f[y],i=f[y+1],n=o,r=i),b){case as.M:n=o=f[y++],r=i=f[y++],t.moveTo(o,i);break;case as.L:if(a=f[y++],u=f[y++],ys(a-o)>d||ys(u-i)>h||y===p-1){if(m){var w=s[v++];if(g+w>l){var _=(l-g)/w;t.lineTo(o*(1-_)+a*_,i*(1-_)+u*_);break t}g+=w}t.lineTo(a,u),o=a,i=u}break;case as.C:var S=f[y++],C=f[y++],k=f[y++],T=f[y++],A=f[y++],O=f[y++];if(m){w=s[v++];if(g+w>l){_=(l-g)/w;Pu(o,S,k,A,_,us),Pu(i,C,T,O,_,ss),t.bezierCurveTo(us[1],ss[1],us[2],ss[2],us[3],ss[3]);break t}g+=w}t.bezierCurveTo(S,C,k,T,A,O),o=A,i=O;break;case as.Q:S=f[y++],C=f[y++],k=f[y++],T=f[y++];if(m){w=s[v++];if(g+w>l){_=(l-g)/w;Hu(o,S,k,_,us),Hu(i,C,T,_,ss),t.quadraticCurveTo(us[1],ss[1],us[2],ss[2]);break t}g+=w}t.quadraticCurveTo(S,C,k,T),o=k,i=T;break;case as.A:var M=f[y++],D=f[y++],I=f[y++],E=f[y++],R=f[y++],N=f[y++],P=f[y++],L=!f[y++],B=I>E?I:E,z=ys(I-E)>.001,V=R+N,F=!1;if(m){w=s[v++];g+w>l&&(V=R+N*(l-g)/w,F=!0),g+=w}if(z&&t.ellipse?t.ellipse(M,D,I,E,P,R,V,L):t.arc(M,D,B,R,V,L),F)break t;x&&(n=ms(R)*I+M,r=gs(R)*E+D),o=ms(V)*I+M,i=gs(V)*E+D;break;case as.R:n=o=f[y],r=i=f[y+1],a=f[y++],u=f[y++];var j=f[y++],H=f[y++];if(m){w=s[v++];if(g+w>l){var U=l-g;t.moveTo(a,u),t.lineTo(a+hs(U,j),u),U-=j,U>0&&t.lineTo(a+j,u+hs(U,H)),U-=H,U>0&&t.lineTo(a+ps(j-U,0),u+H),U-=j,U>0&&t.lineTo(a,u+ps(H-U,0));break t}g+=w}t.rect(a,u,j,H);break;case as.Z:if(m){w=s[v++];if(g+w>l){_=(l-g)/w;t.lineTo(o*(1-_)+n*_,i*(1-_)+r*_);break t}g+=w}t.closePath(),o=n,i=r}}},t.CMD=as,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,e._uy=0}(),t}(),Ts=ks;function As(t,e,n,r,o,i,a){if(0===o)return!1;var u=o,s=0,c=t;if(a>e+u&&a>r+u||a<e-u&&a<r-u||i>t+u&&i>n+u||i<t-u&&i<n-u)return!1;if(t===n)return Math.abs(i-t)<=u/2;s=(e-r)/(t-n),c=(t*r-n*e)/(t-n);var l=s*i-a+c,f=l*l/(s*s+1);return f<=u/2*u/2}function Os(t,e,n,r,o,i,a,u,s,c,l){if(0===s)return!1;var f=s;if(l>e+f&&l>r+f&&l>i+f&&l>u+f||l<e-f&&l<r-f&&l<i-f&&l<u-f||c>t+f&&c>n+f&&c>o+f&&c>a+f||c<t-f&&c<n-f&&c<o-f&&c<a-f)return!1;var d=Lu(t,e,n,r,o,i,a,u,c,l,null);return d<=f/2}function Ms(t,e,n,r,o,i,a,u,s){if(0===a)return!1;var c=a;if(s>e+c&&s>r+c&&s>i+c||s<e-c&&s<r-c&&s<i-c||u>t+c&&u>n+c&&u>o+c||u<t-c&&u<n-c&&u<o-c)return!1;var l=Uu(t,e,n,r,o,i,u,s,null);return l<=c/2}var Ds=2*Math.PI;function Is(t){return t%=Ds,t<0&&(t+=Ds),t}var Es=2*Math.PI;function Rs(t,e,n,r,o,i,a,u,s){if(0===a)return!1;var c=a;u-=t,s-=e;var l=Math.sqrt(u*u+s*s);if(l-c>n||l+c<n)return!1;if(Math.abs(r-o)%Es<1e-4)return!0;if(i){var f=r;r=Is(o),o=Is(f)}else r=Is(r),o=Is(o);r>o&&(o+=Es);var d=Math.atan2(s,u);return d<0&&(d+=Es),d>=r&&d<=o||d+Es>=r&&d+Es<=o}function Ns(t,e,n,r,o,i){if(i>e&&i>r||i<e&&i<r)return 0;if(r===e)return 0;var a=(i-e)/(r-e),u=r<e?1:-1;1!==a&&0!==a||(u=r<e?.5:-.5);var s=a*(n-t)+t;return s===o?1/0:s>o?u:0}var Ps=Ts.CMD,Ls=2*Math.PI,Bs=1e-4;function zs(t,e){return Math.abs(t-e)<Bs}var Vs=[-1,-1,-1],Fs=[-1,-1];function js(){var t=Fs[0];Fs[0]=Fs[1],Fs[1]=t}function Hs(t,e,n,r,o,i,a,u,s,c){if(c>e&&c>r&&c>i&&c>u||c<e&&c<r&&c<i&&c<u)return 0;var l=Ru(e,r,i,u,c,Vs);if(0===l)return 0;for(var f=0,d=-1,h=void 0,p=void 0,m=0;m<l;m++){var g=Vs[m],v=0===g||1===g?.5:1,y=Iu(t,n,o,a,g);y<s||(d<0&&(d=Nu(e,r,i,u,Fs),Fs[1]<Fs[0]&&d>1&&js(),h=Iu(e,r,i,u,Fs[0]),d>1&&(p=Iu(e,r,i,u,Fs[1]))),2===d?g<Fs[0]?f+=h<e?v:-v:g<Fs[1]?f+=p<h?v:-v:f+=u<p?v:-v:g<Fs[0]?f+=h<e?v:-v:f+=u<h?v:-v)}return f}function Us(t,e,n,r,o,i,a,u){if(u>e&&u>r&&u>i||u<e&&u<r&&u<i)return 0;var s=Fu(e,r,i,u,Vs);if(0===s)return 0;var c=ju(e,r,i);if(c>=0&&c<=1){for(var l=0,f=zu(e,r,i,c),d=0;d<s;d++){var h=0===Vs[d]||1===Vs[d]?.5:1,p=zu(t,n,o,Vs[d]);p<a||(Vs[d]<c?l+=f<e?h:-h:l+=i<f?h:-h)}return l}h=0===Vs[0]||1===Vs[0]?.5:1,p=zu(t,n,o,Vs[0]);return p<a?0:i<e?h:-h}function Ws(t,e,n,r,o,i,a,u){if(u-=e,u>n||u<-n)return 0;var s=Math.sqrt(n*n-u*u);Vs[0]=-s,Vs[1]=s;var c=Math.abs(r-o);if(c<1e-4)return 0;if(c>=Ls-1e-4){r=0,o=Ls;var l=i?1:-1;return a>=Vs[0]+t&&a<=Vs[1]+t?l:0}if(r>o){var f=r;r=o,o=f}r<0&&(r+=Ls,o+=Ls);for(var d=0,h=0;h<2;h++){var p=Vs[h];if(p+t>a){var m=Math.atan2(u,p);l=i?1:-1;m<0&&(m=Ls+m),(m>=r&&m<=o||m+Ls>=r&&m+Ls<=o)&&(m>Math.PI/2&&m<1.5*Math.PI&&(l=-l),d+=l)}}return d}function Gs(t,e,n,r,o){for(var i,a,u=t.data,s=t.len(),c=0,l=0,f=0,d=0,h=0,p=0;p<s;){var m=u[p++],g=1===p;switch(m===Ps.M&&p>1&&(n||(c+=Ns(l,f,d,h,r,o))),g&&(l=u[p],f=u[p+1],d=l,h=f),m){case Ps.M:d=u[p++],h=u[p++],l=d,f=h;break;case Ps.L:if(n){if(As(l,f,u[p],u[p+1],e,r,o))return!0}else c+=Ns(l,f,u[p],u[p+1],r,o)||0;l=u[p++],f=u[p++];break;case Ps.C:if(n){if(Os(l,f,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],e,r,o))return!0}else c+=Hs(l,f,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],r,o)||0;l=u[p++],f=u[p++];break;case Ps.Q:if(n){if(Ms(l,f,u[p++],u[p++],u[p],u[p+1],e,r,o))return!0}else c+=Us(l,f,u[p++],u[p++],u[p],u[p+1],r,o)||0;l=u[p++],f=u[p++];break;case Ps.A:var v=u[p++],y=u[p++],b=u[p++],x=u[p++],w=u[p++],_=u[p++];p+=1;var S=!!(1-u[p++]);i=Math.cos(w)*b+v,a=Math.sin(w)*x+y,g?(d=i,h=a):c+=Ns(l,f,i,a,r,o);var C=(r-v)*x/b+v;if(n){if(Rs(v,y,x,w,w+_,S,e,C,o))return!0}else c+=Ws(v,y,x,w,w+_,S,C,o);l=Math.cos(w+_)*b+v,f=Math.sin(w+_)*x+y;break;case Ps.R:d=l=u[p++],h=f=u[p++];var k=u[p++],T=u[p++];if(i=d+k,a=h+T,n){if(As(d,h,i,h,e,r,o)||As(i,h,i,a,e,r,o)||As(i,a,d,a,e,r,o)||As(d,a,d,h,e,r,o))return!0}else c+=Ns(i,h,i,a,r,o),c+=Ns(d,a,d,h,r,o);break;case Ps.Z:if(n){if(As(l,f,d,h,e,r,o))return!0}else c+=Ns(l,f,d,h,r,o);l=d,f=h;break}}return n||zs(f,h)||(c+=Ns(l,f,d,h,r,o)||0),0!==c}function qs(t,e,n){return Gs(t,0,!1,e,n)}function Ys(t,e,n,r){return Gs(t,e,!0,n,r)}var Xs=wt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},du),Zs={style:wt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},hu.style)},$s=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],Ks=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new e;o.buildPath===e.prototype.buildPath&&(o.buildPath=function(t){n.buildPath(t,n.shape)}),o.silent=!0;var i=o.style;for(var a in r)i[a]!==r[a]&&(i[a]=r[a]);i.fill=r.fill?r.decal:null,i.decal=null,i.shadowColor=null,r.strokeFirst&&(i.stroke=null);for(var u=0;u<$s.length;++u)o[$s[u]]=this[$s[u]];o.__dirty|=Co.REDARAW_BIT}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=Et(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<n.length;o++){var i=n[o],a=e[i];"style"===i?this.style?xt(this.style,a):this.useStyle(a):"shape"===i?xt(this.shape,a):t.prototype.attrKV.call(this,i,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(zt(t)){var e=pr(t,0);return e>.5?co:e>.2?fo:lo}if(t)return lo}return co},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(zt(e)){var n=this.__zr,r=!(!n||!n.isDarkMode()),o=pr(t,0)<so;if(r===o)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~e.SHAPE_CHANGED_BIT},e.prototype.createPathProxy=function(){this.path=new Ts(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,r=!t;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var i=this.path;(o||this.__dirty&e.SHAPE_CHANGED_BIT)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),t=i.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){a.copy(t);var u=n.strokeNoScale?this.getLineScale():1,s=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;s=Math.max(s,null==c?4:c)}u>1e-10&&(a.width+=s/u,a.height+=s/u,a.x-=s/u/2,a.y-=s/u/2)}return a}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),o=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var i=this.path;if(this.hasStroke()){var a=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),Ys(i,a/u,t,e)))return!0}if(this.hasFill())return qs(i,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=e.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"===typeof t?n[t]=e:xt(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&e.SHAPE_CHANGED_BIT)},e.prototype.createStyle=function(t){return se(Xs,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=xt({},this.shape))},e.prototype._applyStateObj=function(e,n,r,o,i,a){t.prototype._applyStateObj.call(this,e,n,r,o,i,a);var u,s=!(n&&o);if(n&&n.shape?i?o?u=n.shape:(u=xt({},r.shape),xt(u,n.shape)):(u=xt({},o?this.shape:r.shape),xt(u,n.shape)):s&&(u=r.shape),u)if(i){this.shape=xt({},this.shape);for(var c={},l=Et(u),f=0;f<l.length;f++){var d=l[f];"object"===typeof u[d]?this.shape[d]=u[d]:c[d]=u[d]}this._transitionState(e,{shape:c},a)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),o=0;o<e.length;o++){var i=e[o];i.shape&&(n=n||{},this._mergeStyle(n,i.shape))}return n&&(r.shape=n),r},e.prototype.getAnimationStyleProps=function(){return Zs},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(e){function n(n){var r=e.call(this,n)||this;return t.init&&t.init.call(r,n),r}return de(n,e),n.prototype.getDefaultStyle=function(){return vt(t.style)},n.prototype.getDefaultShape=function(){return vt(t.shape)},n}(e);for(var r in t)"function"===typeof t[r]&&(n.prototype[r]=t[r]);return n},e.SHAPE_CHANGED_BIT=4,e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Co.REDARAW_BIT|bu.STYLE_CHANGED_BIT|e.SHAPE_CHANGED_BIT}(),e}(bu),Js=Ks,Qs=wt({strokeFirst:!0,font:Zr,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Xs),tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return de(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.createStyle=function(t){return se(Qs,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=to(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var r=t.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(bu);tc.prototype.type="tspan";var ec=tc,nc=wt({x:0,y:0},du),rc={style:wt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},hu.style)};function oc(t){return!!(t&&"string"!==typeof t&&t.width&&t.height)}var ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return de(e,t),e.prototype.createStyle=function(t){return se(nc,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var r=oc(e.image)?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",i=e[o];return null==i?r[t]:r[t]/r[o]*i},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return rc},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Yr(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(bu);ic.prototype.type="image";var ac=ic;function uc(t,e){var n,r,o,i,a,u=e.x,s=e.y,c=e.width,l=e.height,f=e.r;c<0&&(u+=c,c=-c),l<0&&(s+=l,l=-l),"number"===typeof f?n=r=o=i=f:f instanceof Array?1===f.length?n=r=o=i=f[0]:2===f.length?(n=o=f[0],r=i=f[1]):3===f.length?(n=f[0],r=i=f[1],o=f[2]):(n=f[0],r=f[1],o=f[2],i=f[3]):n=r=o=i=0,n+r>c&&(a=n+r,n*=c/a,r*=c/a),o+i>c&&(a=o+i,o*=c/a,i*=c/a),r+o>l&&(a=r+o,r*=l/a,o*=l/a),n+i>l&&(a=n+i,n*=l/a,i*=l/a),t.moveTo(u+n,s),t.lineTo(u+c-r,s),0!==r&&t.arc(u+c-r,s+r,r,-Math.PI/2,0),t.lineTo(u+c,s+l-o),0!==o&&t.arc(u+c-o,s+l-o,o,0,Math.PI/2),t.lineTo(u+i,s+l),0!==i&&t.arc(u+i,s+l-i,i,Math.PI/2,Math.PI),t.lineTo(u,s+n),0!==n&&t.arc(u+n,s+n,n,Math.PI,1.5*Math.PI)}var sc=Math.round;function cc(t,e,n){if(e){var r=e.x1,o=e.x2,i=e.y1,a=e.y2;t.x1=r,t.x2=o,t.y1=i,t.y2=a;var u=n&&n.lineWidth;return u?(sc(2*r)===sc(2*o)&&(t.x1=t.x2=fc(r,u,!0)),sc(2*i)===sc(2*a)&&(t.y1=t.y2=fc(i,u,!0)),t):t}}function lc(t,e,n){if(e){var r=e.x,o=e.y,i=e.width,a=e.height;t.x=r,t.y=o,t.width=i,t.height=a;var u=n&&n.lineWidth;return u?(t.x=fc(r,u,!0),t.y=fc(o,u,!0),t.width=Math.max(fc(r+i,u,!1)-t.x,0===i?0:1),t.height=Math.max(fc(o+a,u,!1)-t.y,0===a?0:1),t):t}}function fc(t,e,n){if(!e)return t;var r=sc(2*t);return(r+sc(e))%2===0?r/2:(r+(n?1:-1))/2}var dc=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),hc={},pc=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultShape=function(){return new dc},e.prototype.buildPath=function(t,e){var n,r,o,i;if(this.subPixelOptimize){var a=lc(hc,e,this.style);n=a.x,r=a.y,o=a.width,i=a.height,a.r=e.r,e=a}else n=e.x,r=e.y,o=e.width,i=e.height;e.r?uc(t,e):t.rect(n,r,o,i)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Js);pc.prototype.type="rect";var mc=pc,gc={fill:"#000"},vc=2,yc={style:wt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},hu.style)},bc=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=gc,n.attr(e),n}return de(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}var r=this.attachedTransform;if(r){r.updateTransform();var o=r.transform;o?(this.transform=this.transform||[],_n(this.transform,o)):this.transform=null}else t.prototype.update.call(this)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,_c(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Yr(0,0,0,0),e=this._children,n=[],r=null,o=0;o<e.length;o++){var i=e[o],a=i.getBoundingRect(),u=i.getLocalTransform(n);u?(t.copy(a),t.applyTransform(u),r=r||t.clone(),r.union(t)):(r=r||a.clone(),r.union(a))}this._rect=r||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||gc},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,r=t.rich||n&&{};return xt(t,e),n&&r?(this._mergeRich(r,n),t.rich=r):r&&(t.rich=r),t},e.prototype._mergeRich=function(t,e){for(var n=Et(e),r=0;r<n.length;r++){var o=n[r];t[o]=t[o]||{},xt(t[o],e[o])}},e.prototype.getAnimationStyleProps=function(){return yc},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||Zr,n=t.padding,r=Ac(t),o=tu(r,t),i=Oc(t),a=!!t.backgroundColor,u=o.outerHeight,s=o.lines,c=o.lineHeight,l=this._defaultStyle,f=t.x||0,d=t.y||0,h=t.align||l.align||"left",p=t.verticalAlign||l.verticalAlign||"top",m=f,g=no(d,o.contentHeight,p);if(i||n){var v=o.width;n&&(v+=n[1]+n[3]);var y=eo(f,v,h),b=no(d,u,p);i&&this._renderBackground(t,t,y,b,v,u)}g+=c/2,n&&(m=Tc(f,h,n),"top"===p?g+=n[0]:"bottom"===p&&(g-=n[2]));for(var x=0,w=!1,_=(kc("fill"in t?t.fill:(w=!0,l.fill))),S=(Cc("stroke"in t?t.stroke:a||l.autoStroke&&!w?null:(x=vc,l.stroke))),C=t.textShadowBlur>0,k=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),T=o.calculatedLineHeight,A=0;A<s.length;A++){var O=this._getOrCreateChild(ec),M=O.createStyle();O.useStyle(M),M.text=s[A],M.x=m,M.y=g,h&&(M.textAlign=h),M.textBaseline="middle",M.opacity=t.opacity,M.strokeFirst=!0,C&&(M.shadowBlur=t.textShadowBlur||0,M.shadowColor=t.textShadowColor||"transparent",M.shadowOffsetX=t.textShadowOffsetX||0,M.shadowOffsetY=t.textShadowOffsetY||0),S&&(M.stroke=S,M.lineWidth=t.lineWidth||x,M.lineDash=t.lineDash,M.lineDashOffset=t.lineDashOffset||0),_&&(M.fill=_),M.font=e,g+=c,k&&O.setBoundingRect(new Yr(eo(M.x,t.width,M.textAlign),no(M.y,T,M.textBaseline),t.width,T))}},e.prototype._updateRichTexts=function(){var t=this.style,e=Ac(t),n=ou(e,t),r=n.width,o=n.outerWidth,i=n.outerHeight,a=t.padding,u=t.x||0,s=t.y||0,c=this._defaultStyle,l=t.align||c.align,f=t.verticalAlign||c.verticalAlign,d=eo(u,o,l),h=no(s,i,f),p=d,m=h;a&&(p+=a[3],m+=a[0]);var g=p+r;Oc(t)&&this._renderBackground(t,t,d,h,o,i);for(var v=!!t.backgroundColor,y=0;y<n.lines.length;y++){var b=n.lines[y],x=b.tokens,w=x.length,_=b.lineHeight,S=b.width,C=0,k=p,T=g,A=w-1,O=void 0;while(C<w&&(O=x[C],!O.align||"left"===O.align))this._placeToken(O,t,_,m,k,"left",v),S-=O.width,k+=O.width,C++;while(A>=0&&(O=x[A],"right"===O.align))this._placeToken(O,t,_,m,T,"right",v),S-=O.width,T-=O.width,A--;k+=(r-(k-p)-(g-T)-S)/2;while(C<=A)O=x[C],this._placeToken(O,t,_,m,k+O.width/2,"center",v),k+=O.width,C++;m+=_}},e.prototype._placeToken=function(t,e,n,r,o,i,a){var u=e.rich[t.styleName]||{};u.text=t.text;var s=t.verticalAlign,c=r+n/2;"top"===s?c=r+t.height/2:"bottom"===s&&(c=r+n-t.height/2);var l=!t.isLineHolder&&Oc(u);l&&this._renderBackground(u,e,"right"===i?o-t.width:"center"===i?o-t.width/2:o,c-t.height/2,t.width,t.height);var f=!!u.backgroundColor,d=t.textPadding;d&&(o=Tc(o,i,d),c-=t.height/2-d[0]-t.innerHeight/2);var h=this._getOrCreateChild(ec),p=h.createStyle();h.useStyle(p);var m=this._defaultStyle,g=!1,v=0,y=Cc("fill"in u?u.fill:"fill"in e?e.fill:(g=!0,m.fill)),b=Cc("stroke"in u?u.stroke:"stroke"in e?e.stroke:f||a||m.autoStroke&&!g?null:(v=vc,m.stroke)),x=u.textShadowBlur>0||e.textShadowBlur>0;p.text=t.text,p.x=o,p.y=c,x&&(p.shadowBlur=u.textShadowBlur||e.textShadowBlur||0,p.shadowColor=u.textShadowColor||e.textShadowColor||"transparent",p.shadowOffsetX=u.textShadowOffsetX||e.textShadowOffsetX||0,p.shadowOffsetY=u.textShadowOffsetY||e.textShadowOffsetY||0),p.textAlign=i,p.textBaseline="middle",p.font=t.font||Zr,p.opacity=Kt(u.opacity,e.opacity,1),b&&(p.lineWidth=Kt(u.lineWidth,e.lineWidth,v),p.lineDash=$t(u.lineDash,e.lineDash),p.lineDashOffset=e.lineDashOffset||0,p.stroke=b),y&&(p.fill=y);var w=t.contentWidth,_=t.contentHeight;h.setBoundingRect(new Yr(eo(p.x,w,p.textAlign),no(p.y,_,p.textBaseline),w,_))},e.prototype._renderBackground=function(t,e,n,r,o,i){var a,u,s=t.backgroundColor,c=t.borderWidth,l=t.borderColor,f=zt(s),d=t.borderRadius,h=this;if(f||c&&l){a=this._getOrCreateChild(mc),a.useStyle(a.createStyle()),a.style.fill=null;var p=a.shape;p.x=n,p.y=r,p.width=o,p.height=i,p.r=d,a.dirtyShape()}if(f){var m=a.style;m.fill=s||null,m.fillOpacity=$t(t.fillOpacity,1)}else if(s&&s.image){u=this._getOrCreateChild(ac),u.onload=function(){h.dirtyStyle()};var g=u.style;g.image=s.image,g.x=n,g.y=r,g.width=o,g.height=i}if(c&&l){m=a.style;m.lineWidth=c,m.stroke=l,m.strokeOpacity=$t(t.strokeOpacity,1),m.lineDash=t.borderDash,m.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(m.strokeFirst=!0,m.lineWidth*=2)}var v=(a||u).style;v.shadowBlur=t.shadowBlur||0,v.shadowColor=t.shadowColor||"transparent",v.shadowOffsetX=t.shadowOffsetX||0,v.shadowOffsetY=t.shadowOffsetY||0,v.opacity=Kt(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";if(t.fontSize||t.fontFamily||t.fontWeight){var n="";n="string"!==typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,e=[t.fontStyle,t.fontWeight,n,t.fontFamily||"sans-serif"].join(" ")}return e&&ee(e)||t.textFont||t.font},e}(bu),xc={left:!0,right:1,center:1},wc={top:1,bottom:1,middle:1};function _c(t){return Sc(t),At(t.rich,Sc),t}function Sc(t){if(t){t.font=bc.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||xc[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||wc[n]?n:"top";var r=t.padding;r&&(t.padding=Qt(t.padding))}}function Cc(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function kc(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Tc(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function Ac(t){var e=t.text;return null!=e&&(e+=""),e}function Oc(t){return!!(t.backgroundColor||t.borderWidth&&t.borderColor)}var Mc=bc,Dc=ma(),Ic=1,Ec={},Rc=ma(),Nc=0,Pc=1,Lc=2,Bc=["emphasis","blur","select"],zc=["normal","emphasis","blur","select"],Vc=10,Fc=9,jc="highlight",Hc="downplay",Uc="select",Wc="unselect",Gc="toggleSelect";function qc(t){return null!=t&&"none"!==t}var Yc=new Gn(100);function Xc(t){if("string"!==typeof t)return t;var e=Yc.get(t);return e||(e=sr(t,-.1),Yc.put(t,e)),e}function Zc(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function $c(t){Zc(t,"emphasis",Lc)}function Kc(t){t.hoverState===Lc&&Zc(t,"normal",Nc)}function Jc(t){Zc(t,"blur",Pc)}function Qc(t){t.hoverState===Pc&&Zc(t,"normal",Nc)}function tl(t){t.selected=!0}function el(t){t.selected=!1}function nl(t,e,n){e(t,n)}function rl(t,e,n){nl(t,e,n),t.isGroup&&t.traverse((function(t){nl(t,e,n)}))}function ol(t,e){switch(e){case"emphasis":t.hoverState=Lc;break;case"normal":t.hoverState=Nc;break;case"blur":t.hoverState=Pc;break;case"select":t.selected=!0}}function il(t,e,n,r){for(var o=t.style,i={},a=0;a<e.length;a++){var u=e[a],s=o[u];i[u]=null==s?r&&r[u]:s}for(a=0;a<t.animators.length;a++){var c=t.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&"style"===c.targetName&&c.saveFinalToTarget(i,e)}return i}function al(t,e,n,r){var o=n&&St(n,"select")>=0,i=!1;if(t instanceof Js){var a=Rc(t),u=o&&a.selectFill||a.normalFill,s=o&&a.selectStroke||a.normalStroke;if(qc(u)||qc(s)){r=r||{};var c=r.style||{};!qc(c.fill)&&qc(u)?(i=!0,r=xt({},r),c=xt({},c),c.fill=Xc(u)):!qc(c.stroke)&&qc(s)&&(i||(r=xt({},r),c=xt({},c)),c.stroke=Xc(s)),r.style=c}}if(r&&null==r.z2){i||(r=xt({},r));var l=t.z2EmphasisLift;r.z2=t.z2+(null!=l?l:Vc)}return r}function ul(t,e,n){if(n&&null==n.z2){n=xt({},n);var r=t.z2SelectLift;n.z2=t.z2+(null!=r?r:Fc)}return n}function sl(t,e,n){var r=St(t.currentStates,e)>=0,o=t.style.opacity,i=r?null:il(t,["opacity"],e,{opacity:1});n=n||{};var a=n.style||{};return null==a.opacity&&(n=xt({},n),a=xt({opacity:r?o:.1*i.opacity},a),n.style=a),n}function cl(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return al(this,t,e,n);if("blur"===t)return sl(this,t,n);if("select"===t)return ul(this,t,n)}return n}function ll(t){t.stateProxy=cl;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=cl),n&&(n.stateProxy=cl)}function fl(t,e){!bl(t,e)&&!t.__highByOuter&&rl(t,$c)}function dl(t,e){!bl(t,e)&&!t.__highByOuter&&rl(t,Kc)}function hl(t,e){t.__highByOuter|=1<<(e||0),rl(t,$c)}function pl(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&rl(t,Kc)}function ml(t){rl(t,Jc)}function gl(t){rl(t,Qc)}function vl(t){rl(t,tl)}function yl(t){rl(t,el)}function bl(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function xl(t){var e=t.getModel();e.eachComponent((function(e,n){var r="series"===e?t.getViewOfSeriesModel(n):t.getViewOfComponentModel(n);r.group.traverse((function(t){Qc(t)}))}))}function wl(t,e,n,r,o){var i=r.getModel();function a(t,e){for(var n=0;n<e.length;n++){var r=t.getItemGraphicEl(e[n]);r&&gl(r)}}if(n=n||"coordinateSystem",o){if(null!=t&&e&&"none"!==e){var u=i.getSeriesByIndex(t),s=u.coordinateSystem;s&&s.master&&(s=s.master);var c=[];i.eachSeries((function(t){var o=u===t,i=t.coordinateSystem;i&&i.master&&(i=i.master);var l=i&&s?i===s:o;if(!("series"===n&&!o||"coordinateSystem"===n&&!l||"series"===e&&o)){var f=r.getViewOfSeriesModel(t);if(f.group.traverse((function(t){Jc(t)})),Tt(e))a(t.getData(),e);else if(jt(e))for(var d=Et(e),h=0;h<d.length;h++)a(t.getData(d[h]),e[d[h]]);c.push(t)}})),i.eachComponent((function(t,e){if("series"!==t){var n=r.getViewOfComponentModel(e);n&&n.blurSeries&&n.blurSeries(c,i)}}))}}else xl(r)}function _l(t,e,n){if(Pl(e)){var r=e.type===jc,o=t.seriesIndex,i=t.getData(e.dataType),a=pa(i,e);a=(Lt(a)?a[0]:a)||0;var u=i.getItemGraphicEl(a);if(!u){var s=i.count(),c=0;while(!u&&c<s)u=i.getItemGraphicEl(c++)}if(u){var l=Dc(u);wl(o,l.focus,l.blurScope,n,r)}else{var f=t.get(["emphasis","focus"]),d=t.get(["emphasis","blurScope"]);null!=f&&wl(o,f,d,n,r)}}}function Sl(t,e,n){if(Nl(e)){var r=e.dataType,o=t.getData(r),i=pa(o,e);Lt(i)||(i=[i]),t[e.type===Gc?"toggleSelect":e.type===Uc?"select":"unselect"](i,r)}}function Cl(t){var e=t.getAllData();At(e,(function(e){var n=e.data,r=e.type;n.eachItemGraphicEl((function(e,n){t.isSelected(n,r)?vl(e):yl(e)}))}))}function kl(t){var e=[];return t.eachSeries((function(t){var n=t.getAllData();At(n,(function(n){n.data;var r=n.type,o=t.getSelectedDataIndices();if(o.length>0){var i={dataIndex:o,seriesIndex:t.seriesIndex};null!=r&&(i.dataType=r),e.push(i)}}))})),e}function Tl(t,e,n){Il(t,!0),rl(t,ll),Al(t,e,n)}function Al(t,e,n){var r=Dc(t);null!=e?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var Ol=["emphasis","blur","select"],Ml={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Dl(t,e,n,r){n=n||"itemStyle";for(var o=0;o<Ol.length;o++){var i=Ol[o],a=e.getModel([i,n]),u=t.ensureState(i);u.style=r?r(a):a[Ml[n]]()}}function Il(t,e){var n=!1===e,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function El(t){return!(!t||!t.__highDownDispatcher)}function Rl(t){var e=Ec[t];return null==e&&Ic<=32&&(e=Ec[t]=Ic++),e}function Nl(t){var e=t.type;return e===Uc||e===Wc||e===Gc}function Pl(t){var e=t.type;return e===jc||e===Hc}function Ll(t){var e=Rc(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}var Bl=Ts.CMD,zl=[[],[],[]],Vl=Math.sqrt,Fl=Math.atan2;function jl(t,e){var n,r,o,i,a,u,s=t.data,c=t.len(),l=Bl.M,f=Bl.C,d=Bl.L,h=Bl.R,p=Bl.A,m=Bl.Q;for(o=0,i=0;o<c;){switch(n=s[o++],i=o,r=0,n){case l:r=1;break;case d:r=1;break;case f:r=3;break;case m:r=2;break;case p:var g=e[4],v=e[5],y=Vl(e[0]*e[0]+e[1]*e[1]),b=Vl(e[2]*e[2]+e[3]*e[3]),x=Fl(-e[1]/b,e[0]/y);s[o]*=y,s[o++]+=g,s[o]*=b,s[o++]+=v,s[o++]*=y,s[o++]*=b,s[o++]+=x,s[o++]+=x,o+=2,i=o;break;case h:u[0]=s[o++],u[1]=s[o++],Me(u,u,e),s[i++]=u[0],s[i++]=u[1],u[0]+=s[o++],u[1]+=s[o++],Me(u,u,e),s[i++]=u[0],s[i++]=u[1]}for(a=0;a<r;a++){var w=zl[a];w[0]=s[o++],w[1]=s[o++],Me(w,w,e),s[i++]=w[0],s[i++]=w[1]}}t.increaseVersion()}var Hl=Math.sqrt,Ul=Math.sin,Wl=Math.cos,Gl=Math.PI;function ql(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Yl(t,e){return(t[0]*e[0]+t[1]*e[1])/(ql(t)*ql(e))}function Xl(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Yl(t,e))}function Zl(t,e,n,r,o,i,a,u,s,c,l){var f=s*(Gl/180),d=Wl(f)*(t-n)/2+Ul(f)*(e-r)/2,h=-1*Ul(f)*(t-n)/2+Wl(f)*(e-r)/2,p=d*d/(a*a)+h*h/(u*u);p>1&&(a*=Hl(p),u*=Hl(p));var m=(o===i?-1:1)*Hl((a*a*(u*u)-a*a*(h*h)-u*u*(d*d))/(a*a*(h*h)+u*u*(d*d)))||0,g=m*a*h/u,v=m*-u*d/a,y=(t+n)/2+Wl(f)*g-Ul(f)*v,b=(e+r)/2+Ul(f)*g+Wl(f)*v,x=Xl([1,0],[(d-g)/a,(h-v)/u]),w=[(d-g)/a,(h-v)/u],_=[(-1*d-g)/a,(-1*h-v)/u],S=Xl(w,_);if(Yl(w,_)<=-1&&(S=Gl),Yl(w,_)>=1&&(S=0),S<0){var C=Math.round(S/Gl*1e6)/1e6;S=2*Gl+C%2*Gl}l.addData(c,y,b,a,u,x,S,f,i)}var $l=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Kl=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Jl(t){var e=new Ts;if(!t)return e;var n,r=0,o=0,i=r,a=o,u=Ts.CMD,s=t.match($l);if(!s)return e;for(var c=0;c<s.length;c++){for(var l=s[c],f=l.charAt(0),d=void 0,h=l.match(Kl)||[],p=h.length,m=0;m<p;m++)h[m]=parseFloat(h[m]);var g=0;while(g<p){var v=void 0,y=void 0,b=void 0,x=void 0,w=void 0,_=void 0,S=void 0,C=r,k=o,T=void 0,A=void 0;switch(f){case"l":r+=h[g++],o+=h[g++],d=u.L,e.addData(d,r,o);break;case"L":r=h[g++],o=h[g++],d=u.L,e.addData(d,r,o);break;case"m":r+=h[g++],o+=h[g++],d=u.M,e.addData(d,r,o),i=r,a=o,f="l";break;case"M":r=h[g++],o=h[g++],d=u.M,e.addData(d,r,o),i=r,a=o,f="L";break;case"h":r+=h[g++],d=u.L,e.addData(d,r,o);break;case"H":r=h[g++],d=u.L,e.addData(d,r,o);break;case"v":o+=h[g++],d=u.L,e.addData(d,r,o);break;case"V":o=h[g++],d=u.L,e.addData(d,r,o);break;case"C":d=u.C,e.addData(d,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),r=h[g-2],o=h[g-1];break;case"c":d=u.C,e.addData(d,h[g++]+r,h[g++]+o,h[g++]+r,h[g++]+o,h[g++]+r,h[g++]+o),r+=h[g-2],o+=h[g-1];break;case"S":v=r,y=o,T=e.len(),A=e.data,n===u.C&&(v+=r-A[T-4],y+=o-A[T-3]),d=u.C,C=h[g++],k=h[g++],r=h[g++],o=h[g++],e.addData(d,v,y,C,k,r,o);break;case"s":v=r,y=o,T=e.len(),A=e.data,n===u.C&&(v+=r-A[T-4],y+=o-A[T-3]),d=u.C,C=r+h[g++],k=o+h[g++],r+=h[g++],o+=h[g++],e.addData(d,v,y,C,k,r,o);break;case"Q":C=h[g++],k=h[g++],r=h[g++],o=h[g++],d=u.Q,e.addData(d,C,k,r,o);break;case"q":C=h[g++]+r,k=h[g++]+o,r+=h[g++],o+=h[g++],d=u.Q,e.addData(d,C,k,r,o);break;case"T":v=r,y=o,T=e.len(),A=e.data,n===u.Q&&(v+=r-A[T-4],y+=o-A[T-3]),r=h[g++],o=h[g++],d=u.Q,e.addData(d,v,y,r,o);break;case"t":v=r,y=o,T=e.len(),A=e.data,n===u.Q&&(v+=r-A[T-4],y+=o-A[T-3]),r+=h[g++],o+=h[g++],d=u.Q,e.addData(d,v,y,r,o);break;case"A":b=h[g++],x=h[g++],w=h[g++],_=h[g++],S=h[g++],C=r,k=o,r=h[g++],o=h[g++],d=u.A,Zl(C,k,r,o,_,S,b,x,w,d,e);break;case"a":b=h[g++],x=h[g++],w=h[g++],_=h[g++],S=h[g++],C=r,k=o,r+=h[g++],o+=h[g++],d=u.A,Zl(C,k,r,o,_,S,b,x,w,d,e);break}}"z"!==f&&"Z"!==f||(d=u.Z,e.addData(d),r=i,o=a),n=d}return e.toStatic(),e}var Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return de(e,t),e.prototype.applyTransform=function(t){},e}(Js);function tf(t){return null!=t.setData}function ef(t,e){var n=Jl(t),r=xt({},e);return r.buildPath=function(t){if(tf(t)){t.setData(n.data);var e=t.getContext();e&&t.rebuildPath(e,1)}else{e=t;n.rebuildPath(e,1)}},r.applyTransform=function(t){jl(n,t),this.dirtyShape()},r}function nf(t,e){return new Ql(ef(t,e))}function rf(t,e){var n=ef(t,e),r=function(t){function e(e){var r=t.call(this,e)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return de(e,t),e}(Ql);return r}function of(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var i=t[o];i.path||i.createPathProxy(),i.shapeChanged()&&i.buildPath(i.path,i.shape,!0),n.push(i.path)}var a=new Js(e);return a.createPathProxy(),a.buildPath=function(t){if(tf(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},a}var af=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),uf=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultShape=function(){return new af},e.prototype.buildPath=function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(Js);uf.prototype.type="circle";var sf=uf,cf=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),lf=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultShape=function(){return new cf},e.prototype.buildPath=function(t,e){var n=.5522848,r=e.cx,o=e.cy,i=e.rx,a=e.ry,u=i*n,s=a*n;t.moveTo(r-i,o),t.bezierCurveTo(r-i,o-s,r-u,o-a,r,o-a),t.bezierCurveTo(r+u,o-a,r+i,o-s,r+i,o),t.bezierCurveTo(r+i,o+s,r+u,o+a,r,o+a),t.bezierCurveTo(r-u,o+a,r-i,o+s,r-i,o),t.closePath()},e}(Js);lf.prototype.type="ellipse";var ff=lf,df=Math.PI,hf=2*df,pf=Math.sin,mf=Math.cos,gf=Math.acos,vf=Math.atan2,yf=Math.abs,bf=Math.sqrt,xf=Math.max,wf=Math.min,_f=1e-4;function Sf(t,e,n,r,o,i,a,u){var s=n-t,c=r-e,l=a-o,f=u-i,d=f*s-l*c;if(!(d*d<_f))return d=(l*(e-i)-f*(t-o))/d,[t+d*s,e+d*c]}function Cf(t,e,n,r,o,i,a){var u=t-n,s=e-r,c=(a?i:-i)/bf(u*u+s*s),l=c*s,f=-c*u,d=t+l,h=e+f,p=n+l,m=r+f,g=(d+p)/2,v=(h+m)/2,y=p-d,b=m-h,x=y*y+b*b,w=o-i,_=d*m-p*h,S=(b<0?-1:1)*bf(xf(0,w*w*x-_*_)),C=(_*b-y*S)/x,k=(-_*y-b*S)/x,T=(_*b+y*S)/x,A=(-_*y+b*S)/x,O=C-g,M=k-v,D=T-g,I=A-v;return O*O+M*M>D*D+I*I&&(C=T,k=A),{cx:C,cy:k,x01:-l,y01:-f,x11:C*(o/w-1),y11:k*(o/w-1)}}function kf(t,e){var n=xf(e.r,0),r=xf(e.r0||0,0),o=n>0,i=r>0;if(o||i){if(o||(n=r,r=0),r>n){var a=n;n=r,r=a}var u=!!e.clockwise,s=e.startAngle,c=e.endAngle,l=[s,c];Cs(l,!u);var f=yf(l[0]-l[1]),d=e.cx,h=e.cy,p=e.cornerRadius||0,m=e.innerCornerRadius||0;if(n>_f)if(f>hf-_f)t.moveTo(d+n*mf(s),h+n*pf(s)),t.arc(d,h,n,s,c,!u),r>_f&&(t.moveTo(d+r*mf(c),h+r*pf(c)),t.arc(d,h,r,c,s,u));else{var g=yf(n-r)/2,v=wf(g,p),y=wf(g,m),b=y,x=v,w=n*mf(s),_=n*pf(s),S=r*mf(c),C=r*pf(c),k=void 0,T=void 0,A=void 0,O=void 0;if((v>_f||y>_f)&&(k=n*mf(c),T=n*pf(c),A=r*mf(s),O=r*pf(s),f<df)){var M=Sf(w,_,A,O,k,T,S,C);if(M){var D=w-M[0],I=_-M[1],E=k-M[0],R=T-M[1],N=1/pf(gf((D*E+I*R)/(bf(D*D+I*I)*bf(E*E+R*R)))/2),P=bf(M[0]*M[0]+M[1]*M[1]);b=wf(y,(r-P)/(N-1)),x=wf(v,(n-P)/(N+1))}}if(f>_f)if(x>_f){var L=Cf(A,O,w,_,n,x,u),B=Cf(k,T,S,C,n,x,u);t.moveTo(d+L.cx+L.x01,h+L.cy+L.y01),x<v?t.arc(d+L.cx,h+L.cy,x,vf(L.y01,L.x01),vf(B.y01,B.x01),!u):(t.arc(d+L.cx,h+L.cy,x,vf(L.y01,L.x01),vf(L.y11,L.x11),!u),t.arc(d,h,n,vf(L.cy+L.y11,L.cx+L.x11),vf(B.cy+B.y11,B.cx+B.x11),!u),t.arc(d+B.cx,h+B.cy,x,vf(B.y11,B.x11),vf(B.y01,B.x01),!u))}else t.moveTo(d+w,h+_),t.arc(d,h,n,s,c,!u);else t.moveTo(d+w,h+_);if(r>_f&&f>_f)if(b>_f){L=Cf(S,C,k,T,r,-b,u),B=Cf(w,_,A,O,r,-b,u);t.lineTo(d+L.cx+L.x01,h+L.cy+L.y01),b<y?t.arc(d+L.cx,h+L.cy,b,vf(L.y01,L.x01),vf(B.y01,B.x01),!u):(t.arc(d+L.cx,h+L.cy,b,vf(L.y01,L.x01),vf(L.y11,L.x11),!u),t.arc(d,h,r,vf(L.cy+L.y11,L.cx+L.x11),vf(B.cy+B.y11,B.cx+B.x11),u),t.arc(d+B.cx,h+B.cy,b,vf(B.y11,B.x11),vf(B.y01,B.x01),!u))}else t.lineTo(d+S,h+C),t.arc(d,h,r,c,s,u);else t.lineTo(d+S,h+C)}else t.moveTo(d,h);t.closePath()}}var Tf=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0}return t}(),Af=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultShape=function(){return new Tf},e.prototype.buildPath=function(t,e){kf(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Js);Af.prototype.type="sector";var Of=Af,Mf=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),Df=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultShape=function(){return new Mf},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,o=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,o,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,o,!0)},e}(Js);Df.prototype.type="ring";var If=Df;function Ef(t,e,n,r,o,i,a){var u=.5*(n-t),s=.5*(r-e);return(2*(e-n)+u+s)*a+(-3*(e-n)-2*u-s)*i+u*o+e}function Rf(t,e){for(var n=t.length,r=[],o=0,i=1;i<n;i++)o+=Ce(t[i-1],t[i]);var a=o/2;a=a<n?n:a;for(i=0;i<a;i++){var u=i/(a-1)*(e?n:n-1),s=Math.floor(u),c=u-s,l=void 0,f=t[s%n],d=void 0,h=void 0;e?(l=t[(s-1+n)%n],d=t[(s+1)%n],h=t[(s+2)%n]):(l=t[0===s?s:s-1],d=t[s>n-2?n-1:s+1],h=t[s>n-3?n-1:s+2]);var p=c*c,m=c*p;r.push([Ef(l[0],f[0],d[0],h[0],c,p,m),Ef(l[1],f[1],d[1],h[1],c,p,m)])}return r}function Nf(t,e,n,r){var o,i,a,u,s=[],c=[],l=[],f=[];if(r){a=[1/0,1/0],u=[-1/0,-1/0];for(var d=0,h=t.length;d<h;d++)De(a,a,t[d]),Ie(u,u,t[d]);De(a,a,r[0]),Ie(u,u,r[1])}for(d=0,h=t.length;d<h;d++){var p=t[d];if(n)o=t[d?d-1:h-1],i=t[(d+1)%h];else{if(0===d||d===h-1){s.push(me(t[d]));continue}o=t[d-1],i=t[d+1]}be(c,i,o),_e(c,c,e);var m=Ce(p,o),g=Ce(p,i),v=m+g;0!==v&&(m/=v,g/=v),_e(l,c,-m),_e(f,c,g);var y=ve([],p,l),b=ve([],p,f);r&&(Ie(y,y,a),De(y,y,u),Ie(b,b,a),De(b,b,u)),s.push(y),s.push(b)}return n&&s.push(s.shift()),s}function Pf(t,e,n){var r=e.smooth,o=e.points;if(o&&o.length>=2){if(r&&"spline"!==r){var i=Nf(o,r,n,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var a=o.length,u=0;u<(n?a:a-1);u++){var s=i[2*u],c=i[2*u+1],l=o[(u+1)%a];t.bezierCurveTo(s[0],s[1],c[0],c[1],l[0],l[1])}}else{"spline"===r&&(o=Rf(o,n)),t.moveTo(o[0][0],o[0][1]);u=1;for(var f=o.length;u<f;u++)t.lineTo(o[u][0],o[u][1])}n&&t.closePath()}}var Lf=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Bf=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultShape=function(){return new Lf},e.prototype.buildPath=function(t,e){Pf(t,e,!0)},e}(Js);Bf.prototype.type="polygon";var zf=Bf,Vf=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),Ff=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Vf},e.prototype.buildPath=function(t,e){Pf(t,e,!1)},e}(Js);Ff.prototype.type="polyline";var jf=Ff,Hf={},Uf=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),Wf=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Uf},e.prototype.buildPath=function(t,e){var n,r,o,i;if(this.subPixelOptimize){var a=cc(Hf,e,this.style);n=a.x1,r=a.y1,o=a.x2,i=a.y2}else n=e.x1,r=e.y1,o=e.x2,i=e.y2;var u=e.percent;0!==u&&(t.moveTo(n,r),u<1&&(o=n*(1-u)+o*u,i=r*(1-u)+i*u),t.lineTo(o,i))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(Js);Wf.prototype.type="line";var Gf=Wf,qf=[],Yf=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function Xf(t,e,n){var r=t.cpx2,o=t.cpy2;return null===r||null===o?[(n?Eu:Iu)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Eu:Iu)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Vu:zu)(t.x1,t.cpx1,t.x2,e),(n?Vu:zu)(t.y1,t.cpy1,t.y2,e)]}var Zf=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Yf},e.prototype.buildPath=function(t,e){var n=e.x1,r=e.y1,o=e.x2,i=e.y2,a=e.cpx1,u=e.cpy1,s=e.cpx2,c=e.cpy2,l=e.percent;0!==l&&(t.moveTo(n,r),null==s||null==c?(l<1&&(Hu(n,a,o,l,qf),a=qf[1],o=qf[2],Hu(r,u,i,l,qf),u=qf[1],i=qf[2]),t.quadraticCurveTo(a,u,o,i)):(l<1&&(Pu(n,a,s,o,l,qf),a=qf[1],s=qf[2],o=qf[3],Pu(r,u,c,i,l,qf),u=qf[1],c=qf[2],i=qf[3]),t.bezierCurveTo(a,u,s,c,o,i)))},e.prototype.pointAt=function(t){return Xf(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=Xf(this.shape,t,!0);return Se(e,e)},e}(Js);Zf.prototype.type="bezier-curve";var $f=Zf,Kf=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),Jf=function(t){function e(e){return t.call(this,e)||this}return de(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Kf},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,o=Math.max(e.r,0),i=e.startAngle,a=e.endAngle,u=e.clockwise,s=Math.cos(i),c=Math.sin(i);t.moveTo(s*o+n,c*o+r),t.arc(n,r,o,i,a,!u)},e}(Js);Jf.prototype.type="arc";var Qf=Jf,td=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return de(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Js.prototype.getBoundingRect.call(this)},e}(Js),ed=td,nd=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),rd=nd,od=function(t){function e(e,n,r,o,i,a){var u=t.call(this,i)||this;return u.x=null==e?0:e,u.y=null==n?0:n,u.x2=null==r?1:r,u.y2=null==o?0:o,u.type="linear",u.global=a||!1,u}return de(e,t),e}(rd),id=od,ad=function(t){function e(e,n,r,o,i){var a=t.call(this,o)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==r?.5:r,a.type="radial",a.global=i||!1,a}return de(e,t),e}(rd),ud=ad,sd=[0,0],cd=[0,0],ld=new Br,fd=new Br,dd=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Br;for(n=0;n<2;n++)this._axes[n]=new Br;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,r=this._axes,o=t.x,i=t.y,a=o+t.width,u=i+t.height;if(n[0].set(o,i),n[1].set(a,i),n[2].set(a,u),n[3].set(o,u),e)for(var s=0;s<4;s++)n[s].transform(e);Br.sub(r[0],n[1],n[0]),Br.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(s=0;s<2;s++)this._origin[s]=r[s].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,r=!e;return ld.set(1/0,1/0),fd.set(0,0),!this._intersectCheckOneSide(this,t,ld,fd,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(t,this,ld,fd,r,-1)&&(n=!1,r)||r||Br.copy(e,n?ld:fd),n},t.prototype._intersectCheckOneSide=function(t,e,n,r,o,i){for(var a=!0,u=0;u<2;u++){var s=this._axes[u];if(this._getProjMinMaxOnAxis(u,t._corners,sd),this._getProjMinMaxOnAxis(u,e._corners,cd),sd[1]<cd[0]||sd[0]>cd[1]){if(a=!1,o)return a;var c=Math.abs(cd[0]-sd[1]),l=Math.abs(sd[0]-cd[1]);Math.min(c,l)>r.len()&&(c<l?Br.scale(r,s,-c*i):Br.scale(r,s,l*i))}else if(n){c=Math.abs(cd[0]-sd[1]),l=Math.abs(sd[0]-cd[1]);Math.min(c,l)<n.len()&&(c<l?Br.scale(n,s,c*i):Br.scale(n,s,-l*i))}}return a},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],o=this._origin,i=e[0].dot(r)+o[t],a=i,u=i,s=1;s<e.length;s++){var c=e[s].dot(r)+o[t];a=Math.min(c,a),u=Math.max(c,u)}n[0]=a,n[1]=u},t}(),hd=dd,pd=[],md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return de(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Yr(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(pd)),t.union(r)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();if(r.contain(n[0],n[1]))for(var o=0;o<this._displayables.length;o++){var i=this._displayables[o];if(i.contain(t,e))return!0}return!1},e}(bu),gd=md,vd=Math.max,yd=Math.min,bd={};function xd(t){return Js.extend(t)}var wd=rf;function _d(t,e){return wd(t,e)}function Sd(t,e){bd[t]=e}function Cd(t){if(bd.hasOwnProperty(t))return bd[t]}function kd(t,e,n,r){var o=nf(t,e);return n&&("center"===r&&(n=Ad(n,o.getBoundingRect())),Md(o,n)),o}function Td(t,e,n){var r=new ac({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var o={width:t.width,height:t.height};r.setStyle(Ad(e,o))}}});return r}function Ad(t,e){var n,r=e.width/e.height,o=t.height*r;o<=t.width?n=t.height:(o=t.width,n=o/r);var i=t.x+t.width/2,a=t.y+t.height/2;return{x:i-o/2,y:a-n/2,width:o,height:n}}var Od=of;function Md(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function Dd(t){return cc(t.shape,t.shape,t.style),t}function Id(t){return lc(t.shape,t.shape,t.style),t}var Ed=fc;function Rd(t,e,n,r,o,i,a){var u,s=!1;"function"===typeof o?(a=i,i=o,o=null):jt(o)&&(i=o.cb,a=o.during,s=o.isFrom,u=o.removeOpt,o=o.dataIndex);var c,l="update"===t,f="remove"===t;if(r&&r.ecModel){var d=r.ecModel.getUpdatePayload();c=d&&d.animation}var h=r&&r.isAnimationEnabled();if(f||e.stopAnimation("remove"),h){var p=void 0,m=void 0,g=void 0;c?(p=c.duration||0,m=c.easing||"cubicOut",g=c.delay||0):f?(u=u||{},p=$t(u.duration,200),m=$t(u.easing,"cubicOut"),g=0):(p=r.getShallow(l?"animationDurationUpdate":"animationDuration"),m=r.getShallow(l?"animationEasingUpdate":"animationEasing"),g=r.getShallow(l?"animationDelayUpdate":"animationDelay")),"function"===typeof g&&(g=g(o,r.getAnimationDelayParams?r.getAnimationDelayParams(e,o):null)),"function"===typeof p&&(p=p(o)),p>0?s?e.animateFrom(n,{duration:p,delay:g||0,easing:m,done:i,force:!!i||!!a,scope:t,during:a}):e.animateTo(n,{duration:p,delay:g||0,easing:m,done:i,force:!!i||!!a,setToFinal:!0,scope:t,during:a}):(e.stopAnimation(),!s&&e.attr(n),i&&i())}else e.stopAnimation(),!s&&e.attr(n),a&&a(1),i&&i()}function Nd(t,e,n,r,o,i){Rd("update",t,e,n,r,o,i)}function Pd(t,e,n,r,o,i){Rd("init",t,e,n,r,o,i)}function Ld(t,e,n,r,o,i){Vd(t)||Rd("remove",t,e,n,r,o,i)}function Bd(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),Ld(t,{style:{opacity:0}},e,n,r)}function zd(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||Bd(t,e,n,r)})):Bd(t,e,n,r)}function Vd(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if("remove"===n.scope)return!0}return!1}function Fd(t,e){var n=wn([]);while(t&&t!==e)Sn(n,t.getLocalTransform(),n),t=t.parent;return n}function jd(t,e,n){return e&&!Tt(e)&&(e=Bn.getLocalTransform(e)),n&&(e=An([],e)),Me([],t,e)}function Hd(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),i=["left"===t?-r:"right"===t?r:0,"top"===t?-o:"bottom"===t?o:0];return i=jd(i,e,n),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function Ud(t){return!t.isGroup}function Wd(t){return null!=t.shape}function Gd(t,e,n){if(t&&e){var r=o(t);e.traverse((function(t){if(Ud(t)&&t.anid){var e=r[t.anid];if(e){var o=i(t);t.attr(i(e)),Nd(t,o,n,Dc(t).dataIndex)}}}))}function o(t){var e={};return t.traverse((function(t){Ud(t)&&t.anid&&(e[t.anid]=t)})),e}function i(t){var e={x:t.x,y:t.y,rotation:t.rotation};return Wd(t)&&(e.shape=xt({},t.shape)),e}}function qd(t,e){return Ot(t,(function(t){var n=t[0];n=vd(n,e.x),n=yd(n,e.x+e.width);var r=t[1];return r=vd(r,e.y),r=yd(r,e.y+e.height),[n,r]}))}function Yd(t,e){var n=vd(t.x,e.x),r=yd(t.x+t.width,e.x+e.width),o=vd(t.y,e.y),i=yd(t.y+t.height,e.y+e.height);if(r>=n&&i>=o)return{x:n,y:o,width:r-n,height:i-o}}function Xd(t,e,n){var r=xt({rectHover:!0},e),o=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(o.image=t.slice(8),wt(o,n),new ac(r)):kd(t.replace("path://",""),r,n,"center")}function Zd(t,e,n,r,o){for(var i=0,a=o[o.length-1];i<o.length;i++){var u=o[i];if($d(t,e,n,r,u[0],u[1],a[0],a[1]))return!0;a=u}}function $d(t,e,n,r,o,i,a,u){var s=n-t,c=r-e,l=a-o,f=u-i,d=Kd(l,f,s,c);if(Jd(d))return!1;var h=t-o,p=e-i,m=Kd(h,p,s,c)/d;if(m<0||m>1)return!1;var g=Kd(h,p,l,f)/d;return!(g<0||g>1)}function Kd(t,e,n,r){return t*r-n*e}function Jd(t){return t<=1e-6&&t>=-1e-6}Sd("circle",sf),Sd("ellipse",ff),Sd("sector",Of),Sd("ring",If),Sd("polygon",zf),Sd("polyline",jf),Sd("rect",mc),Sd("line",Gf),Sd("bezierCurve",$f),Sd("arc",Qf);var Qd={};function th(t,e){for(var n=0;n<Bc.length;n++){var r=Bc[n],o=e[r],i=t.ensureState(r);i.style=i.style||{},i.style.text=o}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function eh(t,e,n){var r,o=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,u=e.normal;o&&(r=o.getFormattedLabel(i,"normal",null,a,u&&u.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=Bt(t.defaultText)?t.defaultText(i,t,n):t.defaultText);for(var s={normal:r},c=0;c<Bc.length;c++){var l=Bc[c],f=e[l];s[l]=$t(o?o.getFormattedLabel(i,l,null,a,f&&f.get("formatter")):null,r)}return s}function nh(t,e,n,r){n=n||Qd;for(var o=t instanceof Mc,i=!1,a=0;a<zc.length;a++){var u=e[zc[a]];if(u&&u.getShallow("show")){i=!0;break}}var s=o?t:t.getTextContent();if(i){o||(s||(s=new Mc,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var c=eh(n,e),l=e.normal,f=!!l.getShallow("show"),d=oh(l,r&&r.normal,n,!1,!o);d.text=c.normal,o||t.setTextConfig(ih(l,n,!1));for(a=0;a<Bc.length;a++){var h=Bc[a];u=e[h];if(u){var p=s.ensureState(h),m=!!$t(u.getShallow("show"),f);if(m!==f&&(p.ignore=!m),p.style=oh(u,r&&r[h],n,!0,!o),p.style.text=c[h],!o){var g=t.ensureState(h);g.textConfig=ih(u,n,!0)}}}s.silent=!!l.getShallow("silent"),null!=s.style.x&&(d.x=s.style.x),null!=s.style.y&&(d.y=s.style.y),s.ignore=!f,s.useStyle(d),s.dirty(),n.enableTextSetter&&(hh(s).setLabelText=function(t){var r=eh(n,e,t);th(s,r)})}else s&&(s.ignore=!0);t.dirty()}function rh(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<Bc.length;r++){var o=Bc[r];n[o]=t.getModel([o,e])}return n}function oh(t,e,n,r,o){var i={};return ah(i,t,n,r,o),e&&xt(i,e),i}function ih(t,e,n){e=e||{};var r,o={},i=t.getShallow("rotate"),a=$t(t.getShallow("distance"),n?null:5),u=t.getShallow("offset");return r=t.getShallow("position")||(n?null:"inside"),"outside"===r&&(r=e.defaultOutsidePosition||"top"),null!=r&&(o.position=r),null!=u&&(o.offset=u),null!=i&&(i*=Math.PI/180,o.rotation=i),null!=a&&(o.distance=a),o.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",o}function ah(t,e,n,r,o){n=n||Qd;var i,a=e.ecModel,u=a&&a.option.textStyle,s=uh(e);if(s)for(var c in i={},s)if(s.hasOwnProperty(c)){var l=e.getModel(["rich",c]);fh(i[c]={},l,u,n,r,o,!1,!0)}i&&(t.rich=i);var f=e.get("overflow");f&&(t.overflow=f);var d=e.get("minMargin");null!=d&&(t.margin=d),fh(t,e,u,n,r,o,!0,!1)}function uh(t){var e;while(t&&t!==t.ecModel){var n=(t.option||Qd).rich;if(n){e=e||{};for(var r=Et(n),o=0;o<r.length;o++){var i=r[o];e[i]=1}}t=t.parentModel}return e}var sh=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],ch=["align","lineHeight","width","height","tag","verticalAlign"],lh=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function fh(t,e,n,r,o,i,a,u){n=!o&&n||Qd;var s=r&&r.inheritColor,c=e.getShallow("color"),l=e.getShallow("textBorderColor"),f=$t(e.getShallow("opacity"),n.opacity);"inherit"!==c&&"auto"!==c||(c=s||null),"inherit"!==l&&"auto"!==l||(l=s||null),i||(c=c||n.color,l=l||n.textBorderColor),null!=c&&(t.fill=c),null!=l&&(t.stroke=l);var d=$t(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=d&&(t.lineWidth=d);var h=$t(e.getShallow("textBorderType"),n.textBorderType);null!=h&&(t.lineDash=h);var p=$t(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=p&&(t.lineDashOffset=p),o||null!=f||u||(f=r&&r.defaultOpacity),null!=f&&(t.opacity=f),o||i||null==t.fill&&r.inheritColor&&(t.fill=r.inheritColor);for(var m=0;m<sh.length;m++){var g=sh[m],v=$t(e.getShallow(g),n[g]);null!=v&&(t[g]=v)}for(m=0;m<ch.length;m++){g=ch[m],v=e.getShallow(g);null!=v&&(t[g]=v)}if(null==t.verticalAlign){var y=e.getShallow("baseline");null!=y&&(t.verticalAlign=y)}if(!a||!r.disableBox){for(m=0;m<lh.length;m++){g=lh[m],v=e.getShallow(g);null!=v&&(t[g]=v)}var b=e.getShallow("borderType");null!=b&&(t.borderDash=b),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!s||(t.backgroundColor=s),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!s||(t.borderColor=s)}}function dh(t,e){var n=e&&e.getModel("textStyle");return ee([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var hh=ma();function ph(t,e,n,r){if(t){var o=hh(t);o.prevValue=o.value,o.value=n;var i=e.normal;o.valueAnimation=i.get("valueAnimation"),o.valueAnimation&&(o.precision=i.get("precision"),o.defaultInterpolatedText=r,o.statesModels=e)}}function mh(t,e,n,r,o){var i=hh(t);if(i.valueAnimation){var a=i.defaultInterpolatedText,u=$t(i.interpolatedValue,i.prevValue),s=i.value;(null==u?Pd:Nd)(t,{},r,e,null,c)}function c(r){var c=ka(n,i.precision,u,s,r);i.interpolatedValue=1===r?null:c;var l=eh({labelDataIndex:e,labelFetcher:o,defaultText:a?a(c):c+""},i.statesModels,c);th(t,l)}}var gh=["textStyle","color"],vh=new Mc,yh=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(gh):null)},t.prototype.getFont=function(){return dh({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){return vh.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),vh.update(),vh.getBoundingRect()},t}(),bh=yh,xh=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],wh=Fa(xh),_h=function(){function t(){}return t.prototype.getLineStyle=function(t){return wh(this,t)},t}(),Sh=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Ch=Fa(Sh),kh=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return Ch(this,t,e)},t}(),Th=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},t.prototype.mergeOption=function(t,e){yt(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,r=null==n?n:n[t];if(null==r&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},t.prototype.getModel=function(e,n){var r=null!=e,o=r?this.parsePath(e):null,i=r?this._doGet(o):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),new t(i,n,this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){var t=this.constructor;return new t(vt(this.option))},t.prototype.parsePath=function(t){return"string"===typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!nt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length;r++)if(t[r]&&(n=n&&"object"===typeof n?n[t[r]]:null,null==n))break;return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();Ea(Th),La(Th),kt(Th,_h),kt(Th,kh),kt(Th,Ua),kt(Th,bh);var Ah=Th,Oh=Math.round(10*Math.random());function Mh(t){return[t||"",Oh++].join("_")}function Dh(t){var e={};t.registerSubTypeDefaulter=function(t,n){var r=Ma(t);e[r.main]=n},t.determineSubType=function(n,r){var o=r.type;if(!o){var i=Ma(n).main;t.hasSubTypes(n)&&e[i]&&(o=e[i](r))}return o}}function Ih(t,e){function n(t){var n={},i=[];return At(t,(function(a){var u=r(n,a),s=u.originalDeps=e(a),c=o(s,t);u.entryCount=c.length,0===u.entryCount&&i.push(a),At(c,(function(t){St(u.predecessor,t)<0&&u.predecessor.push(t);var e=r(n,t);St(e.successor,t)<0&&e.successor.push(a)}))})),{graph:n,noEntryList:i}}function r(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var n=[];return At(t,(function(t){St(e,t)>=0&&n.push(t)})),n}t.topologicalTravel=function(t,e,r,o){if(t.length){var i=n(e),a=i.graph,u=i.noEntryList,s={};At(t,(function(t){s[t]=!0}));while(u.length){var c=u.pop(),l=a[c],f=!!s[c];f&&(r.call(o,c,l.originalDeps.slice()),delete s[c]),At(l.successor,f?h:d)}At(s,(function(){var t="";throw new Error(t)}))}function d(t){a[t].entryCount--,0===a[t].entryCount&&u.push(t)}function h(t){s[t]=!0,d(t)}}}function Eh(t,e){return yt(yt({},t,!0),e,!0)}var Rh={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Guage",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Nh={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}},Ph="ZH",Lh="EN",Bh=Lh,zh={},Vh={},Fh=nt.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(Ph)>-1?Ph:Bh}():Bh;function jh(t,e){t=t.toUpperCase(),Vh[t]=new Ah(e),zh[t]=e}function Hh(t){if(zt(t)){var e=zh[t.toUpperCase()]||{};return t===Ph||t===Lh?vt(e):yt(vt(e),vt(zh[Bh]),!1)}return yt(vt(t),vt(zh[Bh]),!1)}function Uh(t){return Vh[t]}function Wh(){return Vh[Bh]}jh(Lh,Rh),jh(Ph,Nh);var Gh=1e3,qh=60*Gh,Yh=60*qh,Xh=24*Yh,Zh=365*Xh,$h={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"},Kh="{yyyy}-{MM}-{dd}",Jh={year:"{yyyy}",month:"{yyyy}-{MM}",day:Kh,hour:Kh+" "+$h.hour,minute:Kh+" "+$h.minute,second:Kh+" "+$h.second,millisecond:$h.none},Qh=["year","month","day","hour","minute","second","millisecond"],tp=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function ep(t,e){return t+="","0000".substr(0,e-t.length)+t}function np(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function rp(t){return t===np(t)}function op(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function ip(t,e,n,r){var o=Ni(t),i=o[cp(n)](),a=o[lp(n)]()+1,u=Math.floor((a-1)/4)+1,s=o[fp(n)](),c=o["get"+(n?"UTC":"")+"Day"](),l=o[dp(n)](),f=(l-1)%12+1,d=o[hp(n)](),h=o[pp(n)](),p=o[mp(n)](),m=r instanceof Ah?r:Uh(r||Fh)||Wh(),g=m.getModel("time"),v=g.get("month"),y=g.get("monthAbbr"),b=g.get("dayOfWeek"),x=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,i%100+"").replace(/{Q}/g,u+"").replace(/{MMMM}/g,v[a-1]).replace(/{MMM}/g,y[a-1]).replace(/{MM}/g,ep(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,ep(s,2)).replace(/{d}/g,s+"").replace(/{eeee}/g,b[c]).replace(/{ee}/g,x[c]).replace(/{e}/g,c+"").replace(/{HH}/g,ep(l,2)).replace(/{H}/g,l+"").replace(/{hh}/g,ep(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,ep(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,ep(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,ep(p,3)).replace(/{S}/g,p+"")}function ap(t,e,n,r,o){var i=null;if("string"===typeof n)i=n;else if("function"===typeof n)i=n(t.value,e,{level:t.level});else{var a=xt({},$h);if(t.level>0)for(var u=0;u<Qh.length;++u)a[Qh[u]]="{primary|"+a[Qh[u]]+"}";var s=n?!1===n.inherit?n:wt(n,a):a,c=up(t.value,o);if(s[c])i=s[c];else if(s.inherit){var l=tp.indexOf(c);for(u=l-1;u>=0;--u)if(s[c]){i=s[c];break}i=i||a.none}if(Lt(i)){var f=null==t.level?0:t.level>=0?t.level:i.length+t.level;f=Math.min(f,i.length-1),i=i[f]}}return ip(new Date(t.value),i,o,r)}function up(t,e){var n=Ni(t),r=n[lp(e)]()+1,o=n[fp(e)](),i=n[dp(e)](),a=n[hp(e)](),u=n[pp(e)](),s=n[mp(e)](),c=0===s,l=c&&0===u,f=l&&0===a,d=f&&0===i,h=d&&1===o,p=h&&1===r;return p?"year":h?"month":d?"day":f?"hour":l?"minute":c?"second":"millisecond"}function sp(t,e,n){var r="number"===typeof t?Ni(t):t;switch(e=e||up(t,n),e){case"year":return r[cp(n)]();case"half-year":return r[lp(n)]()>=6?1:0;case"quarter":return Math.floor((r[lp(n)]()+1)/4);case"month":return r[lp(n)]();case"day":return r[fp(n)]();case"half-day":return r[dp(n)]()/24;case"hour":return r[dp(n)]();case"minute":return r[hp(n)]();case"second":return r[pp(n)]();case"millisecond":return r[mp(n)]()}}function cp(t){return t?"getUTCFullYear":"getFullYear"}function lp(t){return t?"getUTCMonth":"getMonth"}function fp(t){return t?"getUTCDate":"getDate"}function dp(t){return t?"getUTCHours":"getHours"}function hp(t){return t?"getUTCMinutes":"getMinutes"}function pp(t){return t?"getUTCSeconds":"getSeconds"}function mp(t){return t?"getUTCSeconds":"getSeconds"}function gp(t){return t?"setUTCFullYear":"setFullYear"}function vp(t){return t?"setUTCMonth":"setMonth"}function yp(t){return t?"setUTCDate":"setDate"}function bp(t){return t?"setUTCHours":"setHours"}function xp(t){return t?"setUTCMinutes":"setMinutes"}function wp(t){return t?"setUTCSeconds":"setSeconds"}function _p(t){return t?"setUTCSeconds":"setSeconds"}function Sp(t){if(!ji(t))return zt(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Cp(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var kp=Qt,Tp=/([&<>"'])/g,Ap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Op(t){return null==t?"":(t+"").replace(Tp,(function(t,e){return Ap[e]}))}function Mp(t,e,n){var r="yyyy-MM-dd hh:mm:ss";function o(t){return t&&ee(t)?t:"-"}function i(t){return!(null==t||isNaN(t)||!isFinite(t))}var a="time"===e,u=t instanceof Date;if(a||u){var s=a?Ni(t):t;if(!isNaN(+s))return ip(s,r,n);if(u)return"-"}if("ordinal"===e)return Vt(t)?o(t):Ft(t)&&i(t)?t+"":"-";var c=Fi(t);return i(c)?Sp(c):Vt(t)?o(t):"-"}var Dp=["a","b","c","d","e","f","g"],Ip=function(t,e){return"{"+t+(null==e?"":e)+"}"};function Ep(t,e,n){Lt(e)||(e=[e]);var r=e.length;if(!r)return"";for(var o=e[0].$vars||[],i=0;i<o.length;i++){var a=Dp[i];t=t.replace(Ip(a),Ip(a,0))}for(var u=0;u<r;u++)for(var s=0;s<o.length;s++){var c=e[u][o[s]];t=t.replace(Ip(Dp[s],u),n?Op(c):c)}return t}function Rp(t,e,n){return At(e,(function(e,r){t=t.replace("{"+r+"}",n?Op(e):e)})),t}function Np(t,e){var n=zt(t)?{color:t,extraCssText:e}:t||{},r=n.color,o=n.type;e=n.extraCssText;var i=n.renderMode||"html";if(!r)return"";if("html"===i)return"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Op(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Op(r)+";"+(e||"")+'"></span>';var a=n.markerId||"markerX";return{renderMode:i,content:"{"+a+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Pp(t,e){return e=e||"transparent",zt(t)?t:jt(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function Lp(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var Bp=At,zp=["left","right","top","bottom","width","height"],Vp=[["width","left","right"],["height","top","bottom"]];function Fp(t,e,n,r,o){var i=0,a=0;null==r&&(r=1/0),null==o&&(o=1/0);var u=0;e.eachChild((function(s,c){var l,f,d=s.getBoundingRect(),h=e.childAt(c+1),p=h&&h.getBoundingRect();if("horizontal"===t){var m=d.width+(p?-p.x+d.x:0);l=i+m,l>r||s.newline?(i=0,l=m,a+=u+n,u=d.height):u=Math.max(u,d.height)}else{var g=d.height+(p?-p.y+d.y:0);f=a+g,f>o||s.newline?(i+=u+n,a=0,f=g,u=d.width):u=Math.max(u,d.width)}s.newline||(s.x=i,s.y=a,s.markRedraw(),"horizontal"===t?i=l+n:a=f+n)}))}var jp=Fp;Pt(Fp,"vertical"),Pt(Fp,"horizontal");function Hp(t,e,n){var r=e.width,o=e.height,i=Si(t.left,r),a=Si(t.top,o),u=Si(t.right,r),s=Si(t.bottom,o);return(isNaN(i)||isNaN(parseFloat(t.left)))&&(i=0),(isNaN(u)||isNaN(parseFloat(t.right)))&&(u=r),(isNaN(a)||isNaN(parseFloat(t.top)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.bottom)))&&(s=o),n=kp(n||0),{width:Math.max(u-i-n[1]-n[3],0),height:Math.max(s-a-n[0]-n[2],0)}}function Up(t,e,n){n=kp(n||0);var r=e.width,o=e.height,i=Si(t.left,r),a=Si(t.top,o),u=Si(t.right,r),s=Si(t.bottom,o),c=Si(t.width,r),l=Si(t.height,o),f=n[2]+n[0],d=n[1]+n[3],h=t.aspect;switch(isNaN(c)&&(c=r-u-d-i),isNaN(l)&&(l=o-s-f-a),null!=h&&(isNaN(c)&&isNaN(l)&&(h>r/o?c=.8*r:l=.8*o),isNaN(c)&&(c=h*l),isNaN(l)&&(l=c/h)),isNaN(i)&&(i=r-u-c-d),isNaN(a)&&(a=o-s-l-f),t.left||t.right){case"center":i=r/2-c/2-n[3];break;case"right":i=r-c-d;break}switch(t.top||t.bottom){case"middle":case"center":a=o/2-l/2-n[0];break;case"bottom":a=o-l-f;break}i=i||0,a=a||0,isNaN(c)&&(c=r-d-i-(u||0)),isNaN(l)&&(l=o-f-a-(s||0));var p=new Yr(i+n[3],a+n[0],c,l);return p.margin=n,p}function Wp(t,e,n,r,o){var i=!o||!o.hv||o.hv[0],a=!o||!o.hv||o.hv[1],u=o&&o.boundingMode||"all";if(i||a){var s;if("raw"===u)s="group"===t.type?new Yr(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(s=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();s=s.clone(),s.applyTransform(c)}var l=Up(wt({width:s.width,height:s.height},e),n,r),f=i?l.x-s.x:0,d=a?l.y-s.y:0;"raw"===u?(t.x=f,t.y=d):(t.x+=f,t.y+=d),t.markRedraw()}}function Gp(t,e){return null!=t[Vp[e][0]]||null!=t[Vp[e][1]]&&null!=t[Vp[e][2]]}function qp(t){var e=t.layoutMode||t.constructor.layoutMode;return jt(e)?e:e?{type:e}:null}function Yp(t,e,n){var r=n&&n.ignoreSize;!Lt(r)&&(r=[r,r]);var o=a(Vp[0],0),i=a(Vp[1],1);function a(n,o){var i={},a=0,c={},l=0,f=2;if(Bp(n,(function(e){c[e]=t[e]})),Bp(n,(function(t){u(e,t)&&(i[t]=c[t]=e[t]),s(i,t)&&a++,s(c,t)&&l++})),r[o])return s(e,n[1])?c[n[2]]=null:s(e,n[2])&&(c[n[1]]=null),c;if(l!==f&&a){if(a>=f)return i;for(var d=0;d<n.length;d++){var h=n[d];if(!u(i,h)&&u(t,h)){i[h]=t[h];break}}return i}return c}function u(t,e){return t.hasOwnProperty(e)}function s(t,e){return null!=t[e]&&"auto"!==t[e]}function c(t,e,n){Bp(t,(function(t){e[t]=n[t]}))}c(Vp[0],t,o),c(Vp[1],t,i)}function Xp(t){return Zp({},t)}function Zp(t,e){return e&&t&&Bp(zp,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}var $p=ma(),Kp=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.uid=Mh("ec_cpt_model"),o}return Z(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=qp(this),r=n?Xp(t):{},o=e.getTheme();yt(t,o.get(this.mainType)),yt(t,this.getDefaultOption()),n&&Yp(t,r,n)},e.prototype.mergeOption=function(t,e){yt(this.option,t,!0);var n=qp(this);n&&Yp(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Ia(t))return t.defaultOption;var e=$p(this);if(!e.defaultOption){var n=[],r=t;while(r){var o=r.prototype.defaultOption;o&&n.push(o),r=r.superClass}for(var i={},a=n.length-1;a>=0;a--)i=yt(i,n[a],!0);e.defaultOption=i}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",r=t+"Id";return xa(this.ecModel,t,{index:this.get(n,!0),id:this.get(r,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Ah);function Jp(t){var e=[];return At(Kp.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=Ot(e,(function(t){return Ma(t).main})),"dataset"!==t&&St(e,"dataset")<=0&&e.unshift("dataset"),e}Na(Kp,Ah),Va(Kp),Dh(Kp),Ih(Kp,Jp);var Qp=Kp,tm="";"undefined"!==typeof navigator&&(tm=navigator.platform||"");var em="rgba(0, 0, 0, 0.2)",nm={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:em,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:em,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:em,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:em,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:em,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:em,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:tm.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},rm=ae(["tooltip","label","itemName","itemId","seriesName"]),om="original",im="arrayRows",am="objectRows",um="keyedColumns",sm="typedArray",cm="unknown",lm="column",fm="row",dm={Must:1,Might:2,Not:3},hm=ma();function pm(t){hm(t).datasetMap=ae()}function mm(t,e,n){var r={},o=vm(e);if(!o||!t)return r;var i,a,u=[],s=[],c=e.ecModel,l=hm(c).datasetMap,f=o.uid+"_"+n.seriesLayoutBy;t=t.slice(),At(t,(function(e,n){var o=jt(e)?e:t[n]={name:e};"ordinal"===o.type&&null==i&&(i=n,a=p(o)),r[o.name]=[]}));var d=l.get(f)||l.set(f,{categoryWayDim:a,valueWayDim:0});function h(t,e,n){for(var r=0;r<n;r++)t.push(e+r)}function p(t){var e=t.dimsDef;return e?e.length:1}return At(t,(function(t,e){var n=t.name,o=p(t);if(null==i){var a=d.valueWayDim;h(r[n],a,o),h(s,a,o),d.valueWayDim+=o}else if(i===e)h(r[n],0,o),h(u,0,o);else{a=d.categoryWayDim;h(r[n],a,o),h(s,a,o),d.categoryWayDim+=o}})),u.length&&(r.itemName=u),s.length&&(r.seriesName=s),r}function gm(t,e,n){var r={},o=vm(t);if(!o)return r;var i,a=e.sourceFormat,u=e.dimensionsDefine;a!==am&&a!==um||At(u,(function(t,e){"name"===(jt(t)?t.name:t)&&(i=e)}));var s=function(){for(var t={},r={},o=[],s=0,c=Math.min(5,n);s<c;s++){var l=xm(e.data,a,e.seriesLayoutBy,u,e.startIndex,s);o.push(l);var f=l===dm.Not;if(f&&null==t.v&&s!==i&&(t.v=s),(null==t.n||t.n===t.v||!f&&o[t.n]===dm.Not)&&(t.n=s),d(t)&&o[t.n]!==dm.Not)return t;f||(l===dm.Might&&null==r.v&&s!==i&&(r.v=s),null!=r.n&&r.n!==r.v||(r.n=s))}function d(t){return null!=t.v&&null!=t.n}return d(t)?t:d(r)?r:null}();if(s){r.value=[s.v];var c=null!=i?i:s.n;r.itemName=[c],r.seriesName=[c]}return r}function vm(t){var e=t.get("data",!0);if(!e)return xa(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},ya).models[0]}function ym(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?xa(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},ya).models:[]}function bm(t,e){return xm(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function xm(t,e,n,r,o,i){var a,u,s,c=5;if(Ut(t))return dm.Not;if(r){var l=r[i];jt(l)?(u=l.name,s=l.type):zt(l)&&(u=l)}if(null!=s)return"ordinal"===s?dm.Must:dm.Not;if(e===im){var f=t;if(n===fm){for(var d=f[i],h=0;h<(d||[]).length&&h<c;h++)if(null!=(a=x(d[o+h])))return a}else for(h=0;h<f.length&&h<c;h++){var p=f[o+h];if(p&&null!=(a=x(p[i])))return a}}else if(e===am){var m=t;if(!u)return dm.Not;for(h=0;h<m.length&&h<c;h++){var g=m[h];if(g&&null!=(a=x(g[u])))return a}}else if(e===um){var v=t;if(!u)return dm.Not;d=v[u];if(!d||Ut(d))return dm.Not;for(h=0;h<d.length&&h<c;h++)if(null!=(a=x(d[h])))return a}else if(e===om){var y=t;for(h=0;h<y.length&&h<c;h++){g=y[h];var b=$i(g);if(!Lt(b))return dm.Not;if(null!=(a=x(b[i])))return a}}function x(t){var e=zt(t);return null!=t&&isFinite(t)&&""!==t?e?dm.Might:dm.Not:e&&"-"!==t?dm.Must:void 0}return dm.Not}var wm=ae();function _m(t,e){te(null==wm.get(t)&&e),wm.set(t,e)}function Sm(t,e,n){var r=wm.get(e);if(!r)return n;var o=r(t);return o?n.concat(o):n}var Cm,km,Tm,Am=ma(),Om=ma(),Mm=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var r=Yi(this.get("color",!0)),o=this.get("colorLayer",!0);return Em(this,Am,r,o,t,e,n)},t.prototype.clearColorPalette=function(){Rm(this,Am)},t}();function Dm(t,e,n,r){var o=Yi(t.get(["aria","decal","decals"]));return Em(t,Om,o,null,e,n,r)}function Im(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}function Em(t,e,n,r,o,i,a){i=i||t;var u=e(i),s=u.paletteIdx||0,c=u.paletteNameMap=u.paletteNameMap||{};if(c.hasOwnProperty(o))return c[o];var l=null!=a&&r?Im(r,a):n;if(l=l||n,l&&l.length){var f=l[s];return o&&(c[o]=f),u.paletteIdx=(s+1)%l.length,f}}function Rm(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Nm="\0_ec_inner",Pm=1,Lm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.init=function(t,e,n,r,o,i){r=r||{},this.option=null,this._theme=new Ah(r),this._locale=new Ah(o),this._optionManager=i},e.prototype.setOption=function(t,e,n){var r=jm(e);this._optionManager.setOption(t,n,r),this._resetOption(null,r)},e.prototype.resetOption=function(t,e){return this._resetOption(t,jm(e))},e.prototype._resetOption=function(t,e){var n=!1,r=this._optionManager;if(!t||"recreate"===t){var o=r.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(o,e)):Tm(this,o),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var i=r.getTimelineOption(this);i&&(n=!0,this._mergeOption(i,e))}if(!t||"recreate"===t||"media"===t){var a=r.getMediaOption(this);a.length&&At(a,(function(t){n=!0,this._mergeOption(t,e)}),this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,r=this._componentsMap,o=this._componentsCount,i=[],a=ae(),u=e&&e.replaceMergeMainTypeMap;function s(e){var i=Sm(this,e,Yi(t[e])),a=r.get(e),s=a?u&&u.get(e)?"replaceMerge":"normalMerge":"replaceAll",c=Ji(a,i,s);fa(c,e,Qp),n[e]=null,r.set(e,null),o.set(e,0);var l=[],f=[],d=0;At(c,(function(t,n){var r=t.existing,o=t.newOption;if(o){var i=Qp.getClass(e,t.keyInfo.subType,!0);if(r&&r.constructor===i)r.name=t.keyInfo.name,r.mergeOption(o,this),r.optionUpdated(o,!1);else{var a=xt({componentIndex:n},t.keyInfo);r=new i(o,this,this,a),xt(r,a),t.brandNew&&(r.__requireNewView=!0),r.init(o,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(l.push(r.option),f.push(r),d++):(l.push(void 0),f.push(void 0))}),this),n[e]=l,r.set(e,f),o.set(e,d),"series"===e&&Cm(this)}pm(this),At(t,(function(t,e){null!=t&&(Qp.hasClass(e)?e&&(i.push(e),a.set(e,!0)):n[e]=null==n[e]?vt(t):yt(n[e],t,!0))})),u&&u.each((function(t,e){Qp.hasClass(e)&&!a.get(e)&&(i.push(e),a.set(e,!0))})),Qp.topologicalTravel(i,Qp.getAllClassMainTypes(),s,this),this._seriesIndices||Cm(this)},e.prototype.getOption=function(){var t=vt(this.option);return At(t,(function(e,n){if(Qp.hasClass(n)){for(var r=Yi(e),o=r.length,i=!1,a=o-1;a>=0;a--)r[a]&&!ca(r[a])?i=!0:(r[a]=null,!i&&o--);r.length=o,t[n]=r}})),delete t[Nm],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.getLocale=function(t){var e=this.getLocaleModel();return e.get(t)},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var r=n[e||0];if(r)return r;if(null==e)for(var o=0;o<n.length;o++)if(n[o])return n[o]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,o=t.id,i=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=r?(n=[],At(Yi(r),(function(t){a[t]&&n.push(a[t])}))):n=null!=o?Vm("id",o,a):null!=i?Vm("name",i,a):Dt(a,(function(t){return!!t})),Fm(n,t)):[]},e.prototype.findComponents=function(t){var e=t.query,n=t.mainType,r=i(e),o=r?this.queryComponents(r):Dt(this._componentsMap.get(n),(function(t){return!!t}));return a(Fm(o,t));function i(t){var e=n+"Index",r=n+"Id",o=n+"Name";return!t||null==t[e]&&null==t[r]&&null==t[o]?null:{mainType:n,index:t[e],id:t[r],name:t[o]}}function a(e){return t.filter?Dt(e,t.filter):e}},e.prototype.eachComponent=function(t,e,n){var r=this._componentsMap;if(Bt(t)){var o=e,i=t;r.each((function(t,e){for(var n=0;t&&n<t.length;n++){var r=t[n];r&&i.call(o,e,r,r.componentIndex)}}))}else for(var a=zt(t)?r.get(t):jt(t)?this.findComponents(t):null,u=0;a&&u<a.length;u++){var s=a[u];s&&e.call(n,s,s.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=ua(t,null);return Dt(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Dt(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return Dt(this._componentsMap.get("series").slice(),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){km(this),At(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)}),this)},e.prototype.eachRawSeries=function(t,e){At(this._componentsMap.get("series"),(function(n){n&&t.call(e,n,n.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,n){km(this),At(this._seriesIndices,(function(r){var o=this._componentsMap.get("series")[r];o.subType===t&&e.call(n,o,r)}),this)},e.prototype.eachRawSeriesByType=function(t,e,n){return At(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return km(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){km(this);var n=[];At(this._seriesIndices,(function(r){var o=this._componentsMap.get("series")[r];t.call(e,o,r)&&n.push(r)}),this),this._seriesIndices=n,this._seriesIndicesMap=ae(n)},e.prototype.restoreData=function(t){Cm(this);var e=this._componentsMap,n=[];e.each((function(t,e){Qp.hasClass(e)&&n.push(e)})),Qp.topologicalTravel(n,Qp.getAllClassMainTypes(),(function(n){At(e.get(n),(function(e){!e||"series"===n&&Bm(e,t)||e.restoreData()}))}))},e.internalField=function(){Cm=function(t){var e=t._seriesIndices=[];At(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=ae(e)},km=function(t){0},Tm=function(t,e){t.option={},t.option[Nm]=Pm,t._componentsMap=ae({series:[]}),t._componentsCount=ae();var n=e.aria;jt(n)&&null==n.enabled&&(n.enabled=!0),zm(e,t._theme.option),yt(e,nm,!1),t._mergeOption(e,null)}}(),e}(Ah);function Bm(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,o=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=o&&t.name!==o}}function zm(t,e){var n=t.color&&!t.colorLayer;At(e,(function(e,r){"colorLayer"===r&&n||Qp.hasClass(r)||("object"===typeof e?t[r]=t[r]?yt(t[r],e,!1):vt(e):null==t[r]&&(t[r]=e))}))}function Vm(t,e,n){if(Lt(e)){var r=ae();return At(e,(function(t){if(null!=t){var e=ua(t,null);null!=e&&r.set(t,!0)}})),Dt(n,(function(e){return e&&r.get(e[t])}))}var o=ua(e,null);return Dt(n,(function(e){return e&&null!=o&&e[t]===o}))}function Fm(t,e){return e.hasOwnProperty("subType")?Dt(t,(function(t){return t&&t.subType===e.subType})):t}function jm(t){var e=ae();return t&&At(Yi(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}kt(Lm,Mm);var Hm=Lm,Um=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Wm=function(){function t(t){At(Um,(function(e){this[e]=Nt(t[e],t)}),this)}return t}(),Gm=Wm,qm={},Ym=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];At(qm,(function(r,o){var i=r.create(t,e);n=n.concat(i||[])})),this._coordinateSystems=n},t.prototype.update=function(t,e){At(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){qm[t]=e},t.get=function(t){return qm[t]},t}(),Xm=Ym,Zm=/^(min|max)?(.+)$/,$m=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(At(Yi(t.series),(function(t){t&&t.data&&Ut(t.data)&&re(t.data)})),At(Yi(t.dataset),(function(t){t&&t.source&&Ut(t.source)&&re(t.source)}))),t=vt(t);var r=this._optionBackup,o=Km(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],vt(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=vt(n[r.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,i=[],a=[];if(!r.length&&!o)return a;for(var u=0,s=r.length;u<s;u++)Jm(r[u].query,e,n)&&i.push(u);return!i.length&&o&&(i=[-1]),i.length&&!tg(i,this._currentMediaIndices)&&(a=Ot(i,(function(t){return vt(-1===t?o.option:r[t].option)}))),this._currentMediaIndices=i,a},t}();function Km(t,e,n){var r,o,i=[],a=t.baseOption,u=t.timeline,s=t.options,c=t.media,l=!!t.media,f=!!(s||u||a&&a.timeline);function d(t){At(e,(function(e){e(t,n)}))}return a?(o=a,o.timeline||(o.timeline=u)):((f||l)&&(t.options=t.media=null),o=t),l&&Lt(c)&&At(c,(function(t){t&&t.option&&(t.query?i.push(t):r||(r=t))})),d(o),At(s,(function(t){return d(t)})),At(i,(function(t){return d(t.option)})),{baseOption:o,timelineOptions:s||[],mediaDefault:r,mediaList:i}}function Jm(t,e,n){var r={width:e,height:n,aspectratio:e/n},o=!0;return At(t,(function(t,e){var n=e.match(Zm);if(n&&n[1]&&n[2]){var i=n[1],a=n[2].toLowerCase();Qm(r[a],t,i)||(o=!1)}})),o}function Qm(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e}function tg(t,e){return t.join(",")===e.join(",")}var eg=$m,ng=At,rg=jt,og=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ig(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=og.length;n<r;n++){var o=og[n],i=e.normal,a=e.emphasis;i&&i[o]&&(t[o]=t[o]||{},t[o].normal?yt(t[o].normal,i[o]):t[o].normal=i[o],i[o]=null),a&&a[o]&&(t[o]=t[o]||{},t[o].emphasis?yt(t[o].emphasis,a[o]):t[o].emphasis=a[o],a[o]=null)}}function ag(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,o=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,wt(t[e],r)):t[e]=r),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o,o.focus&&(t.emphasis.focus=o.focus),o.blurScope&&(t.emphasis.blurScope=o.blurScope))}}function ug(t){ag(t,"itemStyle"),ag(t,"lineStyle"),ag(t,"areaStyle"),ag(t,"label"),ag(t,"labelLine"),ag(t,"upperLabel"),ag(t,"edgeLabel")}function sg(t,e){var n=rg(t)&&t[e],r=rg(n)&&n.textStyle;if(r){0;for(var o=0,i=Zi.length;o<i;o++){var a=Zi[o];r.hasOwnProperty(a)&&(n[a]=r[a])}}}function cg(t){t&&(ug(t),sg(t,"label"),t.emphasis&&sg(t.emphasis,"label"))}function lg(t){if(rg(t)){ig(t),ug(t),sg(t,"label"),sg(t,"upperLabel"),sg(t,"edgeLabel"),t.emphasis&&(sg(t.emphasis,"label"),sg(t.emphasis,"upperLabel"),sg(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(ig(e),cg(e));var n=t.markLine;n&&(ig(n),cg(n));var r=t.markArea;r&&cg(r);var o=t.data;if("graph"===t.type){o=o||t.nodes;var i=t.links||t.edges;if(i&&!Ut(i))for(var a=0;a<i.length;a++)cg(i[a]);At(t.categories,(function(t){ug(t)}))}if(o&&!Ut(o))for(a=0;a<o.length;a++)cg(o[a]);if(e=t.markPoint,e&&e.data){var u=e.data;for(a=0;a<u.length;a++)cg(u[a])}if(n=t.markLine,n&&n.data){var s=n.data;for(a=0;a<s.length;a++)Lt(s[a])?(cg(s[a][0]),cg(s[a][1])):cg(s[a])}"gauge"===t.type?(sg(t,"axisLabel"),sg(t,"title"),sg(t,"detail")):"treemap"===t.type?(ag(t.breadcrumb,"itemStyle"),At(t.levels,(function(t){ug(t)}))):"tree"===t.type&&ug(t.leaves)}}function fg(t){return Lt(t)?t:t?[t]:[]}function dg(t){return(Lt(t)?t[0]:t)||{}}function hg(t,e){ng(fg(t.series),(function(t){rg(t)&&lg(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),ng(n,(function(e){ng(fg(t[e]),(function(t){t&&(sg(t,"axisLabel"),sg(t.axisPointer,"label"))}))})),ng(fg(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;sg(e,"axisLabel"),sg(e&&e.axisPointer,"label")})),ng(fg(t.calendar),(function(t){ag(t,"itemStyle"),sg(t,"dayLabel"),sg(t,"monthLabel"),sg(t,"yearLabel")})),ng(fg(t.radar),(function(t){sg(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),ng(fg(t.geo),(function(t){rg(t)&&(cg(t),ng(fg(t.regions),(function(t){cg(t)})))})),ng(fg(t.timeline),(function(t){cg(t),ag(t,"label"),ag(t,"itemStyle"),ag(t,"controlStyle",!0);var e=t.data;Lt(e)&&At(e,(function(t){jt(t)&&(ag(t,"label"),ag(t,"itemStyle"))}))})),ng(fg(t.toolbox),(function(t){ag(t,"iconStyle"),ng(t.feature,(function(t){ag(t,"iconStyle")}))})),sg(dg(t.axisPointer),"label"),sg(dg(t.tooltip).axisPointer,"label")}function pg(t,e){for(var n=e.split(","),r=t,o=0;o<n.length;o++)if(r=r&&r[n[o]],null==r)break;return r}function mg(t,e,n,r){for(var o,i=e.split(","),a=t,u=0;u<i.length-1;u++)o=i[u],null==a[o]&&(a[o]={}),a=a[o];(r||null==a[i[u]])&&(a[i[u]]=n)}function gg(t){t&&At(vg,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var vg=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],yg=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],bg=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function xg(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<bg.length;n++){var r=bg[n][1],o=bg[n][0];null!=e[r]&&(e[o]=e[r])}}function wg(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function _g(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function Sg(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}function Cg(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&Cg(t[n].children,e)}function kg(t,e){hg(t,e),t.series=Yi(t.series),At(t.series,(function(t){if(jt(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){null!=t.clockWise&&(t.clockwise=t.clockWise),wg(t.label);var n=t.data;if(n&&!Ut(n))for(var r=0;r<n.length;r++)wg(n[r]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var o=pg(t,"pointer.color");null!=o&&mg(t,"itemStyle.color",o)}else if("bar"===e){xg(t),xg(t.backgroundStyle),xg(t.emphasis);n=t.data;if(n&&!Ut(n))for(r=0;r<n.length;r++)"object"===typeof n[r]&&(xg(n[r]),xg(n[r]&&n[r].emphasis))}else if("sunburst"===e){var i=t.highlightPolicy;i&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=i)),_g(t),Cg(t.data,_g)}else"graph"===e||"sankey"===e?Sg(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&wt(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),gg(t)}})),t.dataRange&&(t.visualMap=t.dataRange),At(yg,(function(e){var n=t[e];n&&(Lt(n)||(n=[n]),At(n,(function(t){gg(t)})))}))}function Tg(t){var e=ae();t.eachSeries((function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),o=t.getData(),i={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!i.stackedDimension||!i.isStackedByIndex&&!i.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(i)}})),e.each(Ag)}function Ag(t){At(t,(function(e,n){var r=[],o=[NaN,NaN],i=[e.stackResultDimension,e.stackedOverDimension],a=e.data,u=e.isStackedByIndex,s=a.map(i,(function(i,s,c){var l,f,d=a.get(e.stackedDimension,c);if(isNaN(d))return o;u?f=a.getRawIndex(c):l=a.get(e.stackedByDimension,c);for(var h=NaN,p=n-1;p>=0;p--){var m=t[p];if(u||(f=m.data.rawIndexOf(m.stackedByDimension,l)),f>=0){var g=m.data.getByRawIndex(m.stackResultDimension,f);if(d>=0&&g>0||d<=0&&g<0){d+=g,h=g;break}}}return r[0]=d,r[1]=h,r}));a.hostModel.setData(s),e.data=s}))}var Og,Mg,Dg,Ig,Eg,Rg=function(){function t(t){this.data=t.data||(t.sourceFormat===um?{}:[]),this.sourceFormat=t.sourceFormat||cm,this.seriesLayoutBy=t.seriesLayoutBy||lm,this.startIndex=t.startIndex||0,this.dimensionsDefine=t.dimensionsDefine,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.encodeDefine=t.encodeDefine,this.metaRawOption=t.metaRawOption}return t}();function Ng(t){return t instanceof Rg}function Pg(t,e,n,r){n=n||Vg(t);var o=e.seriesLayoutBy,i=Fg(t,n,o,e.sourceHeader,e.dimensions),a=new Rg({data:t,sourceFormat:n,seriesLayoutBy:o,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,encodeDefine:zg(r),metaRawOption:vt(e)});return a}function Lg(t){return new Rg({data:t,sourceFormat:Ut(t)?sm:om})}function Bg(t){return new Rg({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:vt(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount,encodeDefine:zg(t.encodeDefine)})}function zg(t){return t?ae(t):null}function Vg(t){var e=cm;if(Ut(t))e=sm;else if(Lt(t)){0===t.length&&(e=im);for(var n=0,r=t.length;n<r;n++){var o=t[n];if(null!=o){if(Lt(o)){e=im;break}if(jt(o)){e=am;break}}}}else if(jt(t))for(var i in t)if(ce(t,i)&&Tt(t[i])){e=um;break}return e}function Fg(t,e,n,r,o){var i,a;if(!t)return{dimensionsDefine:Hg(o),startIndex:a,dimensionsDetectedCount:i};if(e===im){var u=t;"auto"===r||null==r?Ug((function(t){null!=t&&"-"!==t&&(zt(t)?null==a&&(a=1):a=0)}),n,u,10):a=Ft(r)?r:r?1:0,o||1!==a||(o=[],Ug((function(t,e){o[e]=null!=t?t+"":""}),n,u,1/0)),i=o?o.length:n===fm?u.length:u[0]?u[0].length:null}else if(e===am)o||(o=jg(t));else if(e===um)o||(o=[],At(t,(function(t,e){o.push(e)})));else if(e===om){var s=$i(t[0]);i=Lt(s)&&s.length||1}return{startIndex:a,dimensionsDefine:Hg(o),dimensionsDetectedCount:i}}function jg(t){var e,n=0;while(n<t.length&&!(e=t[n++]));if(e){var r=[];return At(e,(function(t,e){r.push(e)})),r}}function Hg(t){if(t){var e=ae();return Ot(t,(function(t,n){t=jt(t)?t:{name:t};var r={name:t.name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r}))}}function Ug(t,e,n,r){if(e===fm)for(var o=0;o<n.length&&o<r;o++)t(n[o]?n[o][0]:null,o);else{var i=n[0]||[];for(o=0;o<i.length&&o<r;o++)t(i[o],o)}}var Wg=function(){function t(t,e){var n=Ng(t)?t:Lg(t);this._source=n;var r=this._data=n.data;n.sourceFormat===sm&&(this._offset=0,this._dimSize=e,this._data=r),Eg(this,r,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;Eg=function(t,o,i){var a=i.sourceFormat,u=i.seriesLayoutBy,s=i.startIndex,c=i.dimensionsDefine,l=Ig[tv(a,u)];if(xt(t,l),a===sm)t.getItem=e,t.count=r,t.fillStorage=n;else{var f=Yg(a,u);t.getItem=Nt(f,null,o,s,c);var d=$g(a,u);t.count=Nt(d,null,o,s,c)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,r=this._dimSize,o=r*t,i=0;i<r;i++)e[i]=n[o+i];return e},n=function(t,e,n,r){for(var o=this._data,i=this._dimSize,a=0;a<i;a++){for(var u=r[a],s=null==u[0]?1/0:u[0],c=null==u[1]?-1/0:u[1],l=e-t,f=n[a],d=0;d<l;d++){var h=o[d*i+a];f[t+d]=h,h<s&&(s=h),h>c&&(c=h)}u[0]=s,u[1]=c}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}t={},t[im+"_"+lm]={pure:!0,appendData:o},t[im+"_"+fm]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[am]={pure:!0,appendData:o},t[um]={pure:!0,appendData:function(t){var e=this._data;At(t,(function(t,n){for(var r=e[n]||(e[n]=[]),o=0;o<(t||[]).length;o++)r.push(t[o])}))}},t[om]={appendData:o},t[sm]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},Ig=t}(),t}(),Gg=function(t,e,n,r){return t[r]},qg=(Og={},Og[im+"_"+lm]=function(t,e,n,r){return t[r+e]},Og[im+"_"+fm]=function(t,e,n,r){r+=e;for(var o=[],i=t,a=0;a<i.length;a++){var u=i[a];o.push(u?u[r]:null)}return o},Og[am]=Gg,Og[um]=function(t,e,n,r){for(var o=[],i=0;i<n.length;i++){var a=n[i].name;0;var u=t[a];o.push(u?u[r]:null)}return o},Og[om]=Gg,Og);function Yg(t,e){var n=qg[tv(t,e)];return n}var Xg=function(t,e,n){return t.length},Zg=(Mg={},Mg[im+"_"+lm]=function(t,e,n){return Math.max(0,t.length-e)},Mg[im+"_"+fm]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},Mg[am]=Xg,Mg[um]=function(t,e,n){var r=n[0].name;var o=t[r];return o?o.length:0},Mg[om]=Xg,Mg);function $g(t,e){var n=Zg[tv(t,e)];return n}var Kg=function(t,e,n){return null!=e?t[e]:t},Jg=(Dg={},Dg[im]=Kg,Dg[am]=function(t,e,n){return null!=e?t[n]:t},Dg[um]=Kg,Dg[om]=function(t,e,n){var r=$i(t);return null!=e&&r instanceof Array?r[e]:r},Dg[sm]=Kg,Dg);function Qg(t){var e=Jg[t];return e}function tv(t,e){return t===im?t+"_"+e:t}function ev(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var o,i,a=t.getProvider().getSource().sourceFormat,u=t.getDimensionInfo(n);return u&&(o=u.name,i=u.index),Qg(a)(r,i,o)}}}var nv=/\{@(.+?)\}/g,rv=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),o=n.getRawIndex(t),i=n.getName(t),a=n.getRawDataItem(t),u=n.getItemVisual(t,"style"),s=u&&u[n.getItemVisual(t,"drawType")||"fill"],c=u&&u.stroke,l=this.mainType,f="series"===l,d=n.userOutput;return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:i,dataIndex:o,data:a,dataType:e,value:r,color:s,borderColor:c,dimensionNames:d?d.dimensionNames:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,r,o,i){e=e||"normal";var a=this.getData(n),u=this.getDataParams(t,n);if(i&&(u.value=i.interpolatedValue),null!=r&&Lt(u.value)&&(u.value=u.value[r]),!o){var s=a.getItemModel(t);o=s.get("normal"===e?["label","formatter"]:[e,"label","formatter"])}if("function"===typeof o)return u.status=e,u.dimensionIndex=r,o(u);if("string"===typeof o){var c=Ep(o,u);return c.replace(nv,(function(e,n){var r=n.length,o="["===n.charAt(0)&&"]"===n.charAt(r-1)?+n.slice(1,r-1):n,u=ev(a,t,o);if(i&&Lt(i.interpolatedValue)){var s=a.getDimensionInfo(o);s&&(u=i.interpolatedValue[s.index])}return null!=u?u+"":""}))}},t.prototype.getRawValue=function(t,e){return ev(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function ov(t){var e,n;return jt(t)?t.type&&(n=t):e=t,{markupText:e,markupFragment:n}}function iv(t){return new av(t)}var av=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var i,a=l(this._modBy),u=this._modDataCount||0,s=l(t&&t.modBy),c=t&&t.modDataCount||0;function l(t){return!(t>=1)&&(t=1),t}a===s&&u===c||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,i=this._doReset(r)),this._modBy=s,this._modDataCount=c;var f=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,h=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(i||d<h)){var p=this._progress;if(Lt(p))for(var m=0;m<p.length;m++)this._doProgress(p[m],d,h,s,c);else this._doProgress(p,d,h,s,c)}this._dueIndex=h;var g=null!=this._settedOutputEnd?this._settedOutputEnd:h;0,this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,r,o){uv.reset(e,n,r,o),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:uv.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Lt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),uv=function(){var t,e,n,r,o,i={reset:function(s,c,l,f){e=s,t=c,n=l,r=f,o=Math.ceil(r/n),i.next=n>1&&r>0?u:a}};return i;function a(){return e<t?e++:null}function u(){var i=e%o*n+Math.ceil(e/o),a=e>=t?null:i<r?i:e;return e++,a}}();"undefined"!==typeof console&&console.warn&&console.log;function sv(t){0}function cv(t){throw new Error(t)}function lv(t,e){var n=e&&e.type;if("ordinal"===n){var r=e&&e.ordinalMeta;return r?r.parseAndCollect(t):t}return"time"===n&&"number"!==typeof t&&null!=t&&"-"!==t&&(t=+Ni(t)),null==t||""===t?NaN:+t}var fv=ae({number:function(t){return parseFloat(t)},time:function(t){return+Ni(t)},trim:function(t){return"string"===typeof t?ee(t):t}});function dv(t){return fv.get(t)}var hv={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},pv=function(){function t(t,e){if("number"!==typeof e){var n="";0,cv(n)}this._opFn=hv[t],this._rvalFloat=Fi(e)}return t.prototype.evaluate=function(t){return"number"===typeof t?this._opFn(t,this._rvalFloat):this._opFn(Fi(t),this._rvalFloat)},t}(),mv=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=typeof t,r=typeof e,o="number"===n?t:Fi(t),i="number"===r?e:Fi(e),a=isNaN(o),u=isNaN(i);if(a&&(o=this._incomparable),u&&(i=this._incomparable),a&&u){var s="string"===n,c="string"===r;s&&(o=c?t:0),c&&(i=s?e:0)}return o<i?this._resultLT:o>i?-this._resultLT:0},t}(),gv=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Fi(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=Fi(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function vv(t,e){return"eq"===t||"ne"===t?new gv("eq"===t,e):ce(hv,t)?new pv(t,e):null}var yv=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return lv(t,e)},t}();function bv(t,e){var n=new yv,r=t.data,o=n.sourceFormat=t.sourceFormat,i=t.startIndex,a="";t.seriesLayoutBy!==lm&&cv(a);var u=[],s={},c=t.dimensionsDefine;if(c)At(c,(function(t,e){var n=t.name,r={index:e,name:n,displayName:t.displayName};if(u.push(r),null!=n){var o="";ce(s,n)&&cv(o),s[n]=r}}));else for(var l=0;l<t.dimensionsDetectedCount;l++)u.push({index:l});var f=Yg(o,lm);e.__isBuiltIn&&(n.getRawDataItem=function(t){return f(r,i,u,t)},n.getRawData=Nt(xv,null,t)),n.cloneRawData=Nt(wv,null,t);var d=$g(o,lm);n.count=Nt(d,null,r,i,u);var h=Qg(o);n.retrieveValue=function(t,e){var n=f(r,i,u,t);return p(n,e)};var p=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=u[e];return n?h(t,e,n.name):void 0}};return n.getDimensionInfo=Nt(_v,null,u,s),n.cloneAllDimensionInfo=Nt(Sv,null,u),n}function xv(t){var e=t.sourceFormat;if(!Ov(e)){var n="";0,cv(n)}return t.data}function wv(t){var e=t.sourceFormat,n=t.data;if(!Ov(e)){var r="";0,cv(r)}if(e===im){for(var o=[],i=0,a=n.length;i<a;i++)o.push(n[i].slice());return o}if(e===am){for(o=[],i=0,a=n.length;i<a;i++)o.push(xt({},n[i]));return o}}function _v(t,e,n){if(null!=n)return"number"===typeof n||!isNaN(n)&&!ce(e,n)?t[n]:ce(e,n)?e[n]:void 0}function Sv(t){return vt(t)}var Cv=ae();function kv(t){t=vt(t);var e=t.type,n="";e||cv(n);var r=e.split(":");2!==r.length&&cv(n);var o=!1;"echarts"===r[0]&&(e=r[1],o=!0),t.__isBuiltIn=o,Cv.set(e,t)}function Tv(t,e,n){var r=Yi(t),o=r.length,i="";o||cv(i);for(var a=0,u=o;a<u;a++){var s=r[a];e=Av(s,e,n,1===o?null:a),a!==u-1&&(e.length=Math.max(e.length,1))}return e}function Av(t,e,n,r){var o="";e.length||cv(o),jt(t)||cv(o);var i=t.type,a=Cv.get(i);a||cv(o);var u=Ot(e,(function(t){return bv(t,a)})),s=Yi(a.transform({upstream:u[0],upstreamList:u,config:vt(t.config)}));return Ot(s,(function(t,n){var r="";jt(t)||cv(r),t.data||cv(r);var o,i=Vg(t.data);Ov(i)||cv(r);var a=e[0];if(a&&0===n&&!t.dimensions){var u=a.startIndex;u&&(t.data=a.data.slice(0,u).concat(t.data)),o={seriesLayoutBy:lm,sourceHeader:u,dimensions:a.metaRawOption.dimensions}}else o={seriesLayoutBy:lm,sourceHeader:0,dimensions:t.dimensions};return Pg(t.data,o,null,null)}))}function Ov(t){return t===im||t===am}var Mv=function(){function t(t){this._sourceList=[],this._upstreamSignList=[],this._versionSignBase=0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[])},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&this._createSource()},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(Iv(n)){var i=n,a=void 0,u=void 0,s=void 0;if(o){var c=r[0];c.prepareSource(),s=c.getSource(),a=s.data,u=s.sourceFormat,e=[c._getVersionSign()]}else a=i.get("data",!0),u=Ut(a)?sm:om,e=[];var l=this._getSourceMetaRawOption(),f=s?s.metaRawOption:null,d=$t(l.seriesLayoutBy,f?f.seriesLayoutBy:null),h=$t(l.sourceHeader,f?f.sourceHeader:null),p=$t(l.dimensions,f?f.dimensions:null);t=[Pg(a,{seriesLayoutBy:d,sourceHeader:h,dimensions:p},u,i.get("encode",!0))]}else{var m=n;if(o){var g=this._applyTransform(r);t=g.sourceList,e=g.upstreamSignList}else{var v=m.get("source",!0);t=[Pg(v,this._getSourceMetaRawOption(),null,null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,r=n.get("transform",!0),o=n.get("fromTransformResult",!0);if(null!=o){var i="";1!==t.length&&Ev(i)}var a=[],u=[];return At(t,(function(t){t.prepareSource();var e=t.getSource(o||0),n="";null==o||e||Ev(n),a.push(e),u.push(t._getVersionSign())})),r?e=Tv(r,a,{datasetIndex:n.componentIndex}):null!=o&&(e=[Bg(a[0])]),{sourceList:e,upstreamSignList:u}},t.prototype._isDirty=function(){var t=this._sourceList;if(!t.length)return!0;for(var e=this._getUpstreamSourceManagers(),n=0;n<e.length;n++){var r=e[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},t.prototype.getSource=function(t){return this._sourceList[t||0]},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Iv(t)){var e=vm(t);return e?[e.getSourceManager()]:[]}return Ot(ym(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if(Iv(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),n=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function Dv(t){var e=t.option.transform;e&&re(t.option.transform)}function Iv(t){return"series"===t.mainType}function Ev(t){throw new Error(t)}var Rv="line-height:1";function Nv(t,e){var n=t.color||"#6e7079",r=t.fontSize||12,o=t.fontWeight||"400",i=t.color||"#464646",a=t.fontSize||14,u=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+r+"px;color:"+n+";font-weight:"+o,valueStyle:"font-size:"+a+"px;color:"+i+";font-weight:"+u}:{nameStyle:{fontSize:r,fill:n,fontWeight:o},valueStyle:{fontSize:a,fill:i,fontWeight:u}}}var Pv=[0,10,20,30],Lv=["","\n","\n\n","\n\n\n"];function Bv(t,e){return e.type=t,e}function zv(t){return ce(Vv,t.type)&&Vv[t.type]}var Vv={section:{planLayout:function(t){var e=t.blocks.length,n=e>1||e>0&&!t.noHeader,r=0;At(t.blocks,(function(t){zv(t).planLayout(t);var e=t.__gapLevelBetweenSubBlocks;e>=r&&(r=e+(!n||e&&("section"!==t.type||t.noHeader)?0:1))})),t.__gapLevelBetweenSubBlocks=r},build:function(t,e,n,r){var o=e.noHeader,i=Hv(e),a=Fv(t,e,o?n:i.html,r);if(o)return a;var u=Mp(e.header,"ordinal",t.useUTC),s=Nv(r,t.renderMode).nameStyle;return"richText"===t.renderMode?qv(t,u,s)+i.richText+a:Uv('<div style="'+s+";"+Rv+';">'+Op(u)+"</div>"+a,n)}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,n,r){var o=t.renderMode,i=e.noName,a=e.noValue,u=!e.markerType,s=e.name,c=e.value,l=t.useUTC;if(!i||!a){var f=u?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",o),d=i?"":Mp(s,"ordinal",l),h=e.valueType,p=a?[]:Lt(c)?Ot(c,(function(t,e){return Mp(t,Lt(h)?h[e]:h,l)})):[Mp(c,Lt(h)?h[0]:h,l)],m=!u||!i,g=!u&&i,v=Nv(r,o),y=v.nameStyle,b=v.valueStyle;return"richText"===o?(u?"":f)+(i?"":qv(t,d,y))+(a?"":Yv(t,p,m,g,b)):Uv((u?"":f)+(i?"":Wv(d,!u,y))+(a?"":Gv(p,m,g,b)),n)}}}};function Fv(t,e,n,r){var o=[],i=e.blocks||[];te(!i||Lt(i)),i=i||[];var a=t.orderMode;if(e.sortBlocks&&a){i=i.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(ce(u,a)){var s=new mv(u[a],null);i.sort((function(t,e){return s.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===a&&i.reverse()}var c=Hv(e);if(At(i,(function(e,n){var i=zv(e).build(t,e,n>0?c.html:0,r);null!=i&&o.push(i)})),o.length)return"richText"===t.renderMode?o.join(c.richText):Uv(o.join(""),n)}function jv(t,e,n,r,o,i){if(t){var a=zv(t);a.planLayout(t);var u={useUTC:o,renderMode:n,orderMode:r,markupStyleCreator:e};return a.build(u,t,0,i)}}function Hv(t){var e=t.__gapLevelBetweenSubBlocks;return{html:Pv[e],richText:Lv[e]}}function Uv(t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+Rv+';">'+t+n+"</div>"}function Wv(t,e,n){var r=e?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+Op(t)+"</span>"}function Gv(t,e,n,r){var o=n?"10px":"20px",i=e?"float:right;margin-left:"+o:"";return'<span style="'+i+";"+r+'">'+Ot(t,(function(t){return Op(t)})).join("&nbsp;&nbsp;")+"</span>"}function qv(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function Yv(t,e,n,r,o){var i=[o],a=r?10:20;return n&&i.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(e.join("  "),i)}function Xv(t,e){var n=t.getData().getItemVisual(e,"style"),r=n[t.visualDrawType];return Pp(r)}function Zv(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var $v=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Hi()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var r="richText"===n?this._generateStyleName():null,o=Np({color:e,type:t,renderMode:n,markerId:r});return zt(o)?o:(this.richTextStyles[r]=o.style,o.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};Lt(e)?At(e,(function(t){return xt(n,t)})):xt(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},t}();function Kv(t){var e,n,r,o,i=t.series,a=t.dataIndex,u=t.multipleSeries,s=i.getData(),c=s.mapDimensionsAll("defaultedTooltip"),l=c.length,f=i.getRawValue(a),d=Lt(f),h=Xv(i,a);if(l>1||d&&!l){var p=Jv(f,i,a,c,h);e=p.inlineValues,n=p.inlineValueTypes,r=p.blocks,o=p.inlineValues[0]}else if(l){var m=s.getDimensionInfo(c[0]);o=e=ev(s,a,c[0]),n=m.type}else o=e=d?f[0]:f;var g=sa(i),v=g&&i.name||"",y=s.getName(a),b=u?v:y;return Bv("section",{header:v,noHeader:u||!g,sortParam:o,blocks:[Bv("nameValue",{markerType:"item",markerColor:h,name:b,noName:!ee(b),value:e,valueType:n})].concat(r||[])})}function Jv(t,e,n,r,o){var i=e.getData(),a=Mt(t,(function(t,e,n){var r=i.getDimensionInfo(n);return t||r&&!1!==r.tooltip&&null!=r.displayName}),!1),u=[],s=[],c=[];function l(t,e){var n=i.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(a?c.push(Bv("nameValue",{markerType:"subItem",markerColor:o,name:n.displayName,value:t,valueType:n.type})):(u.push(t),s.push(n.type)))}return r.length?At(r,(function(t){l(ev(i,n,t),t)})):At(t,l),{inlineValues:u,inlineValueTypes:s,blocks:c}}var Qv=ma();function ty(t,e){return t.getName(e)||t.getId(e)}var ey=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return Z(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=iv({count:oy,reset:iy}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n);var r=Qv(this).sourceManager=new Mv(this);r.prepareSource();var o=this.getInitialData(t,n);uy(o,this),this.dataTask.context.data=o,Qv(this).dataBeforeProcessed=o,ny(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=qp(this),r=n?Xp(t):{},o=this.subType;Qp.hasClass(o)&&(o+="Series"),yt(t,e.getTheme().get(this.subType)),yt(t,this.getDefaultOption()),Xi(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&Yp(t,r,n)},e.prototype.mergeOption=function(t,e){t=yt(this.option,t,!0),this.fillDataTextStyle(t.data);var n=qp(this);n&&Yp(this.option,t,n);var r=Qv(this).sourceManager;r.dirty(),r.prepareSource();var o=this.getInitialData(t,e);uy(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Qv(this).dataBeforeProcessed=o,ny(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!Ut(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&Xi(t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){var e=this.getRawData();e.appendData(t.data)},e.prototype.getData=function(t){var e=cy(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return Qv(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=cy(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}Qv(this).data=t},e.prototype.getSource=function(){return Qv(this).sourceManager.getSource()},e.prototype.getRawData=function(){return Qv(this).dataBeforeProcessed},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return Kv({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){if(nt.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var r=this.ecModel,o=Mm.prototype.getColorFromPalette.call(this,t,e,n);return o||(o=r.getColorFromPalette(t,e,n)),o},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n)for(var r=this.getData(e),o=0;o<t.length;o++){var i=t[o],a=ty(r,i);n[a]=!1,this._selectedDataIndicesMap[a]=-1}},e.prototype.toggleSelect=function(t,e){for(var n=[],r=0;r<t.length;r++)n[0]=t[r],this.isSelected(t[r],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,e=Et(t),n=[],r=0;r<e.length;r++){var o=t[e[r]];o>=0&&n.push(o)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(e),o=ty(r,t);return n[o]||!1},e.prototype._innerSelect=function(t,e){var n,r,o=this.option.selectedMode,i=e.length;if(o&&i)if("multiple"===o)for(var a=this.option.selectedMap||(this.option.selectedMap={}),u=0;u<i;u++){var s=e[u],c=ty(t,s);a[c]=!0,this._selectedDataIndicesMap[c]=t.getRawIndex(s)}else if("single"===o||!0===o){var l=e[i-1];c=ty(t,l);this.option.selectedMap=(n={},n[c]=!0,n),this._selectedDataIndicesMap=(r={},r[c]=t.getRawIndex(l),r)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(n){var r=t.getRawDataItem(n);"object"===typeof r&&r.selected&&e.push(n)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return Qp.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.useColorPaletteOnData=!1,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Qp);function ny(t){var e=t.name;sa(t)||(t.name=ry(t)||e)}function ry(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return At(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)})),r.join(" ")}function oy(t){return t.model.getRawData().count()}function iy(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),ay}function ay(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function uy(t,e){At(K(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(n){t.wrapMethod(n,Pt(sy,e))}))}function sy(t,e){var n=cy(t);return n&&n.setOutputEnd((e||this).count()),e}function cy(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var o=r.agentStubMap;o&&(r=o.get(t.uid))}return r}}kt(ey,rv),kt(ey,Mm),Na(ey,Qp);var ly=ey,fy=function(){function t(){this.group=new fi,this.uid=Mh("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){},t.prototype.updateLayout=function(t,e,n,r){},t.prototype.updateVisual=function(t,e,n,r){},t.prototype.blurSeries=function(t,e){},t}();Ea(fy),Va(fy);var dy=fy;function hy(){var t=ma();return function(e){var n=t(e),r=e.pipelineContext,o=!!n.large,i=!!n.progressiveRender,a=n.large=!(!r||!r.large),u=n.progressiveRender=!(!r||!r.progressiveRender);return!(o===a&&i===u)&&"reset"}}var py=ma(),my=hy(),gy=function(){function t(){this.group=new fi,this.uid=Mh("viewChart"),this.renderTask=iv({plan:by,reset:xy}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){},t.prototype.highlight=function(t,e,n,r){yy(t.getData(),r,"emphasis")},t.prototype.downplay=function(t,e,n,r){yy(t.getData(),r,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},t.markUpdateMethod=function(t,e){py(t).updateMethod=e},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function vy(t,e,n){t&&("emphasis"===e?hl:pl)(t,n)}function yy(t,e,n){var r=pa(t,e),o=e&&null!=e.highlightKey?Rl(e.highlightKey):null;null!=r?At(Yi(r),(function(e){vy(t.getItemGraphicEl(e),n,o)})):t.eachItemGraphicEl((function(t){vy(t,n,o)}))}function by(t){return my(t.model)}function xy(t){var e=t.model,n=t.ecModel,r=t.api,o=t.payload,i=e.pipelineContext.progressiveRender,a=t.view,u=o&&py(o).updateMethod,s=i?"incrementalPrepareRender":u&&a[u]?u:"render";return"render"!==s&&a[s](e,n,r,o),wy[s]}Ea(gy,["dispose"]),Va(gy);var wy={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},_y=gy,Sy="\0__throttleOriginMethod",Cy="\0__throttleRate",ky="\0__throttleType";function Ty(t,e,n){var r,o,i,a,u,s=0,c=0,l=null;function f(){c=(new Date).getTime(),l=null,t.apply(i,a||[])}e=e||0;var d=function(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];r=(new Date).getTime(),i=this,a=t;var h=u||e,p=u||n;u=null,o=r-(p?s:c)-h,clearTimeout(l),p?l=setTimeout(f,h):o>=0?f():l=setTimeout(f,-o),s=r};return d.clear=function(){l&&(clearTimeout(l),l=null)},d.debounceNextCall=function(t){u=t},d}function Ay(t,e,n,r){var o=t[e];if(o){var i=o[Sy]||o,a=o[ky],u=o[Cy];if(u!==n||a!==r){if(null==n||!r)return t[e]=i;o=t[e]=Ty(i,n,"debounce"===r),o[Sy]=i,o[ky]=r,o[Cy]=n}return o}}function Oy(t,e){var n=t[e];n&&n[Sy]&&(t[e]=n[Sy])}var My=ma(),Dy={itemStyle:Fa(Sh,!0),lineStyle:Fa(xh,!0)},Iy={lineStyle:"stroke",itemStyle:"fill"};function Ey(t,e){var n=t.visualStyleMapper||Dy[e];return n||(console.warn("Unkown style type '"+e+"'."),Dy.itemStyle)}function Ry(t,e){var n=t.visualDrawType||Iy[e];return n||(console.warn("Unkown style type '"+e+"'."),"fill")}var Ny={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",o=t.getModel(r),i=Ey(t,r),a=i(o),u=o.getShallow("decal");u&&(n.setVisual("decal",u),u.dirty=!0);var s=Ry(t,r),c=a[s],l=Bt(c)?c:null;if(a[s]&&!l||(a[s]=t.getColorFromPalette(t.name,null,e.getSeriesCount()),n.setVisual("colorFromPalette",!0)),n.setVisual("style",a),n.setVisual("drawType",s),!e.isSeriesFiltered(t)&&l)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var r=t.getDataParams(n),o=xt({},a);o[s]=l(r),e.setItemVisual(n,"style",o)}}}},Py=new Ah,Ly={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",o=Ey(t,r),i=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[r]){Py.option=n[r];var a=o(Py),u=t.ensureUniqueItemVisual(e,"style");xt(u,a),Py.option.decal&&(t.setItemVisual(e,"decal",Py.option.decal),Py.option.decal.dirty=!0),i in a&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},By={performRawSeries:!0,overallReset:function(t){var e=ae();t.eachSeries((function(t){if(t.useColorPaletteOnData){var n=e.get(t.type);n||(n={},e.set(t.type,n)),My(t).scope=n}})),t.eachSeries((function(e){if(e.useColorPaletteOnData&&!t.isSeriesFiltered(e)){var n=e.getRawData(),r={},o=e.getData(),i=My(e).scope,a=e.visualStyleAccessPath||"itemStyle",u=Ry(e,a);o.each((function(t){var e=o.getRawIndex(t);r[e]=t})),n.each((function(t){var a=r[t],s=o.getItemVisual(a,"colorFromPalette");if(s){var c=o.ensureUniqueItemVisual(a,"style"),l=n.getName(t)||t+"",f=n.count();c[u]=e.getColorFromPalette(l,i,f)}}))}}))}},zy=Math.PI;function Vy(t,e){e=e||{},wt(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new fi,r=new mc({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var o,i=new Mc({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily}}),a=new mc({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(a),e.showSpinner&&(o=new Qf({shape:{startAngle:-zy/2,endAngle:-zy/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:3*zy/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*zy/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var n=i.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,s=(t.getWidth()-2*u-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:u),c=t.getHeight()/2;e.showSpinner&&o.setShape({cx:s,cy:c}),a.setShape({x:s-u,y:c-u,width:2*u,height:2*u}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var Fy=function(){function t(t,e,n,r){this._stageTaskMap=ae(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,o=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex,i=o?n.step:null,a=r&&r.modDataCount,u=null!=a?Math.ceil(a/i):null;return{step:i,modBy:u,modDataCount:a}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData(),o=r.count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&o>=n.threshold,a=t.get("large")&&o>=t.get("largeThreshold"),u="mod"===t.get("progressiveChunkMode")?o:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:u,large:a}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=ae();t.eachSeries((function(t){var r=t.getProgressive(),o=t.uid;n.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;At(this._allHandlers,(function(r){var o=t.get(r.uid)||t.set(r.uid,{}),i="";te(!(r.reset&&r.overallReset),i),r.reset&&this._createSeriesStageTask(r,o,e,n),r.overallReset&&this._createOverallStageTask(r,o,e,n)}),this)},t.prototype.prepareView=function(t,e,n,r){var o=t.renderTask,i=o.context;i.model=e,i.ecModel=n,i.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,r){r=r||{};var o=!1,i=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}At(t,(function(t,u){if(!r.visualType||r.visualType===t.visualType){var s=i._stageTaskMap.get(t.uid),c=s.seriesTaskMap,l=s.overallTask;if(l){var f,d=l.agentStubMap;d.each((function(t){a(r,t)&&(t.dirty(),f=!0)})),f&&l.dirty(),i.updatePayload(l,n);var h=i.getPerformArgs(l,r.block);d.each((function(t){t.perform(h)})),l.perform(h)&&(o=!0)}else c&&c.each((function(u,s){a(r,u)&&u.dirty();var c=i.getPerformArgs(u,r.block);c.skip=!t.performRawSeries&&e.isSeriesFiltered(u.context.model),i.updatePayload(u,n),u.perform(c)&&(o=!0)}))}})),this.unfinished=o||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,r){var o=this,i=e.seriesTaskMap,a=e.seriesTaskMap=ae(),u=t.seriesType,s=t.getTargetSeries;function c(e){var u=e.uid,s=a.set(u,i&&i.get(u)||iv({plan:Gy,reset:qy,count:Zy}));s.context={model:e,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(e,s)}t.createOnAllSeries?n.eachRawSeries(c):u?n.eachRawSeriesByType(u,c):s&&s(n,r).each(c)},t.prototype._createOverallStageTask=function(t,e,n,r){var o=this,i=e.overallTask=e.overallTask||iv({reset:jy});i.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:o};var a=i.agentStubMap,u=i.agentStubMap=ae(),s=t.seriesType,c=t.getTargetSeries,l=!0,f=!1,d="";function h(t){var e=t.uid,n=u.set(e,a&&a.get(e)||(f=!0,iv({reset:Hy,onDirty:Wy})));n.context={model:t,overallProgress:l},n.agent=i,n.__block=l,o._pipe(t,n)}te(!t.createOnAllSeries,d),s?n.eachRawSeriesByType(s,h):c?c(n,r).each(h):(l=!1,At(n.getSeries(),h)),f&&i.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},t.wrapStageHandler=function(t,e){return Bt(t)&&(t={overallReset:t,seriesType:$y(t)}),t.uid=Mh("stageHandler"),e&&(t.visualType=e),t},t}();function jy(t){t.overallReset(t.ecModel,t.api,t.payload)}function Hy(t){return t.overallProgress&&Uy}function Uy(){this.agent.dirty(),this.getDownstream().dirty()}function Wy(){this.agent&&this.agent.dirty()}function Gy(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function qy(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Yi(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Ot(e,(function(t,e){return Xy(e)})):Yy}var Yy=Xy(0);function Xy(t){return function(e,n){var r=n.data,o=n.resetDefines[t];if(o&&o.dataEach)for(var i=e.start;i<e.end;i++)o.dataEach(r,i);else o&&o.progress&&o.progress(e,r)}}function Zy(t){return t.data.count()}function $y(t){Ky=null;try{t(Jy,Qy)}catch(e){}return Ky}var Ky,Jy={},Qy={};function tb(t,e){for(var n in e.prototype)t[n]=le}tb(Jy,Hm),tb(Qy,Gm),Jy.eachSeriesByType=Jy.eachRawSeriesByType=function(t){Ky=t},Jy.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Ky=t.subType)};var eb=Fy,nb=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],rb={color:nb,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],nb]},ob="#B9B8CE",ib="#100C2A",ab=function(){return{axisLine:{lineStyle:{color:ob}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},ub=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],sb={darkMode:!0,color:ub,backgroundColor:ib,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ob}},textStyle:{color:ob},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ob}},dataZoom:{borderColor:"#71708A",textStyle:{color:ob},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ob}},timeline:{lineStyle:{color:ob},label:{color:ob},controlStyle:{color:ob,borderColor:ob}},calendar:{itemStyle:{color:ib},dayLabel:{color:ob},monthLabel:{color:ob},yearLabel:{color:ob}},timeAxis:ab(),logAxis:ab(),valueAxis:ab(),categoryAxis:ab(),line:{symbol:"circle"},graph:{color:ub},gauge:{title:{color:ob},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ob},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};sb.categoryAxis.splitLine.show=!1;var cb=sb;function lb(t){if(zt(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var n=t;9===n.nodeType&&(n=n.firstChild);while("svg"!==n.nodeName.toLowerCase()||1!==n.nodeType)n=n.nextSibling;return n}var fb=ae(),db={registerMap:function(t,e,n){var r;if(Lt(e))r=e;else if(e.svg)r=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}];else{var o=e.geoJson||e.geoJSON;o&&!e.features&&(n=e.specialAreas,e=o),r=[{type:"geoJSON",source:e,specialAreas:n}]}return At(r,(function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON");var n=hb[e];n(t)})),fb.set(t,r)},retrieveMap:function(t){return fb.get(t)}},hb={geoJSON:function(t){var e=t.source;t.geoJSON=zt(e)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=lb(t.source)}},pb=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},r={};if(zt(t)){var o=Ma(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var i=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};At(t,(function(t,o){for(var u=!1,s=0;s<i.length;s++){var c=i[s],l=o.lastIndexOf(c);if(l>0&&l===o.length-c.length){var f=o.slice(0,l);"data"!==f&&(e.mainType=f,e[c.toLowerCase()]=t,u=!0)}}a.hasOwnProperty(o)&&(n[o]=t,u=!0),u||(r[o]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:r}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,o=n.packedEvent,i=n.model,a=n.view;if(!i||!a)return!0;var u=e.cptQuery,s=e.dataQuery;return c(u,i,"mainType")&&c(u,i,"subType")&&c(u,i,"index","componentIndex")&&c(u,i,"name")&&c(u,i,"id")&&c(s,o,"name")&&c(s,o,"dataIndex")&&c(s,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,r,o));function c(t,e,n,r){return null==t[n]||e[r||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),mb={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendSymbol&&n.setVisual("legendSymbol",t.legendSymbol),t.hasSymbolVisual){var r=t.get("symbol"),o=t.get("symbolSize"),i=t.get("symbolKeepAspect"),a=t.get("symbolRotate"),u=Bt(r),s=Bt(o),c=Bt(a),l=u||s||c,f=!u&&r?r:t.defaultSymbol,d=s?null:o,h=c?null:a;if(n.setVisual({legendSymbol:t.legendSymbol||f,symbol:f,symbolSize:d,symbolKeepAspect:i,symbolRotate:h}),!e.isSeriesFiltered(t))return{dataEach:l?p:null}}function p(e,n){var i=t.getRawValue(n),l=t.getDataParams(n);u&&e.setItemVisual(n,"symbol",r(i,l)),s&&e.setItemVisual(n,"symbolSize",o(i,l)),c&&e.setItemVisual(n,"symbolRotate",a(i,l))}}},gb={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t)){var n=t.getData();return{dataEach:n.hasItemOption?r:null}}function r(t,e){var n=t.getItemModel(e),r=n.getShallow("symbol",!0),o=n.getShallow("symbolSize",!0),i=n.getShallow("symbolRotate",!0),a=n.getShallow("symbolKeepAspect",!0);null!=r&&t.setItemVisual(e,"symbol",r),null!=o&&t.setItemVisual(e,"symbolSize",o),null!=i&&t.setItemVisual(e,"symbolRotate",i),null!=a&&t.setItemVisual(e,"symbolKeepAspect",a)}}};function vb(t,e,n){switch(n){case"color":var r=t.getItemVisual(e,"style");return r[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n);default:0}}function yb(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}function bb(t,e,n,r){switch(n){case"color":var o=t.ensureUniqueItemVisual(e,"style");o[t.getVisual("drawType")]=r,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,r);break;default:0}}var xb=2*Math.PI,wb=Ts.CMD,_b=["top","right","bottom","left"];function Sb(t,e,n,r,o){var i=n.width,a=n.height;switch(t){case"top":r.set(n.x+i/2,n.y-e),o.set(0,-1);break;case"bottom":r.set(n.x+i/2,n.y+a+e),o.set(0,1);break;case"left":r.set(n.x-e,n.y+a/2),o.set(-1,0);break;case"right":r.set(n.x+i+e,n.y+a/2),o.set(1,0);break}}function Cb(t,e,n,r,o,i,a,u,s){a-=t,u-=e;var c=Math.sqrt(a*a+u*u);a/=c,u/=c;var l=a*n+t,f=u*n+e;if(Math.abs(r-o)%xb<1e-4)return s[0]=l,s[1]=f,c-n;if(i){var d=r;r=Is(o),o=Is(d)}else r=Is(r),o=Is(o);r>o&&(o+=xb);var h=Math.atan2(u,a);if(h<0&&(h+=xb),h>=r&&h<=o||h+xb>=r&&h+xb<=o)return s[0]=l,s[1]=f,c-n;var p=n*Math.cos(r)+t,m=n*Math.sin(r)+e,g=n*Math.cos(o)+t,v=n*Math.sin(o)+e,y=(p-a)*(p-a)+(m-u)*(m-u),b=(g-a)*(g-a)+(v-u)*(v-u);return y<b?(s[0]=p,s[1]=m,Math.sqrt(y)):(s[0]=g,s[1]=v,Math.sqrt(b))}function kb(t,e,n,r,o,i,a,u){var s=o-t,c=i-e,l=n-t,f=r-e,d=Math.sqrt(l*l+f*f);l/=d,f/=d;var h=s*l+c*f,p=h/d;u&&(p=Math.min(Math.max(p,0),1)),p*=d;var m=a[0]=t+p*l,g=a[1]=e+p*f;return Math.sqrt((m-o)*(m-o)+(g-i)*(g-i))}function Tb(t,e,n,r,o,i,a){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r);var u=t+n,s=e+r,c=a[0]=Math.min(Math.max(o,t),u),l=a[1]=Math.min(Math.max(i,e),s);return Math.sqrt((c-o)*(c-o)+(l-i)*(l-i))}var Ab=[];function Ob(t,e,n){var r=Tb(e.x,e.y,e.width,e.height,t.x,t.y,Ab);return n.set(Ab[0],Ab[1]),r}function Mb(t,e,n){for(var r,o,i=0,a=0,u=0,s=0,c=1/0,l=e.data,f=t.x,d=t.y,h=0;h<l.length;){var p=l[h++];1===h&&(i=l[h],a=l[h+1],u=i,s=a);var m=c;switch(p){case wb.M:u=l[h++],s=l[h++],i=u,a=s;break;case wb.L:m=kb(i,a,l[h],l[h+1],f,d,Ab,!0),i=l[h++],a=l[h++];break;case wb.C:m=Lu(i,a,l[h++],l[h++],l[h++],l[h++],l[h],l[h+1],f,d,Ab),i=l[h++],a=l[h++];break;case wb.Q:m=Uu(i,a,l[h++],l[h++],l[h],l[h+1],f,d,Ab),i=l[h++],a=l[h++];break;case wb.A:var g=l[h++],v=l[h++],y=l[h++],b=l[h++],x=l[h++],w=l[h++];h+=1;var _=!!(1-l[h++]);r=Math.cos(x)*y+g,o=Math.sin(x)*b+v,h<=1&&(u=r,s=o);var S=(f-g)*b/y+g;m=Cb(g,v,b,x,x+w,_,S,d,Ab),i=Math.cos(x+w)*y+g,a=Math.sin(x+w)*b+v;break;case wb.R:u=i=l[h++],s=a=l[h++];var C=l[h++],k=l[h++];m=Tb(u,s,C,k,f,d,Ab);break;case wb.Z:m=kb(i,a,u,s,f,d,Ab,!0),i=u,a=s;break}m<c&&(c=m,n.set(Ab[0],Ab[1]))}return c}var Db=new Br,Ib=new Br,Eb=new Br,Rb=new Br,Nb=new Br;function Pb(t,e){if(t){var n=t.getTextGuideLine(),r=t.getTextContent();if(r&&n){var o=t.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],a=o.candidates||_b,u=r.getBoundingRect().clone();u.applyTransform(r.getComputedTransform());var s=1/0,c=o.anchor,l=t.getComputedTransform(),f=l&&An([],l),d=e.get("length2")||0;c&&Eb.copy(c);for(var h=0;h<a.length;h++){var p=a[h];Sb(p,0,u,Db,Rb),Br.scaleAndAdd(Ib,Db,Rb,d),Ib.transform(f);var m=t.getBoundingRect(),g=c?c.distance(Ib):t instanceof Js?Mb(Ib,t.path,Eb):Ob(Ib,m,Eb);g<s&&(s=g,Ib.transform(l),Eb.transform(l),Eb.toArray(i[0]),Ib.toArray(i[1]),Db.toArray(i[2]))}zb(i,e.get("minTurnAngle")),n.setShape({points:i})}}}var Lb=[],Bb=new Br;function zb(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Db.fromArray(t[0]),Ib.fromArray(t[1]),Eb.fromArray(t[2]),Br.sub(Rb,Db,Ib),Br.sub(Nb,Eb,Ib);var n=Rb.len(),r=Nb.len();if(!(n<.001||r<.001)){Rb.scale(1/n),Nb.scale(1/r);var o=Rb.dot(Nb),i=Math.cos(e);if(i<o){var a=kb(Ib.x,Ib.y,Eb.x,Eb.y,Db.x,Db.y,Lb,!1);Bb.fromArray(Lb),Bb.scaleAndAdd(Nb,a/Math.tan(Math.PI-e));var u=Eb.x!==Ib.x?(Bb.x-Ib.x)/(Eb.x-Ib.x):(Bb.y-Ib.y)/(Eb.y-Ib.y);if(isNaN(u))return;u<0?Br.copy(Bb,Ib):u>1&&Br.copy(Bb,Eb),Bb.toArray(t[1])}}}}function Vb(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,Db.fromArray(t[0]),Ib.fromArray(t[1]),Eb.fromArray(t[2]),Br.sub(Rb,Ib,Db),Br.sub(Nb,Eb,Ib);var r=Rb.len(),o=Nb.len();if(!(r<.001||o<.001)){Rb.scale(1/r),Nb.scale(1/o);var i=Rb.dot(e),a=Math.cos(n);if(i<a){var u=kb(Ib.x,Ib.y,Eb.x,Eb.y,Db.x,Db.y,Lb,!1);Bb.fromArray(Lb);var s=Math.PI/2,c=Math.acos(Nb.dot(e)),l=s+c-n;if(l>=s)Br.copy(Bb,Eb);else{Bb.scaleAndAdd(Nb,u/Math.tan(Math.PI/2-l));var f=Eb.x!==Ib.x?(Bb.x-Ib.x)/(Eb.x-Ib.x):(Bb.y-Ib.y)/(Eb.y-Ib.y);if(isNaN(f))return;f<0?Br.copy(Bb,Ib):f>1&&Br.copy(Bb,Eb)}Bb.toArray(t[1])}}}}function Fb(t,e,n,r){var o="normal"===n,i=o?t:t.ensureState(n);i.ignore=e;var a=r.get("smooth");a&&!0===a&&(a=.3),i.shape=i.shape||{},a>0&&(i.shape.smooth=a);var u=r.getModel("lineStyle").getLineStyle();o?t.useStyle(u):i.style=u}function jb(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var o=ke(r[0],r[1]),i=ke(r[1],r[2]);if(!o||!i)return t.lineTo(r[1][0],r[1][1]),void t.lineTo(r[2][0],r[2][1]);var a=Math.min(o,i)*n,u=Oe([],r[1],r[0],a/o),s=Oe([],r[1],r[2],a/i),c=Oe([],u,s,.5);t.bezierCurveTo(u[0],u[1],u[0],u[1],c[0],c[1]),t.bezierCurveTo(s[0],s[1],s[0],s[1],r[2][0],r[2][1])}else for(var l=1;l<r.length;l++)t.lineTo(r[l][0],r[l][1])}function Hb(t,e,n){var r=t.getTextGuideLine(),o=t.getTextContent();if(o){for(var i=e.normal,a=i.get("show"),u=o.ignore,s=0;s<zc.length;s++){var c=zc[s],l=e[c],f="normal"===c;if(l){var d=l.get("show"),h=f?u:$t(o.states[c]&&o.states[c].ignore,u);if(h||!$t(d,a)){var p=f?r:r&&r.states.normal;p&&(p.ignore=!0);continue}r||(r=new jf,t.setTextGuideLine(r),f||!u&&a||Fb(r,!0,"normal",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),Fb(r,!1,c,l)}}if(r){wt(r.style,n),r.style.fill=null;var m=i.get("showAbove"),g=t.textGuideLineConfig=t.textGuideLineConfig||{};g.showAbove=m||!1,r.buildPath=jb}}else r&&t.removeTextGuideLine()}function Ub(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},r=0;r<Bc.length;r++){var o=Bc[r];n[o]=t.getModel([o,e])}return n}function Wb(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var o=r.label,i=o.getComputedTransform(),a=o.getBoundingRect(),u=!i||i[1]<1e-5&&i[2]<1e-5,s=o.style.margin||0,c=a.clone();c.applyTransform(i),c.x-=s/2,c.y-=s/2,c.width+=s,c.height+=s;var l=u?new hd(a,i):null;e.push({label:o,labelLine:r.labelLine,rect:c,localRect:a,obb:l,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:u,transform:i})}}return e}function Gb(t,e,n,r,o,i){var a=t.length;if(!(a<2)){t.sort((function(t,n){return t.rect[e]-n.rect[e]}));for(var u,s=0,c=!1,l=[],f=0,d=0;d<a;d++){var h=t[d],p=h.rect;u=p[e]-s,u<0&&(p[e]-=u,h.label[e]-=u,c=!0);var m=Math.max(-u,0);l.push(m),f+=m,s=p[e]+p[n]}f>0&&i&&_(-f/a,0,a);var g,v,y=t[0],b=t[a-1];return x(),g<0&&S(-g,.8),v<0&&S(v,.8),x(),w(g,v,1),w(v,g,-1),x(),g<0&&C(-g),v<0&&C(v),c}function x(){g=y.rect[e]-r,v=o-b.rect[e]-b.rect[n]}function w(t,e,n){if(t<0){var r=Math.min(e,-t);if(r>0){_(r*n,0,a);var o=r+t;o<0&&S(-o*n,1)}else S(-t*n,1)}}function _(n,r,o){0!==n&&(c=!0);for(var i=r;i<o;i++){var a=t[i],u=a.rect;u[e]+=n,a.label[e]+=n}}function S(r,o){for(var i=[],u=0,s=1;s<a;s++){var c=t[s-1].rect,l=Math.max(t[s].rect[e]-c[e]-c[n],0);i.push(l),u+=l}if(u){var f=Math.min(Math.abs(r)/u,o);if(r>0)for(s=0;s<a-1;s++){var d=i[s]*f;_(d,0,s+1)}else for(s=a-1;s>0;s--){d=i[s-1]*f;_(-d,s,a)}}}function C(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),r=0;r<a-1;r++)if(e>0?_(n,0,r+1):_(-n,a-r-1,a),t-=n,t<=0)return}}function qb(t,e,n,r){return Gb(t,"x","width",e,n,r)}function Yb(t,e,n,r){return Gb(t,"y","height",e,n,r)}function Xb(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var n=new Yr(0,0,0,0);function r(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var o=0;o<t.length;o++){var i=t[o],a=i.axisAligned,u=i.localRect,s=i.transform,c=i.label,l=i.labelLine;n.copy(i.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=i.obb,d=!1,h=0;h<e.length;h++){var p=e[h];if(n.intersect(p.rect)){if(a&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new hd(p.localRect,p.transform)),f||(f=new hd(u,s)),f.intersect(p.obb)){d=!0;break}}}d?(r(c),l&&r(l)):(c.attr("ignore",i.defaultAttr.ignore),l&&l.attr("ignore",i.defaultAttr.labelGuideIgnore),e.push(i))}}function Zb(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function $b(t,e){var n=t.label,r=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Zb(r&&r.shape.points)}}var Kb=["align","verticalAlign","width","height","fontSize"],Jb=new Bn,Qb=ma(),tx=ma();function ex(t,e,n){for(var r=0;r<n.length;r++){var o=n[r];null!=e[o]&&(t[o]=e[o])}}var nx=["x","y","rotation"],rx=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,r,o){var i=r.style,a=r.__hostTarget,u=a.textConfig||{},s=r.getComputedTransform(),c=r.getBoundingRect().plain();Yr.applyTransform(c,c,s),s?Jb.setLocalTransform(s):(Jb.x=Jb.y=Jb.rotation=Jb.originX=Jb.originY=0,Jb.scaleX=Jb.scaleY=1);var l,f=r.__hostTarget;if(f){l=f.getBoundingRect().plain();var d=f.getComputedTransform();Yr.applyTransform(l,l,d)}var h=l&&f.getTextGuideLine();this._labelList.push({label:r,labelLine:h,seriesModel:n,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:c,hostRect:l,priority:l?l.width*l.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:h&&h.ignore,x:Jb.x,y:Jb.y,rotation:Jb.rotation,style:{x:i.x,y:i.y,align:i.align,verticalAlign:i.verticalAlign,width:i.width,height:i.height,fontSize:i.fontSize},cursor:r.cursor,attachedPos:u.position,attachedRot:u.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get("labelLayout");(Bt(r)||Et(r).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var o=t.getTextContent(),i=Dc(t);o&&!o.disableLabelLayout&&e._addLabel(i.dataIndex,i.dataType,n,o,r)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(t,e){return function(){Pb(t,e)}}for(var o=0;o<this._labelList.length;o++){var i=this._labelList[o],a=i.label,u=a.__hostTarget,s=i.defaultAttr,c=void 0;c="function"===typeof i.layoutOption?i.layoutOption($b(i,u)):i.layoutOption,c=c||{},i.computedLayoutOption=c;var l=Math.PI/180;u&&u.setTextConfig({local:!1,position:null!=c.x||null!=c.y?null:s.attachedPos,rotation:null!=c.rotate?c.rotate*l:s.attachedRot,offset:[c.dx||0,c.dy||0]});var f=!1;if(null!=c.x?(a.x=Si(c.x,e),a.setStyle("x",0),f=!0):(a.x=s.x,a.setStyle("x",s.style.x)),null!=c.y?(a.y=Si(c.y,n),a.setStyle("y",0),f=!0):(a.y=s.y,a.setStyle("y",s.style.y)),c.labelLinePoints){var d=u.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),f=!1)}var h=Qb(a);h.needsUpdateLabelLine=f,a.rotation=null!=c.rotate?c.rotate*l:s.rotation;for(var p=0;p<Kb.length;p++){var m=Kb[p];a.setStyle(m,null!=c[m]?c[m]:s.style[m])}if(c.draggable){if(a.draggable=!0,a.cursor="move",u){var g=i.seriesModel;if(null!=i.dataIndex){var v=i.seriesModel.getData(i.dataType);g=v.getItemModel(i.dataIndex)}a.on("drag",r(u,g.getModel("labelLine")))}}else a.off("drag"),a.cursor=s.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),r=Wb(this._labelList),o=Dt(r,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),i=Dt(r,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));qb(o,0,e),Yb(i,0,n);var a=Dt(r,(function(t){return t.layoutOption.hideOverlap}));Xb(a)},t.prototype.processLabelsOverall=function(){var t=this;At(this._chartViewList,(function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,o=n.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore)return!0;var i=!r,a=e.getTextContent();!i&&a&&(i=Qb(a).needsUpdateLabelLine),i&&t._updateLabelLine(e,n),o&&t._animateLabels(e,n)}))}))},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=Dc(t),o=r.dataIndex;if(n&&null!=o){var i=e.getData(r.dataType),a=i.getItemModel(o),u={},s=i.getItemVisual(o,"style"),c=i.getVisual("drawType");u.stroke=s[c];var l=a.getModel("labelLine");Hb(t,Ub(a),u),Pb(t,l)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Vd(t)){var o=Qb(n),i=o.oldLayout,a=Dc(t),u=a.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},c=e.getData(a.dataType);if(i){n.attr(i);var l=t.prevStates;l&&(St(l,"select")>=0&&n.attr(o.oldLayoutSelect),St(l,"emphasis")>=0&&n.attr(o.oldLayoutEmphasis)),Nd(n,s,e,u)}else if(n.attr(s),!hh(n).valueAnimation){var f=$t(n.style.opacity,1);n.style.opacity=0,Pd(n,{style:{opacity:f}},e,u)}if(o.oldLayout=s,n.states.select){var d=o.oldLayoutSelect={};ex(d,s,nx),ex(d,n.states.select,nx)}if(n.states.emphasis){var h=o.oldLayoutEmphasis={};ex(h,s,nx),ex(h,n.states.emphasis,nx)}mh(n,u,c,e,e)}if(r&&!r.ignore&&!r.invisible){o=tx(r),i=o.oldLayout;var p={points:r.shape.points};i?(r.attr({shape:i}),Nd(r,{shape:p},e)):(r.setShape(p),r.style.strokePercent=0,Pd(r,{style:{strokePercent:1}},e)),o.oldLayout=p}},t}(),ox=rx;function ix(t,e){function n(e,n){var r=[];return e.eachComponent({mainType:"series",subType:t,query:n},(function(t){r.push(t.seriesIndex)})),r}At([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],(function(t){e(t[0],(function(e,r,o){e=xt({},e),o.dispatchAction(xt(e,{type:t[1],seriesIndex:n(r,e)}))}))}))}function ax(t,e,n,r,o){var i=t+e;n.isSilent(i)||r.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,r=o.selected,a=0;a<r.length;a++)if(r[a].seriesIndex===e){var u=t.getData(),s=pa(u,o.fromActionPayload);n.trigger(i,{type:i,seriesId:t.id,name:Lt(s)?u.getName(s[0]):u.getName(s),selected:xt({},t.option.selectedMap)})}}))}function ux(t,e,n){t.on("selectchanged",(function(t){var r=n.getModel();t.isFromClick?(ax("map","selectchanged",e,r,t),ax("pie","selectchanged",e,r,t)):"select"===t.fromAction?(ax("map","selected",e,r,t),ax("pie","selected",e,r,t)):"unselect"===t.fromAction&&(ax("map","unselected",e,r,t),ax("pie","unselected",e,r,t))}))}function sx(t,e,n){var r;while(t){if(e(t)&&(r=t,n))break;t=t.__hostTarget||t.parent}return r}var cx=Math.round(9*Math.random()),lx=function(){function t(){this._id="__ec_inner_"+cx++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return"function"===typeof Object.defineProperty?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype["delete"]=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),fx=lx,dx=Js.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,o=e.width/2,i=e.height/2;t.moveTo(n,r-i),t.lineTo(n+o,r+i),t.lineTo(n-o,r+i),t.closePath()}}),hx=Js.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,o=e.width/2,i=e.height/2;t.moveTo(n,r-i),t.lineTo(n+o,r),t.lineTo(n,r+i),t.lineTo(n-o,r),t.closePath()}}),px=Js.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,o=e.width/5*3,i=Math.max(o,e.height),a=o/2,u=a*a/(i-a),s=r-i+a+u,c=Math.asin(u/a),l=Math.cos(c)*a,f=Math.sin(c),d=Math.cos(c),h=.6*a,p=.7*a;t.moveTo(n-l,s+u),t.arc(n,s,a,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(n+l-f*h,s+u+d*h,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-l+f*h,s+u+d*h,n-l,s+u),t.closePath()}}),mx=Js.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,o=e.x,i=e.y,a=r/3*2;t.moveTo(o,i),t.lineTo(o+a,i+n),t.lineTo(o,i+n/4*3),t.lineTo(o-a,i+n),t.lineTo(o,i),t.closePath()}}),gx={line:mc,rect:mc,roundRect:mc,square:mc,circle:sf,diamond:hx,pin:px,arrow:mx,triangle:dx},vx={line:function(t,e,n,r,o){var i=2;o.x=t,o.y=e+r/2-i/2,o.width=n,o.height=i},rect:function(t,e,n,r,o){o.x=t,o.y=e,o.width=n,o.height=r},roundRect:function(t,e,n,r,o){o.x=t,o.y=e,o.width=n,o.height=r,o.r=Math.min(n,r)/4},square:function(t,e,n,r,o){var i=Math.min(n,r);o.x=t,o.y=e,o.width=i,o.height=i},circle:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.r=Math.min(n,r)/2},diamond:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.width=n,o.height=r},pin:function(t,e,n,r,o){o.x=t+n/2,o.y=e+r/2,o.width=n,o.height=r},arrow:function(t,e,n,r,o){o.x=t+n/2,o.y=e+r/2,o.width=n,o.height=r},triangle:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.width=n,o.height=r}},yx={};At(gx,(function(t,e){yx[e]=new t}));var bx=Js.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=io(t,e,n),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===e.position&&(r.y=n.y+.4*n.height),r},buildPath:function(t,e,n){var r=e.symbolType;if("none"!==r){var o=yx[r];o||(r="rect",o=yx[r]),vx[r](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,n)}}});function xx(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):n.fill=t,this.markRedraw()}}function _x(t,e,n,r,o,i,a){var u,s=0===t.indexOf("empty");return s&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),u=0===t.indexOf("image://")?Td(t.slice(8),new Yr(e,n,r,o),a?"center":"cover"):0===t.indexOf("path://")?kd(t.slice(7),{},new Yr(e,n,r,o),a?"center":"cover"):new bx({shape:{symbolType:t,x:e,y:n,width:r,height:o}}),u.__isEmptyBrush=s,u.setColor=xx,i&&u.setColor(i),u}function Sx(t,e,n){var r=null==e.x?0:e.x,o=null==e.x2?1:e.x2,i=null==e.y?0:e.y,a=null==e.y2?0:e.y2;e.global||(r=r*n.width+n.x,o=o*n.width+n.x,i=i*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,o=isNaN(o)?1:o,i=isNaN(i)?0:i,a=isNaN(a)?0:a;var u=t.createLinearGradient(r,i,o,a);return u}function Cx(t,e,n){var r=n.width,o=n.height,i=Math.min(r,o),a=null==e.x?.5:e.x,u=null==e.y?.5:e.y,s=null==e.r?.5:e.r;e.global||(a=a*r+n.x,u=u*o+n.y,s*=i);var c=t.createRadialGradient(a,u,0,a,u,s);return c}function kx(t,e,n){for(var r="radial"===e.type?Cx(t,e,n):Sx(t,e,n),o=e.colorStops,i=0;i<o.length;i++)r.addColorStop(o[i].offset,o[i].color);return r}function Tx(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function Ax(t,e){return t&&"solid"!==t&&e>0?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:Ft(t)?[t]:Lt(t)?t:null):null}var Ox=new Ts(!0);function Mx(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function Dx(t){var e=t.fill;return null!=e&&"none"!==e}function Ix(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function Ex(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function Rx(t,e,n){var r=qa(e.image,e.__image,n);if(Xa(r)){var o=t.createPattern(r,e.repeat||"repeat");if("function"===typeof DOMMatrix){var i=new DOMMatrix;i.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),i.scaleSelf(e.scaleX||1,e.scaleY||1),i.translateSelf(e.x||0,e.y||0),o.setTransform(i)}return o}}function Nx(t,e,n,r){var o=Mx(n),i=Dx(n),a=n.strokePercent,u=a<1,s=!e.path;e.silent&&!u||!s||e.createPathProxy();var c=e.path||Ox;if(!r){var l=n.fill,f=n.stroke,d=i&&!!l.colorStops,h=o&&!!f.colorStops,p=i&&!!l.image,m=o&&!!f.image,g=void 0,v=void 0,y=void 0,b=void 0,x=void 0;(d||h)&&(x=e.getBoundingRect()),d&&(g=e.__dirty?kx(t,l,x):e.__canvasFillGradient,e.__canvasFillGradient=g),h&&(v=e.__dirty?kx(t,f,x):e.__canvasStrokeGradient,e.__canvasStrokeGradient=v),p&&(y=e.__dirty||!e.__canvasFillPattern?Rx(t,l,e):e.__canvasFillPattern,e.__canvasFillPattern=y),m&&(b=e.__dirty||!e.__canvasStrokePattern?Rx(t,f,e):e.__canvasStrokePattern,e.__canvasStrokePattern=y),d?t.fillStyle=g:p&&(y?t.fillStyle=y:i=!1),h?t.strokeStyle=v:m&&(b?t.strokeStyle=b:o=!1)}var w=n.lineDash&&n.lineWidth>0&&Ax(n.lineDash,n.lineWidth),_=n.lineDashOffset,S=!!t.setLineDash,C=e.getGlobalScale();if(c.setScale(C[0],C[1],e.segmentIgnoreThreshold),w){var k=n.strokeNoScale&&e.getLineScale?e.getLineScale():1;k&&1!==k&&(w=Ot(w,(function(t){return t/k})),_/=k)}var T=!0;(s||e.__dirty&Js.SHAPE_CHANGED_BIT||w&&!S&&o)&&(c.setDPR(t.dpr),u?c.setContext(null):(c.setContext(t),T=!1),c.reset(),w&&!S&&(c.setLineDash(w),c.setLineDashOffset(_)),e.buildPath(c,e.shape,r),c.toStatic(),e.pathUpdated()),T&&c.rebuildPath(t,u?a:1),w&&S&&(t.setLineDash(w),t.lineDashOffset=_),r||(n.strokeFirst?(o&&Ex(t,n),i&&Ix(t,n)):(i&&Ix(t,n),o&&Ex(t,n))),w&&S&&t.setLineDash([])}function Px(t,e,n){var r=e.__image=qa(n.image,e.__image,e,e.onload);if(r&&Xa(r)){var o=n.x||0,i=n.y||0,a=e.getWidth(),u=e.getHeight(),s=r.width/r.height;if(null==a&&null!=u?a=u*s:null==u&&null!=a?u=a/s:null==a&&null==u&&(a=r.width,u=r.height),n.sWidth&&n.sHeight){var c=n.sx||0,l=n.sy||0;t.drawImage(r,c,l,n.sWidth,n.sHeight,o,i,a,u)}else if(n.sx&&n.sy){c=n.sx,l=n.sy;var f=a-c,d=u-l;t.drawImage(r,c,l,f,d,o,i,a,u)}else t.drawImage(r,o,i,a,u)}}function Lx(t,e,n){var r=n.text;if(null!=r&&(r+=""),r){t.font=n.font||Zr,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0;if(t.setLineDash){var i=n.lineDash&&n.lineWidth>0&&Ax(n.lineDash,n.lineWidth),a=n.lineDashOffset;if(i){var u=n.strokeNoScale&&e.getLineScale?e.getLineScale():1;u&&1!==u&&(i=Ot(i,(function(t){return t/u})),a/=u),t.setLineDash(i),t.lineDashOffset=a,o=!0}}n.strokeFirst?(Mx(n)&&t.strokeText(r,n.x,n.y),Dx(n)&&t.fillText(r,n.x,n.y)):(Dx(n)&&t.fillText(r,n.x,n.y),Mx(n)&&t.strokeText(r,n.x,n.y)),o&&t.setLineDash([])}}var Bx=["shadowBlur","shadowOffsetX","shadowOffsetY"],zx=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Vx(t,e,n,r,o){var i=!1;if(!r&&(n=n||{},e===n))return!1;(r||e.opacity!==n.opacity)&&(i||($x(t,o),i=!0),t.globalAlpha=null==e.opacity?du.opacity:e.opacity),(r||e.blend!==n.blend)&&(i||($x(t,o),i=!0),t.globalCompositeOperation=e.blend||du.blend);for(var a=0;a<Bx.length;a++){var u=Bx[a];(r||e[u]!==n[u])&&(i||($x(t,o),i=!0),t[u]=t.dpr*(e[u]||0))}return(r||e.shadowColor!==n.shadowColor)&&(i||($x(t,o),i=!0),t.shadowColor=e.shadowColor||du.shadowColor),i}function Fx(t,e,n,r,o){var i=Kx(e,o.inHover),a=r?null:n&&Kx(n,o.inHover)||{};if(i===a)return!1;var u=Vx(t,i,a,r,o);if((r||i.fill!==a.fill)&&(u||($x(t,o),u=!0),t.fillStyle=i.fill),(r||i.stroke!==a.stroke)&&(u||($x(t,o),u=!0),t.strokeStyle=i.stroke),(r||i.opacity!==a.opacity)&&(u||($x(t,o),u=!0),t.globalAlpha=null==i.opacity?1:i.opacity),e.hasStroke()){var s=i.lineWidth,c=s/(i.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);t.lineWidth!==c&&(u||($x(t,o),u=!0),t.lineWidth=c)}for(var l=0;l<zx.length;l++){var f=zx[l],d=f[0];(r||i[d]!==a[d])&&(u||($x(t,o),u=!0),t[d]=i[d]||f[1])}return u}function jx(t,e,n,r,o){return Vx(t,Kx(e,o.inHover),n&&Kx(n,o.inHover),r,o)}function Hx(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}function Ux(t,e,n){for(var r=!1,o=0;o<t.length;o++){var i=t[o];r=r||i.isZeroArea(),Hx(e,i),e.beginPath(),i.buildPath(e,i.shape),e.clip()}n.allClipped=r}function Wx(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var Gx=1,qx=2,Yx=3,Xx=4;function Zx(t){var e=Dx(t),n=Mx(t);return!(t.lineDash||!(+e^+n)||e&&"string"!==typeof t.fill||n&&"string"!==typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function $x(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Kx(t,e){return e&&t.__hoverStyle||t.style}function Jx(t,e){Qx(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Qx(t,e,n,r){var o=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~Co.REDARAW_BIT,void(e.__isRendered=!1);var i=e.__clipPaths,a=n.prevElClipPaths,u=!1,s=!1;if(a&&!Tx(i,a)||(a&&a.length&&($x(t,n),t.restore(),s=u=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),i&&i.length&&($x(t,n),t.save(),Ux(i,t,n),u=!0),n.prevElClipPaths=i),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=n.prevEl;c||(s=u=!0);var l=e instanceof Js&&e.autoBatch&&Zx(e.style);u||Wx(o,c.transform)?($x(t,n),Hx(t,e)):l||$x(t,n);var f=Kx(e,n.inHover);e instanceof Js?(n.lastDrawType!==Gx&&(s=!0,n.lastDrawType=Gx),Fx(t,e,c,s,n),l&&(n.batchFill||n.batchStroke)||t.beginPath(),Nx(t,e,f,l),l&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):e instanceof ec?(n.lastDrawType!==Yx&&(s=!0,n.lastDrawType=Yx),Fx(t,e,c,s,n),Lx(t,e,f)):e instanceof ac?(n.lastDrawType!==qx&&(s=!0,n.lastDrawType=qx),jx(t,e,c,s,n),Px(t,e,f)):e instanceof gd&&(n.lastDrawType!==Xx&&(s=!0,n.lastDrawType=Xx),tw(t,e,n)),l&&r&&$x(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}function tw(t,e,n){var r=e.getDisplayables(),o=e.getTemporalDisplayables();t.save();var i,a,u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(i=e.getCursor(),a=r.length;i<a;i++){var s=r[i];s.beforeBrush&&s.beforeBrush(),s.innerBeforeBrush(),Qx(t,s,u,i===a-1),s.innerAfterBrush(),s.afterBrush&&s.afterBrush(),u.prevEl=s}for(var c=0,l=o.length;c<l;c++){s=o[c];s.beforeBrush&&s.beforeBrush(),s.innerBeforeBrush(),Qx(t,s,u,c===l-1),s.innerAfterBrush(),s.afterBrush&&s.afterBrush(),u.prevEl=s}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var ew=new fx,nw=new Gn(100),rw=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function ow(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),r=e.getZr(),o="svg"===r.painter.type;t.dirty&&ew["delete"](t);var i=ew.get(t);if(i)return i;var a=wt(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var u={repeat:"repeat"};return s(u),u.rotation=a.rotation,u.scaleX=u.scaleY=o?1:1/n,ew.set(t,u),t.dirty=!1,u;function s(t){for(var e,i=[n],u=!0,s=0;s<rw.length;++s){var c=a[rw[s]],l=typeof c;if(null!=c&&!Lt(c)&&"string"!==l&&"number"!==l&&"boolean"!==l){u=!1;break}i.push(c)}if(u){e=i.join(",")+(o?"-svg":"");var f=nw.get(e);f&&(o?t.svgElement=f:t.image=f)}var d,h=aw(a.dashArrayX),p=uw(a.dashArrayY),m=iw(a.symbol),g=sw(h),v=cw(p),y=!o&&_t(),b=o&&r.painter.createSVGElement("g"),x=w();function w(){for(var t=1,e=0,n=g.length;e<n;++e)t=Wi(t,g[e]);var r=1;for(e=0,n=m.length;e<n;++e)r=Wi(r,m[e].length);t*=r;var o=v*g.length*m.length;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(o,a.maxTileHeight))}}function _(){d&&(d.clearRect(0,0,y.width,y.height),a.backgroundColor&&(d.fillStyle=a.backgroundColor,d.fillRect(0,0,y.width,y.height)));for(var t=0,e=0;e<p.length;++e)t+=p[e];if(!(t<=0)){var i=-v,u=0,s=0,c=0;while(i<x.height){if(u%2===0){var l=s/2%m.length,f=0,g=0,w=0;while(f<2*x.width){var _=0;for(e=0;e<h[c].length;++e)_+=h[c][e];if(_<=0)break;if(g%2===0){var S=.5*(1-a.symbolSize),C=f+h[c][g]*S,k=i+p[u]*S,T=h[c][g]*a.symbolSize,A=p[u]*a.symbolSize,O=w/2%m[l].length;M(C,k,T,A,m[l][O])}f+=h[c][g],++w,++g,g===h[c].length&&(g=0)}++c,c===h.length&&(c=0)}i+=p[u],++s,++u,u===p.length&&(u=0)}}function M(t,e,i,u,s){var c=o?1:n,l=_x(s,t*c,e*c,i*c,u*c,a.color,a.symbolKeepAspect);o?b.appendChild(r.painter.paintOne(l)):Jx(d,l)}}y&&(y.width=x.width*n,y.height=x.height*n,d=y.getContext("2d")),_(),u&&nw.put(e,y||b),t.image=y,t.svgElement=b,t.svgWidth=x.width,t.svgHeight=x.height}}function iw(t){if(!t||0===t.length)return[["rect"]];if("string"===typeof t)return[[t]];for(var e=!0,n=0;n<t.length;++n)if("string"!==typeof t[n]){e=!1;break}if(e)return iw([t]);var r=[];for(n=0;n<t.length;++n)"string"===typeof t[n]?r.push([t[n]]):r.push(t[n]);return r}function aw(t){if(!t||0===t.length)return[[0,0]];if("number"===typeof t){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,r=0;r<t.length;++r)if("number"!==typeof t[r]){n=!1;break}if(n)return aw([t]);var o=[];for(r=0;r<t.length;++r)if("number"===typeof t[r]){e=Math.ceil(t[r]);o.push([e,e])}else{e=Ot(t[r],(function(t){return Math.ceil(t)}));e.length%2===1?o.push(e.concat(e)):o.push(e)}return o}function uw(t){if(!t||"object"===typeof t&&0===t.length)return[0,0];if("number"===typeof t){var e=Math.ceil(t);return[e,e]}var n=Ot(t,(function(t){return Math.ceil(t)}));return t.length%2?n.concat(n):n}function sw(t){return Ot(t,(function(t){return cw(t)}))}function cw(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?2*e:e}function lw(t,e){t.eachRawSeries((function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each((function(t){var n=r.getItemVisual(t,"decal");if(n){var o=r.ensureUniqueItemVisual(t,"style");o.decal=ow(n,e)}}));var o=r.getVisual("decal");if(o){var i=r.getVisual("style");i.decal=ow(o,e)}}}))}var fw=te,dw=At,hw=Bt,pw=jt,mw=St,gw="undefined"!==typeof window,vw=1,yw=800,bw=900,xw=1e3,ww=2e3,_w=5e3,Sw=1e3,Cw=1100,kw=2e3,Tw=3e3,Aw=4e3,Ow=4500,Mw=4600,Dw=5e3,Iw=6e3,Ew=7e3,Rw={PROCESSOR:{FILTER:xw,SERIES_FILTER:yw,STATISTIC:_w},VISUAL:{LAYOUT:Sw,PROGRESSIVE_LAYOUT:Cw,GLOBAL:kw,CHART:Tw,POST_CHART_LAYOUT:Mw,COMPONENT:Aw,BRUSH:Dw,CHART_ITEM:Ow,ARIA:Iw,DECAL:Ew}},Nw="__flagInMainProcess",Pw="__optionUpdated",Lw="__needsUpdateStatus",Bw=/^[a-zA-Z0-9_]+$/,zw="__connectUpdateStatus",Vw=0,Fw=1,jw=2;function Hw(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return Ww(this,t,e);v_(this.id)}}function Uw(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Ww(this,t,e)}}function Ww(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),Le.prototype[e].apply(t,n)}var Gw,qw,Yw,Xw,Zw,$w,Kw,Jw,Qw,t_,e_,n_,r_,o_,i_,a_,u_,s_,c_,l_,f_,d_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e}(Le),h_=d_.prototype;h_.on=Uw("on"),h_.off=Uw("off");var p_=function(t){function e(e,n,r){var o=t.call(this,new pb)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},"string"===typeof n&&(n=k_[n]),o._dom=e;var i="canvas",a=!1,u=o._zr=yi(e,{renderer:r.renderer||i,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:null==r.useDirtyRect?a:r.useDirtyRect});o._throttledZrFlush=Ty(Nt(u.flush,u),17),n=vt(n),n&&kg(n,!0),o._theme=n,o._locale=Hh(r.locale||Fh),o._coordSysMgr=new Xm;var s=o._api=u_(o);function c(t,e){return t.__prio-e.__prio}return No(C_,c),No(x_,c),o._scheduler=new eb(o,s,x_,C_),o._messageCenter=new d_,o._labelManager=new ox,o._initEvents(),o.resize=Nt(o.resize,o),u.animation.on("frame",o._onframe,o),t_(u,o),e_(u,o),re(o),o}return Z(e,t),e.prototype._onframe=function(){if(!this._disposed){f_(this);var t=this._scheduler;if(this[Pw]){var e=this[Pw].silent;this[Nw]=!0,Gw(this),Xw.update.call(this),this._zr.flush(),this[Nw]=!1,this[Pw]=!1,Jw.call(this,e),Qw.call(this,e)}else if(t.unfinished){var n=vw,r=this._model,o=this._api;t.unfinished=!1;do{var i=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),$w(this,r),t.performVisualTasks(r),i_(this,this._model,o,"remain"),n-=+new Date-i}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.setOption=function(t,e,n){if(this._disposed)v_(this.id);else{var r,o,i;if(pw(e)&&(n=e.lazyUpdate,r=e.silent,o=e.replaceMerge,i=e.transition,e=e.notMerge),this[Nw]=!0,!this._model||e){var a=new eg(this._api),u=this._theme,s=this._model=new Hm;s.scheduler=this._scheduler,s.init(null,null,null,u,this._locale,a)}this._model.setOption(t,{replaceMerge:o},w_),c_(this,i),n?(this[Pw]={silent:r},this[Nw]=!1,this.getZr().wakeUp()):(Gw(this),Xw.update.call(this),this._zr.flush(),this[Pw]=!1,this[Nw]=!1,Jw.call(this,r),Qw.call(this,r))}},e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||gw&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){if(nt.canvasSupported){t=xt({},t||{}),t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr;return e.painter.getRenderedCanvas(t)}},e.prototype.getSvgDataURL=function(){if(nt.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return At(e,(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){t=t||{};var e=t.excludeComponents,n=this._model,r=[],o=this;dw(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)}))}));var i="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return dw(r,(function(t){t.group.ignore=!1})),i}v_(this.id)},e.prototype.getConnectedDataURL=function(t){if(this._disposed)v_(this.id);else if(nt.canvasSupported){var e="svg"===t.type,n=this.group,r=Math.min,o=Math.max,i=1/0;if(O_[n]){var a=i,u=i,s=-i,c=-i,l=[],f=t&&t.pixelRatio||1;At(A_,(function(i,f){if(i.group===n){var d=e?i.getZr().painter.getSvgDom().innerHTML:i.getRenderedCanvas(vt(t)),h=i.getDom().getBoundingClientRect();a=r(h.left,a),u=r(h.top,u),s=o(h.right,s),c=o(h.bottom,c),l.push({dom:d,left:h.left,top:h.top})}})),a*=f,u*=f,s*=f,c*=f;var d=s-a,h=c-u,p=_t(),m=yi(p,{renderer:e?"svg":"canvas"});if(m.resize({width:d,height:h}),e){var g="";return dw(l,(function(t){var e=t.left-a,n=t.top-u;g+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),m.painter.getSvgRoot().innerHTML=g,t.connectedBackgroundColor&&m.painter.setBackgroundColor(t.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}return t.connectedBackgroundColor&&m.add(new mc({shape:{x:0,y:0,width:d,height:h},style:{fill:t.connectedBackgroundColor}})),dw(l,(function(t){var e=new ac({style:{x:t.left*f-a,y:t.top*f-u,image:t.dom}});m.add(e)})),m.refreshImmediately(),p.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,e){return Zw(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return Zw(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var n,r=this._model,o=va(r,t);return At(o,(function(t,r){r.indexOf("Models")>=0&&At(t,(function(t){var o=t.coordinateSystem;if(o&&o.containPoint)n=n||!!o.containPoint(e);else if("seriesModels"===r){var i=this._chartsMap[t.__viewId];i&&i.containPoint&&(n=n||i.containPoint(e,t))}else 0}),this)}),this),!!n}v_(this.id)},e.prototype.getVisual=function(t,e){var n=this._model,r=va(n,t,{defaultMainType:"series"}),o=r.seriesModel;var i=o.getData(),a=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?i.indexOfRawIndex(r.dataIndex):null;return null!=a?vb(i,a,e):yb(i,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;dw(g_,(function(e){var n=function(n){var r,o=t.getModel(),i=n.target,a="globalout"===e;if(a?r={}:i&&sx(i,(function(t){var e=Dc(t);if(e&&null!=e.dataIndex){var n=e.dataModel||o.getSeriesByIndex(e.seriesIndex);return r=n&&n.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return r=xt({},e.eventData),!0}),!0),r){var u=r.componentType,s=r.componentIndex;"markLine"!==u&&"markPoint"!==u&&"markArea"!==u||(u="series",s=r.seriesIndex);var c=u&&null!=s&&o.getComponent(u,s),l=c&&t["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];0,r.event=n,r.type=e,t._$eventProcessor.eventInfo={targetEl:i,packedEvent:r,model:c,view:l},t.trigger(e,r)}};n.zrEventfulCallAtLast=!0,t._zr.on(e,n,t)})),dw(b_,(function(e,n){t._messageCenter.on(n,(function(t){this.trigger(n,t)}),t)})),dw(["selectchanged"],(function(e){t._messageCenter.on(e,(function(t){this.trigger(e,t)}),t)})),ux(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?v_(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)v_(this.id);else{this._disposed=!0,wa(this.getDom(),D_,"");var t=this._api,e=this._model;dw(this._componentsViews,(function(n){n.dispose(e,t)})),dw(this._chartsViews,(function(n){n.dispose(e,t)})),this._zr.dispose(),delete A_[this.id]}},e.prototype.resize=function(t){if(this._disposed)v_(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[Nw]=!0,n&&Gw(this),Xw.update.call(this,{type:"resize",animation:{duration:0}}),this[Nw]=!1,Jw.call(this,r),Qw.call(this,r)}}},e.prototype.showLoading=function(t,e){if(this._disposed)v_(this.id);else if(pw(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),T_[t]){var n=T_[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},e.prototype.hideLoading=function(){this._disposed?v_(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=xt({},t);return e.type=b_[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)v_(this.id);else if(pw(e)||(e={silent:!!e}),y_[t.type]&&this._model)if(this[Nw])this._pendingActions.push(t);else{var n=e.silent;Kw.call(this,t,n);var r=e.flush;r?this._zr.flush():!1!==r&&nt.browser.weChat&&this._throttledZrFlush(),Jw.call(this,n),Qw.call(this,n)}},e.prototype.updateLabelLayout=function(){var t=this._labelManager;t.updateLayoutConfig(this._api),t.layout(this._api),t.processLabelsOverall()},e.prototype.appendData=function(t){if(this._disposed)v_(this.id);else{var e=t.seriesIndex,n=this.getModel(),r=n.getSeriesByIndex(e);0,r.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){for(var e=[],n=t.currentStates,r=0;r<n.length;r++){var o=n[r];"emphasis"!==o&&"blur"!==o&&"select"!==o&&e.push(o)}t.selected&&t.states.select&&e.push("select"),t.hoverState===Lc&&t.states.emphasis?e.push("emphasis"):t.hoverState===Pc&&t.states.blur&&e.push("blur"),t.useStates(e)}function e(t,e){var n=t._zr,r=n.storage,o=0;r.traverse((function(t){t.isGroup||o++})),o>e.get("hoverLayerThreshold")&&!nt.node&&!nt.worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.group.traverse((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}function n(t,e){var n=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||(t.style.blend=n),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.style.blend=n}))}))}function r(t,e){if(!t.preventAutoZ){var n=t.get("z"),r=t.get("zlevel");e.group.traverse((function(t){if(!t.isGroup){null!=n&&(t.z=n),null!=r&&(t.zlevel=r);var e=t.getTextContent(),o=t.getTextGuideLine();if(e&&(e.z=t.z,e.zlevel=t.zlevel,e.z2=t.z2+2),o){var i=t.textGuideLineConfig&&t.textGuideLineConfig.showAbove;o.z=t.z,o.zlevel=t.zlevel,o.z2=t.z2+(i?1:-1)}}}))}}function o(t,e){e.group.traverse((function(t){if(!Vd(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function i(e,n){var r=e.getModel("stateAnimation"),o=e.isAnimationEnabled(),i=r.get("duration"),a=i>0?{duration:i,delay:r.get("delay"),easing:r.get("easing")}:null;n.group.traverse((function(e){if(e.states&&e.states.emphasis){if(Vd(e))return;if(e instanceof Js&&Ll(e),e.__dirty){var n=e.prevStates;n&&e.useStates(n)}if(o){e.stateTransition=a;var r=e.getTextContent(),i=e.getTextGuideLine();r&&(r.stateTransition=a),i&&(i.stateTransition=a)}e.__dirty&&t(e)}}))}Gw=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),qw(t,!0),qw(t,!1),e.plan()},qw=function(t,e){for(var n=t._model,r=t._scheduler,o=e?t._componentsViews:t._chartsViews,i=e?t._componentsMap:t._chartsMap,a=t._zr,u=t._api,s=0;s<o.length;s++)o[s].__alive=!1;function c(t){var s=t.__requireNewView;t.__requireNewView=!1;var c="_ec_"+t.id+"_"+t.type,l=!s&&i[c];if(!l){var f=Ma(t.type),d=e?dy.getClass(f.main,f.sub):_y.getClass(f.sub);0,l=new d,l.init(n,u),i[c]=l,o.push(l),a.add(l.group)}t.__viewId=l.__id=c,l.__alive=!0,l.__model=t,l.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&r.prepareView(l,t,n,u)}e?n.eachComponent((function(t,e){"series"!==t&&c(e)})):n.eachSeries(c);for(s=0;s<o.length;){var l=o[s];l.__alive?s++:(!e&&l.renderTask.dispose(),a.remove(l.group),l.dispose(n,u),o.splice(s,1),i[l.__id]===l&&delete i[l.__id],l.__id=l.group.__ecComponentInfo=null)}},Yw=function(t,e,n,r,o){var i=t._model;if(i.setUpdatePayload(n),r){var a={};a[r+"Id"]=n[r+"Id"],a[r+"Index"]=n[r+"Index"],a[r+"Name"]=n[r+"Name"];var u={mainType:r,query:a};o&&(u.subType=o);var s,c=n.excludeSeriesId;null!=c&&(s=ae(),dw(Yi(c),(function(t){var e=ua(t,null);null!=e&&s.set(e,!0)}))),i&&i.eachComponent(u,(function(e){s&&null!=s.get(e.id)||(Pl(n)&&!n.notBlur?e instanceof ly&&_l(e,n,t._api):Nl(n)&&e instanceof ly&&(Sl(e,n,t._api),Cl(e),l_(t)),l(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId]))}),t)}else dw([].concat(t._componentsViews).concat(t._chartsViews),l);function l(r){r&&r.__alive&&r[e]&&r[e](r.__model,i,t._api,n)}},Xw={prepareAndUpdate:function(t){Gw(this),Xw.update.call(this,t)},update:function(t){var e=this._model,n=this._api,r=this._zr,o=this._coordSysMgr,i=this._scheduler;if(e){e.setUpdatePayload(t),i.restoreData(e,t),i.performSeriesTasks(e),o.create(e,n),i.performDataProcessorTasks(e,t),$w(this,e),o.update(e,n),n_(e),i.performVisualTasks(e,t),r_(this,e,n,t);var a=e.get("backgroundColor")||"transparent",u=e.get("darkMode");if(nt.canvasSupported)r.setBackgroundColor(a),null!=u&&"auto"!==u&&r.setDarkMode(u);else{var s=ir(a);a=hr(s,"rgb"),0===s[3]&&(a="transparent")}a_(e,n)}},updateTransform:function(t){var e=this,n=this._model,r=this._api;if(n){n.setUpdatePayload(t);var o=[];n.eachComponent((function(i,a){if("series"!==i){var u=e.getViewOfComponentModel(a);if(u&&u.__alive)if(u.updateTransform){var s=u.updateTransform(a,n,r,t);s&&s.update&&o.push(u)}else o.push(u)}}));var i=ae();n.eachSeries((function(o){var a=e._chartsMap[o.__viewId];if(a.updateTransform){var u=a.updateTransform(o,n,r,t);u&&u.update&&i.set(o.uid,1)}else i.set(o.uid,1)})),n_(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0,dirtyMap:i}),i_(this,n,r,t,i),a_(n,this._api)}},updateView:function(t){var e=this._model;e&&(e.setUpdatePayload(t),_y.markUpdateMethod(t,"updateView"),n_(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),r_(this,this._model,this._api,t),a_(e,this._api))},updateVisual:function(t){var e=this,n=this._model;n&&(n.setUpdatePayload(t),n.eachSeries((function(t){t.getData().clearAllVisual()})),_y.markUpdateMethod(t,"updateVisual"),n_(n),this._scheduler.performVisualTasks(n,t,{visualType:"visual",setDirty:!0}),n.eachComponent((function(r,o){if("series"!==r){var i=e.getViewOfComponentModel(o);i&&i.__alive&&i.updateVisual(o,n,e._api,t)}})),n.eachSeries((function(r){var o=e._chartsMap[r.__viewId];o.updateVisual(r,n,e._api,t)})),a_(n,this._api))},updateLayout:function(t){Xw.update.call(this,t)}},Zw=function(t,e,n,r){if(t._disposed)v_(t.id);else{for(var o,i=t._model,a=t._coordSysMgr.getCoordinateSystems(),u=va(i,n),s=0;s<a.length;s++){var c=a[s];if(c[e]&&null!=(o=c[e](i,u,r)))return o}0}},$w=function(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries((function(t){r.updateStreamModes(t,n[t.__viewId])}))},Kw=function(t,e){var n=this,r=this.getModel(),o=t.type,i=t.escapeConnect,a=y_[o],u=a.actionInfo,s=(u.update||"update").split(":"),c=s.pop(),l=null!=s[0]&&Ma(s[0]);this[Nw]=!0;var f=[t],d=!1;t.batch&&(d=!0,f=Ot(t.batch,(function(e){return e=wt(xt({},e),t),e.batch=null,e})));var h,p=[],m=Nl(t),g=Pl(t)||m;if(dw(f,(function(t){h=a.action(t,n._model,n._api),h=h||xt({},t),h.type=u.event||h.type,p.push(h),g?(Yw(n,c,t,"series"),l_(n)):l&&Yw(n,c,t,l.main,l.sub)})),"none"===c||g||l||(this[Pw]?(Gw(this),Xw.update.call(this,t),this[Pw]=!1):Xw[c].call(this,t)),h=d?{type:u.event||o,escapeConnect:i,batch:p}:p[0],this[Nw]=!1,!e){var v=this._messageCenter;if(v.trigger(h.type,h),m){var y={type:"selectchanged",escapeConnect:i,selected:kl(r),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};v.trigger(y.type,y)}}},Jw=function(t){var e=this._pendingActions;while(e.length){var n=e.shift();Kw.call(this,n,t)}},Qw=function(t){!t&&this.trigger("updated")},t_=function(t,e){t.on("rendered",(function(n){e.trigger("rendered",n),!t.animation.isFinished()||e[Pw]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},e_=function(t,e){t.on("mouseover",(function(t){var n=t.target,r=sx(n,El);if(r){var o=Dc(r);wl(o.seriesIndex,o.focus,o.blurScope,e._api,!0),fl(r,t),l_(e)}})).on("mouseout",(function(t){var n=t.target,r=sx(n,El);if(r){var o=Dc(r);wl(o.seriesIndex,o.focus,o.blurScope,e._api,!1),dl(r,t),l_(e)}})).on("click",(function(t){var n=t.target,r=sx(n,(function(t){return null!=Dc(t).dataIndex}),!0);if(r){var o=r.selected?"unselect":"select",i=Dc(r);e._api.dispatchAction({type:o,dataType:i.dataType,dataIndexInside:i.dataIndex,seriesIndex:i.seriesIndex,isFromClick:!0})}}))},n_=function(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))},r_=function(t,e,n,r){o_(t,e,n,r),dw(t._chartsViews,(function(t){t.__alive=!1})),i_(t,e,n,r),dw(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))},o_=function(t,e,n,a,u){dw(u||t._componentsViews,(function(t){var u=t.__model;o(u,t),t.render(u,e,n,a),r(u,t),i(u,t)}))},i_=function(t,a,u,s,c){var l=t._scheduler,f=t._labelManager;f.clearLabels();var d=!1;a.eachSeries((function(e){var r=t._chartsMap[e.__viewId];r.__alive=!0;var i=r.renderTask;l.updatePayload(i,s),o(e,r),c&&c.get(e.uid)&&i.dirty(),i.perform(l.getPerformArgs(i))&&(d=!0),e.__transientTransitionOpt=null,r.group.silent=!!e.get("silent"),n(e,r),Cl(e),f.addLabelsOfSeries(r)})),l.unfinished=d||l.unfinished,f.updateLayoutConfig(u),f.layout(u),f.processLabelsOverall(),a.eachSeries((function(e){var n=t._chartsMap[e.__viewId];r(e,n),i(e,n)})),e(t,a)},a_=function(t,e){dw(S_,(function(n){n(t,e)}))},l_=function(t){t[Lw]=!0,t.getZr().wakeUp()},f_=function(e){e[Lw]&&(e.getZr().storage.traverse((function(e){Vd(e)||t(e)})),e[Lw]=!1)},u_=function(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Z(n,e),n.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(e){while(e){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},n.prototype.enterEmphasis=function(e,n){hl(e,n),l_(t)},n.prototype.leaveEmphasis=function(e,n){pl(e,n),l_(t)},n.prototype.enterBlur=function(e){ml(e),l_(t)},n.prototype.leaveBlur=function(e){gl(e),l_(t)},n.prototype.enterSelect=function(e){vl(e),l_(t)},n.prototype.leaveSelect=function(e){yl(e),l_(t)},n.prototype.getModel=function(){return t.getModel()},n.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},n.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},n}(Gm))(t)},s_=function(t){function e(t,e){for(var n=0;n<t.length;n++){var r=t[n];r[zw]=e}}dw(b_,(function(n,r){t._messageCenter.on(r,(function(n){if(O_[t.group]&&t[zw]!==Vw){if(n&&n.escapeConnect)return;var r=t.makeActionFromEvent(n),o=[];dw(A_,(function(e){e!==t&&e.group===t.group&&o.push(e)})),e(o,Vw),dw(o,(function(t){t[zw]!==Fw&&t.dispatchAction(r)})),e(o,jw)}}))}))},c_=function(t,e){var n=t._model;At(Yi(e),(function(t){var e,r=t.from,o=t.to;null==o&&cv(e);var i={includeMainTypes:["series"],enableAll:!1,enableNone:!1},a=r?va(n,r,i):null,u=va(n,o,i),s=u.seriesModel;null==s&&(e=""),a&&a.seriesModel!==s&&(e=""),null!=e&&cv(e),s.__transientTransitionOpt={from:r?r.dimension:null,to:o.dimension,dividingMethod:t.dividingMethod}}))}}(),e}(Le),m_=p_.prototype;m_.on=Hw("on"),m_.off=Hw("off"),m_.one=function(t,e,n){var r=this;function o(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e&&e.apply&&e.apply(this,n),r.off(t,o)}sv("ECharts#one is deprecated."),this.on.call(this,t,o,n)};var g_=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function v_(t){0}var y_={},b_={},x_=[],w_=[],__=[],S_=[],C_=[],k_={},T_={},A_={},O_={},M_=+new Date-0,D_=(new Date,"_echarts_instance_");function I_(t,e,n){var r=E_(t);if(r)return r;var o=new p_(t,e,n);return o.id="ec_"+M_++,A_[o.id]=o,wa(t,D_,o.id),s_(o),dw(__,(function(t){t(o)})),o}function E_(t){return A_[_a(t,D_)]}function R_(t,e){k_[t]=e}function N_(t){mw(w_,t)<0&&w_.push(t)}function P_(t,e){U_(x_,t,e,ww)}function L_(t){mw(__,t)<0&&t&&__.push(t)}function B_(t){mw(S_,t)<0&&t&&S_.push(t)}function z_(t,e,n){"function"===typeof e&&(n=e,e="");var r=pw(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,b_[e]||(fw(Bw.test(r)&&Bw.test(e)),y_[r]||(y_[r]={action:n,actionInfo:t}),b_[e]=r)}function V_(t,e){Xm.register(t,e)}function F_(t,e){U_(C_,t,e,Sw,"layout")}function j_(t,e){U_(C_,t,e,Tw,"visual")}var H_=[];function U_(t,e,n,r,o){if((hw(e)||pw(e))&&(n=e,e=r),!(mw(H_,n)>=0)){H_.push(n);var i=eb.wrapStageHandler(n,o);i.__prio=e,i.__raw=n,t.push(i)}}function W_(t,e){T_[t]=e}function G_(t,e,n){db.registerMap(t,e,n)}var q_=kv;j_(kw,Ny),j_(Ow,Ly),j_(Ow,By),j_(kw,mb),j_(Ow,gb),j_(Ew,lw),N_(kg),P_(bw,Tg),W_("default",Vy),z_({type:jc,event:jc,update:jc},le),z_({type:Hc,event:Hc,update:Hc},le),z_({type:Uc,event:Uc,update:Uc},le),z_({type:Wc,event:Wc,update:Wc},le),z_({type:Gc,event:Gc,update:Gc},le),R_("light",rb),R_("dark",cb);var Y_=[],X_={registerPreprocessor:N_,registerProcessor:P_,registerPostInit:L_,registerPostUpdate:B_,registerAction:z_,registerCoordinateSystem:V_,registerLayout:F_,registerVisual:j_,registerTransform:q_,registerLoading:W_,registerMap:G_,PRIORITY:Rw,ComponentModel:Qp,ComponentView:dy,SeriesModel:ly,ChartView:_y,registerComponentModel:function(t){Qp.registerClass(t)},registerComponentView:function(t){dy.registerClass(t)},registerSeriesModel:function(t){ly.registerClass(t)},registerChartView:function(t){_y.registerClass(t)},registerSubTypeDefaulter:function(t,e){Qp.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){bi(t,e)}};function Z_(t){Lt(t)?At(t,(function(t){Z_(t)})):St(Y_,t)>=0||(Y_.push(t),Bt(t)&&(t={install:t}),t.install(X_))}function $_(){return!1}function K_(t,e,n){var r=_t(),o=e.getWidth(),i=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=o+"px",a.height=i+"px",r.setAttribute("data-zr-dom-id",t)),r.width=o*n,r.height=i*n,r}var J_=function(t){function e(e,n,r){var o,i=t.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null,r=r||uo,"string"===typeof e?o=K_(e,n,r):jt(e)&&(o=e,e=o.id),i.id=e,i.dom=o;var a=o.style;return a&&(o.onselectstart=$_,a.webkitUserSelect="none",a.userSelect="none",a.webkitTapHighlightColor="rgba(0,0,0,0)",a["-webkit-touch-callout"]="none",a.padding="0",a.margin="0",a.borderWidth="0"),i.domBack=null,i.ctxBack=null,i.painter=n,i.config=null,i.dpr=r,i}return de(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=K_("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o,i=[],a=this.maxRepaintRectCount,u=!1,s=new Yr(0,0,0,0);function c(t){if(t.isFinite()&&!t.isZero())if(0===i.length){var e=new Yr(0,0,0,0);e.copy(t),i.push(e)}else{for(var n=!1,r=1/0,o=0,c=0;c<i.length;++c){var l=i[c];if(l.intersect(t)){var f=new Yr(0,0,0,0);f.copy(l),f.union(t),i[c]=f,n=!0;break}if(u){s.copy(t),s.union(l);var d=t.width*t.height,h=l.width*l.height,p=s.width*s.height,m=p-d-h;m<r&&(r=m,o=c)}}if(u&&(i[o].union(t),n=!0),!n){e=new Yr(0,0,0,0);e.copy(t),i.push(e)}u||(u=i.length>=a)}}for(var l=this.__startIndex;l<this.__endIndex;++l){var f=t[l];if(f){var d=f.shouldBePainted(n,r,!0,!0),h=f.__isRendered&&(f.__dirty&Co.REDARAW_BIT||!d)?f.getPrevPaintRect():null;h&&c(h);var p=d&&(f.__dirty&Co.REDARAW_BIT||!f.__isRendered)?f.getPaintRect():null;p&&c(p)}}for(l=this.__prevStartIndex;l<this.__prevEndIndex;++l){f=e[l],d=f.shouldBePainted(n,r,!0,!0);if(f&&(!d||!f.__zr)&&f.__isRendered){h=f.getPrevPaintRect();h&&c(h)}}do{o=!1;for(l=0;l<i.length;)if(i[l].isZero())i.splice(l,1);else{for(var m=l+1;m<i.length;)i[l].intersect(i[m])?(o=!0,i[l].union(i[m]),i.splice(m,1)):m++;l++}}while(o);return this._paintRects=i,i},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,r=this.dom,o=r.style,i=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),r.width=t*n,r.height=e*n,i&&(i.width=t*n,i.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var r=this.dom,o=this.ctx,i=r.width,a=r.height;e=e||this.clearColor;var u=this.motionBlur&&!t,s=this.lastFrameAlpha,c=this.dpr,l=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,i/c,a/c));var f=this.domBack;function d(t,n,r,i){if(o.clearRect(t,n,r,i),e&&"transparent"!==e){var a=void 0;Gt(e)?(a=e.__canvasGradient||kx(o,e,{x:0,y:0,width:r,height:i}),e.__canvasGradient=a):qt(e)&&(a=Rx(o,e,{dirty:function(){l.setUnpainted(),l.__painter.refresh()}})),o.save(),o.fillStyle=a||e,o.fillRect(t,n,r,i),o.restore()}u&&(o.save(),o.globalAlpha=s,o.drawImage(f,t,n,r,i),o.restore())}!n||u?d(0,0,i,a):n.length&&At(n,(function(t){d(t.x*c,t.y*c,t.width*c,t.height*c)}))},e}(Le),Q_=J_,tS=1e5,eS=314159,nS=.01,rS=.001;function oS(t){return parseInt(t,10)}function iS(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}function aS(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var uS=function(){function t(t,e,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=xt({},n||{}),this.dpr=n.devicePixelRatio||uo,this._singleCanvas=o,this.root=t;var i=t.style;i&&(i.webkitTapHighlightColor="transparent",i.webkitUserSelect="none",i.userSelect="none",i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(o){var s=t,c=s.width,l=s.height;null!=n.width&&(c=n.width),null!=n.height&&(l=n.height),this.dpr=n.devicePixelRatio||1,s.width=c*this.dpr,s.height=l*this.dpr,this._width=c,this._height=l;var f=new Q_(s,this,this.dpr);f.__builtin__=!0,f.initContext(),u[eS]=f,f.zlevel=eS,a.push(eS),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=aS(this._width,this._height);t.appendChild(d)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var o=0;o<r.length;o++){var i=r[o],a=this._layers[i];if(!a.__builtin__&&a.refresh){var u=0===o?this._backgroundColor:null;a.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},i=0;i<e;i++){var a=t[i];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(tS)),r||(r=n.ctx,r.save()),Qx(r,a,o,i===e-1))}r&&r.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(tS)},t.prototype.paintOne=function(t,e){Jx(t,e)},t.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,n),i=o.finished,a=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),i)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var u=this;jo((function(){u._paintList(t,e,n,r)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(eS).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)}))},t.prototype._doPaintList=function(t,e,n){for(var r=this,o=[],i=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var u=this._zlevelList[a],s=this._layers[u];s.__builtin__&&s!==this._hoverlayer&&(s.__dirty||n)&&o.push(s)}for(var c=!0,l=!1,f=function(a){var u=o[a],s=u.ctx,f=i&&u.createRepaintRects(t,e,d._width,d._height);s.save();var h,p=n?u.__startIndex:u.__drawIndex,m=!n&&u.incremental&&Date.now,g=m&&Date.now(),v=u.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(u.__startIndex===u.__endIndex)u.clear(!1,v,f);else if(p===u.__startIndex){var y=t[p];y.incremental&&y.notClear&&!n||u.clear(!1,v,f)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=u.__startIndex);var b=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(h=p;h<u.__endIndex;h++){var o=t[h];if(o.__inHover&&(l=!0),r._doPaintEl(o,u,i,e,n,h===u.__endIndex-1),m){var a=Date.now()-g;if(a>15)break}}n.prevElClipPaths&&s.restore()};if(f)if(0===f.length)h=u.__endIndex;else for(var x=d.dpr,w=0;w<f.length;++w){var _=f[w];s.save(),s.beginPath(),s.rect(_.x*x,_.y*x,_.width*x,_.height*x),s.clip(),b(_),s.restore()}else s.save(),b(),s.restore();u.__drawIndex=h,u.__drawIndex<u.__endIndex&&(c=!1)},d=this,h=0;h<o.length;h++)f(h);return nt.wxa&&At(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:c,needsRefreshHover:l}},t.prototype._doPaintEl=function(t,e,n,r,o,i){var a=e.ctx;if(n){var u=t.getPaintRect();(!r||u&&u.intersect(r))&&(Qx(a,t,o,i),t.setPrevPaintRect(u))}else Qx(a,t,o,i)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=eS);var n=this._layers[t];return n||(n=new Q_("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?yt(n,this._layerConfig[t],!0):this._layerConfig[t-nS]&&yt(n,this._layerConfig[t-nS],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,o=r.length,i=this._domRoot,a=null,u=-1;if(n[t])gt("ZLevel "+t+" has been used already");else if(iS(e)){if(o>0&&t>r[0]){for(u=0;u<o-1;u++)if(r[u]<t&&r[u+1]>t)break;a=n[r[u]]}if(r.splice(u+1,0,t),n[t]=e,!e.virtual)if(a){var s=a.dom;s.nextSibling?i.insertBefore(e.dom,s.nextSibling):i.appendChild(e.dom)}else i.firstChild?i.insertBefore(e.dom,i.firstChild):i.appendChild(e.dom);e.__painter=this}else gt("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r];t.call(e,this._layers[o],o)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],i=this._layers[o];i.__builtin__&&t.call(e,i,o)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],i=this._layers[o];i.__builtin__||t.call(e,i,o)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){a&&(a.__endIndex!==t&&(a.__dirty=!0),a.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++){var r=t[n];if(r.zlevel!==t[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var o,i,a=null,u=0;for(i=0;i<t.length;i++){r=t[i];var s=r.zlevel,c=void 0;o!==s&&(o=s,u=0),r.incremental?(c=this.getLayer(s+rS,this._needsManuallyCompositing),c.incremental=!0,u=1):c=this.getLayer(s+(u>0?nS:0),this._needsManuallyCompositing),c.__builtin__||gt("ZLevel "+s+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==i&&(c.__dirty=!0),c.__startIndex=i,c.incremental?c.__drawIndex=-1:c.__drawIndex=i,e(i),a=c),r.__dirty&Co.REDARAW_BIT&&!r.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=i))}e(i),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,At(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?yt(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===t||o===t+nS){var i=this._layers[o];yt(i,n[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(St(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(eS).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[eS].dom;var e=new Q_("image",this,t.pixelRatio||this.dpr),n=e.ctx;if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height,i=e.ctx;this.eachLayer((function(t){t.__builtin__?i.drawImage(t.dom,0,0,r,o):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},u=this.storage.getDisplayList(!0),s=0,c=u.length;s<c;s++){var l=u[s];Qx(n,l,a,s===c-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],i=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,u=document.defaultView.getComputedStyle(a);return(a[r]||oS(u[n])||oS(a.style[n]))-(oS(u[o])||0)-(oS(u[i])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),o=t.getBoundingRect(),i=t.style,a=i.shadowBlur*e,u=i.shadowOffsetX*e,s=i.shadowOffsetY*e,c=t.hasStroke()?i.lineWidth:0,l=Math.max(c/2,-u+a),f=Math.max(c/2,u+a),d=Math.max(c/2,-s+a),h=Math.max(c/2,s+a),p=o.width+l+f,m=o.height+d+h;n.width=p*e,n.height=m*e,r.scale(e,e),r.clearRect(0,0,p,m),r.dpr=e;var g={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=l-o.x,t.y=d-o.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Qx(r,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var v=new ac({style:{x:0,y:0,image:n}});return xt(t,g),v},t}(),sS=uS;function cS(t){t.registerPainter("canvas",sS)}function lS(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function fS(t,e,n){n||(n=function(t,e){return t===e}),t=t.slice(),e=e.slice();var r=e.length,o=t.length,i=1,a=r+o,u=[{newPos:-1,components:[]}],s=dS(u[0],e,t,0,n);if(u[0].newPos+1>=r&&s+1>=o){for(var c=[],l=0;l<e.length;l++)c.push(l);return[{indices:c,count:e.length,added:!1,removed:!1}]}function f(){for(var a=-1*i;a<=i;a+=2){var s,c=u[a-1],l=u[a+1],f=(l?l.newPos:0)-a;c&&(u[a-1]=void 0);var d=c&&c.newPos+1<r,h=l&&0<=f&&f<o;if(d||h){if(!d||h&&c.newPos<l.newPos?(s=mS(l),hS(s.components,!1,!0)):(s=c,s.newPos++,hS(s.components,!0,!1)),f=dS(s,e,t,a,n),s.newPos+1>=r&&f+1>=o)return pS(s.components);u[a]=s}else u[a]=void 0}i++}while(i<=a){var d=f();if(d)return d}}function dS(t,e,n,r,o){var i=e.length,a=n.length,u=t.newPos,s=u-r,c=0;while(u+1<i&&s+1<a&&o(e[u+1],n[s+1]))u++,s++,c++;return c&&t.components.push({count:c,added:!1,removed:!1,indices:[]}),t.newPos=u,s}function hS(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n,indices:[]}:t.push({count:1,added:e,removed:n,indices:[]})}function pS(t){for(var e=0,n=t.length,r=0,o=0;e<n;e++){var i=t[e];if(i.removed){for(u=o;u<o+i.count;u++)i.indices.push(u);o+=i.count}else{for(var a=[],u=r;u<r+i.count;u++)a.push(u);i.indices=a,r+=i.count,i.added||(o+=i.count)}}return t}function mS(t){return{newPos:t.newPos,components:t.components.slice(0)}}function gS(t,e,n){return fS(t,e,n)}var vS="none",yS=Math.round,bS=Math.sin,xS=Math.cos,wS=Math.PI,_S=2*Math.PI,SS=180/wS,CS=1e-4;function kS(t){return yS(1e3*t)/1e3}function TS(t){return yS(1e4*t)/1e4}function AS(t){return t<CS&&t>-CS}function OS(t){var e=t.fill;return null!=e&&e!==vS}function MS(t){var e=t.stroke;return null!=e&&e!==vS}function DS(t,e){e&&IS(t,"transform","matrix("+kS(e[0])+","+kS(e[1])+","+kS(e[2])+","+kS(e[3])+","+TS(e[4])+","+TS(e[5])+")")}function IS(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&t.setAttribute(e,n)}function ES(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function RS(t,e,n){t.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,n)}function NS(t,e,n){var r=null==e.opacity?1:e.opacity;if(n instanceof ac)t.style.opacity=r+"";else{if(OS(e)){var o=e.fill;o="transparent"===o?vS:o,IS(t,"fill",o),IS(t,"fill-opacity",(null!=e.fillOpacity?e.fillOpacity*r:r)+"")}else IS(t,"fill",vS);if(MS(e)){var i=e.stroke;i="transparent"===i?vS:i,IS(t,"stroke",i);var a=e.lineWidth,u=e.strokeNoScale?n.getLineScale():1;IS(t,"stroke-width",(u?a/u:0)+""),IS(t,"paint-order",e.strokeFirst?"stroke":"fill"),IS(t,"stroke-opacity",(null!=e.strokeOpacity?e.strokeOpacity*r:r)+"");var s=e.lineDash&&a>0&&Ax(e.lineDash,a);if(s){var c=e.lineDashOffset;u&&1!==u&&(s=Ot(s,(function(t){return t/u})),c&&(c/=u,c=yS(c))),IS(t,"stroke-dasharray",s.join(",")),IS(t,"stroke-dashoffset",(c||0)+"")}else IS(t,"stroke-dasharray","");e.lineCap&&IS(t,"stroke-linecap",e.lineCap),e.lineJoin&&IS(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&IS(t,"stroke-miterlimit",e.miterLimit+"")}else IS(t,"stroke",vS)}}var PS=function(){function t(){}return t.prototype.reset=function(){this._d=[],this._str=""},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,r,o,i){this._add("C",t,e,n,r,o,i)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._add("Q",t,e,n,r)},t.prototype.arc=function(t,e,n,r,o,i){this.ellipse(t,e,n,n,0,r,o,i)},t.prototype.ellipse=function(t,e,n,r,o,i,a,u){var s=0===this._d.length,c=a-i,l=!u,f=Math.abs(c),d=AS(f-_S)||(l?c>=_S:-c>=_S),h=c>0?c%_S:c%_S+_S,p=!1;p=!!d||!AS(f)&&h>=wS===!!l;var m=TS(t+n*xS(i)),g=TS(e+r*bS(i));d&&(c=l?_S-1e-4:1e-4-_S,p=!0,s&&this._d.push("M",m,g));var v=TS(t+n*xS(i+c)),y=TS(e+r*bS(i+c));if(isNaN(m)||isNaN(g)||isNaN(n)||isNaN(r)||isNaN(o)||isNaN(SS)||isNaN(v)||isNaN(y))return"";this._d.push("A",TS(n),TS(r),yS(o*SS),+p,+l,v,y)},t.prototype.rect=function(t,e,n,r){this._add("M",t,e),this._add("L",t+n,e),this._add("L",t+n,e+r),this._add("L",t,e+r),this._add("L",t,e)},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,n,r,o,i,a,u,s){this._d.push(t);for(var c=1;c<arguments.length;c++){var l=arguments[c];if(isNaN(l))return void(this._invalid=!0);this._d.push(TS(l))}},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),LS={brush:function(t){var e=t.style,n=t.__svgEl;n||(n=lS("path"),t.__svgEl=n),t.path||t.createPathProxy();var r=t.path;t.shapeChanged()&&(r.beginPath(),t.buildPath(r,t.shape),t.pathUpdated());var o=r.getVersion(),i=t,a=i.__svgPathBuilder;(i.__svgPathVersion!==o||!a||t.style.strokePercent<1)&&(a||(a=i.__svgPathBuilder=new PS),a.reset(),r.rebuildPath(a,t.style.strokePercent),a.generateStr(),i.__svgPathVersion=o),IS(n,"d",a.getStr()),NS(n,e,t),DS(n,t.transform)}},BS={brush:function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement?n=n.src:n instanceof HTMLCanvasElement&&(n=n.toDataURL()),n){var r=e.x||0,o=e.y||0,i=e.width,a=e.height,u=t.__svgEl;u||(u=lS("image"),t.__svgEl=u),n!==t.__imageSrc&&(ES(u,"href",n),t.__imageSrc=n),IS(u,"width",i+""),IS(u,"height",a+""),IS(u,"x",r+""),IS(u,"y",o+""),NS(u,e,t),DS(u,t.transform)}}},zS={left:"start",right:"end",center:"middle",middle:"middle"};function VS(t,e,n){return"top"===n?t+=e/2:"bottom"===n&&(t-=e/2),t}var FS={brush:function(t){var e=t.style,n=e.text;if(null!=n&&(n+=""),n&&!isNaN(e.x)&&!isNaN(e.y)){var r=t.__svgEl;r||(r=lS("text"),RS(r,"xml:space","preserve"),t.__svgEl=r);var o=e.font||Zr,i=r.style;i.font=o,r.textContent=n,NS(r,e,t),DS(r,t.transform);var a=e.x||0,u=VS(e.y||0,ro(o),e.textBaseline),s=zS[e.textAlign]||e.textAlign;IS(r,"dominant-baseline","central"),IS(r,"text-anchor",s),IS(r,"x",a+""),IS(r,"y",u+"")}}},jS="0",HS="1",US=function(){function t(t,e,n,r,o){this.nextId=0,this._domName="_dom",this.createElement=lS,this._zrId=t,this._svgRoot=e,this._tagNames="string"===typeof n?[n]:n,this._markLabel=r,o&&(this._domName=o)}return t.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");if(0===n.length){if(t){var r=e.insertBefore(this.createElement("defs"),e.firstChild);return r.contains||(r.contains=function(t){var e=r.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),r}return null}return n[0]},t.prototype.doUpdate=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))"function"===typeof e&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},t.prototype.add=function(t){return null},t.prototype.addDom=function(t){var e=this.getDefs(!0);t.parentNode!==e&&e.appendChild(t)},t.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},t.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return At(this._tagNames,(function(n){for(var r=t.getElementsByTagName(n),o=0;o<r.length;o++)e.push(r[o])})),e},t.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;At(t,(function(t){t[e._markLabel]=jS}))},t.prototype.markDomUsed=function(t){t&&(t[this._markLabel]=HS)},t.prototype.markDomUnused=function(t){t&&(t[this._markLabel]=jS)},t.prototype.isDomUnused=function(t){return t&&t[this._markLabel]!==HS},t.prototype.removeUnused=function(){var t=this,e=this.getDefs(!1);if(e){var n=this.getDoms();At(n,(function(n){t.isDomUnused(n)&&e.removeChild(n)}))}},t.prototype.getSvgProxy=function(t){return t instanceof Js?LS:t instanceof ac?BS:t instanceof ec?FS:LS},t.prototype.getSvgElement=function(t){return t.__svgEl},t}(),WS=US;function GS(t){return"linear"===t.type}function qS(t){return"radial"===t.type}function YS(t){return t&&("linear"===t.type||"radial"===t.type)}var XS=function(t){function e(e,n){return t.call(this,e,n,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return de(e,t),e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;At(["fill","stroke"],(function(r){var o=e.style[r];if(YS(o)){var i=o,a=n.getDefs(!0),u=void 0;i.__dom?(u=i.__dom,a.contains(i.__dom)||n.addDom(u)):u=n.add(i),n.markUsed(e);var s=u.getAttribute("id");t.setAttribute(r,"url(#"+s+")")}}))}},e.prototype.add=function(t){var e;if(GS(t))e=this.createElement("linearGradient");else{if(!qS(t))return gt("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},e.prototype.update=function(t){if(YS(t)){var e=this;this.doUpdate(t,(function(){var n=t.__dom;if(n){var r=n.tagName,o=t.type;"linear"===o&&"linearGradient"===r||"radial"===o&&"radialGradient"===r?e.updateDom(t,t.__dom):(e.removeDom(t),e.add(t))}}))}},e.prototype.updateDom=function(t,e){if(GS(t))e.setAttribute("x1",t.x+""),e.setAttribute("y1",t.y+""),e.setAttribute("x2",t.x2+""),e.setAttribute("y2",t.y2+"");else{if(!qS(t))return void gt("Illegal gradient type.");e.setAttribute("cx",t.x+""),e.setAttribute("cy",t.y+""),e.setAttribute("r",t.r+"")}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,r=0,o=n.length;r<o;++r){var i=this.createElement("stop");i.setAttribute("offset",100*n[r].offset+"%");var a=n[r].color;if(a.indexOf("rgba")>-1){var u=ir(a)[3],s=cr(a);i.setAttribute("stop-color","#"+s),i.setAttribute("stop-opacity",u+"")}else i.setAttribute("stop-color",n[r].color);e.appendChild(i)}t.__dom=e},e.prototype.markUsed=function(e){if(e.style){var n=e.style.fill;n&&n.__dom&&t.prototype.markDomUsed.call(this,n.__dom),n=e.style.stroke,n&&n.__dom&&t.prototype.markDomUsed.call(this,n.__dom)}},e}(WS),ZS=XS;function $S(t){return t&&(!!t.image||!!t.svgElement)}var KS=new fx,JS=function(t){function e(e,n){return t.call(this,e,n,["pattern"],"__pattern_in_use__")||this}return de(e,t),e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;At(["fill","stroke"],(function(r){var o=e.style[r];if($S(o)){var i=n.getDefs(!0),a=KS.get(o);a?i.contains(a)||n.addDom(a):a=n.add(o),n.markUsed(e);var u=a.getAttribute("id");t.setAttribute(r,"url(#"+u+")")}}))}},e.prototype.add=function(t){if($S(t)){var e=this.createElement("pattern");return t.id=null==t.id?this.nextId++:t.id,e.setAttribute("id","zr"+this._zrId+"-pattern-"+t.id),e.setAttribute("x","0"),e.setAttribute("y","0"),e.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(t,e),this.addDom(e),e}},e.prototype.update=function(t){if($S(t)){var e=this;this.doUpdate(t,(function(){var n=KS.get(t);e.updateDom(t,n)}))}},e.prototype.updateDom=function(t,e){var n=t.svgElement;if(n instanceof SVGElement)n.parentNode!==e&&(e.innerHTML="",e.appendChild(n),e.setAttribute("width",t.svgWidth+""),e.setAttribute("height",t.svgHeight+""));else{var r=void 0,o=e.getElementsByTagName("image");if(o.length){if(!t.image)return void e.removeChild(o[0]);r=o[0]}else t.image&&(r=this.createElement("image"));if(r){var i=void 0;if("string"===typeof t.image?i=t.image:t.image instanceof HTMLImageElement?i=t.image.src:t.image instanceof HTMLCanvasElement&&(i=t.image.toDataURL()),i){r.setAttribute("href",i),r.setAttribute("x","0"),r.setAttribute("y","0");var a={dirty:function(){}},u=qa(i,r,a,(function(t){e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")}));u&&u.width&&u.height&&(e.setAttribute("width",u.width+""),e.setAttribute("height",u.height+"")),e.appendChild(r)}}}var s=t.x||0,c=t.y||0,l=(t.rotation||0)/Math.PI*180,f=t.scaleX||1,d=t.scaleY||1,h="translate("+s+", "+c+") rotate("+l+") scale("+f+", "+d+")";e.setAttribute("patternTransform",h),KS.set(t,e)},e.prototype.markUsed=function(e){e.style&&($S(e.style.fill)&&t.prototype.markDomUsed.call(this,KS.get(e.style.fill)),$S(e.style.stroke)&&t.prototype.markDomUsed.call(this,KS.get(e.style.stroke)))},e}(WS),QS=JS;new Gn(50);function tC(t){var e=[];if(t)for(var n=0;n<t.length;n++){var r=t[n];e.push(r.id)}return e.join(",")}function eC(t){var e=t.__clipPaths;return e&&e.length>0}var nC=function(t){function e(e,n){var r=t.call(this,e,n,"clipPath","__clippath_in_use__")||this;return r._refGroups={},r._keyDuplicateCount={},r}return de(e,t),e.prototype.markAllUnused=function(){for(var e in t.prototype.markAllUnused.call(this),this._refGroups)this.markDomUnused(this._refGroups[e]);this._keyDuplicateCount={}},e.prototype._getClipPathGroup=function(t,e){if(eC(t)){var n=t.__clipPaths,r=this._keyDuplicateCount,o=tC(n);return Tx(n,e&&e.__clipPaths)&&(r[o]=r[o]||0,r[o]&&(o+="-"+r[o]),r[o]++),this._refGroups[o]||(this._refGroups[o]=this.createElement("g"))}},e.prototype.update=function(t,e){var n=this._getClipPathGroup(t,e);return n&&(this.markDomUsed(n),this.updateDom(n,t.__clipPaths)),n},e.prototype.updateDom=function(t,e){if(e&&e.length>0){var n=this.getDefs(!0),r=e[0],o=void 0,i=void 0;r._dom?(i=r._dom.getAttribute("id"),o=r._dom,n.contains(o)||n.appendChild(o)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,o=this.createElement("clipPath"),o.setAttribute("id",i),n.appendChild(o),r._dom=o);var a=this.getSvgProxy(r);a.brush(r);var u=this.getSvgElement(r);o.innerHTML="",o.appendChild(u),t.setAttribute("clip-path","url(#"+i+")"),e.length>1&&this.updateDom(o,e.slice(1))}else t&&t.setAttribute("clip-path","none")},e.prototype.markUsed=function(e){var n=this;e.__clipPaths&&At(e.__clipPaths,(function(e){e._dom&&t.prototype.markDomUsed.call(n,e._dom)}))},e.prototype.removeUnused=function(){t.prototype.removeUnused.call(this);var e={};for(var n in this._refGroups){var r=this._refGroups[n];this.isDomUnused(r)?r.parentNode&&r.parentNode.removeChild(r):e[n]=r}this._refGroups=e},e}(WS),rC=nC,oC=function(t){function e(e,n){var r=t.call(this,e,n,["filter"],"__filter_in_use__","_shadowDom")||this;return r._shadowDomMap={},r._shadowDomPool=[],r}return de(e,t),e.prototype._getFromPool=function(){var t=this._shadowDomPool.pop();if(!t){t=this.createElement("filter"),t.setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var e=this.createElement("feDropShadow");t.appendChild(e),this.addDom(t)}return t},e.prototype.update=function(t,e){var n=e.style;if(aC(n)){var r=uC(e),o=e._shadowDom=this._shadowDomMap[r];o||(o=this._getFromPool(),this._shadowDomMap[r]=o),this.updateDom(t,e,o)}else this.remove(t,e)},e.prototype.remove=function(t,e){null!=e._shadowDom&&(e._shadowDom=null,t.style.filter="")},e.prototype.updateDom=function(t,e,n){var r=n.children[0],o=e.style,i=e.getGlobalScale(),a=i[0],u=i[1];if(a&&u){var s=o.shadowOffsetX||0,c=o.shadowOffsetY||0,l=o.shadowBlur,f=o.shadowColor;r.setAttribute("dx",s/a+""),r.setAttribute("dy",c/u+""),r.setAttribute("flood-color",f);var d=l/2/a,h=l/2/u,p=d+" "+h;r.setAttribute("stdDeviation",p),n.setAttribute("x","-100%"),n.setAttribute("y","-100%"),n.setAttribute("width","300%"),n.setAttribute("height","300%"),e._shadowDom=n;var m=n.getAttribute("id");t.style.filter="url(#"+m+")"}},e.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this._shadowDomPool;for(var n in this._shadowDomMap){var r=this._shadowDomMap[n];e.push(r)}this._shadowDomMap={}}},e}(WS),iC=oC;function aC(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function uC(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function sC(t){return parseInt(t,10)}function cC(t){return t instanceof Js?LS:t instanceof ac?BS:t instanceof ec?FS:LS}function lC(t,e){return e&&t&&e.parentNode!==t}function fC(t,e,n){if(lC(t,e)&&n){var r=n.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}}function dC(t,e){if(lC(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function hC(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function pC(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function mC(t){return t.__svgEl}var gC=function(){function t(t,e,n,r){this.type="svg",this.refreshHover=vC("refreshHover"),this.pathToImage=vC("pathToImage"),this.configLayer=vC("configLayer"),this.root=t,this.storage=e,this._opts=n=xt({},n||{});var o=lS("svg");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var i=lS("g");o.appendChild(i);var a=lS("g");o.appendChild(a),this._gradientManager=new ZS(r,a),this._patternManager=new QS(r,a),this._clipPathManager=new rC(r,a),this._shadowManager=new iC(r,a);var u=document.createElement("div");u.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=a,this._backgroundRoot=i,this._viewport=u,t.appendChild(u),u.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]}return t.prototype.getType=function(){return"svg"},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.getSvgRoot=function(){return this._svgRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},t.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=lS("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0),e.style.fill=t,this._backgroundRoot.appendChild(e),this._backgroundNode=e},t.prototype.createSVGElement=function(t){return lS(t)},t.prototype.paintOne=function(t){var e=cC(t);return e&&e.brush(t),mC(t)},t.prototype._paintList=function(t){var e=this._gradientManager,n=this._patternManager,r=this._clipPathManager,o=this._shadowManager;e.markAllUnused(),n.markAllUnused(),r.markAllUnused(),o.markAllUnused();for(var i=this._svgRoot,a=this._visibleList,u=t.length,s=[],c=0;c<u;c++){var l=t[c],f=cC(l),d=mC(l);l.invisible||(!l.__dirty&&d||(f&&f.brush(l),d=mC(l),d&&l.style&&(e.update(l.style.fill),e.update(l.style.stroke),n.update(l.style.fill),n.update(l.style.stroke),o.update(d,l)),l.__dirty=0),d&&s.push(l))}var h,p,m,g,v=gS(a,s);for(c=0;c<v.length;c++){var y=v[c];if(y.removed)for(var b=0;b<y.count;b++){l=a[y.indices[b]],d=mC(l);eC(l)?pC(d):hC(i,d)}}for(c=0;c<v.length;c++){y=v[c],y.added;if(!y.removed)for(b=0;b<y.count;b++){l=s[y.indices[b]];var x=r.update(l,m);x!==g&&(h=p,x&&(h?fC(i,x,h):dC(i,x),p=x,h=null),g=x);d=mC(l);h?fC(g||i,d,h):dC(g||i,d),h=d||h,g||(p=h),e.markUsed(l),e.addWithoutUpdate(d,l),n.markUsed(l),n.addWithoutUpdate(d,l),r.markUsed(l),m=l}}e.removeUnused(),n.removeUnused(),r.removeUnused(),o.removeUnused(),this._visibleList=s},t.prototype._getDefs=function(t){var e=this._svgDom,n=e.getElementsByTagName("defs");if(0===n.length){if(t){var r=e.insertBefore(lS("defs"),e.firstChild);return r.contains||(r.contains=function(t){var e=r.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),r}return null}return n[0]},t.prototype.resize=function(t,e){var n=this._viewport;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=n.style;o.width=t+"px",o.height=e+"px";var i=this._svgDom;i.setAttribute("width",t+""),i.setAttribute("height",e+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],i=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,u=document.defaultView.getComputedStyle(a);return(a[r]||sC(u[n])||sC(a.style[n]))-(sC(u[o])||0)-(sC(u[i])||0)|0},t.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},t.prototype.clear=function(){var t=this._viewport;t&&t.parentNode&&t.parentNode.removeChild(t)},t.prototype.toDataURL=function(){this.refresh();var t=this._svgDom,e=t.outerHTML||(t.parentNode&&t.parentNode).innerHTML,n=encodeURIComponent(e.replace(/></g,">\n\r<"));return"data:image/svg+xml;charset=UTF-8,"+n},t}();function vC(t){return function(){gt('In SVG mode painter not support method "'+t+'"')}}var yC=gC;function bC(t){t.registerPainter("svg",yC)}function xC(t){return null==t?0:t.length||1}function wC(t){return t}var _C=function(){function t(t,e,n,r,o,i){this._old=t,this._new=e,this._oldKeyGetter=n||wC,this._newKeyGetter=r||wC,this.context=o,this._diffModeMultiple="multiple"===i}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var i=0;i<t.length;i++){var a=r[i],u=n[a],s=xC(u);if(s>1){var c=u.shift();1===u.length&&(n[a]=u[0]),this._update&&this._update(c,i)}else 1===s?(n[a]=null,this._update&&this._update(u,i)):this._remove&&this._remove(i)}this._performRestAdd(o,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},r={},o=[],i=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(e,r,i,"_newKeyGetter");for(var a=0;a<o.length;a++){var u=o[a],s=n[u],c=r[u],l=xC(s),f=xC(c);if(l>1&&1===f)this._updateManyToOne&&this._updateManyToOne(c,s),r[u]=null;else if(1===l&&f>1)this._updateOneToMany&&this._updateOneToMany(c,s),r[u]=null;else if(1===l&&1===f)this._update&&this._update(c,s),r[u]=null;else if(l>1)for(var d=0;d<l;d++)this._remove&&this._remove(s[d]);else this._remove&&this._remove(s)}this._performRestAdd(i,r)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e[r],i=xC(o);if(i>1)for(var a=0;a<i;a++)this._add&&this._add(o[a]);else 1===i&&this._add&&this._add(o);e[r]=null}},t.prototype._initIndexMap=function(t,e,n,r){for(var o=this._diffModeMultiple,i=0;i<t.length;i++){var a="_ec_"+this[r](t[i],i);if(o||(n[i]=a),e){var u=e[a],s=xC(u);0===s?(e[a]=i,o&&n.push(a)):1===s?e[a]=[u,i]:u.push(i)}}},t}(),SC=_C;function CC(t){var e={},n=e.encode={},r=ae(),o=[],i=[],a=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};At(t.dimensions,(function(e){var u=t.getDimensionInfo(e),s=u.coordDim;if(s){0;var c=u.coordDimIndex;kC(n,s)[c]=e,u.isExtraCoord||(r.set(s,1),AC(u.type)&&(o[0]=e),kC(a.encode,s)[c]=u.index),u.defaultTooltip&&i.push(e)}rm.each((function(t,e){var r=kC(n,e),o=u.otherDims[e];null!=o&&!1!==o&&(r[o]=u.name)}))}));var u=[],s={};r.each((function(t,e){var r=n[e];s[e]=r[0],u=u.concat(r)})),e.dataDimsOnCoord=u,e.encodeFirstDimNotExtra=s;var c=n.label;c&&c.length&&(o=c.slice());var l=n.tooltip;return l&&l.length?i=l.slice():i.length||(i=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=i,e}function kC(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function TC(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function AC(t){return!("ordinal"===t||"time"===t)}var OC,MC,DC,IC,EC,RC,NC,PC,LC,BC,zC,VC,FC,jC,HC=function(){function t(t){this.otherDims={},null!=t&&xt(this,t)}return t}(),UC=HC,WC=Math.floor,GC=jt,qC=Ot,YC="undefined",XC=-1,ZC="e\0\0",$C={float:typeof Float64Array===YC?Array:Float64Array,int:typeof Int32Array===YC?Array:Int32Array,ordinal:Array,number:Array,time:Array},KC=typeof Uint32Array===YC?Array:Uint32Array,JC=typeof Int32Array===YC?Array:Int32Array,QC=typeof Uint16Array===YC?Array:Uint16Array,tk=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ek=["_extent","_approximateExtent","_rawExtent"],nk=function(){function t(t,e){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=EC,t=t||["x","y"];for(var n={},r=[],o={},i=0;i<t.length;i++){var a=t[i],u=zt(a)?new UC({name:a}):a instanceof UC?a:new UC(a),s=u.name;u.type=u.type||"float",u.coordDim||(u.coordDim=s,u.coordDimIndex=0);var c=u.otherDims=u.otherDims||{};r.push(s),n[s]=u,u.index=i,u.createInvertedIndices&&(o[s]=[]),0===c.itemName&&(this._nameDimIdx=i,this._nameOrdinalMeta=u.ordinalMeta),0===c.itemId&&(this._idDimIdx=i,this._idOrdinalMeta=u.ordinalMeta)}this.dimensions=r,this._dimensionInfos=n,this.hostModel=e,this._dimensionsSummary=CC(this),this._invertedIndicesMap=o,this.userOutput=this._dimensionsSummary.userOutput}return t.prototype.getDimension=function(t){return"number"!==typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},t.prototype.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},t.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},t.prototype.mapDimensionsAll=function(t){var e=this._dimensionsSummary,n=e.encode[t];return(n||[]).slice()},t.prototype.initData=function(t,e,n){var r=Ng(t)||Tt(t),o=r?new Wg(t,this.dimensions.length):t;this._rawData=o;var i=o.getSource().sourceFormat;this._storage={},this._indices=null,this._dontMakeIdFromName=null!=this._idDimIdx||i===sm||!!o.fillStorage,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=OC[i],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=OC.arrayRows,this._rawExtent={},this._initDataFromProvider(0,o.count()),o.pure&&(this.hasItemOption=!1)},t.prototype.getProvider=function(){return this._rawData},t.prototype.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var r=e.count();e.persistent||(r+=n),this._initDataFromProvider(n,r,!0)},t.prototype.appendValues=function(t,e){for(var n=this._storage,r=this.dimensions,o=r.length,i=this._rawExtent,a=this.count(),u=a+Math.max(t.length,e?e.length:0),s=0;s<o;s++){var c=r[s];i[c]||(i[c]=VC()),IC(n,this._dimensionInfos[c],u,!0)}for(var l=qC(r,(function(t){return i[t]})),f=this._storageArr=qC(r,(function(t){return n[t]})),d=[],h=a;h<u;h++){for(var p=h-a,m=0;m<o;m++){c=r[m];var g=this._dimValueGetterArrayRows(t[p]||d,c,p,m);f[m][h]=g;var v=l[m];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}e&&(this._nameList[h]=e[p],this._dontMakeIdFromName||LC(this,h))}this._rawCount=this._count=u,this._extent={},MC(this)},t.prototype._initDataFromProvider=function(t,e,n){if(!(t>=e)){for(var r=this._rawData,o=this._storage,i=this.dimensions,a=i.length,u=this._dimensionInfos,s=this._nameList,c=this._idList,l=this._rawExtent,f=r.getSource().sourceFormat,d=f===om,h=0;h<a;h++){var p=i[h];l[p]||(l[p]=VC()),IC(o,u[p],e,n)}var m=this._storageArr=qC(i,(function(t){return o[t]})),g=qC(i,(function(t){return l[t]}));if(r.fillStorage)r.fillStorage(t,e,m,g);else for(var v=[],y=t;y<e;y++){v=r.getItem(y,v);for(var b=0;b<a;b++){p=i[b];var x=m[b],w=this._dimValueGetter(v,p,y,b);x[y]=w;var _=g[b];w<_[0]&&(_[0]=w),w>_[1]&&(_[1]=w)}if(d&&!r.pure&&v){var S=v.name;null==s[y]&&null!=S&&(s[y]=ua(S,null));var C=v.id;null==c[y]&&null!=C&&(c[y]=ua(C,null))}this._dontMakeIdFromName||LC(this,y)}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},MC(this)}},t.prototype.count=function(){return this._count},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new n(e.buffer,0,r)}else{n=DC(this);t=new n(this.count());for(o=0;o<t.length;o++)t[o]=o}return t},t.prototype.getByDimIdx=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storageArr[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];return n?n[e]:NaN},t.prototype.getValues=function(t,e){var n=[];Lt(t)||(e=t,t=this.dimensions);for(var r=0,o=t.length;r<o;r++)n.push(this.get(t[r],e));return n},t.prototype.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},t.prototype.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=VC();if(!e)return n;var r,o=this.count(),i=!this._indices;if(i)return this._rawExtent[t].slice();if(r=this._extent[t],r)return r.slice();r=n;for(var a=r[0],u=r[1],s=0;s<o;s++){var c=this.getRawIndex(s),l=e[c];l<a&&(a=l),l>u&&(u=l)}return r=[a,u],this._extent[t]=r,r},t.prototype.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){GC(t)?xt(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getSum=function(t){var e=this._storage[t],n=0;if(e)for(var r=0,o=this.count();r<o;r++){var i=this.get(t,r);isNaN(i)||(n+=i)}return n},t.prototype.getMedian=function(t){var e=[];this.each(t,(function(t){isNaN(t)||e.push(t)}));var n=e.sort((function(t,e){return t-e})),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];var r=n[e];return null==r||isNaN(r)?XC:r},t.prototype.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;var r=0,o=this._count-1;while(r<=o){var i=(r+o)/2|0;if(e[i]<t)r=i+1;else{if(!(e[i]>t))return i;o=i-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var r=this._storage,o=r[t],i=[];if(!o)return i;null==n&&(n=1/0);for(var a=1/0,u=-1,s=0,c=0,l=this.count();c<l;c++){var f=this.getRawIndex(c),d=e-o[f],h=Math.abs(d);h<=n&&((h<a||h===a&&d>=0&&u<0)&&(a=h,u=d,s=0),d===u&&(i[s++]=c))}return i.length=s,i},t.prototype.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];e.push(this.get(r,t))}return e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=PC(this,this._nameDimIdx,this._nameOrdinalMeta,e)),null==n&&(n=""),n},t.prototype.getId=function(t){return NC(this,this.getRawIndex(t))},t.prototype.each=function(t,e,n,r){var o=this;if(this._count){"function"===typeof t&&(r=n,n=e,e=t,t=[]);var i=n||r||this,a=qC(BC(t),this.getDimension,this);0;for(var u=a.length,s=qC(a,(function(t){return o._dimensionInfos[t].index})),c=this._storageArr,l=0,f=this.count();l<f;l++){var d=this.getRawIndex(l);switch(u){case 0:e.call(i,l);break;case 1:e.call(i,c[s[0]][d],l);break;case 2:e.call(i,c[s[0]][d],c[s[1]][d],l);break;default:for(var h=0,p=[];h<u;h++)p[h]=c[s[h]][d];p[h]=l,e.apply(i,p)}}}},t.prototype.filterSelf=function(t,e,n,r){var o=this;if(this._count){"function"===typeof t&&(r=n,n=e,e=t,t=[]);var i=n||r||this,a=qC(BC(t),this.getDimension,this);0;for(var u=this.count(),s=DC(this),c=new s(u),l=[],f=a.length,d=0,h=qC(a,(function(t){return o._dimensionInfos[t].index})),p=h[0],m=this._storageArr,g=0;g<u;g++){var v=void 0,y=this.getRawIndex(g);if(0===f)v=e.call(i,g);else if(1===f){var b=m[p][y];v=e.call(i,b,g)}else{for(var x=0;x<f;x++)l[x]=m[h[x]][y];l[x]=g,v=e.apply(i,l)}v&&(c[d++]=y)}return d<u&&(this._indices=c),this._count=d,this._extent={},this.getRawIndex=this._indices?RC:EC,this}},t.prototype.selectRange=function(t){var e=this,n=this._count;if(n){var r=[];for(var o in t)t.hasOwnProperty(o)&&r.push(o);0;var i=r.length;if(i){var a=this.count(),u=DC(this),s=new u(a),c=0,l=r[0],f=qC(r,(function(t){return e._dimensionInfos[t].index})),d=t[l][0],h=t[l][1],p=this._storageArr,m=!1;if(!this._indices){var g=0;if(1===i){for(var v=p[f[0]],y=0;y<n;y++){var b=v[y];(b>=d&&b<=h||isNaN(b))&&(s[c++]=g),g++}m=!0}else if(2===i){v=p[f[0]];var x=p[f[1]],w=t[r[1]][0],_=t[r[1]][1];for(y=0;y<n;y++){b=v[y];var S=x[y];(b>=d&&b<=h||isNaN(b))&&(S>=w&&S<=_||isNaN(S))&&(s[c++]=g),g++}m=!0}}if(!m)if(1===i)for(y=0;y<a;y++){var C=this.getRawIndex(y);b=p[f[0]][C];(b>=d&&b<=h||isNaN(b))&&(s[c++]=C)}else for(y=0;y<a;y++){for(var k=!0,T=(C=this.getRawIndex(y),0);T<i;T++){var A=r[T];b=p[f[T]][C];(b<t[A][0]||b>t[A][1])&&(k=!1)}k&&(s[c++]=this.getRawIndex(y))}return c<a&&(this._indices=s),this._count=c,this._extent={},this.getRawIndex=this._indices?RC:EC,this}}},t.prototype.mapArray=function(t,e,n,r){"function"===typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;var o=[];return this.each(t,(function(){o.push(e&&e.apply(this,arguments))}),n),o},t.prototype.map=function(t,e,n,r){var o=n||r||this,i=qC(BC(t),this.getDimension,this);var a=zC(this,i),u=a._storage;a._indices=this._indices,a.getRawIndex=a._indices?RC:EC;for(var s=[],c=i.length,l=this.count(),f=[],d=a._rawExtent,h=0;h<l;h++){for(var p=0;p<c;p++)f[p]=this.get(i[p],h);f[c]=h;var m=e&&e.apply(o,f);if(null!=m){"object"!==typeof m&&(s[0]=m,m=s);for(var g=this.getRawIndex(h),v=0;v<m.length;v++){var y=i[v],b=m[v],x=d[y],w=u[y];w&&(w[g]=b),b<x[0]&&(x[0]=b),b>x[1]&&(x[1]=b)}}}return a},t.prototype.downSample=function(t,e,n,r){for(var o=zC(this,[t]),i=o._storage,a=[],u=WC(1/e),s=i[t],c=this.count(),l=o._rawExtent[t],f=new(DC(this))(c),d=0,h=0;h<c;h+=u){u>c-h&&(u=c-h,a.length=u);for(var p=0;p<u;p++){var m=this.getRawIndex(h+p);a[p]=s[m]}var g=n(a),v=this.getRawIndex(Math.min(h+r(a,g)||0,c-1));s[v]=g,g<l[0]&&(l[0]=g),g>l[1]&&(l[1]=g),f[d++]=v}return o._count=d,o._indices=f,o.getRawIndex=RC,o},t.prototype.lttbDownSample=function(t,e){var n,r,o,i=zC(this,[]),a=i._storage,u=a[t],s=this.count(),c=new(DC(this))(s),l=0,f=WC(1/e),d=this.getRawIndex(0);c[l++]=d;for(var h=1;h<s-1;h+=f){for(var p=Math.min(h+f,s-1),m=Math.min(h+2*f,s),g=(m+p)/2,v=0,y=p;y<m;y++){var b=this.getRawIndex(y),x=u[b];isNaN(x)||(v+=x)}v/=m-p;var w=h,_=Math.min(h+f,s),S=h-1,C=u[d];n=-1,o=w;for(y=w;y<_;y++){b=this.getRawIndex(y),x=u[b];isNaN(x)||(r=Math.abs((S-g)*(x-C)-(S-y)*(v-C)),r>n&&(n=r,o=b))}c[l++]=o,d=o}return c[l++]=this.getRawIndex(s-1),i._count=l,i._indices=c,i.getRawIndex=RC,i},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Ah(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new SC(t?t.getIndices():[],this.getIndices(),(function(e){return NC(t,e)}),(function(t){return NC(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},GC(t)?xt(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return null==r?this.getVisual(e):r},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var o=r[e];return null==o&&(o=this.getVisual(e),Lt(o)?o=o.slice():GC(o)&&(o=xt({},o)),r[e]=o),o},t.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,GC(e)?xt(r,e):r[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){if(GC(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?xt(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel;if(e){var r=Dc(e);r.dataIndex=t,r.dataType=this.dataType,r.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(FC,e)}this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){At(this._graphicEls,(function(n,r){n&&t&&t.call(e,n,r)}))},t.prototype.cloneShallow=function(e){if(!e){var n=qC(this.dimensions,this.getDimensionInfo,this);e=new t(n,this.hostModel)}if(e._storage=this._storage,e._storageArr=this._storageArr,jC(e,this),this._indices){var r=this._indices.constructor;if(r===Array){var o=this._indices.length;e._indices=new r(o);for(var i=0;i<o;i++)e._indices[i]=this._indices[i]}else e._indices=new r(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?RC:EC,e},t.prototype.wrapMethod=function(t,e){var n=this[t];"function"===typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(Jt(arguments)))})},t.internalField=function(){function e(t,e,n,r){return lv(t[r],this._dimensionInfos[e])}function n(t){var e=t.constructor;return e===Array?t.slice():new e(t)}OC={arrayRows:e,objectRows:function(t,e,n,r){return lv(t[e],this._dimensionInfos[e])},keyedColumns:e,original:function(t,e,n,r){var o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&Ki(t)&&(this.hasItemOption=!0),lv(o instanceof Array?o[r]:o,this._dimensionInfos[e])},typedArray:function(t,e,n,r){return t[r]}},MC=function(t){var e=t._invertedIndicesMap;At(e,(function(n,r){var o=t._dimensionInfos[r],i=o.ordinalMeta;if(i){n=e[r]=new JC(i.categories.length);for(var a=0;a<n.length;a++)n[a]=XC;for(a=0;a<t._count;a++)n[t.get(r,a)]=a}}))},PC=function(t,e,n,r){var o,i=t._storageArr[e];return i&&(o=i[r],n&&n.categories.length&&(o=n.categories[o])),ua(o,null)},DC=function(t){return t._rawCount>65535?KC:QC},IC=function(t,e,n,r){var o=$C[e.type],i=e.name;if(r){var a=t[i],u=a&&a.length;if(u!==n){for(var s=new o(n),c=0;c<u;c++)s[c]=a[c];t[i]=s}}else t[i]=new o(n)},EC=function(t){return t},RC=function(t){return t<this._count&&t>=0?this._indices[t]:-1},NC=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=PC(t,t._idDimIdx,t._idOrdinalMeta,e)),null==n&&(n=ZC+e),n},BC=function(t){return Lt(t)||(t=null!=t?[t]:[]),t},function(t,e){for(var n=0;n<e.length;n++)t._dimensionInfos[e[n]]||console.error("Unkown dimension "+e[n])},zC=function(e,r){var o=e.dimensions,i=new t(qC(o,e.getDimensionInfo,e),e.hostModel);jC(i,e);for(var a=i._storage={},u=e._storage,s=i._storageArr=[],c=0;c<o.length;c++){var l=o[c];u[l]&&(St(r,l)>=0?(a[l]=n(u[l]),i._rawExtent[l]=VC(),i._extent[l]=null):a[l]=u[l],s.push(a[l]))}return i},VC=function(){return[1/0,-1/0]},FC=function(t){var e=Dc(t),n=Dc(this);e.seriesIndex=n.seriesIndex,e.dataIndex=n.dataIndex,e.dataType=n.dataType},jC=function(t,e){At(tk.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,At(ek,(function(n){t[n]=vt(e[n])})),t._calculationInfo=xt({},e._calculationInfo)},LC=function(t,e){var n=t._nameList,r=t._idList,o=t._nameDimIdx,i=t._idDimIdx,a=n[e],u=r[e];if(null==a&&null!=o&&(n[e]=a=PC(t,o,t._nameOrdinalMeta,e)),null==u&&null!=i&&(r[e]=u=PC(t,i,t._idOrdinalMeta,e)),null==u&&null!=a){var s=t._nameRepeatCount,c=s[a]=(s[a]||0)+1;u=a,c>1&&(u+="__ec__"+c),r[e]=u}}}(),t}(),rk=nk;function ok(t,e,n){Ng(e)||(e=Lg(e)),n=n||{},t=(t||[]).slice();for(var r=(n.dimsDef||[]).slice(),o=ae(),i=ae(),a=[],u=ik(e,t,r,n.dimCount),s=0;s<u;s++){var c=r[s],l=r[s]=xt({},jt(c)?c:{name:c}),f=l.name,d=a[s]=new UC;null!=f&&null==o.get(f)&&(d.name=d.displayName=f,o.set(f,s)),null!=l.type&&(d.type=l.type),null!=l.displayName&&(d.displayName=l.displayName)}var h=n.encodeDef;!h&&n.encodeDefaulter&&(h=n.encodeDefaulter(e,u));var p=ae(h);p.each((function(t,e){var n=Yi(t).slice();if(1===n.length&&!zt(n[0])&&n[0]<0)p.set(e,!1);else{var r=p.set(e,[]);At(n,(function(t,n){var i=zt(t)?o.get(t):t;null!=i&&i<u&&(r[n]=i,g(a[i],e,n))}))}}));var m=0;function g(t,e,n){null!=rm.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,i.set(e,!0))}At(t,(function(t){var e,n,r,o;if(zt(t))e=t,o={};else{o=t,e=o.name;var i=o.ordinalMeta;o.ordinalMeta=null,o=vt(o),o.ordinalMeta=i,n=o.dimsDef,r=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var u=p.get(e);if(!1!==u){if(u=Yi(u),!u.length)for(var s=0;s<(n&&n.length||1);s++){while(m<a.length&&null!=a[m].coordDim)m++;m<a.length&&u.push(m++)}At(u,(function(t,i){var u=a[t];if(g(wt(u,o),e,i),null==u.name&&n){var s=n[i];!jt(s)&&(s={name:s}),u.name=u.displayName=s.name,u.defaultTooltip=s.defaultTooltip}r&&wt(u.otherDims,r)}))}}));var v=n.generateCoord,y=n.generateCoordCount,b=null!=y;y=v?y||1:0;for(var x=v||"value",w=0;w<u;w++){d=a[w]=a[w]||new UC;var _=d.coordDim;null==_&&(d.coordDim=ak(x,i,b),d.coordDimIndex=0,(!v||y<=0)&&(d.isExtraCoord=!0),y--),null==d.name&&(d.name=ak(d.coordDim,o,!1)),null!=d.type||bm(e,w)!==dm.Must&&(!d.isExtraCoord||null==d.otherDims.itemName&&null==d.otherDims.seriesName)||(d.type="ordinal")}return a}function ik(t,e,n,r){var o=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return At(e,(function(t){var e;jt(t)&&(e=t.dimsDef)&&(o=Math.max(o,e.length))})),o}function ak(t,e,n){if(n||null!=e.get(t)){var r=0;while(null!=e.get(t+r))r++;t+=r}return e.set(t,!0),t}var uk=ok;function sk(t,e){return e=e||{},uk(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}var ck=function(){function t(t){this.coordSysDims=[],this.axisMap=ae(),this.categoryAxisMap=ae(),this.coordSysName=t}return t}();function lk(t){var e=t.get("coordinateSystem"),n=new ck(e),r=fk[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var fk={cartesian2d:function(t,e,n,r){var o=t.getReferringComponents("xAxis",ya).models[0],i=t.getReferringComponents("yAxis",ya).models[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",i),dk(o)&&(r.set("x",o),e.firstCategoryDimIndex=0),dk(i)&&(r.set("y",i),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var o=t.getReferringComponents("singleAxis",ya).models[0];e.coordSysDims=["single"],n.set("single",o),dk(o)&&(r.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var o=t.getReferringComponents("polar",ya).models[0],i=o.findAxisModel("radiusAxis"),a=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",i),n.set("angle",a),dk(i)&&(r.set("radius",i),e.firstCategoryDimIndex=0),dk(a)&&(r.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var o=t.ecModel,i=o.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=i.dimensions.slice();At(i.parallelAxisIndex,(function(t,i){var u=o.getComponent("parallelAxis",t),s=a[i];n.set(s,u),dk(u)&&(r.set(s,u),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=i))}))}};function dk(t){return"category"===t.get("type")}function hk(t,e,n){n=n||{};var r,o,i,a,u=n.byIndex,s=n.stackedCoordDimension,c=!(!t||!t.get("stack"));if(At(e,(function(t,n){zt(t)&&(e[n]=t={name:t}),c&&!t.isExtraCoord&&(u||r||!t.ordinalMeta||(r=t),o||"ordinal"===t.type||"time"===t.type||s&&s!==t.coordDim||(o=t))})),!o||u||r||(u=!0),o){i="__\0ecstackresult",a="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var l=o.coordDim,f=o.type,d=0;At(e,(function(t){t.coordDim===l&&d++})),e.push({name:i,coordDim:l,coordDimIndex:d,type:f,isExtraCoord:!0,isCalculationCoord:!0}),d++,e.push({name:a,coordDim:a,coordDimIndex:d,type:f,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:r&&r.name,isStackedByIndex:u,stackedOverDimension:a,stackResultDimension:i}}function pk(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function mk(t,e){return pk(t,e)?t.getCalculationInfo("stackResultDimension"):e}function gk(t,e,n){n=n||{},Ng(t)||(t=Lg(t));var r,o=e.get("coordinateSystem"),i=Xm.get(o),a=lk(e);a&&a.coordSysDims&&(r=Ot(a.coordSysDims,(function(t){var e={name:t},n=a.axisMap.get(t);if(n){var r=n.get("type");e.type=TC(r)}return e}))),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]);var u,s,c=n.useEncodeDefaulter,l=sk(t,{coordDimensions:r,generateCoord:n.generateCoord,encodeDefaulter:Bt(c)?c:c?Pt(mm,r,e):null});a&&At(l,(function(t,e){var r=t.coordDim,o=a.categoryAxisMap.get(r);o&&(null==u&&(u=e),t.ordinalMeta=o.getOrdinalMeta(),n.createInvertedIndices&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(s=!0)})),s||null==u||(l[u].otherDims.itemName=0);var f=hk(e,l),d=new rk(l,e);d.setCalculationInfo(f);var h=null!=u&&vk(t)?function(t,e,n,r){return r===u?n:this.defaultDimValueGetter(t,e,n,r)}:null;return d.hasItemOption=!1,d.initData(t,null,h),d}function vk(t){if(t.sourceFormat===om){var e=yk(t.data||[]);return null!=e&&!Lt($i(e))}}function yk(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}var bk=gk,xk=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.legendSymbol="line",n}return Z(e,t),e.prototype.getInitialData=function(t){return bk(this.getSource(),this,{useEncodeDefaulter:!0})},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0},e}(ly),wk=xk;function _k(t,e){var n=t.mapDimensionsAll("defaultedLabel"),r=n.length;if(1===r){var o=ev(t,e,n[0]);return null!=o?o+"":null}if(r){for(var i=[],a=0;a<n.length;a++)i.push(ev(t,e,n[a]));return i.join(" ")}}function Sk(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!Lt(e))return e+"";for(var r=[],o=0;o<n.length;o++){var i=t.getDimensionInfo(n[o]);i&&r.push(e[i.index])}return r.join(" ")}var Ck=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.updateData(e,n,r,o),i}return Z(e,t),e.prototype._createSymbol=function(t,e,n,r,o){this.removeAll();var i=_x(t,-1,-1,2,2,null,o);i.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),i.drift=kk,this._symbolType=t,this.add(i)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){hl(this.childAt(0))},e.prototype.downplay=function(){pl(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,n,r,o){this.silent=!1;var i=t.getItemVisual(n,"symbol")||"circle",a=t.hostModel,u=e.getSymbolSize(t,n),s=i!==this._symbolType,c=o&&o.disableAnimation;if(s){var l=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(i,t,n,u,l)}else{var f=this.childAt(0);f.silent=!1;var d={scaleX:u[0]/2,scaleY:u[1]/2};c?f.attr(d):Nd(f,d,a,n)}if(this._updateCommon(t,n,u,r,o),s){f=this.childAt(0);if(!c){d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Pd(f,d,a,n)}}c&&this.childAt(0).stopAnimation("remove"),this._seriesModel=a},e.prototype._updateCommon=function(t,e,n,r,o){var i,a,u,s,c,l,f,d,h,p=this.childAt(0),m=t.hostModel;if(r&&(i=r.emphasisItemStyle,a=r.blurItemStyle,u=r.selectItemStyle,s=r.focus,c=r.blurScope,l=r.symbolOffset,f=r.labelStatesModels,d=r.hoverScale,h=r.cursorStyle),!r||t.hasItemOption){var g=r&&r.itemModel?r.itemModel:t.getItemModel(e),v=g.getModel("emphasis");i=v.getModel("itemStyle").getItemStyle(),u=g.getModel(["select","itemStyle"]).getItemStyle(),a=g.getModel(["blur","itemStyle"]).getItemStyle(),s=v.get("focus"),c=v.get("blurScope"),l=g.getShallow("symbolOffset"),f=rh(g),d=v.getShallow("scale"),h=g.getShallow("cursor")}var y=t.getItemVisual(e,"symbolRotate");p.attr("rotation",(y||0)*Math.PI/180||0),l&&(p.x=Si(l[0],n[0]),p.y=Si(l[1],n[1])),h&&p.attr("cursor",h);var b=t.getItemVisual(e,"style"),x=b.fill;if(p instanceof ac){var w=p.style;p.useStyle(xt({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},b))}else p.__isEmptyBrush?p.useStyle(xt({},b)):p.useStyle(b),p.style.decal=null,p.setColor(x,o&&o.symbolInnerColor),p.style.strokeNoScale=!0;var _=t.getItemVisual(e,"liftZ"),S=this._z2;null!=_?null==S&&(this._z2=p.z2,p.z2+=_):null!=S&&(p.z2=S,this._z2=null);var C=o&&o.useNameLabel;function k(e){return C?t.getName(e):_k(t,e)}nh(p,f,{labelFetcher:m,labelDataIndex:e,defaultText:k,inheritColor:x,defaultOpacity:b.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var T=p.ensureState("emphasis");if(T.style=i,p.ensureState("select").style=u,p.ensureState("blur").style=a,d){var A=Math.max(1.1,3/this._sizeY);T.scaleX=this._sizeX*A,T.scaleY=this._sizeY*A}this.setSymbolScale(1),Tl(this,s,c)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e){var n=this.childAt(0),r=this._seriesModel,o=Dc(this).dataIndex,i=e&&e.animation;if(this.silent=n.silent=!0,e&&e.fadeLabel){var a=n.getTextContent();a&&Ld(a,{style:{opacity:0}},r,{dataIndex:o,removeOpt:i,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Ld(n,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:t,removeOpt:i})},e.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]},e}(fi);function kk(t,e){this.parent.drift(t,e)}var Tk=Ck;function Ak(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function Ok(t){return null==t||jt(t)||(t={isIgnore:t}),t||{}}function Mk(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverScale:n.get("scale"),labelStatesModels:rh(e),cursorStyle:e.get("cursor")}}var Dk=function(){function t(t){this.group=new fi,this._SymbolCtor=t||Tk}return t.prototype.updateData=function(t,e){e=Ok(e);var n=this.group,r=t.hostModel,o=this._data,i=this._SymbolCtor,a=e.disableAnimation,u=Mk(t),s={disableAnimation:a},c=e.getSymbolPoint||function(e){return t.getItemLayout(e)};o||n.removeAll(),t.diff(o).add((function(r){var o=c(r);if(Ak(t,o,r,e)){var a=new i(t,r,u,s);a.setPosition(o),t.setItemGraphicEl(r,a),n.add(a)}})).update((function(l,f){var d=o.getItemGraphicEl(f),h=c(l);if(Ak(t,h,l,e)){if(d){d.updateData(t,l,u,s);var p={x:h[0],y:h[1]};a?d.attr(p):Nd(d,p,r)}else d=new i(t,l),d.setPosition(h);n.add(d),t.setItemGraphicEl(l,d)}else n.remove(d)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}))})).execute(),this._getSymbolPoint=c,this._data=t},t.prototype.isPersistent=function(){return!0},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,n){var r=t._getSymbolPoint(n);e.setPosition(r),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Mk(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function r(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}n=Ok(n);for(var o=t.start;o<t.end;o++){var i=e.getItemLayout(o);if(Ak(e,i,o,n)){var a=new this._SymbolCtor(e,o,this._seriesScope);a.traverse(r),a.setPosition(i),this.group.add(a),e.setItemGraphicEl(o,a)}}},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()},t}(),Ik=Dk;function Ek(t,e,n){var r=t.getBaseAxis(),o=t.getOtherAxis(r),i=Rk(o,n),a=r.dim,u=o.dim,s=e.mapDimension(u),c=e.mapDimension(a),l="x"===u||"radius"===u?1:0,f=Ot(t.dimensions,(function(t){return e.mapDimension(t)})),d=!1,h=e.getCalculationInfo("stackResultDimension");return pk(e,f[0])&&(d=!0,f[0]=h),pk(e,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:i,valueAxisDim:u,baseAxisDim:a,stacked:!!d,valueDim:s,baseDim:c,baseDataOffset:l,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Rk(t,e){var n=0,r=t.scale.getExtent();return"start"===e?n=r[0]:"end"===e?n=r[1]:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function Nk(t,e,n,r){var o=NaN;t.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(o)&&(o=t.valueStart);var i=t.baseDataOffset,a=[];return a[i]=n.get(t.baseDim,r),a[1-i]=o,e.dataToPoint(a)}var Pk="undefined"!==typeof Float32Array,Lk=Pk?Float32Array:Array;function Bk(t){return Lt(t)?Pk?new Float32Array(t):t:new Lk(t)}function zk(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}function Vk(t,e,n,r,o,i,a,u){for(var s=zk(t,e),c=[],l=[],f=[],d=[],h=[],p=[],m=[],g=Ek(o,e,a),v=Ek(i,t,u),y=t.getLayout("points")||[],b=e.getLayout("points")||[],x=0;x<s.length;x++){var w=s[x],_=!0,S=void 0,C=void 0;switch(w.cmd){case"=":S=2*w.idx,C=2*w.idx1;var k=y[S],T=y[S+1],A=b[C],O=b[C+1];(isNaN(k)||isNaN(T))&&(k=A,T=O),c.push(k,T),l.push(A,O),f.push(n[S],n[S+1]),d.push(r[C],r[C+1]),m.push(e.getRawIndex(w.idx1));break;case"+":var M=w.idx,D=g.dataDimsForPoint,I=o.dataToPoint([e.get(D[0],M),e.get(D[1],M)]);C=2*M,c.push(I[0],I[1]),l.push(b[C],b[C+1]);var E=Nk(g,o,e,M);f.push(E[0],E[1]),d.push(r[C],r[C+1]),m.push(e.getRawIndex(M));break;case"-":var R=w.idx,N=t.getRawIndex(R),P=v.dataDimsForPoint;if(S=2*R,N!==R){var L=i.dataToPoint([t.get(P[0],R),t.get(P[1],R)]),B=Nk(v,i,t,R);c.push(y[S],y[S+1]),l.push(L[0],L[1]),f.push(n[S],n[S+1]),d.push(B[0],B[1]),m.push(N)}else _=!1}_&&(h.push(w),p.push(p.length))}p.sort((function(t,e){return m[t]-m[e]}));var z=c.length,V=Bk(z),F=Bk(z),j=Bk(z),H=Bk(z),U=[];for(x=0;x<p.length;x++){var W=p[x],G=2*x,q=2*W;V[G]=c[q],V[G+1]=c[q+1],F[G]=l[q],F[G+1]=l[q+1],j[G]=f[q],j[G+1]=f[q+1],H[G]=d[q],H[G+1]=d[q+1],U[x]=h[W]}return{current:V,next:F,stackedOnCurrent:j,stackedOnNext:H,status:U}}var Fk=Math.min,jk=Math.max;function Hk(t,e){return isNaN(t)||isNaN(e)}function Uk(t,e,n,r,o,i,a,u,s){for(var c,l,f,d,h,p,m=n,g=0;g<r;g++){var v=e[2*m],y=e[2*m+1];if(m>=o||m<0)break;if(Hk(v,y)){if(s){m+=i;continue}break}if(m===n)t[i>0?"moveTo":"lineTo"](v,y),f=v,d=y;else{var b=v-c,x=y-l;if(b*b+x*x<.5){m+=i;continue}if(a>0){var w=m+i,_=e[2*w],S=e[2*w+1],C=g+1;if(s)while(Hk(_,S)&&C<r)C++,w+=i,_=e[2*w],S=e[2*w+1];var k=.5,T=0,A=0,O=void 0,M=void 0;if(C>=r||Hk(_,S))h=v,p=y;else{T=_-c,A=S-l;var D=v-c,I=_-v,E=y-l,R=S-y,N=void 0,P=void 0;"x"===u?(N=Math.abs(D),P=Math.abs(I),h=v-N*a,p=y,O=v+N*a,M=y):"y"===u?(N=Math.abs(E),P=Math.abs(R),h=v,p=y-N*a,O=v,M=y+N*a):(N=Math.sqrt(D*D+E*E),P=Math.sqrt(I*I+R*R),k=P/(P+N),h=v-T*a*(1-k),p=y-A*a*(1-k),O=v+T*a*k,M=y+A*a*k,O=Fk(O,jk(_,v)),M=Fk(M,jk(S,y)),O=jk(O,Fk(_,v)),M=jk(M,Fk(S,y)),T=O-v,A=M-y,h=v-T*N/P,p=y-A*N/P,h=Fk(h,jk(c,v)),p=Fk(p,jk(l,y)),h=jk(h,Fk(c,v)),p=jk(p,Fk(l,y)),T=v-h,A=y-p,O=v+T*P/N,M=y+A*P/N)}t.bezierCurveTo(f,d,h,p,v,y),f=O,d=M}else t.lineTo(v,y)}c=v,l=y,m+=i}return g}var Wk=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),Gk=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return Z(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Wk},e.prototype.buildPath=function(t,e){var n=e.points,r=0,o=n.length/2;if(e.connectNulls){for(;o>0;o--)if(!Hk(n[2*o-2],n[2*o-1]))break;for(;r<o;r++)if(!Hk(n[2*r],n[2*r+1]))break}while(r<o)r+=Uk(t,n,r,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,o=this.path,i=o.data,a=Ts.CMD,u="x"===e,s=[],c=0;c<i.length;){var l=i[c++],f=void 0,d=void 0,h=void 0,p=void 0,m=void 0,g=void 0,v=void 0;switch(l){case a.M:n=i[c++],r=i[c++];break;case a.L:if(f=i[c++],d=i[c++],v=u?(t-n)/(f-n):(t-r)/(d-r),v<=1&&v>=0){var y=u?(d-r)*v+r:(f-n)*v+n;return u?[t,y]:[y,t]}n=f,r=d;break;case a.C:f=i[c++],d=i[c++],h=i[c++],p=i[c++],m=i[c++],g=i[c++];var b=u?Ru(n,f,h,m,t,s):Ru(r,d,p,g,t,s);if(b>0)for(var x=0;x<b;x++){var w=s[x];if(w<=1&&w>=0){y=u?Iu(r,d,p,g,w):Iu(n,f,h,m,w);return u?[t,y]:[y,t]}}n=m,r=g;break}}},e}(Js),qk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e}(Wk),Yk=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return Z(e,t),e.prototype.getDefaultShape=function(){return new qk},e.prototype.buildPath=function(t,e){var n=e.points,r=e.stackedOnPoints,o=0,i=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;i>0;i--)if(!Hk(n[2*i-2],n[2*i-1]))break;for(;o<i;o++)if(!Hk(n[2*o],n[2*o+1]))break}while(o<i){var u=Uk(t,n,o,i,i,1,e.smooth,a,e.connectNulls);Uk(t,r,o+u-1,u,i,-1,e.stackedOnSmooth,a,e.connectNulls),o+=u+1,t.closePath()}},e}(Js);function Xk(t,e,n,r,o){var i=t.getArea(),a=i.x,u=i.y,s=i.width,c=i.height,l=n.get(["lineStyle","width"])||2;a-=l/2,u-=l/2,s+=l,c+=l,a=Math.floor(a),s=Math.round(s);var f=new mc({shape:{x:a,y:u,width:s,height:c}});if(e){var d=t.getBaseAxis(),h=d.isHorizontal(),p=d.inverse;h?(p&&(f.shape.x+=s),f.shape.width=0):(p||(f.shape.y+=c),f.shape.height=0);var m="function"===typeof o?function(t){o(t,f)}:null;Pd(f,{shape:{width:s,height:c,x:a,y:u}},n,null,r,m)}return f}function Zk(t,e,n){var r=t.getArea(),o=Ci(r.r0,1),i=Ci(r.r,1),a=new Of({shape:{cx:Ci(t.cx,1),cy:Ci(t.cy,1),r0:o,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var u="angle"===t.getBaseAxis().dim;u?a.shape.endAngle=r.startAngle:a.shape.r=o,Pd(a,{shape:{endAngle:r.endAngle,r:i}},n)}return a}function $k(t,e,n,r,o){return t?"polar"===t.type?Zk(t,e,n):"cartesian2d"===t.type?Xk(t,e,n,r,o):null:null}function Kk(t,e){return t.type===e}function Jk(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function Qk(t){for(var e=1/0,n=1/0,r=-1/0,o=-1/0,i=0;i<t.length;){var a=t[i++],u=t[i++];isNaN(a)||(e=Math.min(a,e),r=Math.max(a,r)),isNaN(u)||(n=Math.min(u,n),o=Math.max(u,o))}return[[e,n],[r,o]]}function tT(t,e){var n=Qk(t),r=n[0],o=n[1],i=Qk(e),a=i[0],u=i[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]))}function eT(t){return"number"===typeof t?t:t?.5:0}function nT(t,e,n){if(!n.valueDim)return[];for(var r=e.count(),o=Bk(2*r),i=0;i<r;i++){var a=Nk(n,t,e,i);o[2*i]=a[0],o[2*i+1]=a[1]}return o}function rT(t,e,n){for(var r=e.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,i=[],a=0,u=[],s=[],c=[];a<t.length-2;a+=2)switch(c[0]=t[a+2],c[1]=t[a+3],s[0]=t[a],s[1]=t[a+1],i.push(s[0],s[1]),n){case"end":u[o]=c[o],u[1-o]=s[1-o],i.push(u[0],u[1]);break;case"middle":var l=(s[o]+c[o])/2,f=[];u[o]=f[o]=l,u[1-o]=s[1-o],f[1-o]=c[1-o],i.push(u[0],u[1]),i.push(f[0],f[1]);break;default:u[o]=s[o],u[1-o]=c[1-o],i.push(u[0],u[1])}return i.push(t[a++],t[a++]),i}function oT(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var r,o,i=n.length-1;i>=0;i--){var a=n[i].dimension,u=t.dimensions[a],s=t.getDimensionInfo(u);if(r=s&&s.coordDim,"x"===r||"y"===r){o=n[i];break}}if(o){var c=e.getAxis(r),l=Ot(o.stops,(function(t){return{offset:0,coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}})),f=l.length,d=o.outerColors.slice();f&&l[0].coord>l[f-1].coord&&(l.reverse(),d.reverse());var h=10,p=l[0].coord-h,m=l[f-1].coord+h,g=m-p;if(g<.001)return"transparent";At(l,(function(t){t.offset=(t.coord-p)/g})),l.push({offset:f?l[f-1].offset:.5,color:d[1]||"transparent"}),l.unshift({offset:f?l[0].offset:.5,color:d[0]||"transparent"});var v=new id(0,0,0,0,l,!0);return v[r]=p,v[r+"2"]=m,v}}}function iT(t,e,n){var r=t.get("showAllSymbol"),o="auto"===r;if(!r||o){var i=n.getAxesByScale("ordinal")[0];if(i&&(!o||!aT(i,e))){var a=e.mapDimension(i.dim),u={};return At(i.getViewLabels(),(function(t){var e=i.scale.getRawOrdinalNumber(t.tickValue);u[e]=1})),function(t){return!u.hasOwnProperty(e.get(a,t))}}}}function aT(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var o=e.count(),i=Math.max(1,Math.round(o/5)),a=0;a<o;a+=i)if(1.5*Tk.getSymbolSize(e,a)[t.isHorizontal()?1:0]>r)return!1;return!0}function uT(t,e){return isNaN(t)||isNaN(e)}function sT(t){for(var e=t.length/2;e>0;e--)if(!uT(t[2*e-2],t[2*e-1]))break;return e-1}function cT(t,e){return[t[2*e],t[2*e+1]]}function lT(t,e,n){for(var r,o,i=t.length/2,a="x"===n?0:1,u=0,s=-1,c=0;c<i;c++)if(o=t[2*c+a],!isNaN(o)&&!isNaN(t[2*c+1-a]))if(0!==c){if(r<=e&&o>=e||r>=e&&o<=e){s=c;break}u=c,r=o}else r=o;return{range:[u,s],t:(e-r)/(o-r)}}function fT(t,e,n,r){if(Kk(e,"cartesian2d")){var o=r.getModel("endLabel"),i=o.get("show"),a=o.get("valueAnimation"),u=r.getData(),s={lastFrameIndex:0},c=i?function(n,r){t._endLabelOnDuring(n,r,u,s,a,o,e)}:null,l=e.getBaseAxis().isHorizontal(),f=Xk(e,n,r,(function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})}),c);if(!r.get("clip",!0)){var d=f.shape,h=Math.max(d.width,d.height);l?(d.y-=h,d.height+=2*h):(d.x-=h,d.width+=2*h)}return c&&c(1,f),f}return Zk(e,n,r)}function dT(t,e){var n=e.getBaseAxis(),r=n.isHorizontal(),o=n.inverse,i=r?o?"right":"left":"center",a=r?"middle":o?"top":"bottom";return{normal:{align:t.get("align")||i,verticalAlign:t.get("verticalAlign")||a}}}var hT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.init=function(){var t=new fi,e=new Ik;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var r=this,o=t.coordinateSystem,i=this.group,a=t.getData(),u=t.getModel("lineStyle"),s=t.getModel("areaStyle"),c=a.getLayout("points")||[],l="polar"===o.type,f=this._coordSys,d=this._symbolDraw,h=this._polyline,p=this._polygon,m=this._lineGroup,g=t.get("animation"),v=!s.isEmpty(),y=s.get("origin"),b=Ek(o,a,y),x=v&&nT(o,a,b),w=t.get("showSymbol"),_=w&&!l&&iT(t,a,o),S=this._data;S&&S.eachItemGraphicEl((function(t,e){t.__temp&&(i.remove(t),S.setItemGraphicEl(e,null))})),w||d.remove(),i.add(m);var C,k=!l&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(C=o.getArea(),null!=C.width?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C,h&&f.type===o.type&&k===this._step?(v&&!p?p=this._newPolygon(c,x):p&&!v&&(m.remove(p),p=this._polygon=null),l||this._initOrUpdateEndLabel(t,o),m.setClipPath(fT(this,o,!1,t)),w&&d.updateData(a,{isIgnore:_,clipShape:C,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),Jk(this._stackedOnPoints,x)&&Jk(this._points,c)||(g?this._doUpdateAnimation(a,x,o,n,k,y):(k&&(c=rT(c,o,k),x&&(x=rT(x,o,k))),h.setShape({points:c}),p&&p.setShape({points:c,stackedOnPoints:x})))):(w&&d.updateData(a,{isIgnore:_,clipShape:C,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),g&&this._initSymbolLabelAnimation(a,o,C),k&&(c=rT(c,o,k),x&&(x=rT(x,o,k))),h=this._newPolyline(c),v&&(p=this._newPolygon(c,x)),l||this._initOrUpdateEndLabel(t,o),m.setClipPath(fT(this,o,!0,t)));var T=oT(a,o)||a.getVisual("style")[a.getVisual("drawType")],A=t.get(["emphasis","focus"]),O=t.get(["emphasis","blurScope"]);if(h.useStyle(wt(u.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),Dl(h,t,"lineStyle"),h.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])){var M=h.getState("emphasis").style;M.lineWidth=h.style.lineWidth+1}Dc(h).seriesIndex=t.seriesIndex,Tl(h,A,O);var D=eT(t.get("smooth")),I=t.get("smoothMonotone"),E=t.get("connectNulls");if(h.setShape({smooth:D,smoothMonotone:I,connectNulls:E}),p){var R=a.getCalculationInfo("stackedOnSeries"),N=0;p.useStyle(wt(s.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),R&&(N=eT(R.get("smooth"))),p.setShape({smooth:D,stackedOnSmooth:N,smoothMonotone:I,connectNulls:E}),Dl(p,t,"areaStyle"),Dc(p).seriesIndex=t.seriesIndex,Tl(p,A,O)}var P=function(t){r._changePolyState(t)};a.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=P)})),this._polyline.onHoverStateChange=P,this._data=a,this._coordSys=o,this._stackedOnPoints=x,this._points=c,this._step=k,this._valueOrigin=y},e.prototype.dispose=function(){},e.prototype.highlight=function(t,e,n,r){var o=t.getData(),i=pa(o,r);if(this._changePolyState("emphasis"),!(i instanceof Array)&&null!=i&&i>=0){var a=o.getLayout("points"),u=o.getItemGraphicEl(i);if(!u){var s=a[2*i],c=a[2*i+1];if(isNaN(s)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s,c))return;u=new Tk(o,i),u.x=s,u.y=c,u.setZ(t.get("zlevel"),t.get("z")),u.__temp=!0,o.setItemGraphicEl(i,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else _y.prototype.highlight.call(this,t,e,n,r)},e.prototype.downplay=function(t,e,n,r){var o=t.getData(),i=pa(o,r);if(this._changePolyState("normal"),null!=i&&i>=0){var a=o.getItemGraphicEl(i);a&&(a.__temp?(o.setItemGraphicEl(i,null),this.group.remove(a)):a.downplay())}else _y.prototype.downplay.call(this,t,e,n,r)},e.prototype._changePolyState=function(t){var e=this._polygon;ol(this._polyline,t),e&&ol(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Gk({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Yk({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var r,o,i=e.getBaseAxis(),a=i.inverse;"cartesian2d"===e.type?(r=i.isHorizontal(),o=!1):"polar"===e.type&&(r="angle"===i.dim,o=!0);var u=t.hostModel,s=u.get("animationDuration");"function"===typeof s&&(s=s(null));var c=u.get("animationDelay")||0,l="function"===typeof c?c(null):c;t.eachItemGraphicEl((function(t,i){var u=t;if(u){var f=[t.x,t.y],d=void 0,h=void 0,p=void 0;if(o){var m=n,g=e.pointToCoord(f);r?(d=m.startAngle,h=m.endAngle,p=-g[1]/180*Math.PI):(d=m.r0,h=m.r,p=g[0])}else{var v=n;r?(d=v.x,h=v.x+v.width,p=t.x):(d=v.y+v.height,h=v.y,p=t.y)}var y=h===d?0:(p-d)/(h-d);a&&(y=1-y);var b="function"===typeof c?c(i):s*y+l,x=u.getSymbolPath(),w=x.getTextContent();u.attr({scaleX:0,scaleY:0}),u.animateTo({scaleX:1,scaleY:1},{duration:200,delay:b}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:b}),x.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e){var n=t.getModel("endLabel");if(n.get("show")){var r=t.getData(),o=this._polyline,i=this._endLabel;i||(i=this._endLabel=new Mc({z2:200}),i.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var a=sT(r.getLayout("points"));a>=0&&(nh(o,rh(t,"endLabel"),{labelFetcher:t,labelDataIndex:a,defaultText:function(t,e,n){return null!=n?Sk(r,n):_k(r,t)},enableTextSetter:!0},dT(n,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,r,o,i,a){var u=this._endLabel,s=this._polyline;if(u){t<1&&null==r.originalX&&(r.originalX=u.x,r.originalY=u.y);var c=n.getLayout("points"),l=n.hostModel,f=l.get("connectNulls"),d=i.get("precision"),h=i.get("distance")||0,p=a.getBaseAxis(),m=p.isHorizontal(),g=p.inverse,v=e.shape,y=g?m?v.x:v.y+v.height:m?v.x+v.width:v.y,b=(m?h:0)*(g?-1:1),x=(m?0:-h)*(g?-1:1),w=m?"x":"y",_=lT(c,y,w),S=_.range,C=S[1]-S[0],k=void 0;if(C>=1){if(C>1&&!f){var T=cT(c,S[0]);u.attr({x:T[0]+b,y:T[1]+x}),o&&(k=l.getRawValue(S[0]))}else{T=s.getPointOn(y,w);T&&u.attr({x:T[0]+b,y:T[1]+x});var A=l.getRawValue(S[0]),O=l.getRawValue(S[1]);o&&(k=ka(n,d,A,O,_.t))}r.lastFrameIndex=S[0]}else{var M=1===t||r.lastFrameIndex>0?S[0]:0;T=cT(c,M);o&&(k=l.getRawValue(M)),u.attr({x:T[0]+b,y:T[1]+x})}o&&hh(u).setLabelText(k)}},e.prototype._doUpdateAnimation=function(t,e,n,r,o,i){var a=this._polyline,u=this._polygon,s=t.hostModel,c=Vk(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,i),l=c.current,f=c.stackedOnCurrent,d=c.next,h=c.stackedOnNext;if(o&&(l=rT(c.current,n,o),f=rT(c.stackedOnCurrent,n,o),d=rT(c.next,n,o),h=rT(c.stackedOnNext,n,o)),tT(l,d)>3e3||u&&tT(f,h)>3e3)return a.setShape({points:d}),void(u&&u.setShape({points:d,stackedOnPoints:h}));a.shape.__points=c.current,a.shape.points=l;var p={shape:{points:d}};c.current!==l&&(p.shape.__points=c.next),a.stopAnimation(),Nd(a,p,s),u&&(u.setShape({points:l,stackedOnPoints:f}),u.stopAnimation(),Nd(u,{shape:{stackedOnPoints:h}},s),a.shape.points!==u.shape.points&&(u.shape.points=a.shape.points));for(var m=[],g=c.status,v=0;v<g.length;v++){var y=g[v].cmd;if("="===y){var b=t.getItemGraphicEl(g[v].idx1);b&&m.push({el:b,ptIdx:v})}}a.animators&&a.animators.length&&a.animators[0].during((function(){u&&u.dirtyShape();for(var t=a.shape.__points,e=0;e<m.length;e++){var n=m[e].el,r=2*m[e].ptIdx;n.x=t[r],n.y=t[r+1],n.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,r){t.__temp&&(e.remove(t),n.setItemGraphicEl(r,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(_y),pT=hT;function mT(t,e){return{seriesType:t,plan:hy(),reset:function(t){var n=t.getData(),r=t.coordinateSystem,o=t.pipelineContext,i=e||o.large;if(r){var a=Ot(r.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),u=a.length,s=n.getCalculationInfo("stackResultDimension");pk(n,a[0])&&(a[0]=s),pk(n,a[1])&&(a[1]=s);var c=n.getDimensionInfo(a[0]),l=n.getDimensionInfo(a[1]),f=c&&c.index,d=l&&l.index;return u&&{progress:function(t,e){for(var n=t.end-t.start,o=i&&Bk(n*u),a=[],s=[],c=t.start,l=0;c<t.end;c++){var h=void 0;if(1===u){var p=e.getByDimIdx(f,c);h=r.dataToPoint(p,null,s)}else a[0]=e.getByDimIdx(f,c),a[1]=e.getByDimIdx(d,c),h=r.dataToPoint(a,null,s);i?(o[l++]=h[0],o[l++]=h[1]):e.setItemLayout(c,h.slice())}i&&e.setLayout("points",o)}}}}}}var gT={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},vT=function(t){return Math.round(t.length/2)};function yT(t){return{seriesType:t,reset:function(t,e,n){var r=t.getData(),o=t.get("sampling"),i=t.coordinateSystem,a=r.count();if(a>10&&"cartesian2d"===i.type&&o){var u=i.getBaseAxis(),s=i.getOtherAxis(u),c=u.getExtent(),l=n.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(l||1),d=Math.round(a/f);if(d>1){"lttb"===o&&t.setData(r.lttbDownSample(r.mapDimension(s.dim),1/d));var h=void 0;"string"===typeof o?h=gT[o]:"function"===typeof o&&(h=o),h&&t.setData(r.downSample(r.mapDimension(s.dim),1/d,h,vT))}}}}}function bT(t){t.registerChartView(pT),t.registerSeriesModel(wk),t.registerLayout(mT("line",!0)),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,yT("line"))}var xT="__ec_stack_",wT=.5,_T="undefined"!==typeof Float32Array?Float32Array:Array;function ST(t){return t.get("stack")||xT+t.seriesIndex}function CT(t){return t.dim+t.index}function kT(t){var e=[],n=t.axis,r="axis0";if("category"===n.type){for(var o=n.getBandWidth(),i=0;i<t.count;i++)e.push(wt({bandWidth:o,axisKey:r,stackId:xT+i},t));var a=MT(e),u=[];for(i=0;i<t.count;i++){var s=a[r][xT+i];s.offsetCenter=s.offset+s.width/2,u.push(s)}return u}}function TT(t,e){var n=[];return e.eachSeriesByType(t,(function(t){RT(t)&&!NT(t)&&n.push(t)})),n}function AT(t){var e={};At(t,(function(t){var n=t.coordinateSystem,r=n.getBaseAxis();if("time"===r.type||"value"===r.type)for(var o=t.getData(),i=r.dim+"_"+r.index,a=o.mapDimension(r.dim),u=0,s=o.count();u<s;++u){var c=o.get(a,u);e[i]?e[i].push(c):e[i]=[c]}}));var n={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(o){o.sort((function(t,e){return t-e}));for(var i=null,a=1;a<o.length;++a){var u=o[a]-o[a-1];u>0&&(i=null===i?u:Math.min(i,u))}n[r]=i}}return n}function OT(t){var e=AT(t),n=[];return At(t,(function(t){var r,o=t.coordinateSystem,i=o.getBaseAxis(),a=i.getExtent();if("category"===i.type)r=i.getBandWidth();else if("value"===i.type||"time"===i.type){var u=i.dim+"_"+i.index,s=e[u],c=Math.abs(a[1]-a[0]),l=i.scale.getExtent(),f=Math.abs(l[1]-l[0]);r=s?c/f*s:c}else{var d=t.getData();r=Math.abs(a[1]-a[0])/d.count()}var h=Si(t.get("barWidth"),r),p=Si(t.get("barMaxWidth"),r),m=Si(t.get("barMinWidth")||1,r),g=t.get("barGap"),v=t.get("barCategoryGap");n.push({bandWidth:r,barWidth:h,barMaxWidth:p,barMinWidth:m,barGap:g,barCategoryGap:v,axisKey:CT(i),stackId:ST(t)})})),MT(n)}function MT(t){var e={};At(t,(function(t,n){var r=t.axisKey,o=t.bandWidth,i=e[r]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=i.stacks;e[r]=i;var u=t.stackId;a[u]||i.autoWidthCount++,a[u]=a[u]||{width:0,maxWidth:0};var s=t.barWidth;s&&!a[u].width&&(a[u].width=s,s=Math.min(i.remainedWidth,s),i.remainedWidth-=s);var c=t.barMaxWidth;c&&(a[u].maxWidth=c);var l=t.barMinWidth;l&&(a[u].minWidth=l);var f=t.barGap;null!=f&&(i.gap=f);var d=t.barCategoryGap;null!=d&&(i.categoryGap=d)}));var n={};return At(e,(function(t,e){n[e]={};var r=t.stacks,o=t.bandWidth,i=t.categoryGap;if(null==i){var a=Et(r).length;i=Math.max(35-4*a,15)+"%"}var u=Si(i,o),s=Si(t.gap,1),c=t.remainedWidth,l=t.autoWidthCount,f=(c-u)/(l+(l-1)*s);f=Math.max(f,0),At(r,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){r=t.width;e&&(r=Math.min(r,e)),n&&(r=Math.max(r,n)),t.width=r,c-=r+s*r,l--}else{var r=f;e&&e<r&&(r=Math.min(e,c)),n&&n>r&&(r=n),r!==f&&(t.width=r,c-=r+s*r,l--)}})),f=(c-u)/(l+(l-1)*s),f=Math.max(f,0);var d,h=0;At(r,(function(t,e){t.width||(t.width=f),d=t,h+=t.width*(1+s)})),d&&(h-=d.width*s);var p=-h/2;At(r,(function(t,r){n[e][r]=n[e][r]||{bandWidth:o,offset:p,width:t.width},p+=t.width*(1+s)}))})),n}function DT(t,e,n){if(t&&e){var r=t[CT(e)];return null!=r&&null!=n?r[ST(n)]:r}}function IT(t,e){var n=TT(t,e),r=OT(n),o={};At(n,(function(t){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=ST(t),u=r[CT(i)][a],s=u.offset,c=u.width,l=n.getOtherAxis(i),f=t.get("barMinHeight")||0;o[a]=o[a]||[],e.setLayout({bandWidth:u.bandWidth,offset:s,size:c});for(var d=e.mapDimension(l.dim),h=e.mapDimension(i.dim),p=pk(e,d),m=l.isHorizontal(),g=PT(i,l,p),v=0,y=e.count();v<y;v++){var b=e.get(d,v),x=e.get(h,v),w=b>=0?"p":"n",_=g;p&&(o[a][x]||(o[a][x]={p:g,n:g}),_=o[a][x][w]);var S=void 0,C=void 0,k=void 0,T=void 0;if(m){var A=n.dataToPoint([b,x]);S=_,C=A[1]+s,k=A[0]-g,T=c,Math.abs(k)<f&&(k=(k<0?-1:1)*f),isNaN(k)||p&&(o[a][x][w]+=k)}else{A=n.dataToPoint([x,b]);S=A[0]+s,C=_,k=c,T=A[1]-g,Math.abs(T)<f&&(T=(T<=0?-1:1)*f),isNaN(T)||p&&(o[a][x][w]+=T)}e.setItemLayout(v,{x:S,y:C,width:k,height:T})}}))}var ET={seriesType:"bar",plan:hy(),reset:function(t){if(RT(t)&&NT(t)){var e=t.getData(),n=t.coordinateSystem,r=n.master.getRect(),o=n.getBaseAxis(),i=n.getOtherAxis(o),a=e.mapDimension(i.dim),u=e.mapDimension(o.dim),s=i.isHorizontal(),c=s?0:1,l=DT(OT([t]),o,t).width;return l>wT||(l=wT),{progress:function(t,e){var f,d=t.count,h=new _T(2*d),p=new _T(2*d),m=new _T(d),g=[],v=[],y=0,b=0;while(null!=(f=t.next()))v[c]=e.get(a,f),v[1-c]=e.get(u,f),g=n.dataToPoint(v,null,g),p[y]=s?r.x+r.width:g[0],h[y++]=g[0],p[y]=s?g[1]:r.y+r.height,h[y++]=g[1],m[b++]=f;e.setLayout({largePoints:h,largeDataIndices:m,largeBackgroundPoints:p,barWidth:l,valueAxisStart:PT(o,i,!1),backgroundStart:s?r.x:r.y,valueAxisHorizontal:s})}}}}};function RT(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function NT(t){return t.pipelineContext&&t.pipelineContext.large}function PT(t,e,n){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var LT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.getInitialData=function(t,e){return bk(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),r=this.getData(),o=r.getLayout("offset"),i=r.getLayout("size"),a=e.getBaseAxis().isHorizontal()?0:1;return n[a]+=o+i/2,n}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(ly);ly.registerClass(LT);var BT=LT,zT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.getInitialData=function(){return bk(this.getSource(),this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Eh(BT.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(BT),VT=zT,FT=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),jT=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return Z(e,t),e.prototype.getDefaultShape=function(){return new FT},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,o=Math.max(e.r0||0,0),i=Math.max(e.r,0),a=.5*(i-o),u=o+a,s=e.startAngle,c=e.endAngle,l=e.clockwise,f=Math.cos(s),d=Math.sin(s),h=Math.cos(c),p=Math.sin(c),m=l?c-s<2*Math.PI:s-c<2*Math.PI;m&&(t.moveTo(f*o+n,d*o+r),t.arc(f*u+n,d*u+r,a,-Math.PI+s,s,!l)),t.arc(n,r,i,s,c,!l),t.moveTo(h*i+n,p*i+r),t.arc(h*u+n,p*u+r,a,c-2*Math.PI,c-Math.PI,!l),0!==o&&(t.arc(n,r,o,c,s,l),t.moveTo(f*o+n,p*o+r)),t.closePath()},e}(Js),HT=jT,UT=["itemStyle","borderWidth"],WT=["itemStyle","borderRadius"],GT=[0,0],qT=Math.max,YT=Math.min;function XT(t,e){var n=t.getArea&&t.getArea();if(Kk(t,"cartesian2d")){var r=t.getBaseAxis();if("category"!==r.type||!r.onBand){var o=e.getLayout("bandWidth");r.isHorizontal()?(n.x-=o,n.width+=2*o):(n.y-=o,n.height+=2*o)}}return n}var ZT=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return Z(e,t),e.prototype.render=function(t,e,n,r){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var o=t.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,r))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._incrementalRenderLarge(t,e)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,r){var o,i=this.group,a=t.getData(),u=this._data,s=t.coordinateSystem,c=s.getBaseAxis();"cartesian2d"===s.type?o=c.isHorizontal():"polar"===s.type&&(o="angle"===c.dim);var l=t.isAnimationEnabled()?t:null,f=JT(t,s);f&&this._enableRealtimeSort(f,a,n);var d=t.get("clip",!0)||f,h=XT(s,a);i.removeClipPath();var p=t.get("roundCap",!0),m=t.get("showBackground",!0),g=t.getModel("backgroundStyle"),v=g.get("borderRadius")||0,y=[],b=this._backgroundEls,x=r&&r.isInitSort,w=r&&"changeAxisOrder"===r.type;function _(t){var e=tA[s.type](a,t),n=dA(s,o,e);return n.useStyle(g.getItemStyle()),"cartesian2d"===s.type&&n.setShape("r",v),y[t]=n,n}a.diff(u).add((function(e){var n=a.getItemModel(e),r=tA[s.type](a,e,n);if(m&&_(e),a.hasValue(e)){var u=!1;d&&(u=$T[s.type](h,r));var g=KT[s.type](t,a,e,r,o,l,c.model,!1,p);nA(g,a,e,n,r,t,o,"polar"===s.type),x?g.attr({shape:r}):f?QT(f,l,g,r,e,o,!1,!1):Pd(g,{shape:r},t,e),a.setItemGraphicEl(e,g),i.add(g),g.ignore=u}})).update((function(e,n){var r=a.getItemModel(e),S=tA[s.type](a,e,r);if(m){var C=void 0;0===b.length?C=_(n):(C=b[n],C.useStyle(g.getItemStyle()),"cartesian2d"===s.type&&C.setShape("r",v),y[e]=C);var k=tA[s.type](a,e),T=fA(o,k,s);Nd(C,{shape:T},l,e)}var A=u.getItemGraphicEl(n);if(!a.hasValue(e))return i.remove(A),void(A=null);var O=!1;d&&(O=$T[s.type](h,S),O&&i.remove(A)),A||(A=KT[s.type](t,a,e,S,o,l,c.model,!!A,p)),w||nA(A,a,e,r,S,t,o,"polar"===s.type),x?A.attr({shape:S}):f?QT(f,l,A,S,e,o,!0,w):Nd(A,{shape:S},t,e,null),a.setItemGraphicEl(e,A),A.ignore=O,i.add(A)})).remove((function(e){var n=u.getItemGraphicEl(e);n&&zd(n,t,e)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new fi);S.removeAll();for(var C=0;C<y.length;++C)S.add(y[C]);i.add(S),this._backgroundEls=y,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),aA(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),aA(e,this.group,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)?$k(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var r=this;if(e.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var i=function(t){var n=e.getItemGraphicEl(t);if(n){var r=n.shape;return(o.isHorizontal()?Math.abs(r.height):Math.abs(r.width))||0}return 0};this._onRendered=function(){r._updateSortWithinSameData(e,i,o,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var r=[];return t.each(t.mapDimension(e.dim),(function(t,e){var o=n(e);o=null==o?NaN:o,r.push({dataIndex:e,mappedValue:o,ordinalNumber:t})})),r.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:Ot(r,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var r=n.scale,o=t.mapDimension(n.dim),i=Number.MAX_VALUE,a=0,u=r.getOrdinalMeta().categories.length;a<u;++a){var s=t.rawIndexOf(o,r.getRawOrdinalNumber(a)),c=s<0?Number.MIN_VALUE:e(t.indexOfRawIndex(s));if(c>i)return!0;i=c}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,r=n.getExtent(),o=Math.max(0,r[0]),i=Math.min(r[1],n.getOrdinalMeta().categories.length-1);o<=i;++o)if(t.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,r){if(this._isOrderChangedWithinSameData(t,e,n)){var o=this._dataSort(t,n,e);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,e,n){var r=e.baseAxis,o=this._dataSort(t,r,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:o,animation:{duration:0}})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){zd(e,t,Dc(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(_y),$T={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var o=t.x+t.width,i=t.y+t.height,a=qT(e.x,t.x),u=YT(e.x+e.width,o),s=qT(e.y,t.y),c=YT(e.y+e.height,i),l=u<a,f=c<s;return e.x=l&&a>o?u:a,e.y=f&&s>i?c:s,e.width=l?0:u-a,e.height=f?0:c-s,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),l||f},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var o=YT(e.r,t.r),i=qT(e.r0,t.r0);e.r=o,e.r0=i;var a=o-i<0;if(n<0){r=e.r;e.r=e.r0,e.r0=r}return a}},KT={cartesian2d:function(t,e,n,r,o,i,a,u,s){var c=new mc({shape:xt({},r),z2:1});if(c.__dataIndex=n,c.name="item",i){var l=c.shape,f=o?"height":"width";l[f]=0}return c},polar:function(t,e,n,r,o,i,a,u,s){var c=r.startAngle<r.endAngle,l=!o&&s?HT:Of,f=new l({shape:wt({clockwise:c},r),z2:1});if(f.name="item",i){var d=f.shape,h=o?"r":"endAngle",p={};d[h]=o?0:r.startAngle,p[h]=r[h],(u?Nd:Pd)(f,{shape:p},i)}return f}};function JT(t,e){var n=t.get("realtimeSort",!0),r=e.getBaseAxis();if(n&&"category"===r.type&&"cartesian2d"===e.type)return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function QT(t,e,n,r,o,i,a,u){var s,c;i?(c={x:r.x,width:r.width},s={y:r.y,height:r.height}):(c={y:r.y,height:r.height},s={x:r.x,width:r.width}),u||(a?Nd:Pd)(n,{shape:s},e,o,null);var l=e?t.baseAxis.model:null;(a?Nd:Pd)(n,{shape:c},l,o)}var tA={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),o=n?rA(n,r):0,i=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+i*o/2,y:r.y+a*o/2,width:r.width-i*o,height:r.height-a*o}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}};function eA(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function nA(t,e,n,r,o,i,a,u){var s=e.getItemVisual(n,"style");u||t.setShape("r",r.get(WT)||0),t.useStyle(s);var c=r.getShallow("cursor");if(c&&t.attr("cursor",c),!u){var l=a?o.height>0?"bottom":"top":o.width>0?"left":"right",f=rh(r);nh(t,f,{labelFetcher:i,labelDataIndex:n,defaultText:_k(i.getData(),n),inheritColor:s.fill,defaultOpacity:s.opacity,defaultOutsidePosition:l});var d=t.getTextContent();ph(d,f,i.getRawValue(n),(function(t){return Sk(e,t)}))}var h=r.getModel(["emphasis"]);Tl(t,h.get("focus"),h.get("blurScope")),Dl(t,r),eA(o)&&(t.style.fill="none",t.style.stroke="none",At(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}function rA(t,e){var n=t.get(UT)||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,r,o)}var oA=function(){function t(){}return t}(),iA=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return Z(e,t),e.prototype.getDefaultShape=function(){return new oA},e.prototype.buildPath=function(t,e){for(var n=e.points,r=this.__startPoint,o=this.__baseDimIdx,i=0;i<n.length;i+=2)r[o]=n[i+o],t.moveTo(r[0],r[1]),t.lineTo(n[i],n[i+1])},e}(Js);function aA(t,e,n){var r=t.getData(),o=[],i=r.getLayout("valueAxisHorizontal")?1:0;o[1-i]=r.getLayout("valueAxisStart");var a=r.getLayout("largeDataIndices"),u=r.getLayout("barWidth"),s=t.getModel("backgroundStyle"),c=t.get("showBackground",!0);if(c){var l=r.getLayout("largeBackgroundPoints"),f=[];f[1-i]=r.getLayout("backgroundStart");var d=new iA({shape:{points:l},incremental:!!n,silent:!0,z2:0});d.__startPoint=f,d.__baseDimIdx=i,d.__largeDataIndices=a,d.__barWidth=u,lA(d,s,r),e.add(d)}var h=new iA({shape:{points:r.getLayout("largePoints")},incremental:!!n});h.__startPoint=o,h.__baseDimIdx=i,h.__largeDataIndices=a,h.__barWidth=u,e.add(h),cA(h,t,r),Dc(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",uA),h.on("mousemove",uA))}var uA=Ty((function(t){var e=this,n=sA(e,t.offsetX,t.offsetY);Dc(e).dataIndex=n>=0?n:null}),30,!1);function sA(t,e,n){var r=t.__baseDimIdx,o=1-r,i=t.shape.points,a=t.__largeDataIndices,u=Math.abs(t.__barWidth/2),s=t.__startPoint[o];GT[0]=e,GT[1]=n;for(var c=GT[r],l=GT[1-r],f=c-u,d=c+u,h=0,p=i.length/2;h<p;h++){var m=2*h,g=i[m+r],v=i[m+o];if(g>=f&&g<=d&&(s<=v?l>=s&&l<=v:l>=v&&l<=s))return a[h]}return-1}function cA(t,e,n){var r=n.getVisual("style");t.useStyle(xt({},r)),t.style.fill=null,t.style.stroke=r.fill,t.style.lineWidth=n.getLayout("barWidth")}function lA(t,e,n){var r=e.get("borderColor")||e.get("color"),o=e.getItemStyle();t.useStyle(o),t.style.fill=null,t.style.stroke=r,t.style.lineWidth=n.getLayout("barWidth")}function fA(t,e,n){if(Kk(n,"cartesian2d")){var r=e,o=n.getArea();return{x:t?r.x:o.x,y:t?o.y:r.y,width:t?r.width:o.width,height:t?o.height:r.height}}o=n.getArea();var i=e;return{cx:o.cx,cy:o.cy,r0:t?o.r0:i.r0,r:t?o.r:i.r,startAngle:t?i.startAngle:0,endAngle:t?i.endAngle:2*Math.PI}}function dA(t,e,n){var r="polar"===t.type?Of:mc;return new r({shape:fA(e,n,t),silent:!0,z2:0})}var hA=ZT;function pA(t){t.registerChartView(hA),t.registerSeriesModel(VT),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Pt(IT,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ET),t.registerVisual({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,yT("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))}var mA=2*Math.PI,gA=Math.PI/180;function vA(t,e){return Up(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function yA(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.getData(),r=e.mapDimension("value"),o=vA(t,n),i=t.get("center"),a=t.get("radius");Lt(a)||(a=[0,a]),Lt(i)||(i=[i,i]);var u=Si(o.width,n.getWidth()),s=Si(o.height,n.getHeight()),c=Math.min(u,s),l=Si(i[0],u)+o.x,f=Si(i[1],s)+o.y,d=Si(a[0],c/2),h=Si(a[1],c/2),p=-t.get("startAngle")*gA,m=t.get("minAngle")*gA,g=0;e.each(r,(function(t){!isNaN(t)&&g++}));var v=e.getSum(r),y=Math.PI/(v||g)*2,b=t.get("clockwise"),x=t.get("roseType"),w=t.get("stillShowZeroSum"),_=e.getDataExtent(r);_[0]=0;var S=mA,C=0,k=p,T=b?1:-1;if(e.setLayout({viewRect:o,r:h}),e.each(r,(function(t,n){var r;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:f,r0:d,r:x?NaN:h});else{r="area"!==x?0===v&&w?y:t*y:mA/g,r<m?(r=m,S-=m):C+=t;var o=k+T*r;e.setItemLayout(n,{angle:r,startAngle:k,endAngle:o,clockwise:b,cx:l,cy:f,r0:d,r:x?_i(t,_,[d,h]):h}),k=o}})),S<mA&&g)if(S<=.001){var A=mA/g;e.each(r,(function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n);r.angle=A,r.startAngle=p+T*n*A,r.endAngle=p+T*(n+1)*A}}))}else y=S/C,k=p,e.each(r,(function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n),o=r.angle===m?m:t*y;r.startAngle=k,r.endAngle=k+T*o,k+=T*o}}))}))}function bA(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf((function(t){for(var e=r.getName(t),o=0;o<n.length;o++)if(!n[o].isSelected(e))return!1;return!0}))}}}}var xA=Math.PI/180;function wA(t,e,n,r,o,i,a,u,s,c){if(!(t.length<2)){for(var l=t.length,f=0;f<l;f++)if("outer"===t[f].position&&"labelLine"===t[f].labelAlignTo){var d=t[f].label.x-c;t[f].linePoints[1][0]+=d,t[f].label.x=c}Yb(t,s,s+a)&&p(t)}function h(t){for(var i=t.rB,a=i*i,u=0;u<t.list.length;u++){var s=t.list[u],c=Math.abs(s.label.y-n),l=r+s.len,f=l*l,d=Math.sqrt((1-Math.abs(c*c/a))*f);s.label.x=e+(d+s.len2)*o}}function p(t){for(var i={list:[],maxY:0},a={list:[],maxY:0},u=0;u<t.length;u++)if("none"===t[u].labelAlignTo){var s=t[u],c=s.label.y>n?a:i,l=Math.abs(s.label.y-n);if(l>c.maxY){var f=s.label.x-e-s.len2*o,d=r+s.len,p=f<d?Math.sqrt(l*l/(1-f*f/d/d)):d;c.rB=p,c.maxY=l}c.list.push(s)}h(i),h(a)}}function _A(t,e,n,r,o,i,a,u){for(var s=[],c=[],l=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<t.length;d++){var h=t[d].label;SA(t[d])||(h.x<e?(l=Math.min(l,h.x),s.push(t[d])):(f=Math.max(f,h.x),c.push(t[d])))}wA(c,e,n,r,1,o,i,a,u,f),wA(s,e,n,r,-1,o,i,a,u,l);for(d=0;d<t.length;d++){var p=t[d];h=p.label;if(!SA(p)){var m=p.linePoints;if(m){var g="edge"===p.labelAlignTo,v=p.rect.width,y=void 0;y=g?h.x<e?m[2][0]-p.labelDistance-a-p.edgeDistance:a+o-p.edgeDistance-m[2][0]-p.labelDistance:h.x<e?h.x-a-p.bleedMargin:a+o-h.x-p.bleedMargin,y<p.rect.width&&(p.label.style.width=y,"edge"===p.labelAlignTo&&(v=y));var b=m[1][0]-m[2][0];g?h.x<e?m[2][0]=a+p.edgeDistance+v+p.labelDistance:m[2][0]=a+o-p.edgeDistance-v-p.labelDistance:(h.x<e?m[2][0]=h.x+p.labelDistance:m[2][0]=h.x-p.labelDistance,m[1][0]=m[2][0]+b),m[1][1]=m[2][1]=h.y}}}}function SA(t){return"center"===t.position}function CA(t){var e,n,r=t.getData(),o=[],i=!1,a=(t.get("minShowLabelAngle")||0)*xA,u=r.getLayout("viewRect"),s=r.getLayout("r"),c=u.width,l=u.x,f=u.y,d=u.height;function h(t){t.ignore=!0}function p(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}r.each((function(t){var u=r.getItemGraphicEl(t),f=u.shape,d=u.getTextContent(),m=u.getTextGuideLine(),g=r.getItemModel(t),v=g.getModel("label"),y=v.get("position")||g.get(["emphasis","label","position"]),b=v.get("distanceToLabelLine"),x=v.get("alignTo"),w=Si(v.get("edgeDistance"),c),_=v.get("bleedMargin"),S=g.getModel("labelLine"),C=S.get("length");C=Si(C,c);var k=S.get("length2");if(k=Si(k,c),Math.abs(f.endAngle-f.startAngle)<a)return At(d.states,h),void(d.ignore=!0);if(p(d)){var T,A,O,M,D=(f.startAngle+f.endAngle)/2,I=Math.cos(D),E=Math.sin(D);e=f.cx,n=f.cy;var R,N="inside"===y||"inner"===y;if("center"===y)T=f.cx,A=f.cy,M="center";else{var P=(N?(f.r+f.r0)/2*I:f.r*I)+e,L=(N?(f.r+f.r0)/2*E:f.r*E)+n;if(T=P+3*I,A=L+3*E,!N){var B=P+I*(C+s-f.r),z=L+E*(C+s-f.r),V=B+(I<0?-1:1)*k,F=z;T="edge"===x?I<0?l+w:l+c-w:V+(I<0?-b:b),A=F,O=[[P,L],[B,z],[V,F]]}M=N?"center":"edge"===x?I>0?"right":"left":I>0?"left":"right"}var j=v.get("rotate");if(R="number"===typeof j?j*(Math.PI/180):j?I<0?-D+Math.PI:-D:0,i=!!R,d.x=T,d.y=A,d.rotation=R,d.setStyle({verticalAlign:"middle"}),N){d.setStyle({align:M});var H=d.states.select;H&&(H.x+=d.x,H.y+=d.y)}else{var U=d.getBoundingRect().clone();U.applyTransform(d.getComputedTransform());var W=(d.style.margin||0)+2.1;U.y-=W/2,U.height+=W,o.push({label:d,labelLine:m,position:y,len:C,len2:k,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new Br(I,E),linePoints:O,textAlign:M,labelDistance:b,labelAlignTo:x,edgeDistance:w,bleedMargin:_,rect:U})}u.setTextConfig({inside:N})}})),!i&&t.get("avoidLabelOverlap")&&_A(o,e,n,s,c,d,l,f);for(var m=0;m<o.length;m++){var g=o[m],v=g.label,y=g.labelLine,b=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:g.textAlign}),b&&(At(v.states,h),v.ignore=!0);var x=v.states.select;x&&(x.x+=v.x,x.y+=v.y)}if(y){var w=g.linePoints;b||!w?(At(y.states,h),y.ignore=!0):(zb(w,g.minTurnAngle),Vb(w,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:w}),v.__hostTarget.textGuideLineConfig={anchor:new Br(w[0][0],w[0][1])})}}}function kA(t,e){var n=t.get("borderRadius");return null==n?null:(Lt(n)||(n=[n,n]),{innerCornerRadius:oo(n[0],e.r0),cornerRadius:oo(n[1],e.r)})}var TA=function(t){function e(e,n,r){var o=t.call(this)||this;o.z2=2;var i=new jf,a=new Mc;return o.setTextGuideLine(i),o.setTextContent(a),o.updateData(e,n,r,!0),o}return Z(e,t),e.prototype.updateData=function(t,e,n,r){var o=this,i=t.hostModel,a=t.getItemModel(e),u=a.getModel("emphasis"),s=t.getItemLayout(e),c=xt(kA(a.getModel("itemStyle"),s)||{},s);if(r){o.setShape(c);var l=i.getShallow("animationType");"scale"===l?(o.shape.r=s.r0,Pd(o,{shape:{r:s.r}},i,e)):null!=n?(o.setShape({startAngle:n,endAngle:n}),Pd(o,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},i,e)):(o.shape.endAngle=s.startAngle,Nd(o,{shape:{endAngle:s.endAngle}},i,e))}else Nd(o,{shape:c},i,e);o.useStyle(t.getItemVisual(e,"style")),Dl(o,a);var f=(s.startAngle+s.endAngle)/2,d=i.get("selectedOffset"),h=Math.cos(f)*d,p=Math.sin(f)*d,m=a.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(i,t,e),o.ensureState("emphasis").shape=$({r:s.r+(u.get("scale")&&u.get("scaleSize")||0)},kA(u.getModel("itemStyle"),s)),xt(o.ensureState("select"),{x:h,y:p,shape:kA(a.getModel(["select","itemStyle"]),s)}),xt(o.ensureState("blur"),{shape:kA(a.getModel(["blur","itemStyle"]),s)});var g=o.getTextGuideLine(),v=o.getTextContent();xt(g.ensureState("select"),{x:h,y:p}),xt(v.ensureState("select"),{x:h,y:p}),Tl(this,u.get("focus"),u.get("blurScope"))},e.prototype._updateLabel=function(t,e,n){var r=this,o=e.getItemModel(n),i=o.getModel("labelLine"),a=e.getItemVisual(n,"style"),u=a&&a.fill,s=a&&a.opacity;nh(r,rh(o),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:u,defaultOpacity:s,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)});var c=r.getTextContent();r.setTextConfig({position:null,rotation:null}),c.attr({z2:10}),Hb(this,Ub(o),{stroke:u,opacity:Kt(i.get(["lineStyle","opacity"]),s,1)})},e}(Of),AA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return Z(e,t),e.prototype.init=function(){var t=new fi;this._sectorGroup=t},e.prototype.render=function(t,e,n,r){var o,i=t.getData(),a=this._data,u=this.group;if(!a&&i.count()>0){for(var s=i.getItemLayout(0),c=1;isNaN(s&&s.startAngle)&&c<i.count();++c)s=i.getItemLayout(c);s&&(o=s.startAngle)}i.diff(a).add((function(t){var e=new TA(i,t,o);i.setItemGraphicEl(t,e),u.add(e)})).update((function(t,e){var n=a.getItemGraphicEl(e);n.updateData(i,t,o),n.off("click"),u.add(n),i.setItemGraphicEl(t,n)})).remove((function(e){var n=a.getItemGraphicEl(e);zd(n,t,e)})).execute(),CA(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=i)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var n=e.getData(),r=n.getItemLayout(0);if(r){var o=t[0]-r.cx,i=t[1]-r.cy,a=Math.sqrt(o*o+i*i);return a<=r.r&&a>=r.r0}},e.type="pie",e}(_y),OA=AA;function MA(t,e,n){e=Lt(e)&&{coordDimensions:e}||xt({},e);var r=t.getSource(),o=sk(r,e),i=new rk(o,t);return i.initData(r,n),i}var DA=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},t.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},t.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},t}(),IA=DA,EA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.useColorPaletteOnData=!0,e}return Z(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new IA(Nt(this.getData,this),Nt(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return MA(this,{coordDimensions:["value"],encodeDefaulter:Pt(gm,this)})},e.prototype.getDataParams=function(e){var n=this.getData(),r=t.prototype.getDataParams.call(this,e),o=[];return n.each(n.mapDimension("value"),(function(t){o.push(t)})),r.percent=Mi(o,e,n.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},e.prototype._defaultLabelLine=function(t){Xi(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={zlevel:0,z:2,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(ly),RA=EA;function NA(t){t.registerChartView(OA),t.registerSeriesModel(RA),ix("pie",t.registerAction),t.registerLayout(Pt(yA,"pie")),t.registerProcessor(bA("pie"))}var PA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Z(e,t),e.prototype.getInitialData=function(t,e){return bk(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}}},e}(ly),LA=PA,BA=4,zA=function(){function t(){}return t}(),VA=function(t){function e(e){return t.call(this,e)||this}return Z(e,t),e.prototype.getDefaultShape=function(){return new zA},e.prototype.buildPath=function(t,e){var n=e.points,r=e.size,o=this.symbolProxy,i=o.shape,a=t.getContext?t.getContext():t,u=a&&r[0]<BA;if(u)this._ctx=a;else{this._ctx=null;for(var s=0;s<n.length;){var c=n[s++],l=n[s++];isNaN(c)||isNaN(l)||(this.softClipShape&&!this.softClipShape.contain(c,l)||(i.x=c-r[0]/2,i.y=l-r[1]/2,i.width=r[0],i.height=r[1],o.buildPath(t,i,!0)))}}},e.prototype.afterBrush=function(){var t=this.shape,e=t.points,n=t.size,r=this._ctx;if(r)for(var o=0;o<e.length;){var i=e[o++],a=e[o++];isNaN(i)||isNaN(a)||(this.softClipShape&&!this.softClipShape.contain(i,a)||r.fillRect(i-n[0]/2,a-n[1]/2,n[0],n[1]))}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,r=n.points,o=n.size,i=Math.max(o[0],4),a=Math.max(o[1],4),u=r.length/2-1;u>=0;u--){var s=2*u,c=r[s]-i/2,l=r[s+1]-a/2;if(t>=c&&e>=l&&t<=c+i&&e<=l+a)return u}return-1},e}(Js),FA=function(){function t(){this.group=new fi}return t.prototype.isPersistent=function(){return!this._incremental},t.prototype.updateData=function(t,e){this.group.removeAll();var n=new VA({rectHover:!0,cursor:"default"});n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,!1,e),this.group.add(n),this._incremental=null},t.prototype.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;e=new Float32Array(e.buffer,r,n)}t.setShape("points",e)}))}},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new gd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},t.prototype.incrementalUpdate=function(t,e,n){var r;this._incremental?(r=new VA,this._incremental.addDisplayable(r,!0)):(r=new VA({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end}),r.incremental=!0,this.group.add(r)),r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,!!this._incremental,n)},t.prototype._setCommon=function(t,e,n,r){var o=e.hostModel;r=r||{};var i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.softClipShape=r.clipShape||null,t.symbolProxy=_x(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<BA;t.useStyle(o.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var u=e.getVisual("style"),s=u&&u.fill;if(s&&t.setColor(s),!n){var c=Dc(t);c.seriesIndex=o.seriesIndex,t.on("mousemove",(function(e){c.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(c.dataIndex=n+(t.startIndex||0))}))}},t.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},t.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},t}(),jA=FA,HA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),o=this._updateSymbolDraw(r,t);o.updateData(r,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var r=t.getData(),o=this._updateSymbolDraw(r,t);o.incrementalPrepareUpdate(r),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var r=t.getData();if(this.group.dirty(),!this._finished||r.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=mT("").reset(t,e,n);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,r=e.pipelineContext,o=r.large;return n&&o===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=o?new jA:new Ik,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(_y),UA=HA,WA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Qp),GA=WA,qA=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},t.prototype.getCoordSysModel=function(){},t}(),YA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ya).models[0]},e.type="cartesian2dAxis",e}(Qp);kt(YA,qA);var XA={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},ZA=yt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},XA),$A=yt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},XA),KA=yt({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},$A),JA=wt({scale:!0,logBase:10},$A),QA={category:ZA,value:$A,time:KA,log:JA},tO=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}return t.createByAxisModel=function(e){var n=e.option,r=n.data,o=r&&Ot(r,eO);return new t({categories:o,needCollect:!o,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!==typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=this._getOrCreateMap();return e=r.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=ae(this.categories))},t}();function eO(t){return jt(t)&&null!=t.value?t.value:t+""}var nO=tO,rO={value:1,category:1,time:1,log:1};function oO(t,e,n,r){At(rO,(function(o,i){var a=yt(yt({},QA[i],!0),r,!0),u=function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return o.type=e+"Axis."+i,o}return Z(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=qp(this),r=n?Xp(t):{},o=e.getTheme();yt(t,o.get(i+"Axis")),yt(t,this.getDefaultOption()),t.type=iO(t),n&&Yp(t,r,n)},n.prototype.optionUpdated=function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=nO.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+i,n.defaultOption=a,n}(n);t.registerComponentModel(u)})),t.registerSubTypeDefaulter(e+"Axis",iO)}function iO(t){return t.type||(t.data?"category":"value")}var aO=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();Va(aO);var uO=aO,sO=Ci;function cO(t,e,n,r){var o={},i=t[1]-t[0],a=o.interval=Bi(i/e,!0);null!=n&&a<n&&(a=o.interval=n),null!=r&&a>r&&(a=o.interval=r);var u=o.intervalPrecision=lO(a),s=o.niceTickExtent=[sO(Math.ceil(t[0]/a)*a,u),sO(Math.floor(t[1]/a)*a,u)];return dO(s,t),o}function lO(t){return Ai(t)+2}function fO(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function dO(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),fO(t,0,e),fO(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function hO(t,e){return t>=e[0]&&t<=e[1]}function pO(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function mO(t,e){return t*(e[1]-e[0])+e[0]}var gO=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new nO({})),Lt(r)&&(r=new nO({categories:Ot(r,(function(t){return jt(t)?t.value:t}))})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return Z(e,t),e.prototype.parse=function(t){return"string"===typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),hO(t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),pO(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(mO(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){var t=[],e=this._extent,n=e[0];while(n<=e[1])t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],o=0,i=this._ordinalMeta.categories.length,a=Math.min(i,e.length);o<a;++o){var u=e[o];n[o]=u,r[u]=o}for(var s=0;o<i;++o){while(null!=r[s])s++;n.push(s),r[s]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(uO);uO.registerClass(gO);var vO=gO,yO=Ci,bO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Z(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return hO(t,this._extent)},e.prototype.normalize=function(t){return pO(t,this._extent)},e.prototype.scale=function(t){return mO(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=lO(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,r=this._niceExtent,o=this._intervalPrecision,i=[];if(!e)return i;var a=1e4;n[0]<r[0]&&(t?i.push({value:yO(r[0]-e,o)}):i.push({value:n[0]}));var u=r[0];while(u<=r[1]){if(i.push({value:u}),u=yO(u+e,o),u===i[i.length-1].value)break;if(i.length>a)return[]}var s=i.length?i[i.length-1].value:r[1];return n[1]>s&&(t?i.push({value:yO(s+e,o)}):i.push({value:n[1]})),i},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),o=1;o<e.length;o++){var i=e[o],a=e[o-1],u=0,s=[],c=i.value-a.value,l=c/t;while(u<t-1){var f=yO(a.value+(u+1)*l);f>r[0]&&f<r[1]&&s.push(f),u++}n.push(s)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;null==n?n=Ai(t.value)||0:"auto"===n&&(n=this._intervalPrecision);var r=yO(t.value,n,!0);return Sp(r)},e.prototype.niceTicks=function(t,e,n){t=t||5;var r=this._extent,o=r[1]-r[0];if(isFinite(o)){o<0&&(o=-o,r.reverse());var i=cO(r,t,e,n);this._intervalPrecision=i.intervalPrecision,this._interval=i.interval,this._niceExtent=i.niceTickExtent}},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=yO(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=yO(Math.ceil(e[1]/o)*o))},e.type="interval",e}(uO);uO.registerClass(bO);var xO=bO,wO=function(t,e,n,r){while(n<r){var o=n+r>>>1;t[o][1]<e?n=o+1:r=o}return n},_O=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return Z(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return ip(t.value,Jh[op(np(this._minLevelUnit))]||Jh.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var r=this.getSetting("useUTC"),o=this.getSetting("locale");return ap(t,e,n,o,r)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,r=[];if(!e)return r;r.push({value:n[0],level:0});var o=this.getSetting("useUTC"),i=IO(this._minLevelUnit,this._approxInterval,o,n);return r=r.concat(i),r.push({value:n[1],level:0}),r},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=Xh,e[1]+=Xh),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-Xh}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,e,n){t=t||10;var r=this._extent,o=r[1]-r[0];this._approxInterval=o/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var i=SO.length,a=Math.min(wO(SO,this._approxInterval,0,i),i-1);this._interval=SO[a][1],this._minLevelUnit=SO[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return"number"===typeof t?t:+Ni(t)},e.prototype.contain=function(t){return hO(this.parse(t),this._extent)},e.prototype.normalize=function(t){return pO(this.parse(t),this._extent)},e.prototype.scale=function(t){return mO(t,this._extent)},e.type="time",e}(xO),SO=[["second",Gh],["minute",qh],["hour",Yh],["quarter-day",6*Yh],["half-day",12*Yh],["day",1.2*Xh],["half-week",3.5*Xh],["week",7*Xh],["month",31*Xh],["quarter",95*Xh],["half-year",Zh/2],["year",Zh]];function CO(t,e,n,r){var o=Ni(e),i=Ni(n),a=function(t){return sp(o,t,r)===sp(i,t,r)},u=function(){return a("year")},s=function(){return u()&&a("month")},c=function(){return s()&&a("day")},l=function(){return c()&&a("hour")},f=function(){return l()&&a("minute")},d=function(){return f()&&a("second")},h=function(){return d()&&a("millisecond")};switch(t){case"year":return u();case"month":return s();case"day":return c();case"hour":return l();case"minute":return f();case"second":return d();case"millisecond":return h()}}function kO(t,e){return t/=Xh,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function TO(t){var e=30*Xh;return t/=e,t>6?6:t>3?3:t>2?2:1}function AO(t){return t/=Yh,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function OO(t,e){return t/=e?qh:Gh,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function MO(t){return Bi(t,!0)}function DO(t,e,n){var r=new Date(t);switch(np(e)){case"year":case"month":r[vp(n)](0);case"day":r[yp(n)](1);case"hour":r[bp(n)](0);case"minute":r[xp(n)](0);case"second":r[wp(n)](0),r[_p(n)](0)}return r.getTime()}function IO(t,e,n,r){var o=1e4,i=tp,a=0;function u(t,e,n,o,i,a,u){var s=new Date(e),c=e,l=s[o]();while(c<n&&c<=r[1])u.push({value:c}),l+=t,s[i](l),c=s.getTime();u.push({value:c,notAdd:!0})}function s(t,o,i){var a=[],s=!o.length;if(!CO(np(t),r[0],r[1],n)){s&&(o=[{value:DO(new Date(r[0]),t,n)},{value:r[1]}]);for(var c=0;c<o.length-1;c++){var l=o[c].value,f=o[c+1].value;if(l!==f){var d=void 0,h=void 0,p=void 0,m=!1;switch(t){case"year":d=Math.max(1,Math.round(e/Xh/365)),h=cp(n),p=gp(n);break;case"half-year":case"quarter":case"month":d=TO(e),h=lp(n),p=vp(n);break;case"week":case"half-week":case"day":d=kO(e,31),h=fp(n),p=yp(n),m=!0;break;case"half-day":case"quarter-day":case"hour":d=AO(e),h=dp(n),p=bp(n);break;case"minute":d=OO(e,!0),h=hp(n),p=xp(n);break;case"second":d=OO(e,!1),h=pp(n),p=wp(n);break;case"millisecond":d=MO(e),h=mp(n),p=_p(n);break}u(d,l,f,h,p,m,a),"year"===t&&i.length>1&&0===c&&i.unshift({value:i[0].value-d})}}for(c=0;c<a.length;c++)i.push(a[c]);return a}}for(var c=[],l=[],f=0,d=0,h=0;h<i.length&&a++<o;++h){var p=np(i[h]);if(rp(i[h])){s(i[h],c[c.length-1]||[],l);var m=i[h+1]?np(i[h+1]):null;if(p!==m){if(l.length){d=f,l.sort((function(t,e){return t.value-e.value}));for(var g=[],v=0;v<l.length;++v){var y=l[v].value;0!==v&&l[v-1].value===y||(g.push(l[v]),y>=r[0]&&y<=r[1]&&f++)}var b=(r[1]-r[0])/e;if(f>1.5*b&&d>b/1.5)break;if(c.push(g),f>b||t===i[h])break}l=[]}}}var x=Dt(Ot(c,(function(t){return Dt(t,(function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd}))})),(function(t){return t.length>0})),w=[],_=x.length-1;for(h=0;h<x.length;++h)for(var S=x[h],C=0;C<S.length;++C)w.push({value:S[C].value,level:_-h});w.sort((function(t,e){return t.value-e.value}));var k=[];for(h=0;h<w.length;++h)0!==h&&w[h].value===w[h-1].value||k.push(w[h]);return k}uO.registerClass(_O);var EO=_O,RO=uO.prototype,NO=xO.prototype,PO=Ai,LO=Ci,BO=Math.floor,zO=Math.ceil,VO=Math.pow,FO=Math.log,jO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new xO,e._interval=0,e}return Z(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,r=e.getExtent(),o=NO.getTicks.call(this,t);return Ot(o,(function(t){var e=t.value,o=Ci(VO(this.base,e));return o=e===n[0]&&this._fixMin?UO(o,r[0]):o,o=e===n[1]&&this._fixMax?UO(o,r[1]):o,{value:o}}),this)},e.prototype.setExtent=function(t,e){var n=this.base;t=FO(t)/FO(n),e=FO(e)/FO(n),NO.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=RO.getExtent.call(this);e[0]=VO(t,e[0]),e[1]=VO(t,e[1]);var n=this._originalScale,r=n.getExtent();return this._fixMin&&(e[0]=UO(e[0],r[0])),this._fixMax&&(e[1]=UO(e[1],r[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=FO(t[0])/FO(e),t[1]=FO(t[1])/FO(e),RO.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.niceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=Pi(n),o=t/n*r;o<=.5&&(r*=10);while(!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0)r*=10;var i=[Ci(zO(e[0]/r)*r),Ci(BO(e[1]/r)*r)];this._interval=r,this._niceExtent=i}},e.prototype.niceExtent=function(t){NO.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=FO(t)/FO(this.base),hO(t,this._extent)},e.prototype.normalize=function(t){return t=FO(t)/FO(this.base),pO(t,this._extent)},e.prototype.scale=function(t){return t=mO(t,this._extent),VO(this.base,t)},e.type="log",e}(uO),HO=jO.prototype;function UO(t,e){return LO(t,PO(e))}HO.getMinorTicks=NO.getMinorTicks,HO.getLabel=NO.getLabel,uO.registerClass(jO);var WO=jO,GO=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);Bt(o)?this._modelMinNum=ZO(t,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=ZO(t,o));var i=this._modelMaxRaw=e.get("max",!0);if(Bt(i)?this._modelMaxNum=ZO(t,i({min:n[0],max:n[1]})):"dataMax"!==i&&(this._modelMaxNum=ZO(t,i)),r)this._axisDataLen=e.getCategories().length;else{var a=e.get("boundaryGap"),u=Lt(a)?a:[a||0,a||0];"boolean"===typeof u[0]||"boolean"===typeof u[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[oo(u[0],1),oo(u[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,i=t?null:n-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,u="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,s=null!=a,c=null!=u;null==a&&(a=t?r?0:NaN:e-o[0]*i),null==u&&(u=t?r?r-1:NaN:n+o[1]*i),(null==a||!isFinite(a))&&(a=NaN),(null==u||!isFinite(u))&&(u=NaN),a>u&&(a=NaN,u=NaN);var l=Xt(a)||Xt(u)||t&&!r;this._needCrossZero&&(a>0&&u>0&&!s&&(a=0),a<0&&u<0&&!c&&(u=0));var f=this._determinedMin,d=this._determinedMax;return null!=f&&(a=f,s=!0),null!=d&&(u=d,c=!0),{min:a,max:u,minFixed:s,maxFixed:c,isBlank:l}},t.prototype.modifyDataMinMax=function(t,e){this[YO[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=qO[t];this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),qO={min:"_determinedMin",max:"_determinedMax"},YO={min:"_dataMin",max:"_dataMax"};function XO(t,e,n){var r=t.rawExtentInfo;return r||(r=new GO(t,e,n),t.rawExtentInfo=r,r)}function ZO(t,e){return null==e?null:Xt(e)?NaN:t.parse(e)}function $O(t,e){var n=t.type,r=XO(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var o=r.min,i=r.max,a=e.ecModel;if(a&&"time"===n){var u=TT("bar",a),s=!1;if(At(u,(function(t){s=s||t.getBaseAxis()===e.axis})),s){var c=OT(u),l=KO(o,i,e,c);o=l.min,i=l.max}}return{extent:[o,i],fixMin:r.minFixed,fixMax:r.maxFixed}}function KO(t,e,n,r){var o=n.axis.getExtent(),i=o[1]-o[0],a=DT(r,n.axis);if(void 0===a)return{min:t,max:e};var u=1/0;At(a,(function(t){u=Math.min(t.offset,u)}));var s=-1/0;At(a,(function(t){s=Math.max(t.offset+t.width,s)})),u=Math.abs(u),s=Math.abs(s);var c=u+s,l=e-t,f=1-(u+s)/i,d=l/f-l;return e+=d*(s/c),t-=d*(u/c),{min:t,max:e}}function JO(t,e){var n=$O(t,e),r=n.extent,o=e.get("splitNumber");t instanceof WO&&(t.base=e.get("logBase"));var i=t.type;t.setExtent(r[0],r[1]),t.niceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===i||"time"===i?e.get("minInterval"):null,maxInterval:"interval"===i||"time"===i?e.get("maxInterval"):null});var a=e.get("interval");null!=a&&t.setInterval&&t.setInterval(a)}function QO(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new vO({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new EO({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(uO.getClass(e)||xO)}}function tM(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function eM(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?function(e){return function(n,r){return t.scale.getFormattedLabel(n,r,e)}}(e):"string"===typeof e?function(e){return function(n){var r=t.scale.getLabel(n),o=e.replace("{value}",null!=r?r:"");return o}}(e):"function"===typeof e?function(e){return function(r,o){return null!=n&&(o=r.value-n),e(nM(t,r),o,null!=r.level?{level:r.level}:null)}}(e):function(e){return t.scale.getLabel(e)}}function nM(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function rM(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var r,o,i=n.getExtent();n instanceof vO?o=n.count():(r=n.getTicks(),o=r.length);var a,u=t.getLabelModel(),s=eM(t),c=1;o>40&&(c=Math.ceil(o/40));for(var l=0;l<o;l+=c){var f=r?r[l]:{value:i[0]+l},d=s(f,l),h=u.getTextRect(d),p=oM(h,u.get("rotate")||0);a?a.union(p):a=p}return a}}function oM(t,e){var n=e*Math.PI/180,r=t.width,o=t.height,i=r*Math.abs(Math.cos(n))+Math.abs(o*Math.sin(n)),a=r*Math.abs(Math.sin(n))+Math.abs(o*Math.cos(n)),u=new Yr(t.x,t.y,i,a);return u}function iM(t){var e=t.get("interval");return null==e?"auto":e}function aM(t){return"category"===t.type&&0===iM(t.getLabelModel())}function uM(t,e){var n={};return At(t.mapDimensionsAll(e),(function(e){n[mk(t,e)]=!0})),Et(n)}function sM(t,e,n){e&&At(uM(e,n),(function(n){var r=e.getApproximateExtent(n);r[0]<t[0]&&(t[0]=r[0]),r[1]>t[1]&&(t[1]=r[1])}))}var cM=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return Ot(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Dt(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),lM=cM,fM=["x","y"];function dM(t){return"interval"===t.type||"time"===t.type}var hM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=fM,e}return Z(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(dM(t)&&dM(e)){var n=t.getExtent(),r=e.getExtent(),o=this.dataToPoint([n[0],r[0]]),i=this.dataToPoint([n[1],r[1]]),a=n[1]-n[0],u=r[1]-r[0];if(a&&u){var s=(i[0]-o[0])/a,c=(i[1]-o[1])/u,l=o[0]-n[0]*s,f=o[1]-r[0]*c,d=this._transform=[s,0,0,c,l,f];this._invTransform=An([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,n){n=n||[];var r=t[0],o=t[1];if(this._transform&&null!=r&&isFinite(r)&&null!=o&&isFinite(o))return Me(n,t,this._transform);var i=this.getAxis("x"),a=this.getAxis("y");return n[0]=i.toGlobalCoord(i.dataToCoord(r)),n[1]=a.toGlobalCoord(a.dataToCoord(o)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,o=n.getExtent(),i=r.getExtent(),a=n.parse(t[0]),u=r.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(i[0],i[1]),u),Math.max(i[0],i[1])),e},e.prototype.pointToData=function(t,e){if(e=e||[],this._invTransform)return Me(e,t,this._invTransform);var n=this.getAxis("x"),r=this.getAxis("y");return e[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=r.coordToData(r.toLocalCoord(t[1])),e},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),r=Math.min(e[0],e[1]),o=Math.max(t[0],t[1])-n,i=Math.max(e[0],e[1])-r;return new Yr(n,r,o,i)},e}(lM),pM=hM,mM=ma();function gM(t){return"category"===t.type?yM(t):wM(t)}function vM(t,e){return"category"===t.type?xM(t,e):{ticks:Ot(t.scale.getTicks(),(function(t){return t.value}))}}function yM(t){var e=t.getLabelModel(),n=bM(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function bM(t,e){var n,r,o=_M(t,"labels"),i=iM(e),a=SM(o,i);return a||(Bt(i)?n=MM(t,i):(r="auto"===i?kM(t):i,n=OM(t,r)),CM(o,i,{labels:n,labelCategoryInterval:r}))}function xM(t,e){var n,r,o=_M(t,"ticks"),i=iM(e),a=SM(o,i);if(a)return a;if(e.get("show")&&!t.scale.isBlank()||(n=[]),Bt(i))n=MM(t,i,!0);else if("auto"===i){var u=bM(t,t.getLabelModel());r=u.labelCategoryInterval,n=Ot(u.labels,(function(t){return t.tickValue}))}else r=i,n=OM(t,r,!0);return CM(o,i,{ticks:n,tickCategoryInterval:r})}function wM(t){var e=t.scale.getTicks(),n=eM(t);return{labels:Ot(e,(function(e,r){return{formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function _M(t,e){return mM(t)[e]||(mM(t)[e]=[])}function SM(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function CM(t,e,n){return t.push({key:e,value:n}),n}function kM(t){var e=mM(t).autoInterval;return null!=e?e:mM(t).autoInterval=t.calculateCategoryInterval()}function TM(t){var e=AM(t),n=eM(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,i=o.getExtent(),a=o.count();if(i[1]-i[0]<1)return 0;var u=1;a>40&&(u=Math.max(1,Math.floor(a/40)));for(var s=i[0],c=t.dataToCoord(s+1)-t.dataToCoord(s),l=Math.abs(c*Math.cos(r)),f=Math.abs(c*Math.sin(r)),d=0,h=0;s<=i[1];s+=u){var p=0,m=0,g=to(n({value:s}),e.font,"center","top");p=1.3*g.width,m=1.3*g.height,d=Math.max(d,p,7),h=Math.max(h,m,7)}var v=d/l,y=h/f;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(v,y))),x=mM(t.model),w=t.getExtent(),_=x.lastAutoInterval,S=x.lastTickCount;return null!=_&&null!=S&&Math.abs(_-b)<=1&&Math.abs(S-a)<=1&&_>b&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?b=_:(x.lastTickCount=a,x.lastAutoInterval=b,x.axisExtent0=w[0],x.axisExtent1=w[1]),b}function AM(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function OM(t,e,n){var r=eM(t),o=t.scale,i=o.getExtent(),a=t.getLabelModel(),u=[],s=Math.max((e||0)+1,1),c=i[0],l=o.count();0!==c&&s>1&&l/s>2&&(c=Math.round(Math.ceil(c/s)*s));var f=aM(t),d=a.get("showMinLabel")||f,h=a.get("showMaxLabel")||f;d&&c!==i[0]&&m(i[0]);for(var p=c;p<=i[1];p+=s)m(p);function m(t){var e={value:t};u.push(n?t:{formattedLabel:r(e),rawLabel:o.getLabel(e),tickValue:t})}return h&&p-s!==i[1]&&m(i[1]),u}function MM(t,e,n){var r=t.scale,o=eM(t),i=[];return At(r.getTicks(),(function(t){var a=r.getLabel(t),u=t.value;e(t.value,a)&&i.push(n?u:{formattedLabel:o(t),rawLabel:a,tickValue:u})})),i}var DM=[0,1],IM=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Oi(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&(n=n.slice(),EM(n,r.count())),_i(t,DM,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),EM(n,r.count()));var o=_i(t,n,DM,e);return this.scale.scale(o)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=vM(this,e),r=n.ticks,o=Ot(r,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this),i=e.get("alignWithLabel");return RM(this,o,i,t.clamp),o},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),r=Ot(n,(function(t){return Ot(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return r},t.prototype.getViewLabels=function(){return gM(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},t.prototype.calculateCategoryInterval=function(){return TM(this)},t}();function EM(t,e){var n=t[1]-t[0],r=e,o=n/r/2;t[0]+=o,t[1]-=o}function RM(t,e,n,r){var o=e.length;if(t.onBand&&!n&&o){var i,a,u=t.getExtent();if(1===o)e[0].coord=u[0],i=e[1]={coord:u[0]};else{var s=e[o-1].tickValue-e[0].tickValue,c=(e[o-1].coord-e[0].coord)/s;At(e,(function(t){t.coord-=c/2}));var l=t.scale.getExtent();a=1+l[1]-e[o-1].tickValue,i={coord:e[o-1].coord+c*a},e.push(i)}var f=u[0]>u[1];d(e[0].coord,u[0])&&(r?e[0].coord=u[0]:e.shift()),r&&d(u[0],e[0].coord)&&e.unshift({coord:u[0]}),d(u[1],i.coord)&&(r?i.coord=u[1]:e.pop()),r&&d(i.coord,u[1])&&e.push({coord:u[1]})}function d(t,e){return t=Ci(t),e=Ci(e),f?t>e:t<e}}var NM=IM,PM=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,r)||this;return a.index=0,a.type=o||"value",a.position=i||"bottom",a}return Z(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(NM),LM=PM;function BM(t,e,n){n=n||{};var r=t.coordinateSystem,o=e.axis,i={},a=o.getAxesOnZeroOf()[0],u=o.position,s=a?"onZero":u,c=o.dim,l=r.getRect(),f=[l.x,l.x+l.width,l.y,l.y+l.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,p="x"===c?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(a){var m=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(m,p[1]),p[0])}i.position=["y"===c?p[d[s]]:f[0],"x"===c?p[d[s]]:f[3]],i.rotation=Math.PI/2*("x"===c?0:1);var g={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=g[u],i.labelOffset=a?p[d[u]]-p[d.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Zt(n.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var v=e.get(["axisLabel","rotate"]);return i.labelRotate="top"===s?-v:v,i.z2=1,i}function zM(t){return"cartesian2d"===t.get("coordinateSystem")}function VM(t){var e={xAxisModel:null,yAxisModel:null};return At(e,(function(n,r){var o=r.replace(/Model$/,""),i=t.getReferringComponents(o,ya).models[0];e[r]=i})),e}var FM=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=fM,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),At(n.x,(function(t){JO(t.scale,t.model)})),At(n.y,(function(t){JO(t.scale,t.model)}));var r={};At(n.x,(function(t){HM(n,"y",t,r)})),At(n.y,(function(t){HM(n,"x",t,r)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var r=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),i=Up(r,{width:e.getWidth(),height:e.getHeight()});this._rect=i;var a=this._axesList;function u(){At(a,(function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),WM(t,e?i.x:i.y)}))}u(),o&&(At(a,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=rM(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get(["axisLabel","margin"]);i[n]-=e[n]+r,"top"===t.position?i.y+=e.height+r:"left"===t.position&&(i.x+=e.width+r)}}})),u()),At(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}jt(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis",ya).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",ya).models[0],a=t.gridModel,u=this._coordsList;if(r)e=r.coordinateSystem,St(u,e)<0&&(e=null);else if(o&&i)e=this.getCartesian(o.componentIndex,i.componentIndex);else if(o)n=this.getAxis("x",o.componentIndex);else if(i)n=this.getAxis("y",i.componentIndex);else if(a){var s=a.coordinateSystem;s===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var r=this,o=this,i={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",s("x"),this),e.eachComponent("yAxis",s("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function s(e){return function(n,r){if(jM(n,t)){var s=n.get("position");"x"===e?"top"!==s&&"bottom"!==s&&(s=i.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=i.left?"right":"left"),i[s]=!0;var c=new LM(e,QO(n),[0,0],n.get("type"),s),l="category"===c.type;c.onBand=l&&n.get("boundaryGap"),c.inverse=n.get("inverse"),n.axis=c,c.model=n,c.grid=o,c.index=r,o._axesList.push(c),a[e][r]=c,u[e]++}}}this._axesMap=a,At(a.x,(function(e,n){At(a.y,(function(o,i){var a="x"+n+"y"+i,u=new pM(a);u.master=r,u.model=t,r._coordsMap[a]=u,r._coordsList.push(u),u.addAxis(e),u.addAxis(o)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){At(uM(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}At(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(zM(t)){var r=VM(t),o=r.xAxisModel,i=r.yAxisModel;if(!jM(o,e)||!jM(i,e))return;var a=this.getCartesian(o.componentIndex,i.componentIndex),u=t.getData(),s=a.getAxis("x"),c=a.getAxis("y");"list"===u.type&&(n(u,s),n(u,c))}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return At(this.getCartesians(),(function(r){var o=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),i=r.getOtherAxis(o);St(e,o)<0&&e.push(o),St(n,i)<0&&n.push(i)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var r=[];return e.eachComponent("grid",(function(o,i){var a=new t(o,e,n);a.name="grid_"+i,a.resize(o,n,!0),o.coordinateSystem=a,r.push(a)})),e.eachSeries((function(t){if(zM(t)){var e=VM(t),n=e.xAxisModel,r=e.yAxisModel,o=n.getCoordSysModel();0;var i=o.coordinateSystem;t.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}})),r},t.dimensions=fM,t}();function jM(t,e){return t.getCoordSysModel()===e}function HM(t,e,n,r){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,i=t[e],a=n.model,u=a.get(["axisLine","onZero"]),s=a.get(["axisLine","onZeroAxisIndex"]);if(u){if(null!=s)UM(i[s])&&(o=i[s]);else for(var c in i)if(i.hasOwnProperty(c)&&UM(i[c])&&!r[l(i[c])]){o=i[c];break}o&&(r[l(o)]=!0)}function l(t){return t.dim+"_"+t.index}}function UM(t){return t&&"category"!==t.type&&"time"!==t.type&&tM(t)}function WM(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return r-t+e}}var GM=FM,qM=Math.PI,YM=function(){function t(t,e){this.group=new fi,this.opt=e,this.axisModel=t,wt(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new fi({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!XM[t]},t.prototype.add=function(t){XM[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var r,o,i=Ii(e-t);return Ei(i)?(o=n>0?"top":"bottom",r="center"):Ei(i-qM)?(o=n>0?"bottom":"top",r="center"):(o="middle",r=i>0&&i<qM?n>0?"right":"left":n>0?"left":"right"),{rotation:i,textAlign:r,textVerticalAlign:o}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),XM={axisLine:function(t,e,n,r){var o=e.get(["axisLine","show"]);if("auto"===o&&t.handleAutoShown&&(o=t.handleAutoShown("axisLine")),o){var i=e.axis.getExtent(),a=r.transform,u=[i[0],0],s=[i[1],0];a&&(Me(u,u,a),Me(s,s,a));var c=xt({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),l=new Gf({subPixelOptimize:!0,shape:{x1:u[0],y1:u[1],x2:s[0],y2:s[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});l.anid="line",n.add(l);var f=e.get(["axisLine","symbol"]),d=e.get(["axisLine","symbolSize"]),h=e.get(["axisLine","symbolOffset"])||0;if("number"===typeof h&&(h=[h,h]),null!=f){"string"===typeof f&&(f=[f,f]),"string"!==typeof d&&"number"!==typeof d||(d=[d,d]);var p=d[0],m=d[1];At([{rotate:t.rotation+Math.PI/2,offset:h[0],r:0},{rotate:t.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((u[0]-s[0])*(u[0]-s[0])+(u[1]-s[1])*(u[1]-s[1]))}],(function(e,r){if("none"!==f[r]&&null!=f[r]){var o=_x(f[r],-p/2,-m/2,p,m,c.stroke,!0),i=e.r+e.offset;o.attr({rotation:e.rotate,x:u[0]+i*Math.cos(t.rotation),y:u[1]-i*Math.sin(t.rotation),silent:!0,z2:11}),n.add(o)}}))}}},axisTickLabel:function(t,e,n,r){var o=eD(n,r,e,t),i=rD(n,r,e,t);$M(e,i,o),nD(n,r,e,t.tickDirection)},axisName:function(t,e,n,r){var o=Zt(t.axisName,e.get("name"));if(o){var i,a,u=e.get("nameLocation"),s=t.nameDirection,c=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,f=e.axis.getExtent(),d=f[0]>f[1]?-1:1,h=["start"===u?f[0]-d*l:"end"===u?f[1]+d*l:(f[0]+f[1])/2,QM(u)?t.labelOffset+s*l:0],p=e.get("nameRotate");null!=p&&(p=p*qM/180),QM(u)?i=YM.innerTextLayout(t.rotation,null!=p?p:t.rotation,s):(i=ZM(t.rotation,u,p||0,f),a=t.axisNameAvailableWidth,null!=a&&(a=Math.abs(a/Math.sin(i.rotation)),!isFinite(a)&&(a=null)));var m=c.getFont(),g=e.get("nameTruncate",!0)||{},v=g.ellipsis,y=Zt(t.nameTruncateMaxWidth,g.maxWidth,a),b=e.get("tooltip",!0),x=e.mainType,w={componentType:x,name:o,$vars:["name"]};w[x+"Index"]=e.componentIndex;var _=new Mc({x:h[0],y:h[1],rotation:i.rotation,silent:YM.isLabelSilent(e),style:oh(c,{text:o,font:m,overflow:"truncate",width:y,ellipsis:v,fill:c.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:c.get("align")||i.textAlign,verticalAlign:c.get("verticalAlign")||i.textVerticalAlign}),z2:1});if(_.tooltip=b&&b.show?xt({content:o,formatter:function(){return o},formatterParams:w},b):null,_.__fullText=o,_.anid="name",e.get("triggerEvent")){var S=YM.makeAxisEventDataBase(e);S.targetType="axisName",S.name=o,Dc(_).eventData=S}r.add(_),_.updateTransform(),n.add(_),_.decomposeTransform()}}};function ZM(t,e,n,r){var o,i,a=Ii(n-t),u=r[0]>r[1],s="start"===e&&!u||"start"!==e&&u;return Ei(a-qM/2)?(i=s?"bottom":"top",o="center"):Ei(a-1.5*qM)?(i=s?"top":"bottom",o="center"):(i="middle",o=a<1.5*qM&&a>qM/2?s?"left":"right":s?"right":"left"),{rotation:a,textAlign:o,textVerticalAlign:i}}function $M(t,e,n){if(!aM(t.axis)){var r=t.get(["axisLabel","showMinLabel"]),o=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var i=e[0],a=e[1],u=e[e.length-1],s=e[e.length-2],c=n[0],l=n[1],f=n[n.length-1],d=n[n.length-2];!1===r?(KM(i),KM(c)):JM(i,a)&&(r?(KM(a),KM(l)):(KM(i),KM(c))),!1===o?(KM(u),KM(f)):JM(s,u)&&(o?(KM(s),KM(d)):(KM(u),KM(f)))}}function KM(t){t&&(t.ignore=!0)}function JM(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(n&&r){var o=wn([]);return kn(o,o,-t.rotation),n.applyTransform(Sn([],o,t.getLocalTransform())),r.applyTransform(Sn([],o,e.getLocalTransform())),n.intersect(r)}}function QM(t){return"middle"===t||"center"===t}function tD(t,e,n,r,o){for(var i=[],a=[],u=[],s=0;s<t.length;s++){var c=t[s].coord;a[0]=c,a[1]=0,u[0]=c,u[1]=n,e&&(Me(a,a,e),Me(u,u,e));var l=new Gf({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:u[0],y2:u[1]},style:r,z2:2,autoBatch:!0,silent:!0});l.anid=o+"_"+t[s].tickValue,i.push(l)}return i}function eD(t,e,n,r){var o=n.axis,i=n.getModel("axisTick"),a=i.get("show");if("auto"===a&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick")),a&&!o.scale.isBlank()){for(var u=i.getModel("lineStyle"),s=r.tickDirection*i.get("length"),c=o.getTicksCoords(),l=tD(c,e.transform,s,wt(u.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<l.length;f++)t.add(l[f]);return l}}function nD(t,e,n,r){var o=n.axis,i=n.getModel("minorTick");if(i.get("show")&&!o.scale.isBlank()){var a=o.getMinorTicksCoords();if(a.length)for(var u=i.getModel("lineStyle"),s=r*i.get("length"),c=wt(u.getLineStyle(),wt(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),l=0;l<a.length;l++)for(var f=tD(a[l],e.transform,s,c,"minorticks_"+l),d=0;d<f.length;d++)t.add(f[d])}}function rD(t,e,n,r){var o=n.axis,i=Zt(r.axisLabelShow,n.get(["axisLabel","show"]));if(i&&!o.scale.isBlank()){var a=n.getModel("axisLabel"),u=a.get("margin"),s=o.getViewLabels(),c=(Zt(r.labelRotate,a.get("rotate"))||0)*qM/180,l=YM.innerTextLayout(r.rotation,c,r.labelDirection),f=n.getCategories&&n.getCategories(!0),d=[],h=YM.isLabelSilent(n),p=n.get("triggerEvent");return At(s,(function(i,s){var c="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(i.tickValue):i.tickValue,m=i.formattedLabel,g=i.rawLabel,v=a;if(f&&f[c]){var y=f[c];jt(y)&&y.textStyle&&(v=new Ah(y.textStyle,a,n.ecModel))}var b=v.getTextColor()||n.get(["axisLine","lineStyle","color"]),x=o.dataToCoord(c),w=new Mc({x:x,y:r.labelOffset+r.labelDirection*u,rotation:l.rotation,silent:h,z2:10,style:oh(v,{text:m,align:v.getShallow("align",!0)||l.textAlign,verticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||l.textVerticalAlign,fill:"function"===typeof b?b("category"===o.type?g:"value"===o.type?c+"":c,s):b})});if(w.anid="label_"+c,p){var _=YM.makeAxisEventDataBase(n);_.targetType="axisLabel",_.value=g,Dc(w).eventData=_}e.add(w),w.updateTransform(),d.push(w),t.add(w),w.decomposeTransform()})),d}}var oD=YM;function iD(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return aD(n,t,e),n.seriesInvolved&&sD(n,t),n}function aD(t,e,n){var r=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),i=o.get("link",!0)||[],a=[];At(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var u=mD(n.model),s=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=n;var c=n.model,l=c.getModel("tooltip",r);if(At(n.getAxes(),Pt(p,!1,null)),n.getTooltipAxes&&r&&l.get("show")){var f="axis"===l.get("trigger"),d="cross"===l.get(["axisPointer","type"]),h=n.getTooltipAxes(l.get(["axisPointer","axis"]));(f||d)&&At(h.baseAxes,Pt(p,!d||"cross",f)),d&&At(h.otherAxes,Pt(p,"cross",!1))}}function p(r,u,c){var f=c.model.getModel("axisPointer",o),d=f.get("show");if(d&&("auto"!==d||r||pD(f))){null==u&&(u=f.get("triggerTooltip")),f=r?uD(c,l,o,e,r,u):f;var h=f.get("snap"),p=mD(c.model),m=u||h||"category"===c.type,g=t.axesInfo[p]={key:p,axis:c,coordSys:n,axisPointerModel:f,triggerTooltip:u,involveSeries:m,snap:h,useHandle:pD(f),seriesModels:[],linkGroup:null};s[p]=g,t.seriesInvolved=t.seriesInvolved||m;var v=cD(i,c);if(null!=v){var y=a[v]||(a[v]={axesInfo:{}});y.axesInfo[p]=g,y.mapper=i[v].mapper,g.linkGroup=y}}}}))}function uD(t,e,n,r,o,i){var a=e.getModel("axisPointer"),u=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],s={};At(u,(function(t){s[t]=vt(a.get(t))})),s.snap="category"!==t.type&&!!i,"cross"===a.get("type")&&(s.type="line");var c=s.label||(s.label={});if(null==c.show&&(c.show=!1),"cross"===o){var l=a.get(["label","show"]);if(c.show=null==l||l,!i){var f=s.lineStyle=a.get("crossStyle");f&&wt(c,f.textStyle)}}return t.model.getModel("axisPointer",new Ah(s,n,r))}function sD(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,r=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==o&&!1!==e.get(["axisPointer","show"],!0)&&At(t.coordSysAxesInfo[mD(n.model)],(function(t){var r=t.axis;n.getAxis(r.dim)===r&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}function cD(t,e){for(var n=e.model,r=e.dim,o=0;o<t.length;o++){var i=t[o]||{};if(lD(i[r+"AxisId"],n.id)||lD(i[r+"AxisIndex"],n.componentIndex)||lD(i[r+"AxisName"],n.name))return o}}function lD(t,e){return"all"===t||Lt(t)&&St(t,e)>=0||t===e}function fD(t){var e=dD(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,o=n.option,i=n.get("status"),a=n.get("value");null!=a&&(a=r.parse(a));var u=pD(n);null==i&&(o.status=u?"show":"hide");var s=r.getExtent().slice();s[0]>s[1]&&s.reverse(),(null==a||a>s[1])&&(a=s[1]),a<s[0]&&(a=s[0]),o.value=a,u&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function dD(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[mD(t)]}function hD(t){var e=dD(t);return e&&e.axisPointerModel}function pD(t){return!!t.get(["handle","show"])}function mD(t){return t.type+"||"+t.id}var gD={},vD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(e,n,r,o){this.axisPointerClass&&fD(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},e.prototype.updateAxisPointer=function(t,e,n,r){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,r){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var i=hD(t);i?(this._axisPointer||(this._axisPointer=new o)).render(t,i,n,r):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){gD[t]=e},e.getAxisPointerClass=function(t){return t&&gD[t]},e.type="axis",e}(dy),yD=vD,bD=ma();function xD(t,e,n,r){var o=n.axis;if(!o.scale.isBlank()){var i=n.getModel("splitArea"),a=i.getModel("areaStyle"),u=a.get("color"),s=r.coordinateSystem.getRect(),c=o.getTicksCoords({tickModel:i,clamp:!0});if(c.length){var l=u.length,f=bD(t).splitAreaColors,d=ae(),h=0;if(f)for(var p=0;p<c.length;p++){var m=f.get(c[p].tickValue);if(null!=m){h=(m+(l-1)*p)%l;break}}var g=o.toGlobalCoord(c[0].coord),v=a.getAreaStyle();u=Lt(u)?u:[u];for(p=1;p<c.length;p++){var y=o.toGlobalCoord(c[p].coord),b=void 0,x=void 0,w=void 0,_=void 0;o.isHorizontal()?(b=g,x=s.y,w=y-b,_=s.height,g=b+w):(b=s.x,x=g,w=s.width,_=y-x,g=x+_);var S=c[p-1].tickValue;null!=S&&d.set(S,h),e.add(new mc({anid:null!=S?"area_"+S:null,shape:{x:b,y:x,width:w,height:_},style:wt({fill:u[h]},v),autoBatch:!0,silent:!0})),h=(h+1)%l}bD(t).splitAreaColors=d}}}function wD(t){bD(t).splitAreaColors=null}var _D=["axisLine","axisTickLabel","axisName"],SD=["splitArea","splitLine","minorSplitLine"],CD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return Z(e,t),e.prototype.render=function(e,n,r,o){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new fi,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),u=BM(a,e),s=new oD(e,xt({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),r=0;r<n.length;r++){var o=n[r].getOtherAxis(e.axis).type;if("value"===o||"log"===o)return!0}return!1}},u));At(_D,s.add,s),this._axisGroup.add(s.getGroup()),At(SD,(function(t){e.get([t,"show"])&&kD[t](this,this._axisGroup,e,a)}),this),Gd(i,this._axisGroup,e),t.prototype.render.call(this,e,n,r,o)}},e.prototype.remove=function(){wD(this)},e.type="cartesianAxis",e}(yD),kD={splitLine:function(t,e,n,r){var o=n.axis;if(!o.scale.isBlank()){var i=n.getModel("splitLine"),a=i.getModel("lineStyle"),u=a.get("color");u=Lt(u)?u:[u];for(var s=r.coordinateSystem.getRect(),c=o.isHorizontal(),l=0,f=o.getTicksCoords({tickModel:i}),d=[],h=[],p=a.getLineStyle(),m=0;m<f.length;m++){var g=o.toGlobalCoord(f[m].coord);c?(d[0]=g,d[1]=s.y,h[0]=g,h[1]=s.y+s.height):(d[0]=s.x,d[1]=g,h[0]=s.x+s.width,h[1]=g);var v=l++%u.length,y=f[m].tickValue;e.add(new Gf({anid:null!=y?"line_"+f[m].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:wt({stroke:u[v]},p),silent:!0}))}}},minorSplitLine:function(t,e,n,r){var o=n.axis,i=n.getModel("minorSplitLine"),a=i.getModel("lineStyle"),u=r.coordinateSystem.getRect(),s=o.isHorizontal(),c=o.getMinorTicksCoords();if(c.length)for(var l=[],f=[],d=a.getLineStyle(),h=0;h<c.length;h++)for(var p=0;p<c[h].length;p++){var m=o.toGlobalCoord(c[h][p].coord);s?(l[0]=m,l[1]=u.y,f[0]=m,f[1]=u.y+u.height):(l[0]=u.x,l[1]=m,f[0]=u.x+u.width,f[1]=m),e.add(new Gf({anid:"minor_line_"+c[h][p].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:f[0],y2:f[1]},style:d,silent:!0}))}},splitArea:function(t,e,n,r){xD(t,e,n,r)}},TD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="xAxis",e}(CD),AD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=TD.type,e}return Z(e,t),e.type="yAxis",e}(CD),OD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return Z(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new mc({shape:t.coordinateSystem.getRect(),style:wt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(dy),MD={offset:0};function DD(t){t.registerComponentView(OD),t.registerComponentModel(GA),t.registerCoordinateSystem("cartesian2d",GM),oO(t,"x",YA,MD),oO(t,"y",YA,MD),t.registerComponentView(TD),t.registerComponentView(AD),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function ID(t){Z_(DD),t.registerSeriesModel(LA),t.registerChartView(UA),t.registerLayout(mT("scatter"))}function ED(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){var o=r.getIndicatorAxes();At(o,(function(t,i){e.each(e.mapDimension(o[i].dim),(function(t,e){n[e]=n[e]||[];var o=r.dataToPoint(t,i);n[e][i]=RD(o)?o:ND(r)}))})),e.each((function(t){var o=It(n[t],(function(t){return RD(t)}))||ND(r);n[t].push(o.slice()),e.setItemLayout(t,n[t])}))}}))}function RD(t){return!isNaN(t[0])&&!isNaN(t[1])}function ND(t){return[t.cx,t.cy]}function PD(t){var e=t.polar;if(e){Lt(e)||(e=[e]);var n=[];At(e,(function(e,r){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],Lt(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)})),t.polar=n}At(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}function LD(t){return Lt(t)||(t=[+t,+t]),t}var BD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var o=t.coordinateSystem,i=this.group,a=t.getData(),u=this._data;function s(t,e){var n=t.getItemVisual(e,"symbol")||"circle";if("none"!==n){var r=LD(t.getItemVisual(e,"symbolSize")),o=_x(n,-1,-1,2,2),i=t.getItemVisual(e,"symbolRotate")||0;return o.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:i*Math.PI/180||0}),o}}function c(e,n,o,i,a,u){o.removeAll();for(var c=0;c<n.length-1;c++){var l=s(i,a);l&&(l.__dimIdx=c,e[c]?(l.setPosition(e[c]),r[u?"initProps":"updateProps"](l,{x:n[c][0],y:n[c][1]},t,a)):l.setPosition(n[c]),o.add(l))}}function l(t){return Ot(t,(function(t){return[o.cx,o.cy]}))}a.diff(u).add((function(e){var n=a.getItemLayout(e);if(n){var r=new zf,o=new jf,i={shape:{points:n}};r.shape.points=l(n),o.shape.points=l(n),Pd(r,i,t,e),Pd(o,i,t,e);var u=new fi,s=new fi;u.add(o),u.add(r),u.add(s),c(o.shape.points,n,s,a,e,!0),a.setItemGraphicEl(e,u)}})).update((function(e,n){var r=u.getItemGraphicEl(n),o=r.childAt(0),i=r.childAt(1),s=r.childAt(2),l={shape:{points:a.getItemLayout(e)}};l.shape.points&&(c(o.shape.points,l.shape.points,s,a,e,!1),Nd(o,l,t),Nd(i,l,t),a.setItemGraphicEl(e,r))})).remove((function(t){i.remove(u.getItemGraphicEl(t))})).execute(),a.eachItemGraphicEl((function(t,e){var n=a.getItemModel(e),r=t.childAt(0),o=t.childAt(1),u=t.childAt(2),s=a.getItemVisual(e,"style"),c=s.fill;i.add(t),r.useStyle(wt(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),Dl(r,n,"lineStyle"),Dl(o,n,"areaStyle");var l=n.getModel("areaStyle"),f=l.isEmpty()&&l.parentModel.isEmpty();o.ignore=f,At(["emphasis","select","blur"],(function(t){var e=n.getModel([t,"areaStyle"]),r=e.isEmpty()&&e.parentModel.isEmpty();o.ensureState(t).ignore=r&&f})),o.useStyle(wt(l.getAreaStyle(),{fill:c,opacity:.7,decal:s.decal}));var d=n.getModel("emphasis"),h=d.getModel("itemStyle").getItemStyle();u.eachChild((function(t){if(t instanceof ac){var r=t.style;t.useStyle(xt({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},s))}else t.useStyle(s),t.setColor(c);var o=t.ensureState("emphasis");o.style=vt(h);var i=a.get(a.dimensions[t.__dimIdx],e);(null==i||isNaN(i))&&(i=""),nh(t,rh(n),{labelFetcher:a.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:i,inheritColor:c,defaultOpacity:s.opacity})})),Tl(t,d.get("focus"),d.get("blurScope"))})),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(_y),zD=BD,VD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.useColorPaletteOnData=!0,n.hasSymbolVisual=!0,n}return Z(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new IA(Nt(this.getData,this),Nt(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return MA(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),o=this.coordinateSystem,i=o.getIndicatorAxes(),a=this.getData().getName(t),u=""===a?this.name:a,s=Xv(this,t);return Bv("section",{header:u,sortBlocks:!0,blocks:Ot(i,(function(e){var n=r.get(r.mapDimension(e.dim),t);return Bv("nameValue",{markerType:"subItem",markerColor:s,name:e.name,value:n,sortParam:n})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,r=e.getValues(Ot(n.dimensions,(function(t){return e.mapDimension(t)})),t),o=0,i=r.length;o<i;o++)if(!isNaN(r[o])){var a=n.getIndicatorAxes();return n.coordToPoint(a[o].dataToCoord(r[o]),o)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4},e}(ly),FD=VD,jD=QA.value;function HD(t,e){return wt({show:e},t)}var UD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),o=this.get("axisTick"),i=this.get("axisLabel"),a=this.get("axisName"),u=this.get(["axisName","show"]),s=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),l=this.get("triggerEvent"),f=Ot(this.get("indicator")||[],(function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var d=a;null!=f.color&&(d=wt({color:f.color},a));var h=yt(vt(f),{boundaryGap:t,splitNumber:e,scale:n,axisLine:r,axisTick:o,axisLabel:i,name:f.text,nameLocation:"end",nameGap:c,nameTextStyle:d,triggerEvent:l},!1);if(u||(h.name=""),"string"===typeof s){var p=h.name;h.name=s.replace("{value}",null!=p?p:"")}else"function"===typeof s&&(h.name=s(h.name,h));var m=new Ah(h,null,this.ecModel);return kt(m,qA.prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m}),this);this._indicatorModels=f},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:yt({lineStyle:{color:"#bbb"}},jD.axisLine),axisLabel:HD(jD.axisLabel,!1),axisTick:HD(jD.axisTick,!1),splitLine:HD(jD.splitLine,!0),splitArea:HD(jD.splitArea,!0),indicator:[]},e}(Qp),WD=UD,GD=["axisLine","axisTickLabel","axisName"],qD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=this.group;r.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),r=Ot(n,(function(t){var n=new oD(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n}));At(r,(function(t){At(GD,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var r=t.get("shape"),o=t.getModel("splitLine"),i=t.getModel("splitArea"),a=o.getModel("lineStyle"),u=i.getModel("areaStyle"),s=o.get("show"),c=i.get("show"),l=a.get("color"),f=u.get("color"),d=Lt(l)?l:[l],h=Lt(f)?f:[f],p=[],m=[];if("circle"===r)for(var g=n[0].getTicksCoords(),v=e.cx,y=e.cy,b=0;b<g.length;b++){if(s){var x=O(p,d,b);p[x].push(new sf({shape:{cx:v,cy:y,r:g[b].coord}}))}if(c&&b<g.length-1){x=O(m,h,b);m[x].push(new If({shape:{cx:v,cy:y,r0:g[b].coord,r:g[b+1].coord}}))}}else{var w,_=Ot(n,(function(t,n){var r=t.getTicksCoords();return w=null==w?r.length-1:Math.min(r.length-1,w),Ot(r,(function(t){return e.coordToPoint(t.coord,n)}))})),S=[];for(b=0;b<=w;b++){for(var C=[],k=0;k<n.length;k++)C.push(_[k][b]);if(C[0]&&C.push(C[0].slice()),s){x=O(p,d,b);p[x].push(new jf({shape:{points:C}}))}if(c&&S){x=O(m,h,b-1);m[x].push(new zf({shape:{points:C.concat(S)}}))}S=C.slice().reverse()}}var T=a.getLineStyle(),A=u.getAreaStyle();At(m,(function(t,e){this.group.add(Od(t,{style:wt({stroke:"none",fill:h[e%h.length]},A),silent:!0}))}),this),At(p,(function(t,e){this.group.add(Od(t,{style:wt({fill:"none",stroke:d[e%d.length]},T),silent:!0}))}),this)}function O(t,e,n){var r=n%e.length;return t[r]=t[r]||[],r}},e.type="radar",e}(dy),YD=qD,XD=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.type="value",o.angle=0,o.name="",o}return Z(e,t),e}(NM),ZD=XD,$D=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=Ot(t.getIndicatorModels(),(function(t,e){var n="indicator_"+e,r=new ZD(n,new xO);return r.name=t.get("name"),r.model=t,t.axis=r,this.dimensions.push(n),r}),this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],r=n.angle,o=this.cx+t*Math.cos(r),i=this.cy-t*Math.sin(r);return[o,i]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var o,i=Math.atan2(-n,e),a=1/0,u=-1,s=0;s<this._indicatorAxes.length;s++){var c=this._indicatorAxes[s],l=Math.abs(i-c.angle);l<a&&(o=c,u=s,a=l)}return[u,+(o&&o.coordToData(r))]},t.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),o=e.getHeight(),i=Math.min(r,o)/2;this.cx=Si(n[0],r),this.cy=Si(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var a=t.get("radius");"string"!==typeof a&&"number"!==typeof a||(a=[0,a]),this.r0=Si(a[0],i),this.r=Si(a[1],i),At(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,r=this._model;At(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,o){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===r){var i=e.getData();At(n,(function(t){t.scale.unionExtentFromData(i,i.mapDimension(t.dim))}))}}),this);var o=r.get("splitNumber");function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}At(n,(function(t,e){var n=$O(t.scale,t.model).extent;JO(t.scale,t.model);var r=t.model,a=t.scale,u=ZO(a,r.get("min",!0)),s=ZO(a,r.get("max",!0)),c=a.getInterval();if(null!=u&&null!=s)a.setExtent(+u,+s),a.setInterval((s-u)/o);else if(null!=u){var l=void 0;do{l=u+c*o,a.setExtent(+u,l),a.setInterval(c),c=i(c)}while(l<n[1]&&isFinite(l)&&isFinite(n[1]))}else if(null!=s){var f=void 0;do{f=s-c*o,a.setExtent(f,+s),a.setInterval(c),c=i(c)}while(f>n[0]&&isFinite(f)&&isFinite(n[0]))}else{var d=a.getTicks().length-1;d>o&&(c=i(c));l=Math.ceil(n[1]/c)*c,f=Ci(l-c*o);a.setExtent(f,l),a.setInterval(c)}}))},t.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.create=function(e,n){var r=[];return e.eachComponent("radar",(function(o){var i=new t(o,e,n);r.push(i),o.coordinateSystem=i})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("radarIndex")||0])})),r},t.dimensions=[],t}(),KD=$D;function JD(t){t.registerCoordinateSystem("radar",KD),t.registerComponentModel(WD),t.registerComponentView(YD)}function QD(t){Z_(JD),t.registerChartView(zD),t.registerSeriesModel(FD),t.registerLayout(ED),t.registerProcessor(bA("radar")),t.registerPreprocessor(PD)}var tI="\0_ec_interaction_mutex";function eI(t,e,n){var r=oI(t);r[e]=n}function nI(t,e,n){var r=oI(t),o=r[e];o===n&&(r[e]=null)}function rI(t,e){return!!oI(t)[e]}function oI(t){return t[tI]||(t[tI]={})}z_({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}));var iI=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var r=Nt(n._mousedownHandler,n),o=Nt(n._mousemoveHandler,n),i=Nt(n._mouseupHandler,n),a=Nt(n._mousewheelHandler,n),u=Nt(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=wt(vt(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",i)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",a),e.on("pinch",u))},n.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",i),e.off("mousewheel",a),e.off("pinch",u)},n}return Z(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(on(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&sI("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!rI(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,r=this._x,o=this._y,i=e-r,a=n-o;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&rn(t.event),uI(this,"pan","moveOnMouseMove",t,{dx:i,dy:a,oldX:r,oldY:o,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){on(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=sI("zoomOnMouseWheel",t,this._opt),n=sI("moveOnMouseWheel",t,this._opt),r=t.wheelDelta,o=Math.abs(r),i=t.offsetX,a=t.offsetY;if(0!==r&&(e||n)){if(e){var u=o>3?1.4:o>1?1.2:1.1,s=r>0?u:1/u;aI(this,"zoom","zoomOnMouseWheel",t,{scale:s,originX:i,originY:a,isAvailableBehavior:null})}if(n){var c=Math.abs(r),l=(r>0?1:-1)*(c>3?.4:c>1?.15:.05);aI(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:l,originX:i,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!rI(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;aI(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Le);function aI(t,e,n,r,o){t.pointerChecker&&t.pointerChecker(r,o.originX,o.originY)&&(rn(r.event),uI(t,e,n,r,o))}function uI(t,e,n,r,o){o.isAvailableBehavior=Nt(sI,null,n,r),t.trigger(e,o)}function sI(t,e,n){var r=n[t];return!t||r&&(!zt(r)||e.event[r+"Key"])}var cI=iI;function lI(t,e,n){var r=t.target;r.x+=e,r.y+=n,r.dirty()}function fI(t,e,n,r){var o=t.target,i=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,i){var u=i.min||0,s=i.max||1/0;a=Math.max(Math.min(s,a),u)}var c=a/t.zoom;t.zoom=a,o.x-=(n-o.x)*(c-1),o.y-=(r-o.y)*(c-1),o.scaleX*=c,o.scaleY*=c,o.dirty()}var dI={axisPointer:1,tooltip:1,brush:1};function hI(t,e,n){var r=e.getComponentByElement(t.topTarget),o=r&&r.coordinateSystem;return r&&r!==n&&!dI.hasOwnProperty(r.mainType)&&o&&o.model!==n}var pI=1e-8;function mI(t,e){return Math.abs(t-e)<pI}function gI(t,e,n){var r=0,o=t[0];if(!o)return!1;for(var i=1;i<t.length;i++){var a=t[i];r+=Ns(o[0],o[1],a[0],a[1],e,n),o=a}var u=t[0];return mI(o[0],u[0])&&mI(o[1],u[1])||(r+=Ns(o[0],o[1],u[0],u[1],e,n)),0!==r}var vI=function(){function t(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}return t.prototype.getBoundingRect=function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],r=[-e,-e],o=[],i=[],a=this.geometries,u=0;u<a.length;u++)if("polygon"===a[u].type){var s=a[u].exterior;Qu(s,o,i),De(n,n,o),Ie(r,r,i)}return 0===u&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new Yr(n[0],n[1],r[0]-n[0],r[1]-n[1])},t.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,o=n.length;r<o;r++)if("polygon"===n[r].type){var i=n[r].exterior,a=n[r].interiors;if(gI(i,t[0],t[1])){for(var u=0;u<(a?a.length:0);u++)if(gI(a[u],t[0],t[1]))continue t;return!0}}return!1},t.prototype.transformTo=function(t,e,n,r){var o=this.getBoundingRect(),i=o.width/o.height;n?r||(r=n/i):n=i*r;for(var a=new Yr(t,e,n,r),u=o.calculateTransform(a),s=this.geometries,c=0;c<s.length;c++)if("polygon"===s[c].type){for(var l=s[c].exterior,f=s[c].interiors,d=0;d<l.length;d++)Me(l[d],l[d],u);for(var h=0;h<(f?f.length:0);h++)for(d=0;d<f[h].length;d++)Me(f[h][d],f[h][d],u)}o=this._rect,o.copy(a),this.center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this.center);return n._rect=this._rect,n.transformTo=null,n},t}(),yI=vI;function bI(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;null==n&&(n=1024);for(var r=e.features,o=0;o<r.length;o++){var i=r[o],a=i.geometry;if("Polygon"===a.type)for(var u=a.coordinates,s=0;s<u.length;s++)u[s]=xI(u[s],a.encodeOffsets[s],n);else if("MultiPolygon"===a.type)for(u=a.coordinates,s=0;s<u.length;s++)for(var c=u[s],l=0;l<c.length;l++)c[l]=xI(c[l],a.encodeOffsets[s][l],n)}return e.UTF8Encoding=!1,e}function xI(t,e,n){for(var r=[],o=e[0],i=e[1],a=0;a<t.length;a+=2){var u=t.charCodeAt(a)-64,s=t.charCodeAt(a+1)-64;u=u>>1^-(1&u),s=s>>1^-(1&s),u+=o,s+=i,o=u,i=s,r.push([u/n,s/n])}return r}function wI(t,e){return t=bI(t),Ot(Dt(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,r=t.geometry,o=[];if("Polygon"===r.type){var i=r.coordinates;o.push({type:"polygon",exterior:i[0],interiors:i.slice(1)})}if("MultiPolygon"===r.type){i=r.coordinates;At(i,(function(t){t[0]&&o.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}))}var a=new yI(n[e||"name"],o,n.cp);return a.properties=n,a}))}for(var _I=[126,25],SI=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],CI=0;CI<SI.length;CI++)for(var kI=0;kI<SI[CI].length;kI++)SI[CI][kI][0]/=10.5,SI[CI][kI][1]/=-14,SI[CI][kI][0]+=_I[0],SI[CI][kI][1]+=_I[1];function TI(t,e){"china"===t&&e.push(new yI("",Ot(SI,(function(t){return{type:"polygon",exterior:t}})),_I))}var AI={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};function OI(t,e){if("china"===t){var n=AI[e.name];if(n){var r=e.center;r[0]+=n[0]/10.5,r[1]+=-n[1]/14}}}var MI={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function DI(t,e){if("world"===t){var n=MI[e.name];if(n){var r=e.center;r[0]=n[0],r[1]=n[1]}}}var II=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function EI(t,e){"china"===t&&""===e.name&&e.geometries.push({type:"polygon",exterior:II[0]})}var RI=ma(),NI={load:function(t,e,n){var r=RI(e).parsed;if(r)return r;var o,i=e.specialAreas||{},a=e.geoJSON;try{o=a?wI(a,n):[]}catch(u){throw new Error("Invalid geoJson format\n"+u.message)}return TI(t,o),At(o,(function(e){var n=e.name;OI(t,e),DI(t,e),EI(t,e);var r=i[n];r&&e.transformTo(r.left,r.top,r.width,r.height)})),RI(e).parsed={regions:o,boundingRect:PI(o)}}};function PI(t){for(var e,n=0;n<t.length;n++){var r=t[n].getBoundingRect();e=e||r.clone(),e.union(r)}return e}var LI,BI=/[\s,]+/,zI=function(){function t(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}return t.prototype.parse=function(t,e){e=e||{};var n=lb(t);if(!n)throw new Error("Illegal svg");var r=new fi;this._root=r;var o=n.getAttribute("viewBox")||"",i=parseFloat(n.getAttribute("width")||e.width),a=parseFloat(n.getAttribute("height")||e.height);isNaN(i)&&(i=null),isNaN(a)&&(a=null),WI(n,r,null,!0);var u,s,c=n.firstChild;while(c)this._parseNode(c,r),c=c.nextSibling;if(o){var l=ee(o).split(BI);l.length>=4&&(u={x:parseFloat(l[0]||0),y:parseFloat(l[1]||0),width:parseFloat(l[2]),height:parseFloat(l[3])})}if(u&&null!=i&&null!=a&&(s=KI(u,i,a),!e.ignoreViewBox)){var f=r;r=new fi,r.add(f),f.scaleX=f.scaleY=s.scale,f.x=s.x,f.y=s.y}return e.ignoreRootClip||null==i||null==a||r.setClipPath(new mc({shape:{x:0,y:0,width:i,height:a}})),{root:r,width:i,height:a,viewBoxRect:u,viewBoxTransform:s}},t.prototype._parseNode=function(t,e){var n,r=t.nodeName.toLowerCase();if("defs"===r?this._isDefine=!0:"text"===r&&(this._isText=!0),this._isDefine){var o=VI[r];if(o){var i=o.call(this,t),a=t.getAttribute("id");a&&(this._defs[a]=i)}}else{o=LI[r];o&&(n=o.call(this,t,e),e.add(n))}if(n){var u=t.firstChild;while(u)1===u.nodeType&&this._parseNode(u,n),3===u.nodeType&&this._isText&&this._parseText(u,n),u=u.nextSibling}"defs"===r?this._isDefine=!1:"text"===r&&(this._isText=!1)},t.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(r)}var o=new ec({style:{text:t.textContent},x:this._textX||0,y:this._textY||0});jI(e,o),WI(t,o,this._defs);var i=o.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,o.scaleX*=a/9,o.scaleY*=a/9);var u=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=u;var s=o.getBoundingRect();return this._textX+=s.width,e.add(o),o},t.internalField=function(){LI={g:function(t,e){var n=new fi;return jI(e,n),WI(t,n,this._defs),n},rect:function(t,e){var n=new mc;return jI(e,n),WI(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n},circle:function(t,e){var n=new sf;return jI(e,n),WI(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n},line:function(t,e){var n=new Gf;return jI(e,n),WI(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n},ellipse:function(t,e){var n=new ff;return jI(e,n),WI(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n},polygon:function(t,e){var n,r=t.getAttribute("points");r&&(n=HI(r));var o=new zf({shape:{points:n||[]}});return jI(e,o),WI(t,o,this._defs),o},polyline:function(t,e){var n=new Js;jI(e,n),WI(t,n,this._defs);var r,o=t.getAttribute("points");o&&(r=HI(o));var i=new jf({shape:{points:r||[]}});return i},image:function(t,e){var n=new ac;return jI(e,n),WI(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",i=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(i);var a=new fi;return jI(e,a),WI(t,a,this._defs),a},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0,a=new fi;return jI(e,a),WI(t,a,this._defs),this._textX+=o,this._textY+=i,a},path:function(t,e){var n=t.getAttribute("d")||"",r=nf(n);return jI(e,r),WI(t,r,this._defs),r}}}(),t}(),VI={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),r=parseInt(t.getAttribute("x2")||"10",10),o=parseInt(t.getAttribute("y2")||"0",10),i=new id(e,n,r,o);return FI(t,i),i}};function FI(t,e){var n=t.firstChild;while(n){if(1===n.nodeType){var r=n.getAttribute("offset"),o=void 0;o=r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var i=n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:o,color:i})}n=n.nextSibling}}function jI(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),wt(e.__inheritedStyle,t.__inheritedStyle))}function HI(t){for(var e=ee(t).split(BI),n=[],r=0;r<e.length;r+=2){var o=parseFloat(e[r]),i=parseFloat(e[r+1]);n.push([o,i])}return n}var UI={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function WI(t,e,n,r){var o=e,i=o.__inheritedStyle||{};if(1===t.nodeType&&(XI(t,e),xt(i,$I(t)),!r))for(var a in UI)if(UI.hasOwnProperty(a)){var u=t.getAttribute(a);null!=u&&(i[UI[a]]=u)}o.style=o.style||{},null!=i.fill&&(o.style.fill=qI(i.fill,n)),null!=i.stroke&&(o.style.stroke=qI(i.stroke,n)),At(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=i[t]&&(o.style[t]=parseFloat(i[t]))})),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),At(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(t){null!=i[t]&&(o.style[t]=i[t])})),i.lineDash&&(o.style.lineDash=Ot(ee(i.lineDash).split(BI),(function(t){return parseFloat(t)}))),o.__inheritedStyle=i}var GI=/url\(\s*#(.*?)\)/;function qI(t,e){var n=e&&t&&t.match(GI);if(n){var r=ee(n[1]),o=e[r];return o}return t}var YI=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function XI(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],o=null;n.replace(YI,(function(t,e,n){return r.push(e,n),""}));for(var i=r.length-1;i>0;i-=2){var a=r[i],u=r[i-1],s=void 0;switch(o=o||xn(),u){case"translate":s=ee(a).split(BI),Cn(o,o,[parseFloat(s[0]),parseFloat(s[1]||"0")]);break;case"scale":s=ee(a).split(BI),Tn(o,o,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=ee(a).split(BI),kn(o,o,parseFloat(s[0]));break;case"skew":s=ee(a).split(BI),console.warn("Skew transform is not supported yet");break;case"matrix":s=ee(a).split(BI),o[0]=parseFloat(s[0]),o[1]=parseFloat(s[1]),o[2]=parseFloat(s[2]),o[3]=parseFloat(s[3]),o[4]=parseFloat(s[4]),o[5]=parseFloat(s[5]);break}}e.setLocalTransform(o)}}var ZI=/([^\s:;]+)\s*:\s*([^:;]+)/g;function $I(t){var e=t.getAttribute("style"),n={};if(!e)return n;var r,o={};ZI.lastIndex=0;while(null!=(r=ZI.exec(e)))o[r[1]]=r[2];for(var i in UI)UI.hasOwnProperty(i)&&null!=o[i]&&(n[UI[i]]=o[i]);return n}function KI(t,e,n){var r=e/t.width,o=n/t.height,i=Math.min(r,o);return{scale:i,x:-(t.x+t.width/2)*i+e/2,y:-(t.y+t.height/2)*i+n/2}}function JI(t,e){var n=new zI;return n.parse(t,e)}var QI=ma(),tE={load:function(t,e){var n=QI(e).originRoot;if(n)return{root:n,boundingRect:QI(e).boundingRect};var r=eE(e);return QI(e).originRoot=r.root,QI(e).boundingRect=r.boundingRect,r},makeGraphic:function(t,e,n){var r=QI(e),o=r.rootMap||(r.rootMap=ae()),i=o.get(n);if(i)return i;var a=r.originRoot,u=r.boundingRect;return r.originRootHostKey?i=eE(e,u).root:(r.originRootHostKey=n,i=a),o.set(n,i)},removeGraphic:function(t,e,n){var r=QI(e),o=r.rootMap;o&&o.removeKey(n),n===r.originRootHostKey&&(r.originRootHostKey=null)}};function eE(t,e){var n,r,o=t.svgXML;try{n=o&&JI(o,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=n.root,te(null!=r)}catch(l){throw new Error("Invalid svg format\n"+l.message)}var i=n.width,a=n.height,u=n.viewBoxRect;if(e||(e=null==i||null==a?r.getBoundingRect():new Yr(0,0,0,0),null!=i&&(e.width=i),null!=a&&(e.height=a)),u){var s=KI(u,e.width,e.height),c=r;r=new fi,r.add(c),c.scaleX=c.scaleY=s.scale,c.x=s.x,c.y=s.y}return r.setClipPath(new mc({shape:e.plain()})),{root:r,boundingRect:e}}var nE={geoJSON:NI,svg:tE},rE={load:function(t,e,n){var r,o=[],i=ae(),a=ae(),u=oE(t);return At(u,(function(u){var s=nE[u.type].load(t,u,n);At(s.regions,(function(t){var n=t.name;e&&e.hasOwnProperty(n)&&(t=t.cloneShallow(n=e[n])),o.push(t),i.set(n,t),a.set(n,t.center)}));var c=s.boundingRect;c&&(r?r.union(c):r=c.clone())})),{regions:o,regionsMap:i,nameCoordMap:a,boundingRect:r||new Yr(0,0,0,0)}},makeGraphic:function(t,e){var n=oE(t),r=[];return At(n,(function(n){var o=nE[n.type].makeGraphic;o&&r.push(o(t,n,e))})),r},removeGraphic:function(t,e){var n=oE(t);At(n,(function(n){var r=nE[n.type].makeGraphic;r&&r(t,n,e)}))}};function oE(t){var e=db.retrieveMap(t)||[];return e}function iE(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}var aE=function(){function t(t){var e=new fi;this.uid=Mh("ec_map_draw"),this._controller=new cI(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new fi),e.add(this._backgroundGroup=new fi)}return t.prototype.draw=function(t,e,n,r,o){var i="geo"===t.mainType,a=t.getData&&t.getData();i&&e.eachComponent({mainType:"series",subType:"map"},(function(e){a||e.getHostGeoModel()!==t||(a=e.getData())}));var u=t.coordinateSystem;this._updateBackground(u);var s,c,l=this._regionsGroup,f=this.group,d=u.getTransformInfo(),h=!l.childAt(0)||o;if(h)f.transform=d.roamTransform,f.decomposeTransform(),f.dirty();else{var p=new Bn;p.transform=d.roamTransform,p.decomposeTransform();var m={scaleX:p.scaleX,scaleY:p.scaleY,x:p.x,y:p.y};s=p.scaleX,c=p.scaleY,Nd(f,m,t)}l.removeAll();var g=ae(),v=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0;At(u.regions,(function(e){var r=g.get(e.name)||g.set(e.name,new fi),o=new ed({segmentIgnoreThreshold:1,shape:{paths:[]}});r.add(o);var u,p=t.getRegionModel(e.name)||t,m=p.getModel("itemStyle"),y=p.getModel("emphasis"),b=y.getModel("itemStyle"),x=p.getModel(["blur","itemStyle"]),w=p.getModel(["select","itemStyle"]),_=iE(m),S=iE(b),C=iE(x),k=iE(w);if(a){u=a.indexOfName(e.name);var T=a.getItemVisual(u,"style"),A=a.getItemVisual(u,"decal");v&&T.fill&&(_.fill=T.fill),A&&(_.decal=ow(A,n))}var O=d.rawScaleX,M=d.rawScaleY,D=d.rawX,I=d.rawY,E=function(t){return[t[0]*O+D,t[1]*M+I]};At(e.geometries,(function(t){if("polygon"===t.type){for(var e=[],n=0;n<t.exterior.length;++n)e.push(E(t.exterior[n]));o.shape.paths.push(new zf({segmentIgnoreThreshold:1,shape:{points:e}}));for(n=0;n<(t.interiors?t.interiors.length:0);++n){for(var r=t.interiors[n],i=[],a=0;a<r.length;++a)i.push(E(r[a]));o.shape.paths.push(new zf({segmentIgnoreThreshold:1,shape:{points:i}}))}}})),o.setStyle(_),o.style.strokeNoScale=!0,o.culling=!0,o.ensureState("emphasis").style=S,o.ensureState("blur").style=C,o.ensureState("select").style=k;for(var R=!1,N=0;N<zc.length;N++){var P=zc[N];if(p.get("normal"===P?["label","show"]:[P,"label","show"])){R=!0;break}}var L=a&&isNaN(a.get(a.mapDimension("value"),u)),B=a&&a.getItemLayout(u);if(i||L&&R||B&&B.showLabel){var z=i?e.name:u,V=void 0;(!a||u>=0)&&(V=t);var F=E(e.center),j=new Mc({x:F[0],y:F[1],scaleX:1/f.scaleX,scaleY:1/f.scaleY,z2:10,silent:!0});nh(j,rh(p),{labelFetcher:V,labelDataIndex:z,defaultText:e.name},{normal:{align:"center",verticalAlign:"middle"}}),o.setTextContent(j),o.setTextConfig({local:!0}),o.disableLabelAnimation=!0,h||Nd(j,{scaleX:1/s,scaleY:1/c},t)}if(a)a.setItemGraphicEl(u,r);else{var H=t.getRegionModel(e.name);Dc(o).eventData={componentType:"geo",componentIndex:t.componentIndex,geoIndex:t.componentIndex,name:e.name,region:H&&H.option||{}}}var U=r.__regions||(r.__regions=[]);U.push(e),r.highDownSilentOnTouch=!!t.get("selectedMode"),Tl(r,y.get("focus"),y.get("blurScope")),l.add(r)})),this._updateController(t,e,n),this._updateMapSelectHandler(t,l,n,r)},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&rE.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost=null},t.prototype._updateBackground=function(t){var e=t.map;this._mapName!==e&&At(rE.makeGraphic(e,this.uid),(function(t){this._backgroundGroup.add(t)}),this),this._mapName=e},t.prototype._updateController=function(t,e,n){var r=t.coordinateSystem,o=this._controller,i=this._controllerHost;i.zoomLimit=t.get("scaleLimit"),i.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var a=t.mainType;function u(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}o.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,lI(i,t.dx,t.dy),n.dispatchAction(xt(u(),{dx:t.dx,dy:t.dy}))}),this),o.off("zoom").on("zoom",(function(t){this._mouseDownFlag=!1,fI(i,t.scale,t.originX,t.originY),n.dispatchAction(xt(u(),{zoom:t.scale,originX:t.originX,originY:t.originY}));var e=this.group;this._regionsGroup.traverse((function(t){var n=t.getTextContent();n&&(n.scaleX=1/e.scaleX,n.scaleY=1/e.scaleY,n.markRedraw())}))}),this),o.setPointerChecker((function(e,o,i){return r.getViewRectAfterRoam().contain(o,i)&&!hI(e,n,t)}))},t.prototype._updateMapSelectHandler=function(t,e,n,r){var o=this;e.off("mousedown"),t.get("selectedMode")&&(e.on("mousedown",(function(){o._mouseDownFlag=!0})),e.on("click",(function(t){o._mouseDownFlag&&(o._mouseDownFlag=!1)})))},t}(),uE=aE,sE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===t.id){i=this._mapDraw;i&&o.add(i.group)}else if(t.needsDrawMap){var i=this._mapDraw||new uE(n);o.add(i.group),i.draw(t,e,n,this,r),this._mapDraw=i}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var r=t.originalData,o=this.group;r.each(r.mapDimension("value"),(function(e,n){if(!isNaN(e)){var i=r.getItemLayout(n);if(i&&i.point){var a=i.point,u=i.offset,s=new sf({style:{fill:t.getData().getVisual("style").fill},shape:{cx:a[0]+9*u,cy:a[1],r:3},silent:!0,z2:8+(u?0:Vc+1)});if(!u){var c=t.mainSeries.getData(),l=r.getName(n),f=c.indexOfName(l),d=r.getItemModel(n),h=d.getModel("label"),p=c.getItemGraphicEl(f);nh(s,rh(d),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(f,n)}}}),s.disableLabelAnimation=!0,h.get("position")||s.setTextConfig({position:"bottom"}),p.onHoverStateChange=function(t){s.useState(t)}}o.add(s)}}}))},e.type="map",e}(_y),cE=sE,lE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,r=n.getRegion(e);return r&&n.dataToPoint(r.center)}},n}return Z(e,t),e.prototype.getInitialData=function(t){for(var e=MA(this,{coordDimensions:["value"],encodeDefaulter:Pt(gm,this)}),n=ae(),r=[],o=0,i=e.count();o<i;o++){var a=e.getName(o);n.set(a,!0)}var u=rE.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return At(u.regions,(function(t){var e=t.name;n.get(e)||r.push(e)})),e.appendValues([],r),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var r=this.getData(),o=this.getRawValue(t),i=r.getName(t),a=this.seriesGroup,u=[],s=0;s<a.length;s++){var c=a[s].originalData.indexOfName(i),l=r.mapDimension("value");isNaN(a[s].originalData.get(l,c))||u.push(a[s].name)}return Bv("section",{header:u.join(", "),noHeader:!u.length,blocks:[Bv("nameValue",{name:i,value:o})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(ly),fE=lE;function dE(t,e){var n={};return At(t,(function(t){t.each(t.mapDimension("value"),(function(e,r){var o="ec-"+t.getName(r);n[o]=n[o]||[],isNaN(e)||n[o].push(e)}))})),t[0].map(t[0].mapDimension("value"),(function(r,o){for(var i,a="ec-"+t[0].getName(o),u=0,s=1/0,c=-1/0,l=n[a].length,f=0;f<l;f++)s=Math.min(s,n[a][f]),c=Math.max(c,n[a][f]),u+=n[a][f];return i="min"===e?s:"max"===e?c:"average"===e?u/l:u,0===l?NaN:i}))}function hE(t){var e={};t.eachSeriesByType("map",(function(t){var n=t.getHostGeoModel(),r=n?"o"+n.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)})),At(e,(function(t,e){for(var n=dE(Ot(t,(function(t){return t.getData()})),t[0].get("mapValueCalculation")),r=0;r<t.length;r++)t[r].originalData=t[r].getData();for(r=0;r<t.length;r++)t[r].seriesGroup=t,t[r].needsDrawMap=0===r&&!t[r].getHostGeoModel(),t[r].setData(n.cloneShallow()),t[r].mainSeries=t[0]}))}function pE(t){var e={};t.eachSeriesByType("map",(function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!e[r]){var o={};At(n.seriesGroup,(function(e){var n=e.coordinateSystem,r=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&r.each(r.mapDimension("value"),(function(t,e){var i=r.getName(e),a=n.getRegion(i);if(a&&!isNaN(t)){var u=o[i]||0,s=n.dataToPoint(a.center);o[i]=u+1,r.setItemLayout(e,{point:s,offset:u})}}))}));var i=n.getData();i.each((function(t){var e=i.getName(t),n=i.getItemLayout(t)||{};n.showLabel=!o[e],i.setItemLayout(t,n)})),e[r]=!0}}))}function mE(t){t.registerChartView(cE),t.registerSeriesModel(fE),t.registerLayout(pE),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,hE),ix("map",t.registerAction)}function gE(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var n,r,o=[e];while(n=o.pop())if(r=n.children,n.isExpand&&r.length)for(var i=r.length,a=i-1;a>=0;a--){var u=r[a];u.hierNode={defaultAncestor:null,ancestor:u,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},o.push(u)}}function vE(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,o=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){_E(t);var i=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-i):t.hierNode.prelim=i}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=SE(t,o,t.parentNode.hierNode.defaultAncestor||r[0],e)}function yE(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function bE(t){return arguments.length?t:OE}function xE(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function wE(t,e){return Up(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function _E(t){var e=t.children,n=e.length,r=0,o=0;while(--n>=0){var i=e[n];i.hierNode.prelim+=r,i.hierNode.modifier+=r,o+=i.hierNode.change,r+=i.hierNode.shift+o}}function SE(t,e,n,r){if(e){var o=t,i=t,a=i.parentNode.children[0],u=e,s=o.hierNode.modifier,c=i.hierNode.modifier,l=a.hierNode.modifier,f=u.hierNode.modifier;while(u=CE(u),i=kE(i),u&&i){o=CE(o),a=kE(a),o.hierNode.ancestor=t;var d=u.hierNode.prelim+f-i.hierNode.prelim-c+r(u,i);d>0&&(AE(TE(u,t,n),t,d),c+=d,s+=d),f+=u.hierNode.modifier,c+=i.hierNode.modifier,s+=o.hierNode.modifier,l+=a.hierNode.modifier}u&&!CE(o)&&(o.hierNode.thread=u,o.hierNode.modifier+=f-s),i&&!kE(a)&&(a.hierNode.thread=i,a.hierNode.modifier+=c-l,n=t)}return n}function CE(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function kE(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function TE(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function AE(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}function OE(t,e){return t.parentNode===e.parentNode?1:2}var ME=Me,DE=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Bn,n._rawTransformable=new Bn,n.name=e,n}return Z(e,t),e.prototype.setBoundingRect=function(t,e,n,r){return this._rect=new Yr(t,e,n,r),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,r){this.transformTo(t,e,n,r),this._viewRect=new Yr(t,e,n,r)},e.prototype.transformTo=function(t,e,n,r){var o=this.getBoundingRect(),i=this._rawTransformable;i.transform=o.calculateTransform(new Yr(t,e,n,r)),i.decomposeTransform(),this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),e=t.x+t.width/2,n=t.y+t.height/2;return[e,n]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),o=this.getZoom();r=Me([],r,t),n=Me([],n,t),e.originX=r[0],e.originY=r[1],e.x=n[0]-r[0],e.y=n[1]-r[1],e.scaleX=e.scaleY=o,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),_n(this.transform||(this.transform=[]),e.transform||xn()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],An(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._roamTransformable.transform,e=this._rawTransformable;return{roamTransform:t?Jt(t):xn(),rawScaleX:e.scaleX,rawScaleY:e.scaleY,rawX:e.x,rawY:e.y}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var r=e?this._rawTransform:this.transform;return n=n||[],r?ME(n,t,r):pe(n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?ME([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var r=IE(e);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var r=IE(e);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Bn);function IE(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var EE=DE,RE=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),NE=function(t){function e(e){return t.call(this,e)||this}return Z(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new RE},e.prototype.buildPath=function(t,e){var n=e.childPoints,r=n.length,o=e.parentPoint,i=n[0],a=n[r-1];if(1===r)return t.moveTo(o[0],o[1]),void t.lineTo(i[0],i[1]);var u=e.orient,s="TB"===u||"BT"===u?0:1,c=1-s,l=Si(e.forkPosition,1),f=[];f[s]=o[s],f[c]=o[c]+(a[c]-o[c])*l,t.moveTo(o[0],o[1]),t.lineTo(f[0],f[1]),t.moveTo(i[0],i[1]),f[s]=i[s],t.lineTo(f[0],f[1]),f[s]=a[s],t.lineTo(f[0],f[1]),t.lineTo(a[0],a[1]);for(var d=1;d<r-1;d++){var h=n[d];t.moveTo(h[0],h[1]),f[s]=h[s],t.lineTo(f[0],f[1])}},e}(Js),PE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new fi,n}return Z(e,t),e.prototype.init=function(t,e){this._controller=new cI(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var r=t.getData(),o=t.layoutInfo,i=this._mainGroup,a=t.get("layout");"radial"===a?(i.x=o.x+o.width/2,i.y=o.y+o.height/2):(i.x=o.x,i.y=o.y),this._updateViewCoordSys(t),this._updateController(t,e,n);var u=this._data;r.diff(u).add((function(e){LE(r,e)&&BE(r,e,null,i,t)})).update((function(e,n){var o=u.getItemGraphicEl(n);LE(r,e)?BE(r,e,o,i,t):o&&VE(u,n,o,i,t)})).remove((function(e){var n=u.getItemGraphicEl(e);n&&VE(u,e,n,i,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&r.eachItemGraphicEl((function(e,r){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:r})}))})),this._data=r},e.prototype._updateViewCoordSys=function(t){var e=t.getData(),n=[];e.each((function(t){var r=e.getItemLayout(t);!r||isNaN(r.x)||isNaN(r.y)||n.push([+r.x,+r.y])}));var r=[],o=[];Qu(n,r,o);var i=this._min,a=this._max;o[0]-r[0]===0&&(r[0]=i?i[0]:r[0]-1,o[0]=a?a[0]:o[0]+1),o[1]-r[1]===0&&(r[1]=i?i[1]:r[1]-1,o[1]=a?a[1]:o[1]+1);var u=t.coordinateSystem=new EE;u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1]),u.setCenter(t.get("center")),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=r,this._max=o},e.prototype._updateController=function(t,e,n){var r=this,o=this._controller,i=this._controllerHost,a=this.group;o.setPointerChecker((function(e,r,o){var i=a.getBoundingRect();return i.applyTransform(a.transform),i.contain(r,o)&&!hI(e,n,t)})),o.enable(t.get("roam")),i.zoomLimit=t.get("scaleLimit"),i.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e){lI(i,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){fI(i,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),r._updateNodeAndLinkScale(t),n.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,r=e.scaleX||1,o=e.getZoom(),i=(o-1)*n+1;return i/r},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(_y);function LE(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function BE(t,e,n,r,o){var i=!n,a=t.tree.getNodeByDataIndex(e),u=a.getModel(),s=a.getVisual("style").fill,c=!1===a.isExpand&&0!==a.children.length?s:"#fff",l=t.tree.root,f=a.parentNode===l?a:a.parentNode||a,d=t.getItemGraphicEl(f.dataIndex),h=f.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,m=a.getLayout();i?(n=new Tk(t,e,null,{symbolInnerColor:c,useNameLabel:!0}),n.x=p.x,n.y=p.y):n.updateData(t,e,null,{symbolInnerColor:c,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=m.rawX,n.__radialRawY=m.rawY,r.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,Nd(n,{x:m.x,y:m.y},o);var g=n.getSymbolPath();if("radial"===o.get("layout")){var v=l.children[0],y=v.getLayout(),b=v.children.length,x=void 0,w=void 0;if(m.x===y.x&&!0===a.isExpand){var _={x:(v.children[0].getLayout().x+v.children[b-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[b-1].getLayout().y)/2};x=Math.atan2(_.y-y.y,_.x-y.x),x<0&&(x=2*Math.PI+x),w=_.x<y.x,w&&(x-=Math.PI)}else x=Math.atan2(m.y-y.y,m.x-y.x),x<0&&(x=2*Math.PI+x),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(w=m.x<y.x,w&&(x-=Math.PI)):(w=m.x>y.x,w||(x-=Math.PI));var S=w?"left":"right",C=u.getModel("label"),k=C.get("rotate"),T=k*(Math.PI/180),A=g.getTextContent();A&&(g.setTextConfig({position:C.get("position")||S,rotation:null==k?-x:T,origin:"center"}),A.setStyle("verticalAlign","middle"))}var O=u.get(["emphasis","focus"]),M="ancestor"===O?a.getAncestorsIndices():"descendant"===O?a.getDescendantIndices():null;M&&(Dc(n).focus=M),zE(o,a,l,n,p,h,m,r),n.__edge&&(n.onHoverStateChange=function(e){if("blur"!==e){var r=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);r&&r.hoverState===Pc||ol(n.__edge,e)}})}function zE(t,e,n,r,o,i,a,u){var s=e.getModel(),c=t.get("edgeShape"),l=t.get("layout"),f=t.getOrient(),d=t.get(["lineStyle","curveness"]),h=t.get("edgeForkPosition"),p=s.getModel("lineStyle").getLineStyle(),m=r.__edge;if("curve"===c)e.parentNode&&e.parentNode!==n&&(m||(m=r.__edge=new $f({shape:FE(l,f,d,o,o)})),Nd(m,{shape:FE(l,f,d,i,a)},t));else if("polyline"===c)if("orthogonal"===l){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var g=e.children,v=[],y=0;y<g.length;y++){var b=g[y].getLayout();v.push([b.x,b.y])}m||(m=r.__edge=new NE({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:f,forkPosition:h}})),Nd(m,{shape:{parentPoint:[a.x,a.y],childPoints:v}},t)}}else 0;m&&(m.useStyle(wt({strokeNoScale:!0,fill:null},p)),Dl(m,s,"lineStyle"),ll(m),u.add(m))}function VE(t,e,n,r,o){var i,a=t.tree.getNodeByDataIndex(e),u=t.tree.root,s=a.parentNode===u?a:a.parentNode||a;while(i=s.getLayout(),null==i)s=s.parentNode===u?s:s.parentNode||s;var c={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};Ld(n,{x:i.x+1,y:i.y+1},o,{cb:function(){r.remove(n),t.setItemGraphicEl(e,null)},removeOpt:c}),n.fadeOut(null,{fadeLabel:!0,animation:c});var l=t.getItemGraphicEl(s.dataIndex),f=l.__edge,d=n.__edge||(!1===s.isExpand||1===s.children.length?f:void 0),h=o.get("edgeShape"),p=o.get("layout"),m=o.get("orient"),g=o.get(["lineStyle","curveness"]);d&&("curve"===h?Ld(d,{shape:FE(p,m,g,i,i),style:{opacity:0}},o,{cb:function(){r.remove(d)},removeOpt:c}):"polyline"===h&&"orthogonal"===o.get("layout")&&Ld(d,{shape:{parentPoint:[i.x,i.y],childPoints:[[i.x,i.y]]},style:{opacity:0}},o,{cb:function(){r.remove(d)},removeOpt:c}))}function FE(t,e,n,r,o){var i,a,u,s,c,l,f,d;if("radial"===t){c=r.rawX,f=r.rawY,l=o.rawX,d=o.rawY;var h=xE(c,f),p=xE(c,f+(d-f)*n),m=xE(l,d+(f-d)*n),g=xE(l,d);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:m.x||0,cpy2:m.y||0}}return c=r.x,f=r.y,l=o.x,d=o.y,"LR"!==e&&"RL"!==e||(i=c+(l-c)*n,a=f,u=l+(c-l)*n,s=d),"TB"!==e&&"BT"!==e||(i=c,a=f+(d-f)*n,u=l,s=d+(f-d)*n),{x1:c,y1:f,x2:l,y2:d,cpx1:i,cpy1:a,cpx2:u,cpy2:s}}var jE=PE,HE=ma();function UE(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,$E(e,n,t),At(n,(function(n){At(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,Pt(WE,t))}))})),e.wrapMethod("cloneShallow",Pt(qE,t)),At(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,Pt(GE,t))})),te(n[e.dataType]===e)}function WE(t,e){if(ZE(this)){var n=xt({},HE(this).datas);n[this.dataType]=e,$E(e,n,t)}else KE(e,this.dataType,HE(this).mainData,t);return e}function GE(t,e){return t.struct&&t.struct.update(),e}function qE(t,e){return At(HE(e).datas,(function(n,r){n!==e&&KE(n.cloneShallow(),r,e,t)})),e}function YE(t){var e=HE(this).mainData;return null==t||null==e?e:HE(e).datas[t]}function XE(){var t=HE(this).mainData;return null==t?[{data:t}]:Ot(Et(HE(t).datas),(function(e){return{type:e,data:HE(t).datas[e]}}))}function ZE(t){return HE(t).mainData===t}function $E(t,e,n){HE(t).datas={},At(e,(function(e,r){KE(e,r,t,n)}))}function KE(t,e,n,r){HE(n).datas[e]=t,HE(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=YE,t.getLinkedDataAll=XE}var JE=UE,QE=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){"function"===typeof t&&(n=e,e=t,t=null),t=t||{},zt(t)&&(t={order:t});var r,o=t.order||"preorder",i=this[t.attr||"children"];"preorder"===o&&(r=e.call(n,this));for(var a=0;!r&&a<i.length;a++)i[a].eachNode(t,e,n);"postorder"===o&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var o=n[e].getNodeById(t);if(o)return o}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var o=n[e].contains(t);if(o)return o}},t.prototype.getAncestors=function(t){var e=[],n=t?this:this.parentNode;while(n)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){var t=[],e=this;while(e)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.isAncestorOf=function(t){var e=t.parentNode;while(e){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),tR=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,r){var o=new t(n),i=[],a=1;function u(t,e){var n=t.value;a=Math.max(a,Lt(n)?n.length:1),i.push(t);var r=new QE(ua(t.name,""),o);e?eR(r,e):o.root=r,o._nodes.push(r);var s=t.children;if(s)for(var c=0;c<s.length;c++)u(s[c],r)}u(e),o.root.updateDepthAndHeight(0);var s=sk(i,{coordDimensions:["value"],dimensionsCount:a}),c=new rk(s,n);return c.initData(i),r&&r(c),JE({mainData:c,struct:o,structAttr:"tree"}),o.update(),o},t}();function eR(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}var nR=tR,rR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return Z(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},r=new Ah(n,this,this.ecModel),o=nR.createTree(e,this,i);function i(t){t.wrapMethod("getItemModel",(function(t,e){var n=o.getNodeByDataIndex(e);return n.children.length&&n.isExpand||(t.parentModel=r),t}))}var a=0;o.eachNode("preorder",(function(t){t.depth>a&&(a=t.depth)}));var u=t.expandAndCollapse,s=u&&t.initialTreeDepth>=0?t.initialTreeDepth:a;return o.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=s})),o.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){var r=this.getData().tree,o=r.root.children[0],i=r.getNodeByDataIndex(t),a=i.getValue(),u=i.name;while(i&&i!==o)u=i.parentNode.name+"."+u,i=i.parentNode;return Bv("nameValue",{name:u,value:a,noValue:isNaN(a)||null==a})},e.type="series.tree",e.layoutMode="box",e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(ly),oR=rR;function iR(t,e,n){var r,o=[t],i=[];while(r=o.pop())if(i.push(r),r.isExpand){var a=r.children;if(a.length)for(var u=0;u<a.length;u++)o.push(a[u])}while(r=i.pop())e(r,n)}function aR(t,e){var n,r=[t];while(n=r.pop())if(e(n),n.isExpand){var o=n.children;if(o.length)for(var i=o.length-1;i>=0;i--)r.push(o[i])}}function uR(t,e){t.eachSeriesByType("tree",(function(t){sR(t,e)}))}function sR(t,e){var n=wE(t,e);t.layoutInfo=n;var r=t.get("layout"),o=0,i=0,a=null;"radial"===r?(o=2*Math.PI,i=Math.min(n.height,n.width)/2,a=bE((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(o=n.width,i=n.height,a=bE());var u=t.getData().tree.root,s=u.children[0];if(s){gE(u),iR(s,vE,a),u.hierNode.modifier=-s.hierNode.prelim,aR(s,yE);var c=s,l=s,f=s;aR(s,(function(t){var e=t.getLayout().x;e<c.getLayout().x&&(c=t),e>l.getLayout().x&&(l=t),t.depth>f.depth&&(f=t)}));var d=c===l?1:a(c,l)/2,h=d-c.getLayout().x,p=0,m=0,g=0,v=0;if("radial"===r)p=o/(l.getLayout().x+d+h),m=i/(f.depth-1||1),aR(s,(function(t){g=(t.getLayout().x+h)*p,v=(t.depth-1)*m;var e=xE(g,v);t.setLayout({x:e.x,y:e.y,rawX:g,rawY:v},!0)}));else{var y=t.getOrient();"RL"===y||"LR"===y?(m=i/(l.getLayout().x+d+h),p=o/(f.depth-1||1),aR(s,(function(t){v=(t.getLayout().x+h)*m,g="LR"===y?(t.depth-1)*p:o-(t.depth-1)*p,t.setLayout({x:g,y:v},!0)}))):"TB"!==y&&"BT"!==y||(p=o/(l.getLayout().x+d+h),m=i/(f.depth-1||1),aR(s,(function(t){g=(t.getLayout().x+h)*p,v="TB"===y?(t.depth-1)*m:i-(t.depth-1)*m,t.setLayout({x:g,y:v},!0)})))}}}function cR(t){t.eachSeriesByType("tree",(function(t){var e=t.getData(),n=e.tree;n.eachNode((function(t){var n=t.getModel(),r=n.getModel("itemStyle").getItemStyle(),o=e.ensureUniqueItemVisual(t.dataIndex,"style");xt(o,r)}))}))}function lR(t,e,n){var r=t.getZoom(),o=t.getCenter(),i=e.zoom,a=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(a[0]-=e.dx,a[1]-=e.dy,t.setCenter(t.pointToData(a))),null!=i){if(n){var u=n.min||0,s=n.max||1/0;i=Math.max(Math.min(r*i,s),u)/r}t.scaleX*=i,t.scaleY*=i;var c=(e.originX-t.x)*(i-1),l=(e.originY-t.y)*(i-1);t.x-=c,t.y-=l,t.updateTransform(),t.setCenter(t.pointToData(a)),t.setZoom(i*r)}return{center:t.getCenter(),zoom:t.getZoom()}}function fR(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex,r=e.getData().tree,o=r.getNodeByDataIndex(n);o.isExpand=!o.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=e.coordinateSystem,r=lR(n,t);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)}))}))}function dR(t){t.registerChartView(jE),t.registerSeriesModel(oR),t.registerLayout(uR),t.registerVisual(cR),fR(t)}function hR(t,e,n){if(t&&St(e,t.type)>=0){var r=n.getData().tree.root,o=t.targetNode;if("string"===typeof o&&(o=r.getNodeById(o)),o&&r.contains(o))return{node:o};var i=t.targetNodeId;if(null!=i&&(o=r.getNodeById(i)))return{node:o}}}function pR(t){var e=[];while(t)t=t.parentNode,t&&e.push(t);return e.reverse()}function mR(t,e){var n=pR(t);return St(n,e)>=0}function gR(t,e){var n=[];while(t){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}var vR=function(){},yR=["treemapZoomToNode","treemapRender","treemapMove"];function bR(t){for(var e=0;e<yR.length;e++)t.registerAction({type:yR[e],update:"updateView"},vR);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){function n(e,n){var r=["treemapZoomToNode","treemapRootToNode"],o=hR(t,r,e);if(o){var i=e.getViewRoot();i&&(t.direction=mR(i,o.node)?"rollUp":"drillDown"),e.resetViewRoot(o.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},n)}))}function xR(t){var e=t.getData(),n=e.tree,r={};n.eachNode((function(e){var n=e;while(n&&n.depth>1)n=n.parentNode;var o=Dm(t.ecModel,n.name||n.dataIndex+"",r);e.setVisual("decal",o)}))}var wR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return Z(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};_R(n);var r=t.levels||[],o=this.designatedVisualItemStyle={},i=new Ah({itemStyle:o},this,e);r=t.levels=SR(r,e);var a=Ot(r||[],(function(t){return new Ah(t,i,e)}),this),u=nR.createTree(n,this,s);function s(t){t.wrapMethod("getItemModel",(function(t,e){var n=u.getNodeByDataIndex(e),r=a[n.depth];return t.parentModel=r||i,t}))}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),o=this.getRawValue(t),i=r.getName(t);return Bv("nameValue",{name:i,value:o})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=gR(r,this),n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},xt(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=ae(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){xR(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(ly);function _R(t){var e=0;At(t.children,(function(t){_R(t);var n=t.value;Lt(n)&&(n=n[0]),e+=n}));var n=t.value;Lt(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),Lt(t.value)?t.value[0]=n:t.value=n}function SR(t,e){var n=Yi(e.get("color")),r=Yi(e.get(["aria","decal","decals"]));if(n){var o,i;t=t||[],At(t,(function(t){var e=new Ah(t),n=e.get("color"),r=e.get("decal");(e.get(["itemStyle","color"])||n&&"none"!==n)&&(o=!0),(e.get(["itemStyle","decal"])||r&&"none"!==r)&&(i=!0)}));var a=t[0]||(t[0]={});return o||(a.color=n.slice()),!i&&r&&(a.decal=r.slice()),t}}var CR=wR,kR=8,TR=8,AR=5,OR=function(){function t(t){this.group=new fi,t.add(this.group)}return t.prototype.render=function(t,e,n,r){var o=t.getModel("breadcrumb"),i=this.group;if(i.removeAll(),o.get("show")&&n){var a=o.getModel("itemStyle"),u=a.getModel("textStyle"),s={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,s,u),this._renderContent(t,s,a,u,r),Wp(i,s.pos,s.box)}},t.prototype._prepare=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=ua(r.getModel().get("name"),""),i=n.getTextRect(o),a=Math.max(i.width+2*kR,e.emptyItemWidth);e.totalWidth+=a+TR,e.renderList.push({node:r,text:o,width:a})}},t.prototype._renderContent=function(t,e,n,r,o){for(var i=0,a=e.emptyItemWidth,u=t.get(["breadcrumb","height"]),s=Hp(e.pos,e.box),c=e.totalWidth,l=e.renderList,f=l.length-1;f>=0;f--){var d=l[f],h=d.node,p=d.width,m=d.text;c>s.width&&(c-=p-a,p=a,m=null);var g=new zf({shape:{points:MR(i,0,p,u,f===l.length-1,0===f)},style:wt(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Mc({style:{text:m,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z:10,onclick:Pt(o,h)});g.disableLabelAnimation=!0,this.group.add(g),DR(g,t,h),i+=p+TR}},t.prototype.remove=function(){this.group.removeAll()},t}();function MR(t,e,n,r,o,i){var a=[[o?t:t-AR,e],[t+n,e],[t+n,e+r],[o?t:t-AR,e+r]];return!i&&a.splice(2,0,[t+n+AR,e+r/2]),!o&&a.push([t,e+r/2]),a}function DR(t,e,n){Dc(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&gR(n,e)}}var IR=OR,ER=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,r,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:r,easing:o}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var i=this._storage[r];i.el.animateTo(i.target,{duration:i.duration,delay:i.delay,easing:i.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();function RR(){return new ER}var NR=fi,PR=mc,LR=3,BR="label",zR="upperLabel",VR=10,FR=1,jR=2,HR=Fa([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),UR=function(t){var e=HR(t);return e.stroke=e.fill=e.lineWidth=null,e},WR=ma(),GR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage=qR(),n}return Z(e,t),e.prototype.render=function(t,e,n,r){var o=e.findComponents({mainType:"series",subType:"treemap",query:r});if(!(St(o,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var i=["treemapZoomToNode","treemapRootToNode"],a=hR(r,i,t),u=r&&r.type,s=t.layoutInfo,c=!this._oldTree,l=this._storage,f="treemapRootToNode"===u&&a&&l?{rootNodeGroup:l.nodeGroup[a.node.getRawIndex()],direction:r.direction}:null,d=this._giveContainerGroup(s),h=this._doRender(d,t,f);c||u&&"treemapZoomToNode"!==u&&"treemapRootToNode"!==u?h.renderFinally():this._doAnimation(d,h,t,f),this._resetController(n),this._renderBreadcrumb(t,n,a)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new NR,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var r=e.getData().tree,o=this._oldTree,i=qR(),a=qR(),u=this._storage,s=[];function c(t,r,o,c){return YR(e,a,u,n,i,s,t,r,o,c)}f(r.root?[r.root]:[],o&&o.root?[o.root]:[],t,r===o||!o,0);var l=d(u);return this._oldTree=r,this._storage=a,{lastsForAnimation:i,willDeleteEls:l,renderFinally:h};function f(t,e,n,r,o){function i(t){return t.getId()}function a(i,a){var u=null!=i?t[i]:null,s=null!=a?e[a]:null,l=c(u,s,n,o);l&&f(u&&u.viewChildren||[],s&&s.viewChildren||[],l,r,o+1)}r?(e=t,At(t,(function(t,e){!t.isRemoved()&&a(e,e)}))):new SC(e,t,i,i).add(a).update(a).remove(Pt(a,null)).execute()}function d(t){var e=qR();return t&&At(t,(function(t,n){var r=e[n];At(t,(function(t){t&&(r.push(t),WR(t).willDelete=!0)}))})),e}function h(){At(l,(function(t){At(t,(function(t){t.parent&&t.parent.remove(t)}))})),At(s,(function(t){t.invisible=!0,t.dirty()}))}},e.prototype._doAnimation=function(t,e,n,r){if(n.get("animation")){var o=n.get("animationDurationUpdate"),i=n.get("animationEasing"),a=(Bt(o)?0:o)||0,u=(Bt(i)?null:i)||"cubicOut",s=RR();At(e.willDeleteEls,(function(t,e){At(t,(function(t,n){if(!t.invisible){var o,i=t.parent,c=WR(i);if(r&&"drillDown"===r.direction)o=i===r.rootNodeGroup?{shape:{x:0,y:0,width:c.nodeWidth,height:c.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var l=0,f=0;c.willDelete||(l=c.nodeWidth/2,f=c.nodeHeight/2),o="nodeGroup"===e?{x:l,y:f,style:{opacity:0}}:{shape:{x:l,y:f,width:0,height:0},style:{opacity:0}}}o&&s.add(t,o,a,0,u)}}))})),At(this._storage,(function(t,n){At(t,(function(t,r){var o=e.lastsForAnimation[n][r],i={};o&&(t instanceof fi?null!=o.oldX&&(i.x=t.x,i.y=t.y,t.x=o.oldX,t.y=o.oldY):(o.oldShape&&(i.shape=xt({},t.shape),t.setShape(o.oldShape)),o.fadein?(t.setStyle("opacity",0),i.style={opacity:1}):1!==t.style.opacity&&(i.style={opacity:1})),s.add(t,i,a,0,u))}))}),this),this._state="animating",s.finished(Nt((function(){this._state="ready",e.renderFinally()}),this)).start()}},e.prototype._resetController=function(t){var e=this._controller;e||(e=this._controller=new cI(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",Nt(this._onPan,this)),e.on("zoom",Nt(this._onZoom,this)));var n=new Yr(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,r){return n.contain(e,r)}))},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>LR||Math.abs(t.dy)>LR)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var o=r.getLayout();if(!o)return;var i=new Yr(o.x,o.y,o.width,o.height),a=this.seriesModel.layoutInfo;e-=a.x,n-=a.y;var u=xn();Cn(u,u,[-e,-n]),Tn(u,u,[t.scale,t.scale]),Cn(u,u,[e,n]),i.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x,y:i.y,width:i.width,height:i.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if("ready"===e._state){var n=e.seriesModel.get("nodeClick",!0);if(n){var r=e.findTarget(t.offsetX,t.offsetY);if(r){var o=r.node;if(o.getLayout().isLeafRoot)e._rootToNode(r);else if("zoomToNode"===n)e._zoomToNode(r);else if("link"===n){var i=o.hostTree.data.getItemModel(o.dataIndex),a=i.get("link",!0),u=i.get("target",!0)||"blank";a&&Lp(a,u)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,n){var r=this;n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2),n||(n={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new IR(this.group))).render(t,e,n.node,(function(e){"animating"!==r._state&&(mR(t.getViewRoot(),e)?r._rootToNode({node:e}):r._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=qR(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n,r=this.seriesModel.getViewRoot();return r.eachNode({attr:"viewChildren",order:"preorder"},(function(r){var o=this._storage.background[r.getRawIndex()];if(o){var i=o.transformCoordToLocal(t,e),a=o.shape;if(!(a.x<=i[0]&&i[0]<=a.x+a.width&&a.y<=i[1]&&i[1]<=a.y+a.height))return!1;n={node:r,offsetX:i[0],offsetY:i[1]}}}),this),n},e.type="treemap",e}(_y);function qR(){return{nodeGroup:[],background:[],content:[]}}function YR(t,e,n,r,o,i,a,u,s,c){if(a){var l=a.getLayout(),f=t.getData(),d=a.getModel();if(f.setItemGraphicEl(a.dataIndex,null),l&&l.isInView){var h=l.width,p=l.height,m=l.borderWidth,g=l.invisible,v=a.getRawIndex(),y=u&&u.getRawIndex(),b=a.viewChildren,x=l.upperHeight,w=b&&b.length,_=d.getModel("itemStyle"),S=d.getModel(["emphasis","itemStyle"]),C=d.getModel(["blur","itemStyle"]),k=d.getModel(["select","itemStyle"]),T=_.get("borderRadius")||0,A=z("nodeGroup",NR);if(A){if(s.add(A),A.x=l.x||0,A.y=l.y||0,A.markRedraw(),WR(A).nodeWidth=h,WR(A).nodeHeight=p,l.isAboveViewRoot)return A;var O=z("background",PR,c,FR);O&&R(A,O,w&&l.upperLabelHeight);var M=d.get(["emphasis","focus"]),D=d.get(["emphasis","blurScope"]),I="ancestor"===M?a.getAncestorsIndices():"descendant"===M?a.getDescendantIndices():null;if(w)El(A)&&Il(A,!1),O&&(Il(O,!0),f.setItemGraphicEl(a.dataIndex,O),Al(O,I||M,D));else{var E=z("content",PR,c,jR);E&&N(A,E),O&&El(O)&&Il(O,!1),Il(A,!0),f.setItemGraphicEl(a.dataIndex,A),Al(A,I||M,D)}return A}}}function R(e,n,r){var o=Dc(n);if(o.dataIndex=a.dataIndex,o.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:h,height:p,r:T}),g)P(n);else{n.invisible=!1;var i=a.getVisual("style"),u=i.stroke,s=UR(_);s.fill=u;var c=HR(S);c.fill=S.get("borderColor");var l=HR(C);l.fill=C.get("borderColor");var f=HR(k);if(f.fill=k.get("borderColor"),r){var d=h-2*m;L(n,u,d,x,i.opacity,{x:m,y:0,width:d,height:x})}else n.removeTextContent();n.setStyle(s),n.ensureState("emphasis").style=c,n.ensureState("blur").style=l,n.ensureState("select").style=f,ll(n)}e.add(n)}function N(e,n){var r=Dc(n);r.dataIndex=a.dataIndex,r.seriesIndex=t.seriesIndex;var o=Math.max(h-2*m,0),i=Math.max(p-2*m,0);if(n.culling=!0,n.setShape({x:m,y:m,width:o,height:i,r:T}),g)P(n);else{n.invisible=!1;var u=a.getVisual("style"),s=u.fill,c=UR(_);c.fill=s,c.decal=u.decal;var l=HR(S),f=HR(C),d=HR(k);L(n,s,o,u.opacity,i),n.setStyle(c),n.ensureState("emphasis").style=l,n.ensureState("blur").style=f,n.ensureState("select").style=d,ll(n)}e.add(n)}function P(t){!t.invisible&&i.push(t)}function L(e,n,r,o,i,u){var s=d.getModel(u?zR:BR),c=Zt(t.getFormattedLabel(a.dataIndex,"normal",null,null,s.get("formatter")),ua(d.get("name"),null));if(!u&&l.isLeafRoot){var f=t.get("drillDownIcon",!0);c=f?f+" "+c:c}var h=s.getShallow("show");nh(e,rh(d,u?zR:BR),{defaultText:h?c:null,inheritColor:n,defaultOpacity:r,labelFetcher:t,labelDataIndex:a.dataIndex});var p=e.getTextContent(),m=p.style,g=Qt(m.padding||0);u&&(e.setTextConfig({layoutRect:u}),p.disableLabelLayout=!0),p.beforeUpdate=function(){var t=Math.max((u?u.width:e.shape.width)-g[1]-g[3],0),n=Math.max((u?u.height:e.shape.height)-g[0]-g[2],0);m.width===t&&m.height===n||p.setStyle({width:t,height:n})},m.truncateMinChar=2,m.lineOverflow="truncate",B(m,u,l);var v=p.getState("emphasis");B(v?v.style:null,u,l)}function B(e,n,r){var o=e?e.text:null;if(!n&&r.isLeafRoot&&null!=o){var i=t.get("drillDownIcon",!0);e.text=i?i+" "+o:o}}function z(t,r,i,a){var u=null!=y&&n[t][y],s=o[t];return u?(n[t][y]=null,V(s,u)):g||(u=new r,u instanceof bu&&(u.z=XR(i,a)),F(s,u)),e[t][v]=u}function V(t,e){var n=t[v]={};e instanceof NR?(n.oldX=e.x,n.oldY=e.y):n.oldShape=xt({},e.shape)}function F(t,e){var n=t[v]={},i=a.parentNode,u=e instanceof fi;if(i&&(!r||"drillDown"===r.direction)){var s=0,c=0,l=o.background[i.getRawIndex()];!r&&l&&l.oldShape&&(s=l.oldShape.width,c=l.oldShape.height),u?(n.oldX=0,n.oldY=c):n.oldShape={x:s,y:c,width:0,height:0}}n.fadein=!u}}function XR(t,e){var n=t*VR+e;return(n-1)/n}var ZR=GR,$R=At,KR=jt,JR=-1,QR=function(){function t(e){var n=e.mappingMethod,r=e.type,o=this.option=vt(e);this.type=r,this.mappingMethod=n,this._normalizeData=fN[n];var i=t.visualHandlers[r];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[n],"piecewise"===n?(nN(o),tN(o)):"category"===n?o.categories?eN(o):nN(o,!0):(te("linear"!==n||o.dataExtent),nN(o))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return Nt(this._normalizeData,this)},t.listVisualTypes=function(){return Et(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){jt(t)?At(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,r){var o,i=Lt(e)?[]:jt(e)?{}:(o=!0,null);return t.eachVisual(e,(function(t,e){var a=n.call(r,t,e);o?i=a:i[e]=a})),i},t.retrieveVisuals=function(e){var n,r={};return e&&$R(t.visualHandlers,(function(t,o){e.hasOwnProperty(o)&&(r[o]=e[o],n=!0)})),n?r:null},t.prepareVisualTypes=function(t){if(Lt(t))t=t.slice();else{if(!KR(t))return[];var e=[];$R(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var r,o=1/0,i=0,a=e.length;i<a;i++){var u=e[i].value;if(null!=u){if(u===t||"string"===typeof u&&u===t+"")return i;n&&f(u,i)}}for(i=0,a=e.length;i<a;i++){var s=e[i],c=s.interval,l=s.close;if(c){if(c[0]===-1/0){if(dN(l[1],t,c[1]))return i}else if(c[1]===1/0){if(dN(l[0],c[0],t))return i}else if(dN(l[0],c[0],t)&&dN(l[1],t,c[1]))return i;n&&f(c[0],i),n&&f(c[1],i)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r;function f(e,n){var i=Math.abs(e-t);i<o&&(o=i,r=n)}},t.visualHandlers={color:{applyVisual:iN("color"),getColorMapper:function(){var t=this.option;return Nt("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),aN.call(this,t)}:function(e,n,r){var o=!!r;return!n&&(e=this._normalizeData(e)),r=lr(e,t.parsedVisual,r),o?r:hr(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return hr(lr(t,this.option.parsedVisual),"rgba")},category:aN,piecewise:function(t,e){var n=cN.call(this,e);return null==n&&(n=hr(lr(t,this.option.parsedVisual),"rgba")),n},fixed:uN}},colorHue:rN((function(t,e){return fr(t,e)})),colorSaturation:rN((function(t,e){return fr(t,null,e)})),colorLightness:rN((function(t,e){return fr(t,null,null,e)})),colorAlpha:rN((function(t,e){return dr(t,e)})),decal:{applyVisual:iN("decal"),_normalizedToVisual:{linear:null,category:aN,piecewise:null,fixed:null}},opacity:{applyVisual:iN("opacity"),_normalizedToVisual:sN([0,1])},liftZ:{applyVisual:iN("liftZ"),_normalizedToVisual:{linear:uN,category:uN,piecewise:uN,fixed:uN}},symbol:{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);n("symbol",r)},_normalizedToVisual:{linear:oN,category:aN,piecewise:function(t,e){var n=cN.call(this,e);return null==n&&(n=oN.call(this,t)),n},fixed:uN}},symbolSize:{applyVisual:iN("symbolSize"),_normalizedToVisual:sN([0,1])}},t}();function tN(t){var e=t.pieceList;t.hasSpecialVisual=!1,At(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}function eN(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if($R(e,(function(t,e){n[t]=e})),!Lt(r)){var o=[];jt(r)?$R(r,(function(t,e){var r=n[e];o[null!=r?r:JR]=t})):o[JR]=r,r=lN(t,o)}for(var i=e.length-1;i>=0;i--)null==r[i]&&(delete n[e[i]],e.pop())}function nN(t,e){var n=t.visual,r=[];jt(n)?$R(n,(function(t){r.push(t)})):null!=n&&r.push(n);var o={color:1,symbol:1};e||1!==r.length||o.hasOwnProperty(t.type)||(r[1]=r[0]),lN(t,r)}function rN(t){return{applyVisual:function(e,n,r){var o=this.mapValueToVisual(e);r("color",t(n("color"),o))},_normalizedToVisual:sN([0,1])}}function oN(t){var e=this.option.visual;return e[Math.round(_i(t,[0,1],[0,e.length-1],!0))]||{}}function iN(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function aN(t){var e=this.option.visual;return e[this.option.loop&&t!==JR?t%e.length:t]}function uN(){return this.option.visual[0]}function sN(t){return{linear:function(e){return _i(e,t,this.option.visual,!0)},category:aN,piecewise:function(e,n){var r=cN.call(this,n);return null==r&&(r=_i(e,t,this.option.visual,!0)),r},fixed:uN}}function cN(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=QR.findPieceIndex(t,n),o=n[r];if(o&&o.visual)return o.visual[this.type]}}function lN(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=Ot(e,(function(t){return ir(t)}))),e}var fN={linear:function(t){return _i(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=QR.findPieceIndex(t,e,!0);if(null!=n)return _i(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?JR:e},fixed:le};function dN(t,e,n){return t?e<=n:e<n}var hN=QR,pN="itemStyle",mN=ma(),gN={seriesType:"treemap",reset:function(t){var e=t.getData().tree,n=e.root;n.isRemoved()||vN(n,{},t.getViewRoot().getAncestors(),t)}};function vN(t,e,n,r){var o=t.getModel(),i=t.getLayout(),a=t.hostTree.data;if(i&&!i.invisible&&i.isInView){var u,s=o.getModel(pN),c=yN(s,e,r),l=a.ensureUniqueItemVisual(t.dataIndex,"style"),f=s.get("borderColor"),d=s.get("borderColorSaturation");null!=d&&(u=bN(c),f=xN(d,u)),l.stroke=f;var h=t.viewChildren;if(h&&h.length){var p=_N(t,o,i,s,c,h);At(h,(function(t,e){if(t.depth>=n.length||t===n[t.depth]){var i=CN(o,c,t,e,p,r);vN(t,i,n,r)}}))}else u=bN(c),l.fill=u}}function yN(t,e,n){var r=xt({},e),o=n.designatedVisualItemStyle;return At(["color","colorAlpha","colorSaturation"],(function(n){o[n]=e[n];var i=t.get(n);o[n]=null,null!=i&&(r[n]=i)})),r}function bN(t){var e=wN(t,"color");if(e){var n=wN(t,"colorAlpha"),r=wN(t,"colorSaturation");return r&&(e=fr(e,null,null,r)),n&&(e=dr(e,n)),e}}function xN(t,e){return null!=e?fr(e,null,null,t):null}function wN(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function _N(t,e,n,r,o,i){if(i&&i.length){var a=SN(e,"color")||null!=o.color&&"none"!==o.color&&(SN(e,"colorAlpha")||SN(e,"colorSaturation"));if(a){var u=e.get("visualMin"),s=e.get("visualMax"),c=n.dataExtent.slice();null!=u&&u<c[0]&&(c[0]=u),null!=s&&s>c[1]&&(c[1]=s);var l=e.get("colorMappingBy"),f={type:a.name,dataExtent:c,visual:a.range};"color"!==f.type||"index"!==l&&"id"!==l?f.mappingMethod="linear":(f.mappingMethod="category",f.loop=!0);var d=new hN(f);return mN(d).drColorMappingBy=l,d}}}function SN(t,e){var n=t.get(e);return Lt(n)&&n.length?{name:e,range:n}:null}function CN(t,e,n,r,o,i){var a=xt({},e);if(o){var u=o.type,s="color"===u&&mN(o).drColorMappingBy,c="index"===s?r:"id"===s?i.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[u]=o.mapValueToVisual(c)}return a}var kN=Math.max,TN=Math.min,AN=Zt,ON=At,MN=["itemStyle","borderWidth"],DN=["itemStyle","gapWidth"],IN=["upperLabel","show"],EN=["upperLabel","height"],RN={seriesType:"treemap",reset:function(t,e,n,r){var o=n.getWidth(),i=n.getHeight(),a=t.option,u=Up(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),s=a.size||[],c=Si(AN(u.width,s[0]),o),l=Si(AN(u.height,s[1]),i),f=r&&r.type,d=["treemapZoomToNode","treemapRootToNode"],h=hR(r,d,t),p="treemapRender"===f||"treemapMove"===f?r.rootRect:null,m=t.getViewRoot(),g=pR(m);if("treemapMove"!==f){var v="treemapZoomToNode"===f?jN(t,h,m,c,l):p?[p.width,p.height]:[c,l],y=a.sort;y&&"asc"!==y&&"desc"!==y&&(y="desc");var b={squareRatio:a.squareRatio,sort:y,leafDepth:a.leafDepth};m.hostTree.clearLayouts();var x={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};m.setLayout(x),NN(m,b,!1,0),x=m.getLayout(),ON(g,(function(t,e){var n=(g[e+1]||m).getValue();t.setLayout(xt({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))}))}var w=t.getData().tree.root;w.setLayout(HN(u,p,h),!0),t.setLayoutInfo(u),UN(w,new Yr(-u.x,-u.y,o,i),g,m,0)}};function NN(t,e,n,r){var o,i;if(!t.isRemoved()){var a=t.getLayout();o=a.width,i=a.height;var u=t.getModel(),s=u.get(MN),c=u.get(DN)/2,l=WN(u),f=Math.max(s,l),d=s-c,h=f-c;t.setLayout({borderWidth:s,upperHeight:f,upperLabelHeight:l},!0),o=kN(o-2*d,0),i=kN(i-d-h,0);var p=o*i,m=PN(t,u,p,e,n,r);if(m.length){var g={x:d,y:h,width:o,height:i},v=TN(o,i),y=1/0,b=[];b.area=0;for(var x=0,w=m.length;x<w;){var _=m[x];b.push(_),b.area+=_.getLayout().area;var S=VN(b,v,e.squareRatio);S<=y?(x++,y=S):(b.area-=b.pop().getLayout().area,FN(b,v,g,c,!1),v=TN(g.width,g.height),b.length=b.area=0,y=1/0)}if(b.length&&FN(b,v,g,c,!0),!n){var C=u.get("childrenVisibleMin");null!=C&&p<C&&(n=!0)}for(x=0,w=m.length;x<w;x++)NN(m[x],e,n,r+1)}}}function PN(t,e,n,r,o,i){var a=t.children||[],u=r.sort;"asc"!==u&&"desc"!==u&&(u=null);var s=null!=r.leafDepth&&r.leafDepth<=i;if(o&&!s)return t.viewChildren=[];a=Dt(a,(function(t){return!t.isRemoved()})),BN(a,u);var c=zN(e,a,u);if(0===c.sum)return t.viewChildren=[];if(c.sum=LN(e,n,c.sum,u,a),0===c.sum)return t.viewChildren=[];for(var l=0,f=a.length;l<f;l++){var d=a[l].getValue()/c.sum*n;a[l].setLayout({area:d})}return s&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0),t.viewChildren=a,t.setLayout({dataExtent:c.dataExtent},!0),a}function LN(t,e,n,r,o){if(!r)return n;for(var i=t.get("visibleMin"),a=o.length,u=a,s=a-1;s>=0;s--){var c=o["asc"===r?a-s-1:s].getValue();c/n*e<i&&(u=s,n-=c)}return"asc"===r?o.splice(0,a-u):o.splice(u,a-u),n}function BN(t,e){return e&&t.sort((function(t,n){var r="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r})),t}function zN(t,e,n){for(var r=0,o=0,i=e.length;o<i;o++)r+=e[o].getValue();var a,u=t.get("visualDimension");return e&&e.length?"value"===u&&n?(a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],ON(e,(function(t){var e=t.getValue(u);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))):a=[NaN,NaN],{sum:r,dataExtent:a}}function VN(t,e,n){for(var r=0,o=1/0,i=0,a=void 0,u=t.length;i<u;i++)a=t[i].getLayout().area,a&&(a<o&&(o=a),a>r&&(r=a));var s=t.area*t.area,c=e*e*n;return s?kN(c*r/s,s/(c*o)):1/0}function FN(t,e,n,r,o){var i=e===n.width?0:1,a=1-i,u=["x","y"],s=["width","height"],c=n[u[i]],l=e?t.area/e:0;(o||l>n[s[a]])&&(l=n[s[a]]);for(var f=0,d=t.length;f<d;f++){var h=t[f],p={},m=l?h.getLayout().area/l:0,g=p[s[a]]=kN(l-2*r,0),v=n[u[i]]+n[s[i]]-c,y=f===d-1||v<m?v:m,b=p[s[i]]=kN(y-2*r,0);p[u[a]]=n[u[a]]+TN(r,g/2),p[u[i]]=c+TN(r,b/2),c+=y,h.setLayout(p,!0)}n[u[a]]+=l,n[s[a]]-=l}function jN(t,e,n,r,o){var i,a=(e||{}).node,u=[r,o];if(!a||a===n)return u;var s=r*o,c=s*t.option.zoomToNodeRatio;while(i=a.parentNode){for(var l=0,f=i.children,d=0,h=f.length;d<h;d++)l+=f[d].getValue();var p=a.getValue();if(0===p)return u;c*=l/p;var m=i.getModel(),g=m.get(MN),v=Math.max(g,WN(m));c+=4*g*g+(3*g+v)*Math.pow(c,.5),c>Di&&(c=Di),a=i}c<s&&(c=s);var y=Math.pow(c/s,.5);return[r*y,o*y]}function HN(t,e,n){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!n)return r;var o=n.node,i=o.getLayout();if(!i)return r;var a=[i.width/2,i.height/2],u=o;while(u){var s=u.getLayout();a[0]+=s.x,a[1]+=s.y,u=u.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}function UN(t,e,n,r,o){var i=t.getLayout(),a=n[o],u=a&&a===t;if(!(a&&!u||o===n.length&&t!==r)){t.setLayout({isInView:!0,invisible:!u&&!e.intersect(i),isAboveViewRoot:u},!0);var s=new Yr(e.x-i.x,e.y-i.y,e.width,e.height);ON(t.viewChildren||[],(function(t){UN(t,s,n,r,o+1)}))}}function WN(t){return t.get(IN)?t.get(EN):0}function GN(t){t.registerSeriesModel(CR),t.registerChartView(ZR),t.registerVisual(gN),t.registerLayout(RN),bR(t)}function qN(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),r=t.getGraph(),o=r.data,i=n.mapArray(n.getName);o.filterSelf((function(t){var n=o.getItemModel(t),r=n.getShallow("category");if(null!=r){"number"===typeof r&&(r=i[r]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(r))return!1}return!0}))}))}function YN(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),r=t.getData(),o={};n.each((function(r){var i=n.getName(r);o["ec-"+i]=r;var a=n.getItemModel(r),u=a.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(i,e)),n.setItemVisual(r,"style",u);for(var s=["symbol","symbolSize","symbolKeepAspect"],c=0;c<s.length;c++){var l=a.getShallow(s[c],!0);null!=l&&n.setItemVisual(r,s[c],l)}})),n.count()&&r.each((function(t){var e=r.getItemModel(t),i=e.getShallow("category");if(null!=i){"string"===typeof i&&(i=o["ec-"+i]);var a=n.getItemVisual(i,"style"),u=r.ensureUniqueItemVisual(t,"style");xt(u,a);for(var s=["symbol","symbolSize","symbolKeepAspect"],c=0;c<s.length;c++)r.setItemVisual(t,s[c],n.getItemVisual(i,s[c]))}}))}))}function XN(t){return t instanceof Array||(t=[t,t]),t}function ZN(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),r=XN(t.get("edgeSymbol")),o=XN(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var r=n.getItemModel(t),o=e.getEdgeByIndex(t),i=XN(r.getShallow("symbol",!0)),a=XN(r.getShallow("symbolSize",!0)),u=r.getModel("lineStyle").getLineStyle(),s=n.ensureUniqueItemVisual(t,"style");switch(xt(s,u),s.stroke){case"source":var c=o.node1.getVisual("style");s.stroke=c&&c.fill;break;case"target":c=o.node2.getVisual("style");s.stroke=c&&c.fill;break}i[0]&&o.setVisual("fromSymbol",i[0]),i[1]&&o.setVisual("toSymbol",i[1]),a[0]&&o.setVisual("fromSymbolSize",a[0]),a[1]&&o.setVisual("toSymbolSize",a[1])}))}))}var $N="--\x3e",KN=function(t){return t.get("autoCurveness")||null},JN=function(t,e){var n=KN(t),r=20,o=[];if("number"===typeof n)r=n;else if(Lt(n))return void(t.__curvenessList=n);e>r&&(r=e);var i=r%2?r+2:r+3;o=[];for(var a=0;a<i;a++)o.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=o},QN=function(t,e,n){var r=[t.id,t.dataIndex].join("."),o=[e.id,e.dataIndex].join(".");return[n.uid,r,o].join($N)},tP=function(t){var e=t.split($N);return[e[0],e[2],e[1]].join($N)},eP=function(t,e){var n=QN(t.node1,t.node2,e);return e.__edgeMap[n]},nP=function(t,e){var n=rP(QN(t.node1,t.node2,e),e),r=rP(QN(t.node2,t.node1,e),e);return n+r},rP=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function oP(t){KN(t)&&(t.__curvenessList=[],t.__edgeMap={},JN(t))}function iP(t,e,n,r){if(KN(n)){var o=QN(t,e,n),i=n.__edgeMap,a=i[tP(o)];i[o]&&!a?i[o].isForward=!0:a&&i[o]&&(a.isForward=!0,i[o].isForward=!1),i[o]=i[o]||[],i[o].push(r)}}function aP(t,e,n,r){var o=KN(e),i=Lt(o);if(!o)return null;var a=eP(t,e);if(!a)return null;for(var u=-1,s=0;s<a.length;s++)if(a[s]===n){u=s;break}var c=nP(t,e);JN(e,c),t.lineStyle=t.lineStyle||{};var l=QN(t.node1,t.node2,e),f=e.__curvenessList,d=i||c%2?0:1;if(a.isForward)return f[d+u];var h=tP(l),p=rP(h,e),m=f[u+p+d];return r?i?o&&0===o[0]?(p+d)%2?m:-m:((p%2?0:1)+d)%2?m:-m:(p+d)%2?m:-m:f[u+p+d]}function uP(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),sP(n,t)}}function sP(t,e){t.eachEdge((function(t,n){var r=Kt(t.getModel().get(["lineStyle","curveness"]),-aP(t,e,n,!0),0),o=me(t.node1.getLayout()),i=me(t.node2.getLayout()),a=[o,i];+r&&a.push([(o[0]+i[0])/2-(o[1]-i[1])*r,(o[1]+i[1])/2-(i[0]-o[0])*r]),t.setLayout(a)}))}function cP(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var r=t.getData(),o=[];At(n.dimensions,(function(t){o=o.concat(r.mapDimensionsAll(t))}));for(var i=0;i<r.count();i++){for(var a=[],u=!1,s=0;s<o.length;s++){var c=r.get(o[s],i);isNaN(c)||(u=!0),a.push(c)}u?r.setItemLayout(i,n.dataToPoint(a)):r.setItemLayout(i,[NaN,NaN])}sP(r.graph,t)}else e&&"none"!==e||uP(t)}))}function lP(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,r=e.scaleX,o=e.getZoom(),i=(o-1)*n+1;return i/r}function fP(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var dP=Math.PI,hP=[];function pP(t,e){var n=t.coordinateSystem;if(!n||"view"===n.type){var r=n.getBoundingRect(),o=t.getData(),i=o.graph,a=r.width/2+r.x,u=r.height/2+r.y,s=Math.min(r.width,r.height)/2,c=o.count();o.setLayout({cx:a,cy:u}),c&&(mP[e](t,i,o,s,a,u,c),i.eachEdge((function(e,n){var r,o=Kt(e.getModel().get(["lineStyle","curveness"]),aP(e,t,n),0),i=me(e.node1.getLayout()),s=me(e.node2.getLayout()),c=(i[0]+s[0])/2,l=(i[1]+s[1])/2;+o&&(o*=3,r=[a*o+c*(1-o),u*o+l*(1-o)]),e.setLayout([i,s,r])})))}}var mP={value:function(t,e,n,r,o,i,a){var u=0,s=n.getSum("value"),c=2*Math.PI/(s||a);e.eachNode((function(t){var e=t.getValue("value"),n=c*(s?e:1)/2;u+=n,t.setLayout([r*Math.cos(u)+o,r*Math.sin(u)+i]),u+=n}))},symbolSize:function(t,e,n,r,o,i,a){var u=0;hP.length=a;var s=lP(t);e.eachNode((function(t){var e=fP(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=s;var n=Math.asin(e/2/r);isNaN(n)&&(n=dP/2),hP[t.dataIndex]=n,u+=2*n}));var c=(2*dP-u)/a/2,l=0;e.eachNode((function(t){var e=c+hP[t.dataIndex];l+=e,t.setLayout([r*Math.cos(l)+o,r*Math.sin(l)+i]),l+=e}))}};function gP(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&pP(t,"symbolSize")}))}var vP=ye;function yP(t,e,n){for(var r=t,o=e,i=n.rect,a=i.width,u=i.height,s=[i.x+a/2,i.y+u/2],c=null==n.gravity?.1:n.gravity,l=0;l<r.length;l++){var f=r[l];f.p||(f.p=he(a*(Math.random()-.5)+s[0],u*(Math.random()-.5)+s[1])),f.pp=me(f.p),f.edges=null}var d,h,p=null==n.friction?.6:n.friction,m=p;return{warmUp:function(){m=.8*p},setFixed:function(t){r[t].fixed=!0},setUnfixed:function(t){r[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){h=t},step:function(t){d&&d(r,o);for(var e=[],n=r.length,i=0;i<o.length;i++){var a=o[i];if(!a.ignoreForceLayout){var u=a.n1,l=a.n2;be(e,l.p,u.p);var f=xe(e)-a.d,p=l.w/(u.w+l.w);isNaN(p)&&(p=0),Se(e,e),!u.fixed&&vP(u.p,u.p,e,p*f*m),!l.fixed&&vP(l.p,l.p,e,-(1-p)*f*m)}}for(i=0;i<n;i++){var g=r[i];g.fixed||(be(e,s,g.p),vP(g.p,g.p,e,c*m))}for(i=0;i<n;i++){u=r[i];for(var v=i+1;v<n;v++){l=r[v];be(e,l.p,u.p);f=xe(e);0===f&&(ge(e,Math.random()-.5,Math.random()-.5),f=1);var y=(u.rep+l.rep)/f/f;!u.fixed&&vP(u.pp,u.pp,e,y),!l.fixed&&vP(l.pp,l.pp,e,-y)}}var b=[];for(i=0;i<n;i++){g=r[i];g.fixed||(be(b,g.p,g.pp),vP(g.p,g.p,b,m),pe(g.pp,g.p))}m*=.992;var x=m<.01;h&&h(r,o,x),t&&t(x)}}}function bP(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},r=t.getGraph(),o=r.data,i=r.edgeData,a=t.getModel("force"),u=a.get("initLayout");t.preservedPoints?o.each((function(t){var e=o.getId(t);o.setItemLayout(t,n[e]||[NaN,NaN])})):u&&"none"!==u?"circular"===u&&pP(t,"value"):uP(t);var s=o.getDataExtent("value"),c=i.getDataExtent("value"),l=a.get("repulsion"),f=a.get("edgeLength"),d=Lt(l)?l:[l,l],h=Lt(f)?f:[f,f];h=[h[1],h[0]];var p=o.mapArray("value",(function(t,e){var n=o.getItemLayout(e),r=_i(t,s,d);return isNaN(r)&&(r=(d[0]+d[1])/2),{w:r,rep:r,fixed:o.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),m=i.mapArray("value",(function(e,n){var o=r.getEdgeByIndex(n),i=_i(e,c,h);isNaN(i)&&(i=(h[0]+h[1])/2);var a=o.getModel(),u=Kt(o.getModel().get(["lineStyle","curveness"]),-aP(o,t,n,!0),0);return{n1:p[o.node1.dataIndex],n2:p[o.node2.dataIndex],d:i,curveness:u,ignoreForceLayout:a.get("ignoreForceLayout")}})),g=e.getBoundingRect(),v=yP(p,m,{rect:g,gravity:a.get("gravity"),friction:a.get("friction")});v.beforeStep((function(t,e){for(var n=0,o=t.length;n<o;n++)t[n].fixed&&pe(t[n].p,r.getNodeByIndex(n).getLayout())})),v.afterStep((function(t,e,i){for(var a=0,u=t.length;a<u;a++)t[a].fixed||r.getNodeByIndex(a).setLayout(t[a].p),n[o.getId(a)]=t[a].p;for(a=0,u=e.length;a<u;a++){var s=e[a],c=r.getEdgeByIndex(a),l=s.n1.p,f=s.n2.p,d=c.getLayout();d=d?d.slice():[],d[0]=d[0]||[],d[1]=d[1]||[],pe(d[0],l),pe(d[1],f),+s.curveness&&(d[2]=[(l[0]+f[0])/2-(l[1]-f[1])*s.curveness,(l[1]+f[1])/2-(f[0]-l[0])*s.curveness]),c.setLayout(d)}})),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null}))}function xP(t,e,n){var r=xt(t.getBoxLayoutParams(),{aspect:n});return Up(r,{width:e.getWidth(),height:e.getHeight()})}function wP(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var o=t.getData(),i=o.mapArray((function(t){var e=o.getItemModel(t);return[+e.get("x"),+e.get("y")]})),a=[],u=[];Qu(i,a,u),u[0]-a[0]===0&&(u[0]+=1,a[0]-=1),u[1]-a[1]===0&&(u[1]+=1,a[1]-=1);var s=(u[0]-a[0])/(u[1]-a[1]),c=xP(t,e,s);isNaN(s)&&(a=[c.x,c.y],u=[c.x+c.width,c.y+c.height]);var l=u[0]-a[0],f=u[1]-a[1],d=c.width,h=c.height,p=t.coordinateSystem=new EE;p.zoomLimit=t.get("scaleLimit"),p.setBoundingRect(a[0],a[1],l,f),p.setViewRect(c.x,c.y,d,h),p.setCenter(t.get("center")),p.setZoom(t.get("zoom")),n.push(p)}})),n}var _P=Gf.prototype,SP=$f.prototype,CP=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Z(e,t)})(CP);function kP(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var TP=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return Z(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new CP},e.prototype.buildPath=function(t,e){kP(e)?_P.buildPath.call(this,t,e):SP.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return kP(this.shape)?_P.pointAt.call(this,t):SP.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=kP(e)?[e.x2-e.x1,e.y2-e.y1]:SP.tangentAt.call(this,t);return Se(n,n)},e}(Js),AP=TP,OP=["fromSymbol","toSymbol"];function MP(t){return"_"+t+"Type"}function DP(t,e,n){var r=e.getItemVisual(n,t);if(r&&"none"!==r){var o=e.getItemVisual(n,t+"Size"),i=e.getItemVisual(n,t+"Rotate"),a=Lt(o)?o:[o,o],u=_x(r,-a[0]/2,-a[1]/2,a[0],a[1]);return u.__specifiedRotation=null==i||isNaN(i)?void 0:+i*Math.PI/180||0,u.name=t,u}}function IP(t){var e=new AP({name:"line",subPixelOptimize:!0});return EP(e.shape,t),e}function EP(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var RP=function(t){function e(e,n,r){var o=t.call(this)||this;return o._createLine(e,n,r),o}return Z(e,t),e.prototype._createLine=function(t,e,n){var r=t.hostModel,o=t.getItemLayout(e),i=IP(o);i.shape.percent=0,Pd(i,{shape:{percent:1}},r,e),this.add(i),At(OP,(function(n){var r=DP(n,t,e);this.add(r),this[MP(n)]=t.getItemVisual(e,n)}),this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var r=t.hostModel,o=this.childOfName("line"),i=t.getItemLayout(e),a={shape:{}};EP(a.shape,i),Nd(o,a,r,e),At(OP,(function(n){var r=t.getItemVisual(e,n),o=MP(n);if(this[o]!==r){this.remove(this.childOfName(n));var i=DP(n,t,e);this.add(i)}this[o]=r}),this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var r=t.hostModel,o=this.childOfName("line"),i=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,u=n&&n.selectLineStyle,s=n&&n.labelStatesModels;if(!n||t.hasItemOption){var c=t.getItemModel(e);i=c.getModel(["emphasis","lineStyle"]).getLineStyle(),a=c.getModel(["blur","lineStyle"]).getLineStyle(),u=c.getModel(["select","lineStyle"]).getLineStyle(),s=rh(c)}var l=t.getItemVisual(e,"style"),f=l.stroke;o.useStyle(l),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=i,o.ensureState("blur").style=a,o.ensureState("select").style=u,At(OP,(function(t){var e=this.childOfName(t);if(e){e.setColor(f),e.style.opacity=l.opacity;for(var n=0;n<Bc.length;n++){var r=Bc[n],i=o.getState(r);if(i){var a=i.style||{},u=e.ensureState(r),s=u.style||(u.style={});null!=a.stroke&&(s[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(s.opacity=a.opacity)}}e.markRedraw()}}),this);var d=r.getRawValue(e);nh(this,s,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return r.getFormattedLabel(e,n,t.dataType)}},inheritColor:f||"#000",defaultOpacity:l.opacity,defaultText:(null==d?t.getName(e):isFinite(d)?Ci(d):d)+""});var h=this.getTextContent();if(h){var p=s.normal;h.__align=h.style.align,h.__verticalAlign=h.style.verticalAlign,h.__position=p.get("position")||"middle";var m=p.get("distance");Lt(m)||(m=[m,m]),h.__labelDistance=m}this.setTextConfig({position:null,local:!0,inside:!1}),Tl(this)},e.prototype.highlight=function(){hl(this)},e.prototype.downplay=function(){pl(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");EP(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),r=t.getTextContent();if(e||n||r&&!r.ignore){var o=1,i=this.parent;while(i)i.scaleX&&(o/=i.scaleX),i=i.parent;var a=t.childOfName("line");if(this.__dirty||a.__dirty){var u=a.shape.percent,s=a.pointAt(0),c=a.pointAt(u),l=be([],c,s);if(Se(l,l),e&&(e.setPosition(s),S(e,0),e.scaleX=e.scaleY=o*u,e.markRedraw()),n&&(n.setPosition(c),S(n,1),n.scaleX=n.scaleY=o*u,n.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var f=void 0,d=void 0,h=r.__labelDistance,p=h[0]*o,m=h[1]*o,g=u/2,v=a.tangentAt(g),y=[v[1],-v[0]],b=a.pointAt(g);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var x=v[0]<0?-1:1;if("start"!==r.__position&&"end"!==r.__position){var w=-Math.atan2(v[1],v[0]);c[0]<s[0]&&(w=Math.PI+w),r.rotation=w}var _=void 0;switch(r.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":_=-m,d="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":_=m,d="top";break;default:_=0,d="middle"}switch(r.__position){case"end":r.x=l[0]*p+c[0],r.y=l[1]*m+c[1],f=l[0]>.8?"left":l[0]<-.8?"right":"center",d=l[1]>.8?"top":l[1]<-.8?"bottom":"middle";break;case"start":r.x=-l[0]*p+s[0],r.y=-l[1]*m+s[1],f=l[0]>.8?"right":l[0]<-.8?"left":"center",d=l[1]>.8?"bottom":l[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=p*x+s[0],r.y=s[1]+_,f=v[0]<0?"right":"left",r.originX=-p*x,r.originY=-_;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=b[0],r.y=b[1]+_,f="center",r.originY=-_;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-p*x+c[0],r.y=c[1]+_,f=v[0]>=0?"right":"left",r.originX=p*x,r.originY=-_;break}r.scaleX=r.scaleY=o,r.setStyle({verticalAlign:r.__verticalAlign||d,align:r.__align||f})}}}function S(t,e){var n=t.__specifiedRotation;if(null==n){var r=a.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else t.attr("rotation",n)}},e}(fi),NP=RP,PP=function(){function t(t){this.group=new fi,this._LineCtor=t||NP}return t.prototype.isPersistent=function(){return!0},t.prototype.updateData=function(t){var e=this,n=this,r=n.group,o=n._lineData;n._lineData=t,o||r.removeAll();var i=BP(t);t.diff(o).add((function(n){e._doAdd(t,n,i)})).update((function(n,r){e._doUpdate(o,t,r,n,i)})).remove((function(t){r.remove(o.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=BP(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||LP(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var r=t.start;r<t.end;r++){var o=e.getItemLayout(r);if(VP(o)){var i=new this._LineCtor(e,r,this._seriesScope);i.traverse(n),this.group.add(i),e.setItemGraphicEl(r,i)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype._doAdd=function(t,e,n){var r=t.getItemLayout(e);if(VP(r)){var o=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,o),this.group.add(o)}},t.prototype._doUpdate=function(t,e,n,r,o){var i=t.getItemGraphicEl(n);VP(e.getItemLayout(r))?(i?i.updateData(e,r,o):i=new this._LineCtor(e,r,o),e.setItemGraphicEl(r,i),this.group.add(i)):this.group.remove(i)},t}();function LP(t){return t.animators&&t.animators.length>0}function BP(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:rh(e)}}function zP(t){return isNaN(t[0])||isNaN(t[1])}function VP(t){return!zP(t[0])&&!zP(t[1])}var FP=PP,jP=[],HP=[],UP=[],WP=zu,GP=Ae,qP=Math.abs;function YP(t,e,n){for(var r,o=t[0],i=t[1],a=t[2],u=1/0,s=n*n,c=.1,l=.1;l<=.9;l+=.1){jP[0]=WP(o[0],i[0],a[0],l),jP[1]=WP(o[1],i[1],a[1],l);var f=qP(GP(jP,e)-s);f<u&&(u=f,r=l)}for(var d=0;d<32;d++){var h=r+c;HP[0]=WP(o[0],i[0],a[0],r),HP[1]=WP(o[1],i[1],a[1],r),UP[0]=WP(o[0],i[0],a[0],h),UP[1]=WP(o[1],i[1],a[1],h);f=GP(HP,e)-s;if(qP(f)<.01)break;var p=GP(UP,e)-s;c/=2,f<0?p>=0?r+=c:r-=c:p>=0?r-=c:r+=c}return r}function XP(t,e){var n=[],r=Hu,o=[[],[],[]],i=[[],[]],a=[];e/=2,t.eachEdge((function(t,u){var s=t.getLayout(),c=t.getVisual("fromSymbol"),l=t.getVisual("toSymbol");s.__original||(s.__original=[me(s[0]),me(s[1])],s[2]&&s.__original.push(me(s[2])));var f=s.__original;if(null!=s[2]){if(pe(o[0],f[0]),pe(o[1],f[2]),pe(o[2],f[1]),c&&"none"!==c){var d=fP(t.node1),h=YP(o,f[0],d*e);r(o[0][0],o[1][0],o[2][0],h,n),o[0][0]=n[3],o[1][0]=n[4],r(o[0][1],o[1][1],o[2][1],h,n),o[0][1]=n[3],o[1][1]=n[4]}if(l&&"none"!==l){d=fP(t.node2),h=YP(o,f[1],d*e);r(o[0][0],o[1][0],o[2][0],h,n),o[1][0]=n[1],o[2][0]=n[2],r(o[0][1],o[1][1],o[2][1],h,n),o[1][1]=n[1],o[2][1]=n[2]}pe(s[0],o[0]),pe(s[1],o[2]),pe(s[2],o[1])}else{if(pe(i[0],f[0]),pe(i[1],f[1]),be(a,i[1],i[0]),Se(a,a),c&&"none"!==c){d=fP(t.node1);ye(i[0],i[0],a,d*e)}if(l&&"none"!==l){d=fP(t.node2);ye(i[1],i[1],a,-d*e)}pe(s[0],i[0]),pe(s[1],i[1])}}))}function ZP(t){return"view"===t.type}var $P=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(t,e){var n=new Ik,r=new FP,o=this.group;this._controller=new cI(e.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},e.prototype.render=function(t,e,n){var r=this,o=t.coordinateSystem;this._model=t;var i=this._symbolDraw,a=this._lineDraw,u=this.group;if(ZP(o)){var s={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(s):Nd(u,s,t)}XP(t.getGraph(),lP(t));var c=t.getData();i.updateData(c);var l=t.getEdgeData();a.updateData(l),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var f=t.forceLayout,d=t.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,d),c.graph.eachNode((function(t){var e=t.dataIndex,n=t.getGraphicEl(),o=t.getModel();n.off("drag").off("dragend");var i=o.get("draggable");i&&n.on("drag",(function(){f&&(f.warmUp(),!r._layouting&&r._startForceLayoutIteration(f,d),f.setFixed(e),c.setItemLayout(e,[n.x,n.y]))})).on("dragend",(function(){f&&f.setUnfixed(e)})),n.setDraggable(i&&!!f);var a=o.get(["emphasis","focus"]);"adjacency"===a&&(Dc(n).focus=t.getAdjacentDataIndices())})),c.graph.eachEdge((function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);"adjacency"===n&&(Dc(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var h="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),p=c.getLayout("cx"),m=c.getLayout("cy");c.eachItemGraphicEl((function(t,e){var n=c.getItemModel(e),r=n.get(["label","rotate"])||0,o=t.getSymbolPath();if(h){var i=c.getItemLayout(e),a=Math.atan2(i[1]-m,i[0]-p);a<0&&(a=2*Math.PI+a);var u=i[0]<p;u&&(a-=Math.PI);var s=u?"left":"right";o.setTextConfig({rotation:-a,position:s,origin:"center"});var l=o.ensureState("emphasis");xt(l.textConfig||(l.textConfig={}),{position:s})}else o.setTextConfig({rotation:r*=Math.PI/180})})),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;(function r(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(r,16):r())}))})()},e.prototype._updateController=function(t,e,n){var r=this,o=this._controller,i=this._controllerHost,a=this.group;o.setPointerChecker((function(e,r,o){var i=a.getBoundingRect();return i.applyTransform(a.transform),i.contain(r,o)&&!hI(e,n,t)})),ZP(t.coordinateSystem)?(o.enable(t.get("roam")),i.zoomLimit=t.get("scaleLimit"),i.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e){lI(i,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){fI(i,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),r._updateNodeAndLinkScale(),XP(t.getGraph(),lP(t)),r._lineDraw.updateLayout(),n.updateLabelLayout()}))):o.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=lP(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype.updateLayout=function(t){XP(t.getGraph(),lP(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(_y),KP=$P;function JP(t){return"_EC_"+t}var QP=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[JP(t)]){var r=new tL(t,e);return r.hostGraph=this,this.nodes.push(r),n[JP(t)]=r,r}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[JP(t)]},t.prototype.addEdge=function(t,e,n){var r=this._nodesMap,o=this._edgesMap;if("number"===typeof t&&(t=this.nodes[t]),"number"===typeof e&&(e=this.nodes[e]),t instanceof tL||(t=r[JP(t)]),e instanceof tL||(e=r[JP(e)]),t&&e){var i=t.id+"-"+e.id,a=new eL(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),o[i]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof tL&&(t=t.id),e instanceof tL&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,r=n.length,o=0;o<r;o++)n[o].dataIndex>=0&&t.call(e,n[o],o)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,r=n.length,o=0;o<r;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&t.call(e,n[o],o)},t.prototype.breadthFirstTraverse=function(t,e,n,r){if(e instanceof tL||(e=this._nodesMap[JP(e)]),e){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!t.call(r,e,null)){var a=[e];while(a.length){var u=a.shift(),s=u[o];for(i=0;i<s.length;i++){var c=s[i],l=c.node1===u?c.node2:c.node1;if(!l.__visited){if(t.call(r,l,u))return;a.push(l),l.__visited=!0}}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,o=0,i=n.length;o<i;o++)n[o].dataIndex=-1;for(o=0,i=t.count();o<i;o++)n[t.getRawIndex(o)].dataIndex=o;e.filterSelf((function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(o=0,i=r.length;o<i;o++)r[o].dataIndex=-1;for(o=0,i=e.count();o<i;o++)r[e.getRawIndex(o)].dataIndex=o},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,r=this.edges,o=0;o<n.length;o++)e.addNode(n[o].id,n[o].dataIndex);for(o=0;o<r.length;o++){var i=r[o];e.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return e},t}(),tL=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),eL=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function nL(t,e){return{getValue:function(n){var r=this[t][e];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}kt(tL,nL("hostGraph","data")),kt(eL,nL("hostGraph","edgeData"));var rL=QP;function oL(t,e,n,r,o){for(var i=new rL(r),a=0;a<t.length;a++)i.addNode(Zt(t[a].id,t[a].name,a),a);var u=[],s=[],c=0;for(a=0;a<e.length;a++){var l=e[a],f=l.source,d=l.target;i.addEdge(f,d,c)&&(s.push(l),u.push(Zt(ua(l.id,null),f+" > "+d)),c++)}var h,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)h=bk(t,n);else{var m=Xm.get(p),g=m&&m.dimensions||[];St(g,"value")<0&&g.concat(["value"]);var v=sk(t,{coordDimensions:g});h=new rk(v,n),h.initData(t)}var y=new rk(["value"],n);return y.initData(s,u),o&&o(h,y),JE({mainData:h,struct:i,structAttr:"graph",datas:{node:h,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var iL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Z(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new IA(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Xi(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&n){oP(this);var i=oL(r,n,this,!0,a);return At(i.edges,(function(t){iP(t.node1,t.node2,this,t.dataIndex)}),this),i.data}function a(t,e){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels,n=t.getShallow("category"),r=e[n];return r&&(r.parentModel=t.parentModel,t.parentModel=r),t}));var n=Ah.prototype.getModel;function r(t,e){var r=n.call(this,t,e);return r.resolveParentPath=i,r}function i(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=i,t.getModel=r,t}))}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var r=this.getData(),o=this.getDataParams(t,n),i=r.graph.getEdgeByIndex(t),a=r.getName(i.node1.dataIndex),u=r.getName(i.node2.dataIndex),s=[];return null!=a&&s.push(a),null!=u&&s.push(u),Bv("nameValue",{name:s.join(" > "),value:o.value,noValue:null==o.value})}var c=Kv({series:this,dataIndex:t,multipleSeries:e});return c},e.prototype._updateCategoriesData=function(){var t=Ot(this.option.categories||[],(function(t){return null!=t.value?t:xt({value:0},t)})),e=new rk(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(ly),aL=iL,uL={type:"graphRoam",event:"graphRoam",update:"none"};function sL(t){t.registerChartView(KP),t.registerSeriesModel(aL),t.registerProcessor(qN),t.registerVisual(YN),t.registerVisual(ZN),t.registerLayout(cP),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,gP),t.registerLayout(bP),t.registerCoordinateSystem("graphView",{dimensions:EE.dimensions,create:wP}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){})),t.registerAction(uL,(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){var n=e.coordinateSystem,r=lR(n,t);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)}))}))}var cL=function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t}(),lL=function(t){function e(e){var n=t.call(this,e)||this;return n.type="pointer",n}return Z(e,t),e.prototype.getDefaultShape=function(){return new cL},e.prototype.buildPath=function(t,e){var n=Math.cos,r=Math.sin,o=e.r,i=e.width,a=e.angle,u=e.x-n(a)*i*(i>=o/3?1:2),s=e.y-r(a)*i*(i>=o/3?1:2);a=e.angle-Math.PI/2,t.moveTo(u,s),t.lineTo(e.x+n(a)*i,e.y+r(a)*i),t.lineTo(e.x+n(e.angle)*o,e.y+r(e.angle)*o),t.lineTo(e.x-n(a)*i,e.y-r(a)*i),t.lineTo(u,s)},e}(Js),fL=lL;function dL(t,e){var n=t.get("center"),r=e.getWidth(),o=e.getHeight(),i=Math.min(r,o),a=Si(n[0],e.getWidth()),u=Si(n[1],e.getHeight()),s=Si(t.get("radius"),i/2);return{cx:a,cy:u,r:s}}function hL(t,e){var n=null==t?"":t+"";return e&&("string"===typeof e?n=e.replace("{value}",n):"function"===typeof e&&(n=e(t))),n}var pL=2*Math.PI,mL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){this.group.removeAll();var r=t.get(["axisLine","lineStyle","color"]),o=dL(t,n);this._renderMain(t,e,n,r,o),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,n,r,o){for(var i=this.group,a=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,s=-t.get("endAngle")/180*Math.PI,c=t.getModel("axisLine"),l=c.get("roundCap"),f=l?HT:Of,d=c.get("show"),h=c.getModel("lineStyle"),p=h.get("width"),m=(s-u)%pL||s===u?(s-u)%pL:pL,g=u,v=0;d&&v<r.length;v++){var y=Math.min(Math.max(r[v][0],0),1);s=u+m*y;var b=new f({shape:{startAngle:g,endAngle:s,cx:o.cx,cy:o.cy,clockwise:a,r0:o.r-p,r:o.r},silent:!0});b.setStyle({fill:r[v][1]}),b.setStyle(h.getLineStyle(["color","width"])),i.add(b),g=s}var x=function(t){if(t<=0)return r[0][1];var e;for(e=0;e<r.length;e++)if(r[e][0]>=t&&(0===e?0:r[e-1][0])<t)return r[e][1];return r[e-1][1]};if(!a){var w=u;u=s,s=w}this._renderTicks(t,e,n,x,o,u,s,a,p),this._renderTitleAndDetail(t,e,n,x,o),this._renderAnchor(t,o),this._renderPointer(t,e,n,x,o,u,s,a,p)},e.prototype._renderTicks=function(t,e,n,r,o,i,a,u,s){for(var c,l,f=this.group,d=o.cx,h=o.cy,p=o.r,m=+t.get("min"),g=+t.get("max"),v=t.getModel("splitLine"),y=t.getModel("axisTick"),b=t.getModel("axisLabel"),x=t.get("splitNumber"),w=y.get("splitNumber"),_=Si(v.get("length"),p),S=Si(y.get("length"),p),C=i,k=(a-i)/x,T=k/w,A=v.getModel("lineStyle").getLineStyle(),O=y.getModel("lineStyle").getLineStyle(),M=v.get("distance"),D=0;D<=x;D++){if(c=Math.cos(C),l=Math.sin(C),v.get("show")){var I=M?M+s:s,E=new Gf({shape:{x1:c*(p-I)+d,y1:l*(p-I)+h,x2:c*(p-_-I)+d,y2:l*(p-_-I)+h},style:A,silent:!0});"auto"===A.stroke&&E.setStyle({stroke:r(D/x)}),f.add(E)}if(b.get("show")){I=b.get("distance")+M;var R=hL(Ci(D/x*(g-m)+m),b.get("formatter")),N=r(D/x);f.add(new Mc({style:oh(b,{text:R,x:c*(p-_-I)+d,y:l*(p-_-I)+h,verticalAlign:l<-.8?"top":l>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:N}),silent:!0}))}if(y.get("show")&&D!==x){I=y.get("distance");I=I?I+s:s;for(var P=0;P<=w;P++){c=Math.cos(C),l=Math.sin(C);var L=new Gf({shape:{x1:c*(p-I)+d,y1:l*(p-I)+h,x2:c*(p-S-I)+d,y2:l*(p-S-I)+h},silent:!0,style:O});"auto"===O.stroke&&L.setStyle({stroke:r((D+P/w)/x)}),f.add(L),C+=T}C-=T}else C+=k}},e.prototype._renderPointer=function(t,e,n,r,o,i,a,u,s){var c=this.group,l=this._data,f=this._progressEls,d=[],h=t.get(["pointer","show"]),p=t.getModel("progress"),m=p.get("show"),g=t.getData(),v=g.mapDimension("value"),y=+t.get("min"),b=+t.get("max"),x=[y,b],w=[i,a];function _(e,n){var r,i=g.getItemModel(e),a=i.getModel("pointer"),u=Si(a.get("width"),o.r),s=Si(a.get("length"),o.r),c=t.get(["pointer","icon"]),l=a.get("offsetCenter"),f=Si(l[0],o.r),d=Si(l[1],o.r),h=a.get("keepAspect");return r=c?_x(c,f-u/2,d-s,u,s,null,h):new fL({shape:{angle:-Math.PI/2,width:u,r:s,x:f,y:d}}),r.rotation=-(n+Math.PI/2),r.x=o.cx,r.y=o.cy,r}function S(t,e){var n=p.get("roundCap"),r=n?HT:Of,a=p.get("overlap"),c=a?p.get("width"):s/g.count(),l=a?o.r-c:o.r-(t+1)*c,f=a?o.r:o.r-t*c,d=new r({shape:{startAngle:i,endAngle:e,cx:o.cx,cy:o.cy,clockwise:u,r0:l,r:f}});return a&&(d.z2=b-g.get(v,t)%b),d}(m||h)&&(g.diff(l).add((function(e){if(h){var n=_(e,i);Pd(n,{rotation:-(_i(g.get(v,e),x,w,!0)+Math.PI/2)},t),c.add(n),g.setItemGraphicEl(e,n)}if(m){var r=S(e,i),o=p.get("clip");Pd(r,{shape:{endAngle:_i(g.get(v,e),x,w,o)}},t),c.add(r),d[e]=r}})).update((function(e,n){if(h){var r=l.getItemGraphicEl(n),o=r?r.rotation:i,a=_(e,o);a.rotation=o,Nd(a,{rotation:-(_i(g.get(v,e),x,w,!0)+Math.PI/2)},t),c.add(a),g.setItemGraphicEl(e,a)}if(m){var u=f[n],s=u?u.shape.endAngle:i,y=S(e,s),b=p.get("clip");Nd(y,{shape:{endAngle:_i(g.get(v,e),x,w,b)}},t),c.add(y),d[e]=y}})).execute(),g.each((function(t){var e=g.getItemModel(t),n=e.getModel("emphasis");if(h){var o=g.getItemGraphicEl(t);o.useStyle(g.getItemVisual(t,"style")),o.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===o.style.fill&&o.setStyle("fill",r(_i(g.get(v,t),x,[0,1],!0))),o.z2EmphasisLift=0,Dl(o,e),Tl(o,n.get("focus"),n.get("blurScope"))}if(m){var i=d[t];i.useStyle(g.getItemVisual(t,"style")),i.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),i.z2EmphasisLift=0,Dl(i,e),Tl(i,n.get("focus"),n.get("blurScope"))}})),this._progressEls=d)},e.prototype._renderAnchor=function(t,e){var n=t.getModel("anchor"),r=n.get("show");if(r){var o=n.get("size"),i=n.get("icon"),a=n.get("offsetCenter"),u=n.get("keepAspect"),s=_x(i,e.cx-o/2+Si(a[0],e.r),e.cy-o/2+Si(a[1],e.r),o,o,null,u);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},e.prototype._renderTitleAndDetail=function(t,e,n,r,o){var i=this,a=t.getData(),u=a.mapDimension("value"),s=+t.get("min"),c=+t.get("max"),l=new fi,f=[],d=[],h=t.isAnimationEnabled();a.diff(this._data).add((function(t){f[t]=new Mc({silent:!0}),d[t]=new Mc({silent:!0})})).update((function(t,e){f[t]=i._titleEls[e],d[t]=i._detailEls[e]})).execute(),a.each((function(e){var n=a.getItemModel(e),i=a.get(u,e),p=new fi,m=r(_i(i,[s,c],[0,1],!0)),g=n.getModel("title");if(g.get("show")){var v=g.get("offsetCenter"),y=o.cx+Si(v[0],o.r),b=o.cy+Si(v[1],o.r),x=f[e];x.attr({style:oh(g,{x:y,y:b,text:a.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:m})}),p.add(x)}var w=n.getModel("detail");if(w.get("show")){var _=w.get("offsetCenter"),S=o.cx+Si(_[0],o.r),C=o.cy+Si(_[1],o.r),k=Si(w.get("width"),o.r),T=Si(w.get("height"),o.r),A=t.get(["progress","show"])?a.getItemVisual(e,"style").fill:m,O=(x=d[e],w.get("formatter"));x.attr({style:oh(w,{x:S,y:C,text:hL(i,O),width:isNaN(k)?null:k,height:isNaN(T)?null:T,align:"center",verticalAlign:"middle"},{inheritColor:A})}),ph(x,{normal:w},i,(function(t){return hL(t,O)})),h&&mh(x,e,a,t,{getFormattedLabel:function(t,e,n,r,o,a){return hL(a?a.interpolatedValue:i,O)}}),p.add(x)}l.add(p)})),this.group.add(l),this._titleEls=f,this._detailEls=d},e.type="gauge",e}(_y),gL=mL,vL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n.useColorPaletteOnData=!0,n}return Z(e,t),e.prototype.getInitialData=function(t,e){return MA(this,["value"])},e.type="series.gauge",e.defaultOption={zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(ly),yL=vL;function bL(t){t.registerChartView(gL),t.registerSeriesModel(yL)}var xL=["itemStyle","opacity"],wL=function(t){function e(e,n){var r=t.call(this)||this,o=r,i=new jf,a=new Mc;return o.setTextContent(a),r.setTextGuideLine(i),r.updateData(e,n,!0),r}return Z(e,t),e.prototype.updateData=function(t,e,n){var r=this,o=t.hostModel,i=t.getItemModel(e),a=t.getItemLayout(e),u=i.getModel("emphasis"),s=i.get(xL);s=null==s?1:s,r.useStyle(t.getItemVisual(e,"style")),r.style.lineJoin="round",n?(r.setShape({points:a.points}),r.style.opacity=0,Pd(r,{style:{opacity:s}},o,e)):Nd(r,{style:{opacity:s},shape:{points:a.points}},o,e),Dl(r,i),this._updateLabel(t,e),Tl(this,u.get("focus"),u.get("blurScope"))},e.prototype._updateLabel=function(t,e){var n=this,r=this.getTextGuideLine(),o=n.getTextContent(),i=t.hostModel,a=t.getItemModel(e),u=t.getItemLayout(e),s=u.label,c=t.getItemVisual(e,"style"),l=c.fill;nh(o,rh(a),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:c.opacity,defaultText:t.getName(e)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:l,outsideFill:l});var f=s.linePoints;r.setShape({points:f}),n.textGuideLineConfig={anchor:f?new Br(f[0][0],f[0][1]):null},Nd(o,{style:{x:s.x,y:s.y}},i,e),o.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),Hb(n,Ub(a),{stroke:l})},e}(zf),_L=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),o=this._data,i=this.group;r.diff(o).add((function(t){var e=new wL(r,t);r.setItemGraphicEl(t,e),i.add(e)})).update((function(t,e){var n=o.getItemGraphicEl(e);n.updateData(r,t),i.add(n),r.setItemGraphicEl(t,n)})).remove((function(e){var n=o.getItemGraphicEl(e);zd(n,t,e)})).execute(),this._data=r},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(_y),SL=_L,CL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.useColorPaletteOnData=!0,n}return Z(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new IA(Nt(this.getData,this),Nt(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return MA(this,{coordDimensions:["value"],encodeDefaulter:Pt(gm,this)})},e.prototype._defaultLabelLine=function(t){Xi(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),r=t.prototype.getDataParams.call(this,e),o=n.mapDimension("value"),i=n.getSum(o);return r.percent=i?+(n.get(o,e)/i*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(ly),kL=CL;function TL(t,e){return Up(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function AL(t,e){for(var n=t.mapDimension("value"),r=t.mapArray(n,(function(t){return t})),o=[],i="ascending"===e,a=0,u=t.count();a<u;a++)o[a]=a;return"function"===typeof e?o.sort(e):"none"!==e&&o.sort((function(t,e){return i?r[t]-r[e]:r[e]-r[t]})),o}function OL(t){var e=t.hostModel,n=e.get("orient");t.each((function(e){var r,o,i,a,u=t.getItemModel(e),s=u.getModel("label"),c=s.get("position"),l=u.getModel("labelLine"),f=t.getItemLayout(e),d=f.points,h="inner"===c||"inside"===c||"center"===c||"insideLeft"===c||"insideRight"===c;if(h)"insideLeft"===c?(o=(d[0][0]+d[3][0])/2+5,i=(d[0][1]+d[3][1])/2,r="left"):"insideRight"===c?(o=(d[1][0]+d[2][0])/2-5,i=(d[1][1]+d[2][1])/2,r="right"):(o=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,i=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,r="center"),a=[[o,i],[o,i]];else{var p=void 0,m=void 0,g=void 0,v=void 0,y=l.get("length");0,"left"===c?(p=(d[3][0]+d[0][0])/2,m=(d[3][1]+d[0][1])/2,g=p-y,o=g-5,r="right"):"right"===c?(p=(d[1][0]+d[2][0])/2,m=(d[1][1]+d[2][1])/2,g=p+y,o=g+5,r="left"):"top"===c?(p=(d[3][0]+d[0][0])/2,m=(d[3][1]+d[0][1])/2,v=m-y,i=v-5,r="center"):"bottom"===c?(p=(d[1][0]+d[2][0])/2,m=(d[1][1]+d[2][1])/2,v=m+y,i=v+5,r="center"):"rightTop"===c?(p="horizontal"===n?d[3][0]:d[1][0],m="horizontal"===n?d[3][1]:d[1][1],"horizontal"===n?(v=m-y,i=v-5,r="center"):(g=p+y,o=g+5,r="top")):"rightBottom"===c?(p=d[2][0],m=d[2][1],"horizontal"===n?(v=m+y,i=v+5,r="center"):(g=p+y,o=g+5,r="bottom")):"leftTop"===c?(p=d[0][0],m="horizontal"===n?d[0][1]:d[1][1],"horizontal"===n?(v=m-y,i=v-5,r="center"):(g=p-y,o=g-5,r="right")):"leftBottom"===c?(p="horizontal"===n?d[1][0]:d[3][0],m="horizontal"===n?d[1][1]:d[2][1],"horizontal"===n?(v=m+y,i=v+5,r="center"):(g=p-y,o=g-5,r="right")):(p=(d[1][0]+d[2][0])/2,m=(d[1][1]+d[2][1])/2,"horizontal"===n?(v=m+y,i=v+5,r="center"):(g=p+y,o=g+5,r="left")),"horizontal"===n?(g=p,o=g):(v=m,i=v),a=[[p,m],[g,v]]}f.label={linePoints:a,x:o,y:i,verticalAlign:"middle",textAlign:r,inside:h}}))}function ML(t,e){t.eachSeriesByType("funnel",(function(t){var n=t.getData(),r=n.mapDimension("value"),o=t.get("sort"),i=TL(t,e),a=t.get("orient"),u=i.width,s=i.height,c=AL(n,o),l=i.x,f=i.y,d="horizontal"===a?[Si(t.get("minSize"),s),Si(t.get("maxSize"),s)]:[Si(t.get("minSize"),u),Si(t.get("maxSize"),u)],h=n.getDataExtent(r),p=t.get("min"),m=t.get("max");null==p&&(p=Math.min(h[0],0)),null==m&&(m=h[1]);var g=t.get("funnelAlign"),v=t.get("gap"),y="horizontal"===a?u:s,b=(y-v*(n.count()-1))/n.count(),x=function(t,e){if("horizontal"===a){var o=n.get(r,t)||0,i=_i(o,[p,m],d,!0),c=void 0;switch(g){case"top":c=f;break;case"center":c=f+(s-i)/2;break;case"bottom":c=f+(s-i);break}return[[e,c],[e,c+i]]}var h,v=n.get(r,t)||0,y=_i(v,[p,m],d,!0);switch(g){case"left":h=l;break;case"center":h=l+(u-y)/2;break;case"right":h=l+u-y;break}return[[h,e],[h+y,e]]};"ascending"===o&&(b=-b,v=-v,"horizontal"===a?l+=u:f+=s,c=c.reverse());for(var w=0;w<c.length;w++){var _=c[w],S=c[w+1],C=n.getItemModel(_);if("horizontal"===a){var k=C.get(["itemStyle","width"]);null==k?k=b:(k=Si(k,u),"ascending"===o&&(k=-k));var T=x(_,l),A=x(S,l+k);l+=k+v,n.setItemLayout(_,{points:T.concat(A.slice().reverse())})}else{var O=C.get(["itemStyle","height"]);null==O?O=b:(O=Si(O,s),"ascending"===o&&(O=-O));T=x(_,f),A=x(S,f+O);f+=O+v,n.setItemLayout(_,{points:T.concat(A.slice().reverse())})}}OL(n)}))}function DL(t){t.registerChartView(SL),t.registerSeriesModel(kL),t.registerLayout(ML),t.registerProcessor(bA("funnel"))}var IL=.3,EL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new fi,n._initialized=!1,n}return Z(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,r){var o=this._dataGroup,i=t.getData(),a=this._data,u=t.coordinateSystem,s=u.dimensions,c=LL(t);function l(t){var e=PL(i,o,t,s,u);BL(e,i,t,c)}function f(e,n){var r=a.getItemGraphicEl(n),o=NL(i,e,s,u);i.setItemGraphicEl(e,r),Nd(r,{shape:{points:o}},t,e),BL(r,i,e,c)}function d(t){var e=a.getItemGraphicEl(t);o.remove(e)}if(i.diff(a).add(l).update(f).remove(d).execute(),!this._initialized){this._initialized=!0;var h=RL(u,t,(function(){setTimeout((function(){o.removeClipPath()}))}));o.setClipPath(h)}this._data=i},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var r=e.getData(),o=e.coordinateSystem,i=o.dimensions,a=LL(e),u=t.start;u<t.end;u++){var s=PL(r,this._dataGroup,u,i,o);s.incremental=!0,BL(s,r,u,a)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(_y);function RL(t,e,n){var r=t.model,o=t.getRect(),i=new mc({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),a="horizontal"===r.get("layout")?"width":"height";return i.setShape(a,0),Pd(i,{shape:{width:o.width,height:o.height}},e,n),i}function NL(t,e,n,r){for(var o=[],i=0;i<n.length;i++){var a=n[i],u=t.get(t.mapDimension(a),e);zL(u,r.getAxis(a).type)||o.push(r.dataToPoint(u,a))}return o}function PL(t,e,n,r,o){var i=NL(t,n,r,o),a=new jf({shape:{points:i},z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function LL(t){var e=t.get("smooth",!0);return!0===e&&(e=IL),e=Fi(e),Xt(e)&&(e=0),{smooth:e}}function BL(t,e,n,r){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",r.smooth);var o=e.getItemModel(n),i=o.getModel("emphasis");Dl(t,o,"lineStyle"),Tl(t,i.get("focus"),i.get("blurScope"))}function zL(t,e){return"category"===e?null==t:null==t||isNaN(t)}var VL=EL,FL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return Z(e,t),e.prototype.getInitialData=function(t,e){return bk(this.getSource(),this,{useEncodeDefaulter:Nt(jL,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),r=[];return e.eachActiveState(n,(function(e,o){t===e&&r.push(n.getRawIndex(o))})),r},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(ly);function jL(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return At(e.dimensions,(function(t){var e=HL(t);n[t]=e})),n}}function HL(t){return+t.replace("dim","")}var UL=FL,WL=["lineStyle","opacity"],GL={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,r={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,(function(t,n){var o=r[t];if("normal"===t&&e.hasItemOption){var i=e.getItemModel(n).get(WL,!0);null!=i&&(o=i)}var a=e.ensureUniqueItemVisual(n,"style");a.opacity=o}),t.start,t.end)}}}},qL=GL;function YL(t){XL(t),ZL(t)}function XL(t){if(!t.parallel){var e=!1;At(t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}}function ZL(t){var e=Yi(t.parallelAxis);At(e,(function(e){if(jt(e)){var n=e.parallelIndex||0,r=Yi(t.parallel)[n];r&&r.parallelAxisDefault&&yt(e,r.parallelAxisDefault,!1)}}))}var $L=5,KL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},At(JL,(function(t,e){n.getZr().on(e,this._handlers[e]=Nt(t,this))}),this)),Ay(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){At(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(xt({type:"parallelAxisExpand"},t))},e.type="parallel",e}(dy),JL={mousedown:function(t){QL(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(QL(this,"click")&&e){var n=[t.offsetX,t.offsetY],r=Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2);if(r>$L)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&QL(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function QL(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var tB=KL,eB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&yt(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(t){At(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=Dt(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);At(n,(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Qp),nB=eB,rB=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,r)||this;return a.type=o||"value",a.axisIndex=i,a}return Z(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(NM),oB=rB;function iB(t,e,n,r,o,i){t=t||0;var a=n[1]-n[0];if(null!=o&&(o=uB(o,[0,a])),null!=i&&(i=Math.max(i,null!=o?o:0)),"all"===r){var u=Math.abs(e[1]-e[0]);u=uB(u,[0,a]),o=i=uB(u,[o,i]),r=0}e[0]=uB(e[0],n),e[1]=uB(e[1],n);var s=aB(e,r);e[r]+=t;var c,l=o||0,f=n.slice();return s.sign<0?f[0]+=l:f[1]-=l,e[r]=uB(e[r],f),c=aB(e,r),null!=o&&(c.sign!==s.sign||c.span<o)&&(e[1-r]=e[r]+s.sign*o),c=aB(e,r),null!=i&&c.span>i&&(e[1-r]=e[r]+c.sign*i),e}function aB(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function uB(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var sB=At,cB=Math.min,lB=Math.max,fB=Math.floor,dB=Math.ceil,hB=Ci,pB=Math.PI,mB=function(){function t(t,e,n){this.type="parallel",this._axesMap=ae(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var r=t.dimensions,o=t.parallelAxisIndex;sB(r,(function(t,n){var r=o[n],i=e.getComponent("parallelAxis",r),a=this._axesMap.set(t,new oB(t,QO(i),[0,0],i.get("type"),r)),u="category"===a.type;a.onBand=u&&i.get("boundaryGap"),a.inverse=i.get("inverse"),i.axis=a,a.model=i,a.coordinateSystem=i.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,o=e.pixelDimIndex,i=t[1-o],a=t[o];return i>=n&&i<=n+e.axisLength&&a>=r&&a<=r+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var r=n.getData();sB(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(r,r.mapDimension(t)),JO(e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=Up(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,r=["x","y"],o=["width","height"],i=e.get("layout"),a="horizontal"===i?0:1,u=n[o[a]],s=[0,u],c=this.dimensions.length,l=gB(e.get("axisExpandWidth"),s),f=gB(e.get("axisExpandCount")||0,[0,c]),d=e.get("axisExpandable")&&c>3&&c>f&&f>1&&l>0&&u>0,h=e.get("axisExpandWindow");if(h)t=gB(h[1]-h[0],s),h[1]=h[0]+t;else{t=gB(l*(f-1),s);var p=e.get("axisExpandCenter")||fB(c/2);h=[l*p-t/2],h[1]=h[0]+t}var m=(u-t)/(c-f);m<3&&(m=0);var g=[fB(hB(h[0]/l,1))+1,dB(hB(h[1]/l,1))-1],v=m/l*h[0];return{layout:i,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:u,axisBase:n[r[1-a]],axisLength:n[o[1-a]],axisExpandable:d,axisExpandWidth:l,axisCollapseWidth:m,axisExpandWindow:h,axisCount:c,winInnerIndices:g,axisExpandWindow0Pos:v}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;e.each((function(t){var e=[0,r.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),sB(n,(function(e,n){var i=(r.axisExpandable?yB:vB)(n,r),a={horizontal:{x:i.position,y:r.axisLength},vertical:{x:0,y:i.position}},u={horizontal:pB/2,vertical:0},s=[a[o].x+t.x,a[o].y+t.y],c=u[o],l=xn();kn(l,l,c),Cn(l,l,s),this._axesLayout[e]={position:s,rotation:c,transform:l,axisNameAvailableWidth:i.axisNameAvailableWidth,axisLabelShow:i.axisLabelShow,nameTruncateMaxWidth:i.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.count());var o=this._axesMap,i=this.dimensions,a=[],u=[];At(i,(function(e){a.push(t.mapDimension(e)),u.push(o.get(e).model)}));for(var s=this.hasAxisBrushed(),c=n;c<r;c++){var l=void 0;if(s){l="active";for(var f=t.getValues(a,c),d=0,h=i.length;d<h;d++){var p=u[d].getActiveState(f[d]);if("inactive"===p){l="inactive";break}}}else l="normal";e(l,c)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,o=t.length;r<o;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return jd([t,0],n.transform)},t.prototype.getAxisLayout=function(t){return vt(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),o=r[1]-r[0],i=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var a,u=t[n]-e.layoutBase-e.axisExpandWindow0Pos,s="slide",c=e.axisCollapseWidth,l=this._model.get("axisExpandSlideTriggerArea"),f=null!=l[0];if(c)f&&c&&u<o*l[0]?(s="jump",a=u-o*l[2]):f&&c&&u>o*(1-l[0])?(s="jump",a=u-o*(1-l[2])):(a=u-o*l[1])>=0&&(a=u-o*(1-l[1]))<=0&&(a=0),a*=e.axisExpandWidth/c,a?iB(a,r,i,"all"):s="none";else{var d=r[1]-r[0],h=i[1]*u/d;r=[lB(0,h-d/2)],r[1]=cB(i[1],r[0]+d),r[0]=r[1]-d}return{axisExpandWindow:r,behavior:s}},t}();function gB(t,e){return cB(lB(t,e[0]),e[1])}function vB(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function yB(t,e){var n,r,o=e.layoutLength,i=e.axisExpandWidth,a=e.axisCount,u=e.axisCollapseWidth,s=e.winInnerIndices,c=u,l=!1;return t<s[0]?(n=t*u,r=u):t<=s[1]?(n=e.axisExpandWindow0Pos+t*i-e.axisExpandWindow[0],c=i,l=!0):(n=o-(a-1-t)*u,r=u),{position:n,axisNameAvailableWidth:c,axisLabelShow:l,nameTruncateMaxWidth:r}}var bB=mB;function xB(t,e){var n=[];return t.eachComponent("parallel",(function(r,o){var i=new bB(r,t,e);i.name="parallel_"+o,i.resize(r,e),r.coordinateSystem=i,i.model=r,n.push(i)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",ya).models[0];t.coordinateSystem=e.coordinateSystem}})),n}var wB={create:xB},_B=wB,SB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return Z(e,t),e.prototype.getAreaSelectStyle=function(){return Fa([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=vt(t);if(e)for(var n=e.length-1;n>=0;n--)ki(e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var r=0,o=e.length;r<o;r++)if(e[r][0]<=t&&t<=e[r][1])return"active";return"inactive"},e}(Qp);kt(SB,qA);var CB=SB,kB=!0,TB=Math.min,AB=Math.max,OB=Math.pow,MB=1e4,DB=6,IB=6,EB="globalPan",RB={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},NB={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},PB={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},LB=0,BB=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new fi,n._uid="brushController_"+LB++,At(mz,(function(t,e){this._handlers[e]=Nt(t,this)}),n),n}return Z(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||eI(e,EB,this._uid),At(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=yt(vt(PB),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;nI(t,EB,this._uid),At(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};At(t,(function(t){e[t.panelId]=vt(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Ot(t,(function(t){return yt(vt(PB),t,!0)}));var e="\0-brush-index-",n=this._covers,r=this._covers=[],o=this,i=this._creatingCover;return new SC(n,t,u,a).add(s).update(s).remove(c).execute(),this;function a(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function u(t,e){return a(t.__brushOption,e)}function s(e,a){var u=t[e];if(null!=a&&n[a]===i)r[e]=n[a];else{var s=r[e]=null!=a?(n[a].__brushOption=u,n[a]):VB(o,zB(o,u));HB(o,s)}}function c(t){n[t]!==i&&o.group.remove(n[t])}},e.prototype.unmount=function(){return this.enableBrush(!1),qB(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Le);function zB(t,e){var n=yz[e.brushType].createCover(t,e);return n.__brushOption=e,jB(n,e),t.group.add(n),n}function VB(t,e){var n=UB(e);return n.endCreating&&(n.endCreating(t,e),jB(e,e.__brushOption)),e}function FB(t,e){var n=e.__brushOption;UB(e).updateCoverShape(t,e,n.range,n)}function jB(t,e){var n=e.z;null==n&&(n=MB),t.traverse((function(t){t.z=n,t.z2=n}))}function HB(t,e){UB(e).updateCommon(t,e),FB(t,e)}function UB(t){return yz[t.__brushOption.brushType]}function WB(t,e,n){var r,o=t._panels;if(!o)return kB;var i=t._transform;return At(o,(function(t){t.isTargetByCursor(e,n,i)&&(r=t)})),r}function GB(t,e){var n=t._panels;if(!n)return kB;var r=e.__brushOption.panelId;return null!=r?n[r]:kB}function qB(t){var e=t._covers,n=e.length;return At(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function YB(t,e){var n=Ot(t._covers,(function(t){var e=t.__brushOption,n=vt(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function XB(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],o=n[0]-r[0],i=n[1]-r[1],a=OB(o*o+i*i,.5);return a>DB}function ZB(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function $B(t,e,n,r){var o=new fi;return o.add(new mc({name:"main",style:tz(n),silent:!0,draggable:!0,cursor:"move",drift:Pt(iz,t,e,o,["n","s","w","e"]),ondragend:Pt(YB,e,{isEnd:!0})})),At(r,(function(n){o.add(new mc({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Pt(iz,t,e,o,n),ondragend:Pt(YB,e,{isEnd:!0})}))})),o}function KB(t,e,n,r){var o=r.brushStyle.lineWidth||0,i=AB(o,IB),a=n[0][0],u=n[1][0],s=a-o/2,c=u-o/2,l=n[0][1],f=n[1][1],d=l-i+o/2,h=f-i+o/2,p=l-a,m=f-u,g=p+o,v=m+o;QB(t,e,"main",a,u,p,m),r.transformable&&(QB(t,e,"w",s,c,i,v),QB(t,e,"e",d,c,i,v),QB(t,e,"n",s,c,g,i),QB(t,e,"s",s,h,g,i),QB(t,e,"nw",s,c,i,i),QB(t,e,"ne",d,c,i,i),QB(t,e,"sw",s,h,i,i),QB(t,e,"se",d,h,i,i))}function JB(t,e){var n=e.__brushOption,r=n.transformable,o=e.childAt(0);o.useStyle(tz(n)),o.attr({silent:!r,cursor:r?"move":"default"}),At([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var o=e.childOfName(n.join("")),i=1===n.length?rz(t,n[0]):oz(t,n);o&&o.attr({silent:!r,invisible:!r,cursor:r?NB[i]+"-resize":null})}))}function QB(t,e,n,r,o,i,a){var u=e.childOfName(n);u&&u.setShape(cz(sz(t,e,[[r,o],[r+i,o+a]])))}function tz(t){return wt({strokeNoScale:!0},t.brushStyle)}function ez(t,e,n,r){var o=[TB(t,n),TB(e,r)],i=[AB(t,n),AB(e,r)];return[[o[0],i[0]],[o[1],i[1]]]}function nz(t){return Fd(t.group)}function rz(t,e){var n={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},o=Hd(n[e],nz(t));return r[o]}function oz(t,e){var n=[rz(t,e[0]),rz(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}function iz(t,e,n,r,o,i){var a=n.__brushOption,u=t.toRectRange(a.range),s=uz(e,o,i);At(r,(function(t){var e=RB[t];u[e[0]][e[1]]+=s[e[0]]})),a.range=t.fromRectRange(ez(u[0][0],u[1][0],u[0][1],u[1][1])),HB(e,n),YB(e,{isEnd:!1})}function az(t,e,n,r){var o=e.__brushOption.range,i=uz(t,n,r);At(o,(function(t){t[0]+=i[0],t[1]+=i[1]})),HB(t,e),YB(t,{isEnd:!1})}function uz(t,e,n){var r=t.group,o=r.transformCoordToLocal(e,n),i=r.transformCoordToLocal(0,0);return[o[0]-i[0],o[1]-i[1]]}function sz(t,e,n){var r=GB(t,e);return r&&r!==kB?r.clipPath(n,t._transform):vt(n)}function cz(t){var e=TB(t[0][0],t[1][0]),n=TB(t[0][1],t[1][1]),r=AB(t[0][0],t[1][0]),o=AB(t[0][1],t[1][1]);return{x:e,y:n,width:r-e,height:o-n}}function lz(t,e,n){if(t._brushType&&!vz(t,e.offsetX,e.offsetY)){var r=t._zr,o=t._covers,i=WB(t,e,n);if(!t._dragging)for(var a=0;a<o.length;a++){var u=o[a].__brushOption;if(i&&(i===kB||u.panelId===i.panelId)&&yz[u.brushType].contain(o[a],n[0],n[1]))return}i&&r.setCursorStyle("crosshair")}}function fz(t){var e=t.event;e.preventDefault&&e.preventDefault()}function dz(t,e,n){return t.childOfName("main").contain(e,n)}function hz(t,e,n,r){var o,i=t._creatingCover,a=t._creatingPanel,u=t._brushOption;if(t._track.push(n.slice()),XB(t)||i){if(a&&!i){"single"===u.brushMode&&qB(t);var s=vt(u);s.brushType=pz(s.brushType,a),s.panelId=a===kB?null:a.panelId,i=t._creatingCover=zB(t,s),t._covers.push(i)}if(i){var c=yz[pz(t._brushType,a)],l=i.__brushOption;l.range=c.getCreatingRange(sz(t,i,t._track)),r&&(VB(t,i),c.updateCommon(t,i)),FB(t,i),o={isEnd:r}}}else r&&"single"===u.brushMode&&u.removeOnClick&&WB(t,e,n)&&qB(t)&&(o={isEnd:r,removeOnClick:!0});return o}function pz(t,e){return"auto"===t?e.defaultBrushType:t}var mz={mousedown:function(t){if(this._dragging)gz(this,t);else if(!t.target||!t.target.draggable){fz(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var n=this._creatingPanel=WB(this,t,e);n&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,r=this.group.transformCoordToLocal(e,n);if(lz(this,t,r),this._dragging){fz(t);var o=hz(this,t,r,!1);o&&YB(this,o)}},mouseup:function(t){gz(this,t)}};function gz(t,e){if(t._dragging){fz(e);var n=e.offsetX,r=e.offsetY,o=t.group.transformCoordToLocal(n,r),i=hz(t,e,o,!0);t._dragging=!1,t._track=[],t._creatingCover=null,i&&YB(t,i)}}function vz(t,e,n){var r=t._zr;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}var yz={lineX:bz(0),lineY:bz(1),rect:{createCover:function(t,e){function n(t){return t}return $B({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=ZB(t);return ez(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){KB(t,e,n,r)},updateCommon:JB,contain:dz},polygon:{createCover:function(t,e){var n=new fi;return n.add(new jf({name:"main",style:tz(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new zf({name:"main",draggable:!0,drift:Pt(az,t,e),ondragend:Pt(YB,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:sz(t,e,n)})},updateCommon:JB,contain:dz}};function bz(t){return{createCover:function(e,n){return $B({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=ZB(e),r=TB(n[0][t],n[1][t]),o=AB(n[0][t],n[1][t]);return[r,o]},updateCoverShape:function(e,n,r,o){var i,a=GB(e,n);if(a!==kB&&a.getLinearBrushOtherExtent)i=a.getLinearBrushOtherExtent(t);else{var u=e._zr;i=[0,[u.getWidth(),u.getHeight()][1-t]]}var s=[r,i];t&&s.reverse(),KB(e,n,s,o)},updateCommon:JB,contain:dz}}var xz=BB;function wz(t){return t=Cz(t),function(e){return qd(e,t)}}function _z(t,e){return t=Cz(t),function(n){var r=null!=e?e:n,o=r?t.width:t.height,i=r?t.x:t.y;return[i,i+(o||0)]}}function Sz(t,e,n){var r=Cz(t);return function(t,o){return r.contain(o[0],o[1])&&!hI(t,e,n)}}function Cz(t){return Yr.create(t)}var kz=["axisLine","axisTickLabel","axisName"],Tz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new xz(n.getZr())).on("brush",Nt(this._onBrush,this))},e.prototype.render=function(t,e,n,r){if(!Az(t,e,r)){this.axisModel=t,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new fi,this.group.add(this._axisGroup),t.get("show")){var i=Mz(t,e),a=i.coordinateSystem,u=t.getAreaSelectStyle(),s=u.width,c=t.axis.dim,l=a.getAxisLayout(c),f=xt({strokeContainThreshold:s},l),d=new oD(t,f);At(kz,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(f,u,t,i,s,n),Gd(o,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,r,o,i){var a=n.axis.getExtent(),u=a[1]-a[0],s=Math.min(30,.1*Math.abs(u)),c=Yr.create({x:a[0],y:-o/2,width:u,height:o});c.x-=s,c.width+=2*s,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:wz(c),isTargetByCursor:Sz(c,i,r),getLinearBrushOtherExtent:_z(c,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(Oz(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,r=n.axis,o=Ot(e,(function(t){return[r.coordToData(t.range[0],!0),r.coordToData(t.range[1],!0)]}));(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(dy);function Az(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}function Oz(t){var e=t.axis;return Ot(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}function Mz(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var Dz=Tz,Iz={type:"axisAreaSelect",event:"axisAreaSelected"};function Ez(t){t.registerAction(Iz,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}var Rz={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Nz(t){t.registerComponentView(tB),t.registerComponentModel(nB),t.registerCoordinateSystem("parallel",_B),t.registerPreprocessor(YL),t.registerComponentModel(CB),t.registerComponentView(Dz),oO(t,"parallel",CB,Rz),Ez(t)}function Pz(t){Z_(Nz),t.registerChartView(VL),t.registerSeriesModel(UL),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,qL)}var Lz=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),Bz=function(t){function e(e){return t.call(this,e)||this}return Z(e,t),e.prototype.getDefaultShape=function(){return new Lz},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){hl(this)},e.prototype.downplay=function(){pl(this)},e}(Js),zz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=this,o=t.getGraph(),i=this.group,a=t.layoutInfo,u=a.width,s=a.height,c=t.getData(),l=t.getData("edge"),f=t.get("orient");this._model=t,i.removeAll(),i.x=a.x,i.y=a.y,o.eachEdge((function(e){var n=new Bz,r=Dc(n);r.dataIndex=e.dataIndex,r.seriesIndex=t.seriesIndex,r.dataType="edge";var o,a,c,d,h,p,m,g,v=e.getModel(),y=v.getModel("lineStyle"),b=y.get("curveness"),x=e.node1.getLayout(),w=e.node1.getModel(),_=w.get("localX"),S=w.get("localY"),C=e.node2.getLayout(),k=e.node2.getModel(),T=k.get("localX"),A=k.get("localY"),O=e.getLayout();switch(n.shape.extent=Math.max(1,O.dy),n.shape.orient=f,"vertical"===f?(o=(null!=_?_*u:x.x)+O.sy,a=(null!=S?S*s:x.y)+x.dy,c=(null!=T?T*u:C.x)+O.ty,d=null!=A?A*s:C.y,h=o,p=a*(1-b)+d*b,m=c,g=a*b+d*(1-b)):(o=(null!=_?_*u:x.x)+x.dx,a=(null!=S?S*s:x.y)+O.sy,c=null!=T?T*u:C.x,d=(null!=A?A*s:C.y)+O.ty,h=o*(1-b)+c*b,p=a,m=o*b+c*(1-b),g=d),n.setShape({x1:o,y1:a,x2:c,y2:d,cpx1:h,cpy1:p,cpx2:m,cpy2:g}),n.useStyle(y.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color"),n.style.decal=e.node1.getVisual("style").decal;break;case"target":n.style.fill=e.node2.getVisual("color"),n.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var M=e.node1.getVisual("color"),D=e.node2.getVisual("color");"string"===typeof M&&"string"===typeof D&&(n.style.fill=new id(0,0,1,0,[{color:M,offset:0},{color:D,offset:1}]))}var I=v.getModel("emphasis");Dl(n,v,"lineStyle",(function(t){return t.getItemStyle()})),i.add(n),l.setItemGraphicEl(e.dataIndex,n);var E=I.get("focus");Tl(n,"adjacency"===E?e.getAdjacentDataIndices():E,I.get("blurScope")),Dc(n).dataType="edge"})),o.eachNode((function(e){var n=e.getLayout(),r=e.getModel(),o=r.get("localX"),a=r.get("localY"),l=r.getModel("emphasis"),f=new mc({shape:{x:null!=o?o*u:n.x,y:null!=a?a*s:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle()});nh(f,rh(r),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id}),f.disableLabelAnimation=!0,f.setStyle("fill",e.getVisual("color")),f.setStyle("decal",e.getVisual("style").decal),Dl(f,r),i.add(f),c.setItemGraphicEl(e.dataIndex,f),Dc(f).dataType="node";var d=l.get("focus");Tl(f,"adjacency"===d?e.getAdjacentDataIndices():d,l.get("blurScope"))})),c.eachItemGraphicEl((function(e,o){var i=c.getItemModel(o);i.get("draggable")&&(e.drift=function(e,i){r._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=i,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:c.getRawIndex(o),localX:this.shape.x/u,localY:this.shape.y/s})},e.ondragend=function(){r._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")})),!this._data&&t.isAnimationEnabled()&&i.setClipPath(Vz(i.getBoundingRect(),t,(function(){i.removeClipPath()}))),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(_y);function Vz(t,e,n){var r=new mc({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Pd(r,{shape:{width:t.width+20}},e,n),r}var Fz=zz,jz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,r=t.data||t.nodes,o=t.levels;this.levelModels=[];for(var i=this.levelModels,a=0;a<o.length;a++)null!=o[a].depth&&o[a].depth>=0&&(i[o[a].depth]=new Ah(o[a],this,e));if(r&&n){var u=oL(r,n,this,!0,s);return u.data}function s(t,e){t.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,r=n.getData().getItemLayout(e);if(r){var o=r.depth,i=n.levelModels[o];i&&(t.parentModel=i)}return t})),e.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,r=n.getGraph().getEdgeByIndex(e),o=r.node1.getLayout();if(o){var i=o.depth,a=n.levelModels[i];a&&(t.parentModel=a)}return t}))}},e.prototype.setNodePosition=function(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function r(t){return isNaN(t)||null==t}if("edge"===n){var o=this.getDataParams(t,n),i=o.data,a=o.value,u=i.source+" -- "+i.target;return Bv("nameValue",{name:u,value:a,noValue:r(a)})}var s=this.getGraph().getNodeByIndex(t),c=s.getLayout().value,l=this.getDataParams(t,n).data.name;return Bv("nameValue",{name:null!=l?l+"":null,value:c,noValue:r(c)})},e.prototype.optionUpdated=function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},e.prototype.getDataParams=function(e,n){var r=t.prototype.getDataParams.call(this,e,n);if(null==r.value&&"node"===n){var o=this.getGraph().getNodeByIndex(e),i=o.getLayout().value;r.value=i}return r},e.type="series.sankey",e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(ly),Hz=jz;function Uz(t,e){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),r=t.get("nodeGap"),o=Wz(t,e);t.layoutInfo=o;var i=o.width,a=o.height,u=t.getGraph(),s=u.nodes,c=u.edges;qz(s);var l=Dt(s,(function(t){return 0===t.getLayout().value})),f=0!==l.length?0:t.get("layoutIterations"),d=t.get("orient"),h=t.get("nodeAlign");Gz(s,c,n,r,i,a,f,d,h)}))}function Wz(t,e){return Up(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Gz(t,e,n,r,o,i,a,u,s){Yz(t,e,n,o,i,u,s),Jz(t,e,i,o,r,a,u),fV(t,u)}function qz(t){At(t,(function(t){var e=cV(t.outEdges,sV),n=cV(t.inEdges,sV),r=t.getValue()||0,o=Math.max(e,n,r);t.setLayout({value:o},!0)}))}function Yz(t,e,n,r,o,i,a){for(var u=[],s=[],c=[],l=[],f=0,d=0;d<e.length;d++)u[d]=1;for(d=0;d<t.length;d++)s[d]=t[d].inEdges.length,0===s[d]&&c.push(t[d]);var h=-1;while(c.length){for(var p=0;p<c.length;p++){var m=c[p],g=m.hostGraph.data.getRawDataItem(m.dataIndex),v=null!=g.depth&&g.depth>=0;v&&g.depth>h&&(h=g.depth),m.setLayout({depth:v?g.depth:f},!0),"vertical"===i?m.setLayout({dy:n},!0):m.setLayout({dx:n},!0);for(var y=0;y<m.outEdges.length;y++){var b=m.outEdges[y],x=e.indexOf(b);u[x]=0;var w=b.node2,_=t.indexOf(w);0===--s[_]&&l.indexOf(w)<0&&l.push(w)}}++f,c=l,l=[]}for(d=0;d<u.length;d++)if(1===u[d])throw new Error("Sankey is a DAG, the original data has cycle!");var S=h>f-1?h:f-1;a&&"left"!==a&&Zz(t,a,i,S);var C="vertical"===i?(o-n)/S:(r-n)/S;Kz(t,C,i)}function Xz(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function Zz(t,e,n,r){if("right"===e){var o=[],i=t,a=0;while(i.length){for(var u=0;u<i.length;u++){var s=i[u];s.setLayout({skNodeHeight:a},!0);for(var c=0;c<s.inEdges.length;c++){var l=s.inEdges[c];o.indexOf(l.node1)<0&&o.push(l.node1)}}i=o,o=[],++a}At(t,(function(t){Xz(t)||t.setLayout({depth:Math.max(0,r-t.getLayout().skNodeHeight)},!0)}))}else"justify"===e&&$z(t,r)}function $z(t,e){At(t,(function(t){Xz(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}function Kz(t,e,n){At(t,(function(t){var r=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:r},!0):t.setLayout({x:r},!0)}))}function Jz(t,e,n,r,o,i,a){var u=Qz(t,a);tV(u,e,n,r,o,a),eV(u,o,n,r,a);for(var s=1;i>0;i--)s*=.99,nV(u,s,a),eV(u,o,n,r,a),lV(u,s,a),eV(u,o,n,r,a)}function Qz(t,e){var n=[],r="vertical"===e?"y":"x",o=Ca(t,(function(t){return t.getLayout()[r]}));return o.keys.sort((function(t,e){return t-e})),At(o.keys,(function(t){n.push(o.buckets.get(t))})),n}function tV(t,e,n,r,o,i){var a=1/0;At(t,(function(t){var e=t.length,u=0;At(t,(function(t){u+=t.getLayout().value}));var s="vertical"===i?(r-(e-1)*o)/u:(n-(e-1)*o)/u;s<a&&(a=s)})),At(t,(function(t){At(t,(function(t,e){var n=t.getLayout().value*a;"vertical"===i?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),At(e,(function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)}))}function eV(t,e,n,r,o){var i="vertical"===o?"x":"y";At(t,(function(t){var a,u,s;t.sort((function(t,e){return t.getLayout()[i]-e.getLayout()[i]}));for(var c=0,l=t.length,f="vertical"===o?"dx":"dy",d=0;d<l;d++)u=t[d],s=c-u.getLayout()[i],s>0&&(a=u.getLayout()[i]+s,"vertical"===o?u.setLayout({x:a},!0):u.setLayout({y:a},!0)),c=u.getLayout()[i]+u.getLayout()[f]+e;var h="vertical"===o?r:n;if(s=c-e-h,s>0){a=u.getLayout()[i]-s,"vertical"===o?u.setLayout({x:a},!0):u.setLayout({y:a},!0),c=a;for(d=l-2;d>=0;--d)u=t[d],s=u.getLayout()[i]+u.getLayout()[f]+e-c,s>0&&(a=u.getLayout()[i]-s,"vertical"===o?u.setLayout({x:a},!0):u.setLayout({y:a},!0)),c=u.getLayout()[i]}}))}function nV(t,e,n){At(t.slice().reverse(),(function(t){At(t,(function(t){if(t.outEdges.length){var r=cV(t.outEdges,rV,n)/cV(t.outEdges,sV);if(isNaN(r)){var o=t.outEdges.length;r=o?cV(t.outEdges,oV,n)/o:0}if("vertical"===n){var i=t.getLayout().x+(r-uV(t,n))*e;t.setLayout({x:i},!0)}else{var a=t.getLayout().y+(r-uV(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function rV(t,e){return uV(t.node2,e)*t.getValue()}function oV(t,e){return uV(t.node2,e)}function iV(t,e){return uV(t.node1,e)*t.getValue()}function aV(t,e){return uV(t.node1,e)}function uV(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function sV(t){return t.getValue()}function cV(t,e,n){var r=0,o=t.length,i=-1;while(++i<o){var a=+e(t[i],n);isNaN(a)||(r+=a)}return r}function lV(t,e,n){At(t,(function(t){At(t,(function(t){if(t.inEdges.length){var r=cV(t.inEdges,iV,n)/cV(t.inEdges,sV);if(isNaN(r)){var o=t.inEdges.length;r=o?cV(t.inEdges,aV,n)/o:0}if("vertical"===n){var i=t.getLayout().x+(r-uV(t,n))*e;t.setLayout({x:i},!0)}else{var a=t.getLayout().y+(r-uV(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function fV(t,e){var n="vertical"===e?"x":"y";At(t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]}))})),At(t,(function(t){var e=0,n=0;At(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),At(t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}function dV(t){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph(),n=e.nodes;if(n.length){var r=1/0,o=-1/0;At(n,(function(t){var e=t.getLayout().value;e<r&&(r=e),e>o&&(o=e)})),At(n,(function(e){var n=new hN({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:t.get("color")}),i=n.mapValueToVisual(e.getLayout().value),a=e.getModel().get(["itemStyle","color"]);null!=a?(e.setVisual("color",a),e.setVisual("style",{fill:a})):(e.setVisual("color",i),e.setVisual("style",{fill:i}))}))}}))}function hV(t){t.registerChartView(Fz),t.registerSeriesModel(Hz),t.registerLayout(Uz),t.registerVisual(dV),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))}var pV=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,r,o=e.getComponent("xAxis",this.get("xAxisIndex")),i=e.getComponent("yAxis",this.get("yAxisIndex")),a=o.get("type"),u=i.get("type");"category"===a?(t.layout="horizontal",n=o.getOrdinalMeta(),r=!0):"category"===u?(t.layout="vertical",n=i.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var s=["x","y"],c="horizontal"===t.layout?0:1,l=this._baseAxisDim=s[c],f=s[1-c],d=[o,i],h=d[c].get("type"),p=d[1-c].get("type"),m=t.data;if(m&&r){var g=[];At(m,(function(t,e){var n;Lt(t)?(n=t.slice(),t.unshift(e)):Lt(t.value)?(n=t.value.slice(),t.value.unshift(e)):n=t,g.push(n)})),t.data=g}var v=this.defaultValueDimensions,y=[{name:l,type:TC(h),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:TC(p),dimsDef:v.slice()}];return MA(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:Pt(mm,y,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),mV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return Z(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(ly);kt(mV,pV,!0);var gV=mV,vV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),o=this.group,i=this._data;this._data||o.removeAll();var a="horizontal"===t.get("layout")?1:0;r.diff(i).add((function(t){if(r.hasValue(t)){var e=r.getItemLayout(t),n=xV(e,r,t,a,!0);r.setItemGraphicEl(t,n),o.add(n)}})).update((function(t,e){var n=i.getItemGraphicEl(e);if(r.hasValue(t)){var u=r.getItemLayout(t);n?wV(u,n,r,t):n=xV(u,r,t,a),o.add(n),r.setItemGraphicEl(t,n)}else o.remove(n)})).remove((function(t){var e=i.getItemGraphicEl(t);e&&o.remove(e)})).execute(),this._data=r},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type="boxplot",e}(_y),yV=function(){function t(){}return t}(),bV=function(t){function e(e){var n=t.call(this,e)||this;return n.type="boxplotBoxPath",n}return Z(e,t),e.prototype.getDefaultShape=function(){return new yV},e.prototype.buildPath=function(t,e){var n=e.points,r=0;for(t.moveTo(n[r][0],n[r][1]),r++;r<4;r++)t.lineTo(n[r][0],n[r][1]);for(t.closePath();r<n.length;r++)t.moveTo(n[r][0],n[r][1]),r++,t.lineTo(n[r][0],n[r][1])},e}(Js);function xV(t,e,n,r,o){var i=t.ends,a=new bV({shape:{points:o?_V(i,r,t):i}});return wV(t,a,e,n,o),a}function wV(t,e,n,o,i){var a=n.hostModel,u=r[i?"initProps":"updateProps"];u(e,{shape:{points:t.ends}},a,o),e.useStyle(n.getItemVisual(o,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=n.getItemModel(o);Dl(e,s),Tl(e,s.get(["emphasis","focus"]),s.get(["emphasis","blurScope"]))}function _V(t,e,n){return Ot(t,(function(t){return t=t.slice(),t[e]=n.initBaseline,t}))}var SV=vV;function CV(t,e){t.eachRawSeriesByType("boxplot",(function(t){t.getData().setVisual("legendSymbol","roundRect")}))}var kV=At;function TV(t){var e=AV(t);kV(e,(function(t){var e=t.seriesModels;e.length&&(OV(t),kV(e,(function(e,n){MV(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}function AV(t){var e=[],n=[];return t.eachSeriesByType("boxplot",(function(t){var r=t.getBaseAxis(),o=St(n,r);o<0&&(o=n.length,n[o]=r,e[o]={axis:r,seriesModels:[]}),e[o].seriesModels.push(t)})),e}function OV(t){var e,n,r=t.axis,o=t.seriesModels,i=o.length,a=t.boxWidthList=[],u=t.boxOffsetList=[],s=[];if("category"===r.type)n=r.getBandWidth();else{var c=0;kV(o,(function(t){c=Math.max(c,t.getData().count())})),e=r.getExtent(),Math.abs(e[1]-e[0])}kV(o,(function(t){var e=t.get("boxWidth");Lt(e)||(e=[e,e]),s.push([Si(e[0],n)||0,Si(e[1],n)||0])}));var l=.8*n-2,f=l/i*.3,d=(l-f*(i-1))/i,h=d/2-l/2;kV(o,(function(t,e){u.push(h),h+=f+d,a.push(Math.min(Math.max(d,s[e][0]),s[e][1]))}))}function MV(t,e,n){var r=t.coordinateSystem,o=t.getData(),i=n/2,a="horizontal"===t.get("layout")?0:1,u=1-a,s=["x","y"],c=o.mapDimension(s[a]),l=o.mapDimensionsAll(s[u]);if(!(null==c||l.length<5))for(var f=0;f<o.count();f++){var d=o.get(c,f),h=b(d,l[2],f),p=b(d,l[0],f),m=b(d,l[1],f),g=b(d,l[3],f),v=b(d,l[4],f),y=[];x(y,m,!1),x(y,g,!0),y.push(p,m,v,g),w(y,p),w(y,v),w(y,h),o.setItemLayout(f,{initBaseline:h[u],ends:y})}function b(t,n,i){var s,c=o.get(n,i),l=[];return l[a]=t,l[u]=c,isNaN(t)||isNaN(c)?s=[NaN,NaN]:(s=r.dataToPoint(l),s[a]+=e),s}function x(t,e,n){var r=e.slice(),o=e.slice();r[a]+=i,o[a]-=i,n?t.push(r,o):t.push(o,r)}function w(t,e){var n=e.slice(),r=e.slice();n[a]-=i,r[a]+=i,t.push(n,r)}}function DV(t,e){e=e||{};for(var n=[],r=[],o=e.boundIQR,i="none"===o||0===o,a=0;a<t.length;a++){var u=ki(t[a].slice()),s=zi(u,.25),c=zi(u,.5),l=zi(u,.75),f=u[0],d=u[u.length-1],h=(null==o?1.5:o)*(l-s),p=i?f:Math.max(f,s-h),m=i?d:Math.min(d,l+h),g=e.itemNameFormatter,v=Bt(g)?g({value:a}):zt(g)?g.replace("{value}",a+""):a+"";n.push([v,p,s,c,l,m]);for(var y=0;y<u.length;y++){var b=u[y];if(b<p||b>m){var x=[v,b];r.push(x)}}}return{boxData:n,outliers:r}}var IV={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==im){var n="";0,cv(n)}var r=DV(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}};function EV(t){t.registerSeriesModel(gV),t.registerChartView(SV),t.registerVisual(CV),t.registerLayout(TV),t.registerTransform(IV)}var RV=["color","borderColor"],NV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,r){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,r=this.group,o=e.getLayout("isSimpleBox"),i=t.get("clip",!0),a=t.coordinateSystem,u=a.getArea&&a.getArea();this._data||r.removeAll(),e.diff(n).add((function(n){if(e.hasValue(n)){var a=e.getItemLayout(n);if(i&&zV(u,a))return;var s=BV(a,n,!0);Pd(s,{shape:{points:a.ends}},t,n),VV(s,e,n,o),r.add(s),e.setItemGraphicEl(n,s)}})).update((function(a,s){var c=n.getItemGraphicEl(s);if(e.hasValue(a)){var l=e.getItemLayout(a);i&&zV(u,l)?r.remove(c):(c?Nd(c,{shape:{points:l.ends}},t,a):c=BV(l,a),VV(c,e,a,o),r.add(c),e.setItemGraphicEl(a,c))}else r.remove(c)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&r.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),UV(t,this.group);var e=t.get("clip",!0)?$k(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){var n,r=e.getData(),o=r.getLayout("isSimpleBox");while(null!=(n=t.next())){var i=r.getItemLayout(n),a=BV(i,n);VV(a,r,n,o),a.incremental=!0,this.group.add(a)}},e.prototype._incrementalRenderLarge=function(t,e){UV(e,this.group,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(_y),PV=function(){function t(){}return t}(),LV=function(t){function e(e){var n=t.call(this,e)||this;return n.type="normalCandlestickBox",n}return Z(e,t),e.prototype.getDefaultShape=function(){return new PV},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(Js);function BV(t,e,n){var r=t.ends;return new LV({shape:{points:n?FV(r,t):r},z2:100})}function zV(t,e){for(var n=!0,r=0;r<e.ends.length;r++)if(t.contain(e.ends[r][0],e.ends[r][1])){n=!1;break}return n}function VV(t,e,n,r){var o=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=r,Dl(t,o)}function FV(t,e){return Ot(t,(function(t){return t=t.slice(),t[1]=e.initBaseline,t}))}var jV=function(){function t(){}return t}(),HV=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeCandlestickBox",n}return Z(e,t),e.prototype.getDefaultShape=function(){return new jV},e.prototype.buildPath=function(t,e){for(var n=e.points,r=0;r<n.length;)if(this.__sign===n[r++]){var o=n[r++];t.moveTo(o,n[r++]),t.lineTo(o,n[r++])}else r+=3},e}(Js);function UV(t,e,n){var r=t.getData(),o=r.getLayout("largePoints"),i=new HV({shape:{points:o},__sign:1});e.add(i);var a=new HV({shape:{points:o},__sign:-1});e.add(a),WV(1,i,t,r),WV(-1,a,t,r),n&&(i.incremental=!0,a.incremental=!0)}function WV(t,e,n,r){var o=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]),i=n.getModel("itemStyle").getItemStyle(RV);e.useStyle(i),e.style.fill=null,e.style.stroke=o}var GV=NV,qV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return Z(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,n){var r=e.getItemLayout(t);return r&&n.rect(r.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(ly);kt(qV,pV,!0);var YV=qV;function XV(t){t&&Lt(t.series)&&At(t.series,(function(t){jt(t)&&"k"===t.type&&(t.type="candlestick")}))}var ZV=["itemStyle","borderColor"],$V=["itemStyle","borderColor0"],KV=["itemStyle","color"],JV=["itemStyle","color0"],QV={seriesType:"candlestick",plan:hy(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?KV:JV)}function r(t,e){return e.get(t>0?ZV:$V)}var o=t.getData();if(o.setVisual("legendSymbol","roundRect"),!e.isSeriesFiltered(t)){var i=t.pipelineContext.large;return!i&&{progress:function(t,e){var o;while(null!=(o=t.next())){var i=e.getItemModel(o),a=e.getItemLayout(o).sign,u=i.getItemStyle();u.fill=n(a,i),u.stroke=r(a,i)||u.fill;var s=e.ensureUniqueItemVisual(o,"style");xt(s,u)}}}}}},tF=QV,eF="undefined"!==typeof Float32Array?Float32Array:Array,nF={seriesType:"candlestick",plan:hy(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=oF(t,n),o=0,i=1,a=["x","y"],u=n.mapDimension(a[o]),s=n.mapDimensionsAll(a[i]),c=s[0],l=s[1],f=s[2],d=s[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(null==u||s.length<4))return{progress:t.pipelineContext.large?p:h};function h(t,n){var a;while(null!=(a=t.next())){var s=n.get(u,a),h=n.get(c,a),p=n.get(l,a),m=n.get(f,a),g=n.get(d,a),v=Math.min(h,p),y=Math.max(h,p),b=C(v,s),x=C(y,s),w=C(m,s),_=C(g,s),S=[];k(S,x,0),k(S,b,1),S.push(A(_),A(x),A(w),A(b)),n.setItemLayout(a,{sign:rF(n,a,h,p,l),initBaseline:h>p?x[i]:b[i],ends:S,brushRect:T(m,g,s)})}function C(t,n){var r=[];return r[o]=n,r[i]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(r)}function k(t,e,n){var i=e.slice(),a=e.slice();i[o]=Ed(i[o]+r/2,1,!1),a[o]=Ed(a[o]-r/2,1,!0),n?t.push(i,a):t.push(a,i)}function T(t,e,n){var a=C(t,n),u=C(e,n);return a[o]-=r/2,u[o]-=r/2,{x:a[0],y:a[1],width:i?r:u[0]-a[0],height:i?u[1]-a[1]:r}}function A(t){return t[o]=Ed(t[o],1),t}}function p(t,n){var r,a,s=new eF(4*t.count),h=0,p=[],m=[];while(null!=(a=t.next())){var g=n.get(u,a),v=n.get(c,a),y=n.get(l,a),b=n.get(f,a),x=n.get(d,a);isNaN(g)||isNaN(b)||isNaN(x)?(s[h++]=NaN,h+=3):(s[h++]=rF(n,a,v,y,l),p[o]=g,p[i]=b,r=e.dataToPoint(p,null,m),s[h++]=r?r[0]:NaN,s[h++]=r?r[1]:NaN,p[i]=x,r=e.dataToPoint(p,null,m),s[h++]=r?r[1]:NaN)}n.setLayout("largePoints",s)}}};function rF(t,e,n,r,o){var i;return i=n>r?-1:n<r?1:e>0?t.get(o,e-1)<=r?1:-1:1,i}function oF(t,e){var n,r=t.getBaseAxis(),o="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/e.count()),i=Si($t(t.get("barMaxWidth"),o),o),a=Si($t(t.get("barMinWidth"),1),o),u=t.get("barWidth");return null!=u?Si(u,o):Math.max(Math.min(o/2,i),a)}var iF=nF;function aF(t){t.registerChartView(GV),t.registerSeriesModel(YV),t.registerPreprocessor(XV),t.registerVisual(tF),t.registerLayout(iF)}var uF=3;function sF(t){return Lt(t)||(t=[+t,+t]),t}function cF(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})}))}var lF=function(t){function e(e,n){var r=t.call(this)||this,o=new Tk(e,n),i=new fi;return r.add(o),r.add(i),r.updateData(e,n),r}return Z(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,r=this.childAt(1),o=0;o<uF;o++){var i=_x(e,-1,-1,2,2,n);i.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var a=-o/uF*t.period+t.effectOffset;i.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(a).start(),i.animateStyle(!0).when(t.period,{opacity:0}).delay(a).start(),r.add(i)}cF(r,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale"],o=0;o<r.length;o++){var i=r[o];if(e[i]!==t[i])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}cF(n,t)},e.prototype.highlight=function(){hl(this)},e.prototype.downplay=function(){pl(this)},e.prototype.updateData=function(t,e){var n=this,r=t.hostModel;this.childAt(0).updateData(t,e);var o=this.childAt(1),i=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),u=sF(t.getItemVisual(e,"symbolSize")),s=t.getItemVisual(e,"style"),c=s&&s.fill;o.setScale(u),o.traverse((function(t){t.setStyle("fill",c)}));var l=i.getShallow("symbolOffset");l&&(o.x=Si(l[0],u[0]),o.y=Si(l[1],u[1]));var f=t.getItemVisual(e,"symbolRotate");o.rotation=(f||0)*Math.PI/180||0;var d={};d.showEffectOn=r.get("showEffectOn"),d.rippleScale=i.get(["rippleEffect","scale"]),d.brushType=i.get(["rippleEffect","brushType"]),d.period=1e3*i.get(["rippleEffect","period"]),d.effectOffset=e/t.count(),d.z=r.getShallow("z")||0,d.zlevel=r.getShallow("zlevel")||0,d.symbolType=a,d.color=c,d.rippleEffectColor=i.get(["rippleEffect","color"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===d.showEffectOn?(this._effectCfg?this.updateEffectAnimation(d):this.startEffectAnimation(d),this._effectCfg=d):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==d.showEffectOn&&n.startEffectAnimation(d):"normal"===t&&"render"!==d.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=d,Tl(this)},e.prototype.fadeOut=function(t){this.off("mouseover").off("mouseout"),t&&t()},e}(fi);Ct(lF,fi);var fF=lF,dF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(){this._symbolDraw=new Ik(fF)},e.prototype.render=function(t,e,n){var r=t.getData(),o=this._symbolDraw;o.updateData(r),this.group.add(o.group)},e.prototype.updateTransform=function(t,e,n){var r=t.getData();this.group.dirty();var o=mT("").reset(t,e,n);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=On(e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(_y),hF=dF,pF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Z(e,t),e.prototype.getInitialData=function(t,e){return bk(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10},e}(ly),mF=pF;function gF(t){t.registerChartView(hF),t.registerSeriesModel(mF),t.registerLayout(mT("effectScatter"))}var vF=function(t){function e(e,n,r){var o=t.call(this)||this;return o.add(o.createLine(e,n,r)),o._updateEffectSymbol(e,n),o}return Z(e,t),e.prototype.createLine=function(t,e,n){return new NP(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e),r=n.getModel("effect"),o=r.get("symbolSize"),i=r.get("symbol");Lt(o)||(o=[o,o]);var a=t.getItemVisual(e,"style"),u=r.get("color")||a&&a.stroke,s=this.childAt(1);this._symbolType!==i&&(this.remove(s),s=_x(i,-.5,-.5,1,1,u),s.z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",u),s.setStyle(r.getItemStyle(["color"])),s.scaleX=o[0],s.scaleY=o[1],s.setColor(u),this._symbolType=i,this._symbolScale=o,this._updateEffectAnimation(t,r,e))},e.prototype._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(r){var o=this,i=t.getItemLayout(n),a=1e3*e.get("period"),u=e.get("loop"),s=e.get("constantSpeed"),c=Zt(e.get("delay"),(function(e){return e/t.count()*a/3}));if(r.ignore=!0,this._updateAnimationPoints(r,i),s>0&&(a=this._getLineLength(r)/s*1e3),(a!==this._period||u!==this._loop)&&(r.stopAnimation(),a>0)){var l=void 0;l="function"===typeof c?c(n):c,r.__t>0&&(l=-a*r.__t),r.__t=0;var f=r.animate("",u).when(a,{__t:1}).delay(l).during((function(){o._updateSymbolPosition(r)}));u||f.done((function(){o.remove(r)})),f.start()}this._period=a,this._loop=u}},e.prototype._getLineLength=function(t){return ke(t.__p1,t.__cp1)+ke(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,r=t.__cp1,o=t.__t,i=[t.x,t.y],a=i.slice(),u=zu,s=Vu;i[0]=u(e[0],r[0],n[0],o),i[1]=u(e[1],r[1],n[1],o);var c=s(e[0],r[0],n[0],o),l=s(e[1],r[1],n[1],o);t.rotation=-Math.atan2(l,c)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*ke(a,i),1===o&&(i[0]=a[0]+(i[0]-a[0])/2,i[1]=a[1]+(i[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*ke(e,i):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=i[0],t.y=i[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},e}(fi),yF=vF,bF=function(t){function e(e,n,r){var o=t.call(this)||this;return o._createPolyline(e,n,r),o}return Z(e,t),e.prototype._createPolyline=function(t,e,n){var r=t.getItemLayout(e),o=new jf({shape:{points:r}});this.add(o),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var r=t.hostModel,o=this.childAt(0),i={shape:{points:t.getItemLayout(e)}};Nd(o,i,r,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var r=this.childAt(0),o=t.getItemModel(e),i=n&&n.emphasisLineStyle;n&&!t.hasItemOption||(i=o.getModel(["emphasis","lineStyle"]).getLineStyle()),r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.style.strokeNoScale=!0;var a=r.ensureState("emphasis");a.style=i,Tl(this)},e.prototype.updateLayout=function(t,e){var n=this.childAt(0);n.setShape("points",t.getItemLayout(e))},e}(fi),xF=bF,wF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return Z(e,t),e.prototype.createLine=function(t,e,n){return new xF(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],r=0,o=1;o<e.length;o++){var i=e[o-1],a=e[o];r+=ke(i,a),n.push(r)}if(0!==r){for(o=0;o<n.length;o++)n[o]/=r;this._offsets=n,this._length=r}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t,n=this._points,r=this._offsets,o=n.length;if(r){var i,a=this._lastFrame;if(e<this._lastFramePercent){var u=Math.min(a+1,o-1);for(i=u;i>=0;i--)if(r[i]<=e)break;i=Math.min(i,o-2)}else{for(i=a;i<o;i++)if(r[i]>e)break;i=Math.min(i-1,o-2)}var s=(e-r[i])/(r[i+1]-r[i]),c=n[i],l=n[i+1];t.x=c[0]*(1-s)+s*l[0],t.y=c[1]*(1-s)+s*l[1];var f=l[0]-c[0],d=l[1]-c[1];t.rotation=-Math.atan2(d,f)-Math.PI/2,this._lastFrame=i,this._lastFramePercent=e,t.ignore=!1}},e}(yF),_F=wF,SF=function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t}(),CF=function(t){function e(e){return t.call(this,e)||this}return Z(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new SF},e.prototype.buildPath=function(t,e){var n=e.segs,r=e.curveness;if(e.polyline)for(var o=0;o<n.length;){var i=n[o++];if(i>0){t.moveTo(n[o++],n[o++]);for(var a=1;a<i;a++)t.lineTo(n[o++],n[o++])}}else for(o=0;o<n.length;){var u=n[o++],s=n[o++],c=n[o++],l=n[o++];if(t.moveTo(u,s),r>0){var f=(u+c)/2-(s-l)*r,d=(s+l)/2-(c-u)*r;t.quadraticCurveTo(f,d,c,l)}else t.lineTo(c,l)}},e.prototype.findDataIndex=function(t,e){var n=this.shape,r=n.segs,o=n.curveness,i=this.style.lineWidth;if(n.polyline)for(var a=0,u=0;u<r.length;){var s=r[u++];if(s>0)for(var c=r[u++],l=r[u++],f=1;f<s;f++){var d=r[u++],h=r[u++];if(As(c,l,d,h,i,t,e))return a}a++}else for(a=0,u=0;u<r.length;){c=r[u++],l=r[u++],d=r[u++],h=r[u++];if(o>0){var p=(c+d)/2-(l-h)*o,m=(l+h)/2-(d-c)*o;if(Ms(c,l,p,m,d,h,i,t,e))return a}else if(As(c,l,d,h,i,t,e))return a;a++}return-1},e}(Js),kF=function(){function t(){this.group=new fi}return t.prototype.isPersistent=function(){return!this._incremental},t.prototype.updateData=function(t){this.group.removeAll();var e=new CF({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new gd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},t.prototype.incrementalUpdate=function(t,e){var n=new CF;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},t.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},t.prototype._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");if(o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null),!n){var i=Dc(t);i.seriesIndex=r.seriesIndex,t.on("mousemove",(function(e){i.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(i.dataIndex=n+t.__startIndex)}))}},t.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},t}(),TF=kF,AF={seriesType:"lines",plan:hy(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(o,i){var a=[];if(r){var u=void 0,s=o.end-o.start;if(n){for(var c=0,l=o.start;l<o.end;l++)c+=t.getLineCoordsCount(l);u=new Float32Array(s+2*c)}else u=new Float32Array(4*s);var f=0,d=[];for(l=o.start;l<o.end;l++){var h=t.getLineCoords(l,a);n&&(u[f++]=h);for(var p=0;p<h;p++)d=e.dataToPoint(a[p],!1,d),u[f++]=d[0],u[f++]=d[1]}i.setLayout("linesPoints",u)}else for(l=o.start;l<o.end;l++){var m=i.getItemModel(l),g=(h=t.getLineCoords(l,a),[]);if(n)for(var v=0;v<h;v++)g.push(e.dataToPoint(a[v]));else{g[0]=e.dataToPoint(a[0]),g[1]=e.dataToPoint(a[1]);var y=m.get(["lineStyle","curveness"]);+y&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*y,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*y])}i.setItemLayout(l,g)}}}}},OF=AF,MF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),o=this._updateLineDraw(r,t),i=t.get("zlevel"),a=t.get(["effect","trailLength"]),u=n.getZr(),s="svg"===u.painter.getType();(s||u.painter.getLayer(i).clear(!0),null==this._lastZlevel||s||u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a)&&(s||u.configLayer(i,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)}));o.updateData(r);var c=t.get("clip",!0)&&$k(t.coordinateSystem,!1,t);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=i,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var r=t.getData(),o=this._updateLineDraw(r,t);o.incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var r=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var i=OF.reset(t,e,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,r=this._showEffect(e),o=!!e.get("polyline"),i=e.pipelineContext,a=i.large;return n&&r===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new TF:new FP(o?r?_F:xF:r?yF:NP),this._hasEffet=r,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr(),n="svg"===e.painter.getType();n||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.type="lines",e}(_y),DF=MF,IF="undefined"===typeof Uint32Array?Array:Uint32Array,EF="undefined"===typeof Float64Array?Array:Float64Array;function RF(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=Ot(e,(function(t){var e=[t[0].coord,t[1].coord],n={coords:e};return t[0].name&&(n.fromName=t[0].name),t[1].name&&(n.toName=t[1].name),bt([n,t[0],t[1]])})))}var NF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return Z(e,t),e.prototype.init=function(e){e.data=e.data||[],RF(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(RF(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=ue(this._flatCoords,e.flatCoords),this._flatCoordsOffset=ue(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");return n},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],o=0;o<r;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[n+2*o],e[o][1]=this._flatCoords[n+2*o+1];return r}var i=this._getCoordsFromItemModel(t);for(o=0;o<i.length;o++)e[o]=e[o]||[],e[o][0]=i[o][0],e[o][1]=i[o][1];return i.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"===typeof t[0]){for(var n=t.length,r=new IF(n),o=new EF(n),i=0,a=0,u=0,s=0;s<n;){u++;var c=t[s++];r[a++]=i+e,r[a++]=c;for(var l=0;l<c;l++){var f=t[s++],d=t[s++];o[i++]=f,o[i++]=d}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new rk(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,r,o){if(t instanceof Array)return NaN;n.hasItemOption=!0;var i=t.value;return null!=i?i instanceof Array?i[o]:i:void 0})),n},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),o=r.getItemModel(t),i=o.get("name");if(i)return i;var a=o.get("fromName"),u=o.get("toName"),s=[];return null!=a&&s.push(a),null!=u&&s.push(u),Bv("nameValue",{name:s.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(ly),PF=NF;function LF(t){return t instanceof Array||(t=[t,t]),t}var BF={seriesType:"lines",reset:function(t){var e=LF(t.get("symbol")),n=LF(t.get("symbolSize")),r=t.getData();function o(t,e){var n=t.getItemModel(e),r=LF(n.getShallow("symbol",!0)),o=LF(n.getShallow("symbolSize",!0));r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),o[0]&&t.setItemVisual(e,"fromSymbolSize",o[0]),o[1]&&t.setItemVisual(e,"toSymbolSize",o[1])}return r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]),{dataEach:r.hasItemOption?o:null}}},zF=BF;function VF(t){t.registerChartView(DF),t.registerSeriesModel(PF),t.registerLayout(OF),t.registerVisual(zF)}var FF=256,jF=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=_t();this.canvas=t}return t.prototype.update=function(t,e,n,r,o,i){var a=this._getBrush(),u=this._getGradient(o,"inRange"),s=this._getGradient(o,"outOfRange"),c=this.pointSize+this.blurSize,l=this.canvas,f=l.getContext("2d"),d=t.length;l.width=e,l.height=n;for(var h=0;h<d;++h){var p=t[h],m=p[0],g=p[1],v=p[2],y=r(v);f.globalAlpha=y,f.drawImage(a,m-c,g-c)}if(!l.width||!l.height)return l;var b=f.getImageData(0,0,l.width,l.height),x=b.data,w=0,_=x.length,S=this.minOpacity,C=this.maxOpacity,k=C-S;while(w<_){y=x[w+3]/256;var T=4*Math.floor(y*(FF-1));if(y>0){var A=i(y)?u:s;y>0&&(y=y*k+S),x[w++]=A[T],x[w++]=A[T+1],x[w++]=A[T+2],x[w++]=A[T+3]*y*256}else w+=4}return f.putImageData(b,0,0),l},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=_t()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,r=n[e]||(n[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],i=0,a=0;a<256;a++)t[e](a/255,!0,o),r[i++]=o[0],r[i++]=o[1],r[i++]=o[2],r[i++]=o[3];return r},t}(),HF=jF;function UF(t,e,n){var r=t[1]-t[0];e=Ot(e,(function(e){return{interval:[(e.interval[0]-t[0])/r,(e.interval[1]-t[0])/r]}}));var o=e.length,i=0;return function(t){var r;for(r=i;r<o;r++){var a=e[r].interval;if(a[0]<=t&&t<=a[1]){i=r;break}}if(r===o)for(r=i-1;r>=0;r--){a=e[r].interval;if(a[0]<=t&&t<=a[1]){i=r;break}}return r>=0&&r<o&&n[r]}}function WF(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}function GF(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var qF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var r;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(r=e)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):GF(o)&&this._renderOnGeo(o,t,r,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,r){var o=e.coordinateSystem;o&&(GF(o)?this.render(e,n,r):this._renderOnCartesianAndCalendar(e,r,t.start,t.end,!0))},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,r,o){var i,a,u,s,c=t.coordinateSystem;if(Kk(c,"cartesian2d")){var l=c.getAxis("x"),f=c.getAxis("y");0,i=l.getBandWidth(),a=f.getBandWidth(),u=l.scale.getExtent(),s=f.scale.getExtent()}for(var d=this.group,h=t.getData(),p=t.getModel(["emphasis","itemStyle"]).getItemStyle(),m=t.getModel(["blur","itemStyle"]).getItemStyle(),g=t.getModel(["select","itemStyle"]).getItemStyle(),v=rh(t),y=t.get(["emphasis","focus"]),b=t.get(["emphasis","blurScope"]),x=Kk(c,"cartesian2d")?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],w=n;w<r;w++){var _=void 0,S=h.getItemVisual(w,"style");if(Kk(c,"cartesian2d")){var C=h.get(x[0],w),k=h.get(x[1],w);if(isNaN(h.get(x[2],w))||C<u[0]||C>u[1]||k<s[0]||k>s[1])continue;var T=c.dataToPoint([C,k]);_=new mc({shape:{x:Math.floor(Math.round(T[0])-i/2),y:Math.floor(Math.round(T[1])-a/2),width:Math.ceil(i),height:Math.ceil(a)},style:S})}else{if(isNaN(h.get(x[1],w)))continue;_=new mc({z2:1,shape:c.dataToRect([h.get(x[0],w)]).contentShape,style:S})}var A=h.getItemModel(w);if(h.hasItemOption){var O=A.getModel("emphasis");p=O.getModel("itemStyle").getItemStyle(),m=A.getModel(["blur","itemStyle"]).getItemStyle(),g=A.getModel(["select","itemStyle"]).getItemStyle(),y=O.get("focus"),b=O.get("blurScope"),v=rh(A)}var M=t.getRawValue(w),D="-";M&&null!=M[2]&&(D=M[2]+""),nh(_,v,{labelFetcher:t,labelDataIndex:w,defaultOpacity:S.opacity,defaultText:D}),_.ensureState("emphasis").style=p,_.ensureState("blur").style=m,_.ensureState("select").style=g,Tl(_,y,b),_.incremental=o,o&&(_.states.emphasis.hoverLayer=!0),d.add(_),h.setItemGraphicEl(w,_)}},e.prototype._renderOnGeo=function(t,e,n,r){var o=n.targetVisuals.inRange,i=n.targetVisuals.outOfRange,a=e.getData(),u=this._hmLayer||this._hmLayer||new HF;u.blurSize=e.get("blurSize"),u.pointSize=e.get("pointSize"),u.minOpacity=e.get("minOpacity"),u.maxOpacity=e.get("maxOpacity");var s=t.getViewRect().clone(),c=t.getRoamTransform();s.applyTransform(c);var l=Math.max(s.x,0),f=Math.max(s.y,0),d=Math.min(s.width+s.x,r.getWidth()),h=Math.min(s.height+s.y,r.getHeight()),p=d-l,m=h-f,g=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],v=a.mapArray(g,(function(e,n,r){var o=t.dataToPoint([e,n]);return o[0]-=l,o[1]-=f,o.push(r),o})),y=n.getExtent(),b="visualMap.continuous"===n.type?WF(y,n.option.range):UF(y,n.getPieceList(),n.option.selected);u.update(v,p,m,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:i.color.getColorMapper()},b);var x=new ac({style:{width:p,height:m,x:l,y:f,image:u.canvas},silent:!0});this.group.add(x)},e.type="heatmap",e}(_y),YF=qF,XF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.getInitialData=function(t,e){return bk(this.getSource(),this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Xm.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(ly),ZF=XF;function $F(t){t.registerChartView(YF),t.registerSeriesModel(ZF)}var KF=["itemStyle","borderWidth"],JF=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],QF=new sf,tj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=this.group,o=t.getData(),i=this._data,a=t.coordinateSystem,u=a.getBaseAxis(),s=u.isHorizontal(),c=a.master.getRect(),l={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:s,valueDim:JF[+s],categoryDim:JF[1-+s]};return o.diff(i).add((function(t){if(o.hasValue(t)){var e=dj(o,t),n=ej(o,t,e,l),i=mj(o,l,n);o.setItemGraphicEl(t,i),r.add(i),wj(i,l,n)}})).update((function(t,e){var n=i.getItemGraphicEl(e);if(o.hasValue(t)){var a=dj(o,t),u=ej(o,t,a,l),s=yj(o,u);n&&s!==n.__pictorialShapeStr&&(r.remove(n),o.setItemGraphicEl(t,null),n=null),n?gj(n,l,u):n=mj(o,l,u,!0),o.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=u,r.add(n),wj(n,l,u)}else r.remove(n)})).remove((function(t){var e=i.getItemGraphicEl(t);e&&vj(i,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=o,this.group},e.prototype.remove=function(t,e){var n=this.group,r=this._data;t.get("animation")?r&&r.eachItemGraphicEl((function(e){vj(r,Dc(e).dataIndex,t,e)})):n.removeAll()},e.type="pictorialBar",e}(_y);function ej(t,e,n,r){var o=t.getItemLayout(e),i=n.get("symbolRepeat"),a=n.get("symbolClip"),u=n.get("symbolPosition")||"start",s=n.get("symbolRotate"),c=(s||0)*Math.PI/180||0,l=n.get("symbolPatternSize")||2,f=n.isAnimationEnabled(),d={dataIndex:e,layout:o,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:i,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:c,animationModel:f?n:null,hoverScale:f&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};nj(n,i,o,r,d),oj(t,e,o,i,a,d.boundingLength,d.pxSign,l,r,d),ij(n,d.symbolScale,c,r,d);var h=d.symbolSize,p=n.get("symbolOffset");return Lt(p)&&(p=[Si(p[0],h[0]),Si(p[1],h[1])]),aj(n,h,o,i,a,p,u,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d),d}function nj(t,e,n,r,o){var i,a=r.valueDim,u=t.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),c=s.toGlobalCoord(s.dataToCoord(0)),l=1-+(n[a.wh]<=0);if(Lt(u)){var f=[rj(s,u[0])-c,rj(s,u[1])-c];f[1]<f[0]&&f.reverse(),i=f[l]}else i=null!=u?rj(s,u)-c:e?r.coordSysExtent[a.index][l]-c:n[a.wh];o.boundingLength=i,e&&(o.repeatCutLength=n[a.wh]),o.pxSign=i>0?1:i<0?-1:0}function rj(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function oj(t,e,n,r,o,i,a,u,s,c){var l,f=s.valueDim,d=s.categoryDim,h=Math.abs(n[d.wh]),p=t.getItemVisual(e,"symbolSize");l=Lt(p)?p.slice():null==p?["100%","100%"]:[p,p],l[d.index]=Si(l[d.index],h),l[f.index]=Si(l[f.index],r?h:Math.abs(i)),c.symbolSize=l;var m=c.symbolScale=[l[0]/u,l[1]/u];m[f.index]*=(s.isHorizontal?-1:1)*a}function ij(t,e,n,r,o){var i=t.get(KF)||0;i&&(QF.attr({scaleX:e[0],scaleY:e[1],rotation:n}),QF.updateTransform(),i/=QF.getLineScale(),i*=e[r.valueDim.index]),o.valueLineWidth=i}function aj(t,e,n,r,o,i,a,u,s,c,l,f){var d=l.categoryDim,h=l.valueDim,p=f.pxSign,m=Math.max(e[h.index]+u,0),g=m;if(r){var v=Math.abs(s),y=Zt(t.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var x=Si(y,e[h.index]),w=Math.max(m+2*x,0),_=b?0:2*x,S=ji(r),C=S?r:_j((v+_)/w),k=v-C*m;x=k/2/(b?C:C-1),w=m+2*x,_=b?0:2*x,S||"fixed"===r||(C=c?_j((Math.abs(c)+_)/w):0),g=C*w-_,f.repeatTimes=C,f.symbolMargin=x}var T=p*(g/2),A=f.pathPosition=[];A[d.index]=n[d.wh]/2,A[h.index]="start"===a?T:"end"===a?s-T:s/2,i&&(A[0]+=i[0],A[1]+=i[1]);var O=f.bundlePosition=[];O[d.index]=n[d.xy],O[h.index]=n[h.xy];var M=f.barRectShape=xt({},n);M[h.wh]=p*Math.max(Math.abs(n[h.wh]),Math.abs(A[h.index]+T)),M[d.wh]=n[d.wh];var D=f.clipShape={};D[d.xy]=-n[d.xy],D[d.wh]=l.ecSize[d.wh],D[h.xy]=0,D[h.wh]=n[h.wh]}function uj(t){var e=t.symbolPatternSize,n=_x(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function sj(t,e,n,r){var o=t.__pictorialBundle,i=n.symbolSize,a=n.valueLineWidth,u=n.pathPosition,s=e.valueDim,c=n.repeatTimes||0,l=0,f=i[e.valueDim.index]+a+2*n.symbolMargin;for(bj(t,(function(t){t.__pictorialAnimationIndex=l,t.__pictorialRepeatTimes=c,l<c?xj(t,null,p(l),n,r):xj(t,null,{scaleX:0,scaleY:0},n,r,(function(){o.remove(t)})),l++}));l<c;l++){var d=uj(n);d.__pictorialAnimationIndex=l,d.__pictorialRepeatTimes=c,o.add(d);var h=p(l);xj(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},n,r)}function p(t){var e=u.slice(),r=n.pxSign,o=t;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(o=c-1-t),e[s.index]=f*(o-c/2+.5)+u[s.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function cj(t,e,n,r){var o=t.__pictorialBundle,i=t.__pictorialMainPath;i?xj(i,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(i=t.__pictorialMainPath=uj(n),o.add(i),xj(i,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function lj(t,e,n){var r=xt({},e.barRectShape),o=t.__pictorialBarRect;o?xj(o,null,{shape:r},e,n):(o=t.__pictorialBarRect=new mc({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(o))}function fj(t,e,n,o){if(n.symbolClip){var i=t.__pictorialClipPath,a=xt({},n.clipShape),u=e.valueDim,s=n.animationModel,c=n.dataIndex;if(i)Nd(i,{shape:a},s,c);else{a[u.wh]=0,i=new mc({shape:a}),t.__pictorialBundle.setClipPath(i),t.__pictorialClipPath=i;var l={};l[u.wh]=n.clipShape[u.wh],r[o?"updateProps":"initProps"](i,{shape:l},s,c)}}}function dj(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=hj,n.isAnimationEnabled=pj,n}function hj(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function pj(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function mj(t,e,n,r){var o=new fi,i=new fi;return o.add(i),o.__pictorialBundle=i,i.x=n.bundlePosition[0],i.y=n.bundlePosition[1],n.symbolRepeat?sj(o,e,n):cj(o,e,n),lj(o,n,r),fj(o,e,n,r),o.__pictorialShapeStr=yj(t,n),o.__pictorialSymbolMeta=n,o}function gj(t,e,n){var r=n.animationModel,o=n.dataIndex,i=t.__pictorialBundle;Nd(i,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,o),n.symbolRepeat?sj(t,e,n,!0):cj(t,e,n,!0),lj(t,n,!0),fj(t,e,n,!0)}function vj(t,e,n,r){var o=r.__pictorialBarRect;o&&o.removeTextContent();var i=[];bj(r,(function(t){i.push(t)})),r.__pictorialMainPath&&i.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),At(i,(function(t){Ld(t,{scaleX:0,scaleY:0},n,e,(function(){r.parent&&r.parent.remove(r)}))})),t.setItemGraphicEl(e,null)}function yj(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function bj(t,e,n){At(t.__pictorialBundle.children(),(function(r){r!==t.__pictorialBarRect&&e.call(n,r)}))}function xj(t,e,n,o,i,a){e&&t.attr(e),o.symbolClip&&!i?n&&t.attr(n):n&&r[i?"updateProps":"initProps"](t,n,o.animationModel,o.dataIndex,a)}function wj(t,e,n){var r=n.dataIndex,o=n.itemModel,i=o.getModel("emphasis"),a=i.getModel("itemStyle").getItemStyle(),u=o.getModel(["blur","itemStyle"]).getItemStyle(),s=o.getModel(["select","itemStyle"]).getItemStyle(),c=o.getShallow("cursor"),l=i.get("focus"),f=i.get("blurScope"),d=i.get("scale");bj(t,(function(t){if(t instanceof ac){var e=t.style;t.useStyle(xt({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var r=t.ensureState("emphasis");r.style=a,d&&(r.scaleX=1.1*t.scaleX,r.scaleY=1.1*t.scaleY),t.ensureState("blur").style=u,t.ensureState("select").style=s,c&&(t.cursor=c),t.z2=n.z2}));var h=e.valueDim.posDesc[+(n.boundingLength>0)],p=t.__pictorialBarRect;nh(p,rh(o),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:_k(e.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:h}),Tl(t,l,f)}function _j(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var Sj=tj,Cj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return Z(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Eh(BT.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(BT),kj=Cj;function Tj(t){t.registerChartView(Sj),t.registerSeriesModel(kj),t.registerLayout(Pt(IT,"pictorialBar"))}var Aj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return Z(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),o=this,i=this.group,a=t.getLayerSeries(),u=r.getLayout("layoutInfo"),s=u.rect,c=u.boundaryGap;function l(t){return t.name}i.x=0,i.y=s.y+c[0];var f=new SC(this._layersSeries||[],a,l,l),d=[];function h(e,n,u){var s=o._layers;if("remove"!==e){for(var c,l,f=[],h=[],p=a[n].indices,m=0;m<p.length;m++){var g=r.getItemLayout(p[m]),v=g.x,y=g.y0,b=g.y;f.push(v,y),h.push(v,y+b),c=r.getItemVisual(p[m],"style")}var x=r.getItemLayout(p[0]),w=t.getModel("label"),_=w.get("margin"),S=t.getModel("emphasis");if("add"===e){var C=d[n]=new fi;l=new Yk({shape:{points:f,stackedOnPoints:h,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),C.add(l),i.add(C),t.isAnimationEnabled()&&l.setClipPath(Oj(l.getBoundingRect(),t,(function(){l.removeClipPath()})))}else{C=s[u];l=C.childAt(0),i.add(C),d[n]=C,Nd(l,{shape:{points:f,stackedOnPoints:h}},t)}nh(l,rh(t),{labelDataIndex:p[m-1],defaultText:r.getName(p[m-1]),inheritColor:c.fill},{normal:{verticalAlign:"middle"}}),l.setTextConfig({position:null,local:!0});var k=l.getTextContent();k&&(k.x=x.x-_,k.y=x.y0+x.y/2),l.useStyle(c),r.setItemGraphicEl(n,l),Dl(l,t),Tl(l,S.get("focus"),S.get("blurScope"))}else i.remove(s[n])}f.add(Nt(h,this,"add")).update(Nt(h,this,"update")).remove(Nt(h,this,"remove")).execute(),this._layersSeries=a,this._layers=d},e.type="themeRiver",e}(_y);function Oj(t,e,n){var r=new mc({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Pd(r,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),r}var Mj=Aj,Dj=2,Ij=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.useColorPaletteOnData=!0,n}return Z(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new IA(Nt(this.getData,this),Nt(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},r=Ca(t,(function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]})),o=[];r.buckets.each((function(t,e){o.push({name:e,dataList:t})}));for(var i=o.length,a=0;a<i;++a){for(var u=o[a].name,s=0;s<o[a].dataList.length;++s){var c=o[a].dataList[s][0]+"";n[c]=a}for(var c in n)n.hasOwnProperty(c)&&n[c]!==a&&(n[c]=a,t[e]=[c,0,u],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",ya).models[0],r=n.get("type"),o=Dt(t.data,(function(t){return void 0!==t[2]})),i=this.fixData(o||[]),a=[],u=this.nameMap=ae(),s=0,c=0;c<i.length;++c)a.push(i[c][Dj]),u.get(i[c][Dj])||(u.set(i[c][Dj],s),s++);var l=sk(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:TC(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),f=new rk(l,this);return f.initData(i),f},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],r=0;r<e;++r)n[r]=r;var o=t.mapDimension("single"),i=Ca(n,(function(e){return t.get("name",e)})),a=[];return i.buckets.each((function(e,n){e.sort((function(e,n){return t.get(o,e)-t.get(o,n)})),a.push({name:n,indices:e})})),a},e.prototype.getAxisTooltipData=function(t,e,n){Lt(t)||(t=t?[t]:[]);for(var r,o=this.getData(),i=this.getLayerSeries(),a=[],u=i.length,s=0;s<u;++s){for(var c=Number.MAX_VALUE,l=-1,f=i[s].indices.length,d=0;d<f;++d){var h=o.get(t[0],i[s].indices[d]),p=Math.abs(h-e);p<=c&&(r=h,c=p,l=i[s].indices[d])}a.push(l)}return{dataIndices:a,nestestValue:r}},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),o=r.getName(t),i=r.get(r.mapDimension("value"),t);return Bv("nameValue",{name:o,value:i})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(ly),Ej=Ij;function Rj(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n=t.coordinateSystem,r={},o=n.getRect();r.rect=o;var i=t.get("boundaryGap"),a=n.getAxis();if(r.boundaryGap=i,"horizontal"===a.orient){i[0]=Si(i[0],o.height),i[1]=Si(i[1],o.height);var u=o.height-i[0]-i[1];Nj(e,t,u)}else{i[0]=Si(i[0],o.width),i[1]=Si(i[1],o.width);var s=o.width-i[0]-i[1];Nj(e,t,s)}e.setLayout("layoutInfo",r)}))}function Nj(t,e,n){if(t.count())for(var r,o=e.coordinateSystem,i=e.getLayerSeries(),a=t.mapDimension("single"),u=t.mapDimension("value"),s=Ot(i,(function(e){return Ot(e.indices,(function(e){var n=o.dataToPoint(t.get(a,e));return n[1]=t.get(u,e),n}))})),c=Pj(s),l=c.y0,f=n/c.max,d=i.length,h=i[0].indices.length,p=0;p<h;++p){r=l[p]*f,t.setItemLayout(i[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:r,y:s[0][p][1]*f});for(var m=1;m<d;++m)r+=s[m-1][p][1]*f,t.setItemLayout(i[m].indices[p],{layerIndex:m,x:s[m][p][0],y0:r,y:s[m][p][1]*f})}}function Pj(t){for(var e=t.length,n=t[0].length,r=[],o=[],i=0,a=0;a<n;++a){for(var u=0,s=0;s<e;++s)u+=t[s][a][1];u>i&&(i=u),r.push(u)}for(var c=0;c<n;++c)o[c]=(i-r[c])/2;i=0;for(var l=0;l<n;++l){var f=r[l]+o[l];f>i&&(i=f)}return{y0:o,max:i}}function Lj(t){t.registerChartView(Mj),t.registerSeriesModel(Ej),t.registerLayout(Rj),t.registerProcessor(bA("themeRiver"))}var Bj=2,zj=4,Vj=function(t){function e(e,n,r,o){var i=t.call(this)||this;i.z2=Bj,i.textConfig={inside:!0},Dc(i).seriesIndex=n.seriesIndex;var a=new Mc({z2:zj,silent:e.getModel().get(["label","silent"])});return i.setTextContent(a),i.updateData(!0,e,n,r,o),i}return Z(e,t),e.prototype.updateData=function(t,e,n,r,o){this.node=e,e.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var i=this;Dc(i).dataIndex=e.dataIndex;var a=e.getModel(),u=a.getModel("emphasis"),s=e.getLayout(),c=xt({},s);c.label=null;var l=e.getVisual("style");l.lineJoin="bevel";var f=e.getVisual("decal");f&&(l.decal=ow(f,o));var d=kA(a.getModel("itemStyle"),c);xt(c,d),At(Bc,(function(t){var e=i.ensureState(t),n=a.getModel([t,"itemStyle"]);e.style=n.getItemStyle();var r=kA(n,c);r&&(e.shape=r)})),t?(i.setShape(c),i.shape.r=s.r0,Nd(i,{shape:{r:s.r}},n,e.dataIndex)):Nd(i,{shape:c},n),i.useStyle(l),this._updateLabel(n);var h=a.getShallow("cursor");h&&i.attr("cursor",h),this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel;var p=u.get("focus"),m="ancestor"===p?e.getAncestorsIndices():"descendant"===p?e.getDescendantIndices():null;Tl(this,m||p,u.get("blurScope"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),r=n.getModel("label"),o=this.node.getLayout(),i=o.endAngle-o.startAngle,a=(o.startAngle+o.endAngle)/2,u=Math.cos(a),s=Math.sin(a),c=this,l=c.getTextContent(),f=this.node.dataIndex,d=r.get("minAngle")/180*Math.PI,h=r.get("show")&&!(null!=d&&Math.abs(i)<d);function p(t,e){var n=t.get(e);return null==n?r.get(e):n}l.ignore=!h,At(zc,(function(r){var i="normal"===r?n.getModel("label"):n.getModel([r,"label"]),d="normal"===r,h=d?l:l.ensureState(r),m=t.getFormattedLabel(f,r);d&&(m=m||e.node.name),h.style=oh(i,{},null,"normal"!==r,!0),m&&(h.style.text=m);var g=i.get("show");null==g||d||(h.ignore=!g);var v,y=p(i,"position"),b=d?c:c.states[r],x=b.style.fill;b.textConfig={outsideFill:"inherit"===i.get("color")?x:null,inside:"outside"!==y};var w=p(i,"distance")||0,_=p(i,"align");"outside"===y?(v=o.r+w,_=a>Math.PI/2?"right":"left"):_&&"center"!==_?"left"===_?(v=o.r0+w,a>Math.PI/2&&(_="right")):"right"===_&&(v=o.r-w,a>Math.PI/2&&(_="left")):(v=(o.r+o.r0)/2,_="center"),h.style.align=_,h.style.verticalAlign=p(i,"verticalAlign")||"middle",h.x=v*u+o.cx,h.y=v*s+o.cy;var S=p(i,"rotate"),C=0;"radial"===S?(C=-a,C<-Math.PI/2&&(C+=Math.PI)):"tangential"===S?(C=Math.PI/2-a,C>Math.PI/2?C-=Math.PI:C<-Math.PI/2&&(C+=Math.PI)):"number"===typeof S&&(C=S*Math.PI/180),h.rotation=C})),l.dirtyStyle()},e}(Of),Fj=Vj,jj="sunburstRootToNode",Hj="sunburstHighlight",Uj="sunburstUnhighlight";function Wj(t){t.registerAction({type:jj,update:"updateView"},(function(t,e){function n(e,n){var r=hR(t,[jj],e);if(r){var o=e.getViewRoot();o&&(t.direction=mR(o,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}}e.eachComponent({mainType:"series",subType:"sunburst",query:t},n)})),t.registerAction({type:Hj,update:"none"},(function(t,e,n){function r(e){var n=hR(t,[Hj],e);n&&(t.dataIndex=n.node.dataIndex)}t=xt({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},r),n.dispatchAction(xt(t,{type:"highlight"}))})),t.registerAction({type:Uj,update:"updateView"},(function(t,e,n){t=xt({},t),n.dispatchAction(xt(t,{type:"downplay"}))}))}var Gj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n,r){var o=this;this.seriesModel=t,this.api=n,this.ecModel=e;var i=t.getData(),a=i.tree.root,u=t.getViewRoot(),s=this.group,c=t.get("renderLabelForZeroData"),l=[];u.eachNode((function(t){l.push(t)}));var f=this._oldChildren||[];function d(t,e){function n(t){return t.getId()}function r(n,r){var o=null==n?null:t[n],i=null==r?null:e[r];h(o,i)}0===t.length&&0===e.length||new SC(e,t,n,n).add(r).update(r).remove(Pt(r,null)).execute()}function h(r,o){if(c||!r||r.getValue()||(r=null),r!==a&&o!==a)if(o&&o.piece)r?(o.piece.updateData(!1,r,t,e,n),i.setItemGraphicEl(r.dataIndex,o.piece)):p(o);else if(r){var u=new Fj(r,t,e,n);s.add(u),i.setItemGraphicEl(r.dataIndex,u)}}function p(t){t&&t.piece&&(s.remove(t.piece),t.piece=null)}function m(r,i){i.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,r,t,e,n):(o.virtualPiece=new Fj(r,t,e,n),s.add(o.virtualPiece)),i.piece.off("click"),o.virtualPiece.on("click",(function(t){o._rootToNode(i.parentNode)}))):o.virtualPiece&&(s.remove(o.virtualPiece),o.virtualPiece=null)}d(l,f),m(a,u),this._initEvents(),this._oldChildren=l},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var n=!1,r=t.seriesModel.getViewRoot();r.eachNode((function(r){if(!n&&r.piece&&r.piece===e.target){var o=r.getModel().get("nodeClick");if("rootToNode"===o)t._rootToNode(r);else if("link"===o){var i=r.getModel(),a=i.get("link");if(a){var u=i.get("target",!0)||"_blank";Lp(a,u)}}n=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:jj,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData(),r=n.getItemLayout(0);if(r){var o=t[0]-r.cx,i=t[1]-r.cy,a=Math.sqrt(o*o+i*i);return a<=r.r&&a>=r.r0}},e.type="sunburst",e}(_y),qj=Gj,Yj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return Z(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};Xj(n);var r=Ot(t.levels||[],(function(t){return new Ah(t,this,e)}),this),o=nR.createTree(n,this,i);function i(t){t.wrapMethod("getItemModel",(function(t,e){var n=o.getNodeByDataIndex(e),i=r[n.depth];return i&&(t.parentModel=i),t}))}return o.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=gR(r,this),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){xR(this)},e.type="series.sunburst",e.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],levels:[],sort:"desc"},e}(ly);function Xj(t){var e=0;At(t.children,(function(t){Xj(t);var n=t.value;Lt(n)&&(n=n[0]),e+=n}));var n=t.value;Lt(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),Lt(t.value)?t.value[0]=n:t.value=n}var Zj=Yj,$j=Math.PI/180;function Kj(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.get("center"),r=t.get("radius");Lt(r)||(r=[0,r]),Lt(e)||(e=[e,e]);var o=n.getWidth(),i=n.getHeight(),a=Math.min(o,i),u=Si(e[0],o),s=Si(e[1],i),c=Si(r[0],a/2),l=Si(r[1],a/2),f=-t.get("startAngle")*$j,d=t.get("minAngle")*$j,h=t.getData().tree.root,p=t.getViewRoot(),m=p.depth,g=t.get("sort");null!=g&&Jj(p,g);var v=0;At(p.children,(function(t){!isNaN(t.getValue())&&v++}));var y=p.getValue(),b=Math.PI/(y||v)*2,x=p.depth>0,w=p.height-(x?-1:1),_=(l-c)/(w||1),S=t.get("clockwise"),C=t.get("stillShowZeroSum"),k=S?1:-1,T=function(t,e){if(t){var n=e;if(t!==h){var r=t.getValue(),o=0===y&&C?b:r*b;o<d&&(o=d),n=e+k*o;var i=t.depth-m-(x?-1:1),l=c+_*i,f=c+_*(i+1),p=t.getModel();null!=p.get("r0")&&(l=Si(p.get("r0"),a/2)),null!=p.get("r")&&(f=Si(p.get("r"),a/2)),t.setLayout({angle:o,startAngle:e,endAngle:n,clockwise:S,cx:u,cy:s,r0:l,r:f})}if(t.children&&t.children.length){var g=0;At(t.children,(function(t){g+=T(t,e+g)}))}return n-e}};if(x){var A=c,O=c+_,M=2*Math.PI;h.setLayout({angle:M,startAngle:f,endAngle:f+M,clockwise:S,cx:u,cy:s,r0:A,r:O})}T(p,f)}))}function Jj(t,e){var n=t.children||[];t.children=Qj(n,e),n.length&&At(t.children,(function(t){Jj(t,e)}))}function Qj(t,e){if("function"===typeof e){var n=Ot(t,(function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}}));return n.sort((function(t,n){return e(t.params,n.params)})),Ot(n,(function(e){return t[e.index]}))}var r="asc"===e;return t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(r?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(r?-1:1):n}))}function tH(t){var e={};function n(t,n,r){var o=t;while(o&&o.depth>1)o=o.parentNode;var i=n.getColorFromPalette(o.name||o.dataIndex+"",e);return t.depth>1&&"string"===typeof i&&(i=sr(i,(t.depth-1)/(r-1)*.5)),i}t.eachSeriesByType("sunburst",(function(t){var e=t.getData(),r=e.tree;r.eachNode((function(o){var i=o.getModel(),a=i.getModel("itemStyle").getItemStyle();a.fill||(a.fill=n(o,t,r.root.height));var u=e.ensureUniqueItemVisual(o.dataIndex,"style");xt(u,a)}))}))}function eH(t){t.registerChartView(qj),t.registerSeriesModel(Zj),t.registerLayout(Pt(Kj,"sunburst")),t.registerProcessor(Pt(bA,"sunburst")),t.registerVisual(tH),Wj(t)}function nH(t,e){return e=e||[0,0],Ot(["x","y"],(function(n,r){var o=this.getAxis(n),i=e[r],a=t[r]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(i-a)-o.dataToCoord(i+a))}),this)}function rH(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:Nt(nH,t)}}}function oH(t,e){return e=e||[0,0],Ot([0,1],(function(n){var r=e[n],o=t[n]/2,i=[],a=[];return i[n]=r-o,a[n]=r+o,i[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(i)[n]-this.dataToPoint(a)[n])}),this)}function iH(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:Nt(oH,t)}}}function aH(t,e){var n=this.getAxis(),r=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-o)-n.dataToCoord(r+o))}function uH(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:Nt(aH,t)}}}function sH(t,e){return e=e||[0,0],Ot(["Radius","Angle"],(function(n,r){var o="get"+n+"Axis",i=this[o](),a=e[r],u=t[r]/2,s="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-u)-i.dataToCoord(a+u));return"Angle"===n&&(s=s*Math.PI/180),s}),this)}function cH(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(r){var o=e.dataToRadius(r[0]),i=n.dataToAngle(r[1]),a=t.coordToPoint([o,i]);return a.push(o,i*Math.PI/180),a},size:Nt(sH,t)}}}function lH(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}function fH(t,e,n,r){return t&&(t.legacy||!1!==t.legacy&&!n&&!r&&"tspan"!==e&&("text"===e||ce(t,"text")))}function dH(t,e,n){var r,o,i,a=t;if("text"===e)i=a;else{i={},ce(a,"text")&&(i.text=a.text),ce(a,"rich")&&(i.rich=a.rich),ce(a,"textFill")&&(i.fill=a.textFill),ce(a,"textStroke")&&(i.stroke=a.textStroke),o={type:"text",style:i,silent:!0},r={};var u=ce(a,"textPosition");n?r.position=u?a.textPosition:"inside":u&&(r.position=a.textPosition),ce(a,"textPosition")&&(r.position=a.textPosition),ce(a,"textOffset")&&(r.offset=a.textOffset),ce(a,"textRotation")&&(r.rotation=a.textRotation),ce(a,"textDistance")&&(r.distance=a.textDistance)}return hH(i,t),At(i.rich,(function(t){hH(t,t)})),{textConfig:r,textContent:o}}function hH(t,e){e&&(e.font=e.textFont||e.font,ce(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),ce(e,"textAlign")&&(t.align=e.textAlign),ce(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),ce(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),ce(e,"textWidth")&&(t.width=e.textWidth),ce(e,"textHeight")&&(t.height=e.textHeight),ce(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),ce(e,"textPadding")&&(t.padding=e.textPadding),ce(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),ce(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),ce(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),ce(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),ce(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),ce(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),ce(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function pH(t,e,n){var r=t;r.textPosition=r.textPosition||n.position||"inside",null!=n.offset&&(r.textOffset=n.offset),null!=n.rotation&&(r.textRotation=n.rotation),null!=n.distance&&(r.textDistance=n.distance);var o=r.textPosition.indexOf("inside")>=0,i=t.fill||"#000";mH(r,e);var a=null==r.textFill;return o?a&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=i),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(a&&(r.textFill=n.outsideFill||i),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=e.text,r.rich=e.rich,At(e.rich,(function(t){mH(t,t)})),r}function mH(t,e){e&&(ce(e,"fill")&&(t.textFill=e.fill),ce(e,"stroke")&&(t.textStroke=e.fill),ce(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),ce(e,"font")&&(t.font=e.font),ce(e,"fontStyle")&&(t.fontStyle=e.fontStyle),ce(e,"fontWeight")&&(t.fontWeight=e.fontWeight),ce(e,"fontSize")&&(t.fontSize=e.fontSize),ce(e,"fontFamily")&&(t.fontFamily=e.fontFamily),ce(e,"align")&&(t.textAlign=e.align),ce(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),ce(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),ce(e,"width")&&(t.textWidth=e.width),ce(e,"height")&&(t.textHeight=e.height),ce(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),ce(e,"padding")&&(t.textPadding=e.padding),ce(e,"borderColor")&&(t.textBorderColor=e.borderColor),ce(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),ce(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),ce(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),ce(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),ce(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),ce(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),ce(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),ce(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),ce(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),ce(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var gH=Ts.CMD,vH=2*Math.PI,yH=["x","y"],bH=["width","height"],xH=[];function wH(t,e){return Math.abs(t-e)<1e-5}function _H(t){var e,n,r,o,i,a=t.data,u=t.len(),s=[],c=0,l=0,f=0,d=0;function h(t,n){e&&e.length>2&&s.push(e),e=[t,n]}function p(t,n,r,o){wH(t,r)&&wH(n,o)||e.push(t,n,r,o,r,o)}function m(t,n,r,o,i,a){var u=Math.abs(n-t),s=4*Math.tan(u/4)/3,c=n<t?-1:1,l=Math.cos(t),f=Math.sin(t),d=Math.cos(n),h=Math.sin(n),p=l*i+r,m=f*a+o,g=d*i+r,v=h*a+o,y=i*s*c,b=a*s*c;e.push(p-y*f,m+b*l,g+y*h,v-b*d,g,v)}for(var g=0;g<u;){var v=a[g++],y=1===g;switch(y&&(c=a[g],l=a[g+1],f=c,d=l,v!==gH.L&&v!==gH.C&&v!==gH.Q||(e=[f,d])),v){case gH.M:c=f=a[g++],l=d=a[g++],h(f,d);break;case gH.L:n=a[g++],r=a[g++],p(c,l,n,r),c=n,l=r;break;case gH.C:e.push(a[g++],a[g++],a[g++],a[g++],c=a[g++],l=a[g++]);break;case gH.Q:n=a[g++],r=a[g++],o=a[g++],i=a[g++],e.push(c+2/3*(n-c),l+2/3*(r-l),o+2/3*(n-o),i+2/3*(r-i),o,i),c=o,l=i;break;case gH.A:var b=a[g++],x=a[g++],w=a[g++],_=a[g++],S=a[g++],C=a[g++]+S;g+=1;var k=!a[g++];n=Math.cos(S)*w+b,r=Math.sin(S)*_+x,y?(f=n,d=r,h(f,d)):p(c,l,n,r),c=Math.cos(C)*w+b,l=Math.sin(C)*_+x;for(var T=(k?-1:1)*Math.PI/2,A=S;k?A>C:A<C;A+=T){var O=k?Math.max(A+T,C):Math.min(A+T,C);m(A,O,b,x,w,_)}break;case gH.R:f=c=a[g++],d=l=a[g++],n=f+a[g++],r=d+a[g++],h(n,d),p(n,d,n,r),p(n,r,f,r),p(f,r,f,d),p(f,d,n,d);break;case gH.Z:e&&p(c,l,f,d),c=f,l=d;break}}return e&&e.length>2&&s.push(e),s}function SH(t,e){var n=t.length,r=e.length;if(n===r)return[t,e];for(var o=n<r?t:e,i=Math.min(n,r),a=Math.abs(r-n)/6,u=(i-2)/6,s=Math.ceil(a/u)+1,c=[o[0],o[1]],l=a,f=[],d=[],h=2;h<i;){var p=o[h-2],m=o[h-1],g=o[h++],v=o[h++],y=o[h++],b=o[h++],x=o[h++],w=o[h++];if(l<=0)c.push(g,v,y,b,x,w);else{for(var _=Math.min(l,s-1)+1,S=1;S<=_;S++){var C=S/_;Pu(p,g,y,x,C,f),Pu(m,v,b,w,C,d),p=f[3],m=d[3],c.push(f[1],d[1],f[2],d[2],p,m),g=f[5],v=d[5],y=f[6],b=d[6]}l-=_-1}}return o===t?[c,e]:[t,c]}function CH(t,e){for(var n=t.length,r=t[n-2],o=t[n-1],i=[],a=0;a<e.length;)i[a++]=r,i[a++]=o;return i}function kH(t,e){for(var n,r,o,i=[],a=[],u=0;u<Math.max(t.length,e.length);u++){var s=t[u],c=e[u],l=void 0,f=void 0;s?c?(n=SH(s,c),l=n[0],f=n[1],r=l,o=f):(f=CH(o||s,s),l=s):(l=CH(r||c,c),f=c),i.push(l),a.push(f)}return[i,a]}function TH(t){for(var e=0,n=0,r=0,o=t.length,i=0,a=o-2;i<o;a=i,i+=2){var u=t[a],s=t[a+1],c=t[i],l=t[i+1],f=u*l-c*s;e+=f,n+=(u+c)*f,r+=(s+l)*f}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,r/e/3,e]}function AH(t,e,n,r){for(var o=(t.length-2)/6,i=1/0,a=0,u=t.length,s=u-2,c=0;c<o;c++){for(var l=6*c,f=0,d=0;d<u;d+=2){var h=0===d?l:(l+d-2)%s+2,p=t[h]-n[0],m=t[h+1]-n[1],g=e[d]-r[0],v=e[d+1]-r[1],y=g-p,b=v-m;f+=y*y+b*b}f<i&&(i=f,a=c)}return a}function OH(t){for(var e=[],n=t.length,r=0;r<n;r+=2)e[r]=t[n-r-2],e[r+1]=t[n-r-1];return e}function MH(t,e,n,r){for(var o,i=[],a=0;a<t.length;a++){var u=t[a],s=e[a],c=TH(u),l=TH(s);null==o&&(o=c[2]<0!==l[2]<0);var f=[],d=[],h=0,p=1/0,m=[],g=u.length;o&&(u=OH(u));for(var v=6*AH(u,s,c,l),y=g-2,b=0;b<y;b+=2){var x=(v+b)%y+2;f[b+2]=u[x]-c[0],f[b+3]=u[x+1]-c[1]}if(f[0]=u[v]-c[0],f[1]=u[v+1]-c[1],n>0)for(var w=r/n,_=-r/2;_<=r/2;_+=w){var S=Math.sin(_),C=Math.cos(_),k=0;for(b=0;b<u.length;b+=2){var T=f[b],A=f[b+1],O=s[b]-l[0],M=s[b+1]-l[1],D=O*C-M*S,I=O*S+M*C;m[b]=D,m[b+1]=I;var E=D-T,R=I-A;k+=E*E+R*R}if(k<p){p=k,h=_;for(var N=0;N<m.length;N++)d[N]=m[N]}}else for(var P=0;P<g;P+=2)d[P]=s[P]-l[0],d[P+1]=s[P+1]-l[1];i.push({from:f,to:d,fromCp:c,toCp:l,rotation:-h})}return i}function DH(t,e,n){var r,o;if(!t||!e)return e;!t.path&&t.createPathProxy(),r=t.path,r.beginPath(),t.buildPath(r,t.shape),!e.path&&e.createPathProxy(),o=e.path,o===r&&(o=new Ts(!1)),o.beginPath(),PH(e)?e.__oldBuildPath(o,e.shape):e.buildPath(o,e.shape);var i=kH(_H(r),_H(o)),a=i[0],u=i[1],s=MH(a,u,10,Math.PI);EH(e,s,0);var c=n&&n.done,l=n&&n.aborted,f=n&&n.during;return e.animateTo({__morphT:1},wt({during:function(t){e.dirtyShape(),f&&f(t)},done:function(){NH(e),e.createPathProxy(),e.dirtyShape(),c&&c()},aborted:function(){l&&l()}},n)),e}function IH(t){for(var e=this.__morphingData,n=this.__morphT,r=1-n,o=[],i=0;i<e.length;i++){var a=e[i],u=a.from,s=a.to,c=a.rotation*n,l=a.fromCp,f=a.toCp,d=Math.sin(c),h=Math.cos(c);Oe(o,l,f,n);for(var p=0;p<u.length;p+=2){var m=u[p],g=u[p+1],v=s[p],y=s[p+1],b=m*r+v*n,x=g*r+y*n;xH[p]=b*h-x*d+o[0],xH[p+1]=b*d+x*h+o[1]}for(p=0;p<u.length;)0===p&&t.moveTo(xH[p++],xH[p++]),t.bezierCurveTo(xH[p++],xH[p++],xH[p++],xH[p++],xH[p++],xH[p++])}}function EH(t,e,n){if(PH(t))RH(t,e,n);else{var r=t;r.__oldBuildPath=r.buildPath,r.buildPath=IH,RH(r,e,n)}}function RH(t,e,n){t.__morphingData=e,t.__morphT=n}function NH(t){PH(t)&&(t.buildPath=t.__oldBuildPath,t.__oldBuildPath=t.__morphingData=null)}function PH(t){return null!=t.__oldBuildPath}function LH(t){return!!t.__combiningSubList}function BH(t){return PH(t)||LH(t)}function zH(t,e,n,r){for(var o=[],i=0,a=0;a<t.length;a++){var u=t[a];if(LH(u)){for(var s=u.__combiningSubList,c=0;c<s.length;c++)o.push(s[c]);i+=s.length}else o.push(u),i++}if(i){var l=n?n.dividingMethod:null,f=YH(e,i,l);te(f.length===i);var d=n&&n.done,h=n&&n.aborted,p=n&&n.during,m=0,g=!1,v=wt({during:function(t){p&&p(t)},done:function(){m++,m===f.length&&(FH(e),d&&d())},aborted:function(){g||(g=!0,h&&h())}},n);for(a=0;a<i;a++){var y=o[a],b=f[a];r&&r(e,b,!0),DH(y,b,v)}return VH(e,f),{fromIndividuals:o,toIndividuals:f,count:i}}}function VH(t,e){if(LH(t))jH(t,e);else{var n=t;jH(n,e),n.__oldAddSelfToZr=t.addSelfToZr,n.__oldRemoveSelfFromZr=t.removeSelfFromZr,n.addSelfToZr=HH,n.removeSelfFromZr=WH,n.__oldBuildPath=n.buildPath,n.buildPath=le,n.childrenRef=GH}}function FH(t){if(LH(t)){var e=t;jH(e,null),e.addSelfToZr=e.__oldAddSelfToZr,e.removeSelfFromZr=e.__oldRemoveSelfFromZr,e.buildPath=e.__oldBuildPath,e.childrenRef=e.__combiningSubList=e.__oldAddSelfToZr=e.__oldRemoveSelfFromZr=e.__oldBuildPath=null}}function jH(t,e){if(t.__combiningSubList!==e){if(UH(t,"removeSelfFromZr"),t.__combiningSubList=e,e)for(var n=0;n<e.length;n++)e[n].parent=t;UH(t,"addSelfToZr")}}function HH(t){this.__oldAddSelfToZr(t),UH(this,"addSelfToZr")}function UH(t,e){var n=t.__combiningSubList,r=t.__zr;if(n&&r)for(var o=0;o<n.length;o++){var i=n[o];i[e](r)}}function WH(t){this.__oldRemoveSelfFromZr(t);for(var e=this.__combiningSubList,n=0;n<e.length;n++){var r=e[n];r.removeSelfFromZr(t)}}function GH(){return this.__combiningSubList}function qH(t,e,n,r){var o,i=e.length,a=n?n.dividingMethod:null,u=!1;if(LH(t)){var s=t.__combiningSubList;s.length===i?o=s:(o=YH(t,i,a),u=!0)}else o=YH(t,i,a),u=!0;te(o.length===i);for(var c=0;c<i;c++)u&&r&&r(t,o[c],!1),DH(o[c],e[c],n);return{fromIndividuals:o,toIndividuals:e,count:i}}function YH(t,e,n){return"duplicate"===n?ZH(t,e):XH(t,e)}function XH(t,e){var n=[];if(e<=0)return n;if(1===e)return ZH(t,e);if(t instanceof mc)for(var r=t.shape,o=r.height>r.width?1:0,i=bH[o],a=yH[o],u=r[i]/e,s=r[a],c=0;c<e;c++,s+=u){var l={x:r.x,y:r.y,width:r.width,height:r.height};l[a]=s,l[i]=c<e-1?u:r[a]+r[i]-s;var f=new mc({shape:l});n.push(f)}else{if(!(t instanceof Of))return ZH(t,e);r=t.shape;var d=r.clockwise,h=r.startAngle,p=r.endAngle,m=$H(h,r.endAngle,d),g=(m-h)/e,v=h;for(c=0;c<e;c++,v+=g){f=new Of({shape:{cx:r.cx,cy:r.cy,r:r.r,r0:r.r0,clockwise:d,startAngle:v,endAngle:c===e-1?p:v+g}});n.push(f)}}return n}function ZH(t,e){var n=[];if(e<=0)return n;for(var r=t.constructor,o=0;o<e;o++){var i=new r({shape:vt(t.shape)});n.push(i)}return n}function $H(t,e,n){return e+vH*Math[n?"ceil":"floor"]((t-e)/vH)}var KH=ma(),JH={x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1},QH=(Et(JH).join(", "),{color:"fill",borderColor:"stroke"}),tU={symbol:1,symbolSize:1,symbolKeepAspect:1,legendSymbol:1,visualMeta:1,liftZ:1,decal:1},eU="emphasis",nU="normal",rU="blur",oU="select",iU=[nU,eU,rU,oU],aU={normal:["itemStyle"],emphasis:[eU,"itemStyle"],blur:[rU,"itemStyle"],select:[oU,"itemStyle"]},uU={normal:["label"],emphasis:[eU,"label"],blur:[rU,"label"],select:[oU,"label"]},sU="e\0\0",cU={normal:{},emphasis:{},blur:{},select:{}},lU={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},fU=new Bn,dU={cartesian2d:rH,geo:iH,singleAxis:uH,polar:cH,calendar:lH},hU=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return bk(this.getSource(),this)},e.prototype.getDataParams=function(e,n,r){var o=t.prototype.getDataParams.call(this,e,n);return r&&(o.info=KH(r).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},e}(ly),pU=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n,r){var o=this._data,i=t.getData(),a=this.group,u=BU(t,i,e,n),s=t.__transientTransitionOpt;if(!s||null!=s.from&&null!=s.to){var c=new rW(t,s),l=s?"multiple":"oneToOne";new SC(o?o.getIndices():[],i.getIndices(),mU(o,l,s&&s.from),mU(i,l,s&&s.to),null,l).add((function(e){VU(n,null,e,u(e,r),t,a,i,null)})).remove((function(e){JU(o.getItemGraphicEl(e),t,a)})).update((function(e,s){c.reset("oneToOne");var l=o.getItemGraphicEl(s);c.findAndAddFrom(l),c.hasFrom()&&(nW(l,a),l=null),VU(n,l,e,u(e,r),t,a,i,c),c.applyMorphing()})).updateManyToOne((function(e,s){c.reset("manyToOne");for(var l=0;l<s.length;l++){var f=o.getItemGraphicEl(s[l]);c.findAndAddFrom(f),nW(f,a)}VU(n,null,e,u(e,r),t,a,i,c),c.applyMorphing()})).updateOneToMany((function(e,s){c.reset("oneToMany");var l=e.length,f=o.getItemGraphicEl(s);c.findAndAddFrom(f),nW(f,a);for(var d=0;d<l;d++)VU(n,null,e[d],u(e[d],r),t,a,i,c);c.applyMorphing()})).execute()}else o&&o.each((function(e){JU(o.getItemGraphicEl(e),t,a)})),i.each((function(e){VU(n,null,e,u(e,r),t,a,i,null)}));var f=t.get("clip",!0)?$k(t.coordinateSystem,!1,t):null;f?a.setClipPath(f):a.removeClipPath(),this._data=i},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,r,o){var i=e.getData(),a=BU(e,i,n,r);function u(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var s=t.start;s<t.end;s++){var c=VU(null,null,s,a(s,o),e,this.group,i,null);c.traverse(u)}},e.prototype.filterForExposedEvent=function(t,e,n,r){var o=e.element;if(null==o||n.name===o)return!0;while((n=n.__hostTarget||n.parent)&&n!==this.group)if(n.name===o)return!0;return!1},e.type="custom",e}(_y);function mU(t,e,n){if(t){if("oneToOne"===e)return function(e,n){return t.getId(n)};var r=t.getDimension(n),o=t.getDimensionInfo(r);if(!o){var i="";0,cv(i)}var a=o.ordinalMeta;return function(e,n){var o=t.get(r,n);return a&&(o=a.categories[o]),null==o||Xt(o)?e+"":"_ec_"+o}}}function gU(t){var e,n=t.type;if("path"===n){var r=t.shape,o=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,i=QU(r);e=kd(i,null,o,r.layout||"center"),KH(e).customPathData=i}else if("image"===n)e=new ac({}),KH(e).customImagePath=t.style.image;else if("text"===n)e=new Mc({});else if("group"===n)e=new fi;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=Cd(n);if(!a){var u="";0,cv(u)}e=new a}return KH(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function vU(t,e,n,r,o,i,a,u,s,c){var l={},f={},d=e.isGroup?null:e;!n&&xU("shape",e,null,o,l,s),wU("shape",o,f),!n&&xU("extra",e,null,o,l,s),wU("extra",o,f),!n&&_U(e,null,o,l,s),SU(o,f);var h=a&&a.normal.cfg;if(h&&e.setTextConfig(h),"text"===e.type&&i){var p=i;ce(p,"textFill")&&(p.fill=p.textFill),ce(p,"textStroke")&&(p.stroke=p.textStroke)}if(i){var m=void 0,g=eW(e)?i.decal:null;t&&g&&(g.dirty=!0,m=ow(g,t)),i.__decalPattern=m}return!n&&CU(e,null,o,i,l,s),d&&ce(o,"invisible")&&(d.invisible=o.invisible),n||(yU(e,f,i),bU(e,r,o,u,l,s)),ce(o,"silent")&&(e.silent=o.silent),ce(o,"ignore")&&(e.ignore=o.ignore),c||ce(o,"info")&&(KH(e).info=o.info),i?e.dirty():e.markRedraw(),n?f:null}function yU(t,e,n){var r=t.isGroup?null:t;if(r&&n){var o=n.__decalPattern,i=void 0;o&&(i=n.decal,n.decal=o),r.useStyle(n),o&&(n.decal=i);for(var a=r.animators,u=0;u<a.length;u++){var s=a[u];"style"===s.targetName&&s.changeTarget(r.style)}}e&&t.attr(e)}function bU(t,e,n,r,o,i){if(o){var a=n.during;KH(t).userDuring=a;var u=a?Nt(DU,{el:t,userDuring:a}):null,s={dataIndex:e,isFrom:!0,during:u};i?Pd(t,o,r,s):Nd(t,o,r,s)}}function xU(t,e,n,r,o,i){var a=r[t];if(a){var u,s=e[t],c=a.enterFrom;if(i&&c){!u&&(u=o[t]={});for(var l=Et(c),f=0;f<l.length;f++){var d=l[f];u[d]=c[d]}}if(!i&&s&&(null==n||"shape"!==t))if(a.transition){!u&&(u=o[t]={});var h=Yi(a.transition);for(f=0;f<h.length;f++){d=h[f];var p=s[d];0,u[d]=p}}else if(St(r.transition,t)>=0){!u&&(u=o[t]={});var m=Et(s);for(f=0;f<m.length;f++){d=m[f],p=s[d];TU(a[d],p)&&(u[d]=p)}}var g=a.leaveTo;if(g){var v=AU(e),y=v[t]||(v[t]={}),b=Et(g);for(f=0;f<b.length;f++){d=b[f];y[d]=g[d]}}}}function wU(t,e,n){var r=e[t];if(r)for(var o=n[t]={},i=Et(r),a=0;a<i.length;a++){var u=i[a];o[u]=Ar(r[u])}}function _U(t,e,n,r,o){var i=n.enterFrom;if(o&&i)for(var a=Et(i),u=0;u<a.length;u++){var s=a[u];0,r[s]=i[s]}if(!o)if(e){var c=kU(e,t);LU(r,"x",c),LU(r,"y",c),LU(r,"scaleX",c),LU(r,"scaleY",c),LU(r,"originX",c),LU(r,"originY",c),LU(r,"rotation",c)}else if(n.transition){var l=Yi(n.transition);for(u=0;u<l.length;u++){s=l[u];if("style"!==s&&"shape"!==s&&"extra"!==s){var f=t[s];0,r[s]=f}}}else LU(r,"x",t),LU(r,"y",t);var d=n.leaveTo;if(d){var h=AU(t),p=Et(d);for(u=0;u<p.length;u++){s=p[u];0,h[s]=d[s]}}}function SU(t,e){NU(t,e,"position"),NU(t,e,"scale"),NU(t,e,"origin"),PU(t,e,"x"),PU(t,e,"y"),PU(t,e,"scaleX"),PU(t,e,"scaleY"),PU(t,e,"originX"),PU(t,e,"originY"),PU(t,e,"rotation")}function CU(t,e,n,r,o,i){if(r){var a,u=e||t,s=u.style,c=r.enterFrom;if(i&&c){var l=Et(c);!a&&(a=o.style={});for(var f=0;f<l.length;f++){var d=l[f];a[d]=c[d]}}if(!i&&s)if(r.transition){var h=Yi(r.transition);!a&&(a=o.style={});for(f=0;f<h.length;f++){d=h[f];var p=s[d];a[d]=p}}else if(t.getAnimationStyleProps&&St(n.transition,"style")>=0){var m=t.getAnimationStyleProps(),g=m?m.style:null;if(g){!a&&(a=o.style={});var v=Et(r);for(f=0;f<v.length;f++){d=v[f];if(g[d]){p=s[d];a[d]=p}}}}var y=r.leaveTo;if(y){var b=Et(y),x=AU(t),w=x.style||(x.style={});for(f=0;f<b.length;f++){d=b[f];w[d]=y[d]}}}}function kU(t,e){if(!t||t===e||t.parent===e.parent)return t;var n=fU.transform||(fU.transform=wn([])),r=t.getComputedTransform();r?_n(n,r):wn(n);var o=e.parent;return o&&o.getComputedTransform(),fU.originX=t.originX,fU.originY=t.originY,fU.parent=o,fU.decomposeTransform(),fU}function TU(t,e){return Tt(t)?t!==e:null!=t&&isFinite(t)}function AU(t){var e=KH(t);return e.leaveToProps||(e.leaveToProps={})}var OU={},MU={setTransform:function(t,e){return OU.el[t]=e,this},getTransform:function(t){return OU.el[t]},setShape:function(t,e){var n=OU.el.shape||(OU.el.shape={});return n[t]=e,OU.isShapeDirty=!0,this},getShape:function(t){var e=OU.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=OU.el.style;return n&&(n[t]=e,OU.isStyleDirty=!0),this},getStyle:function(t){var e=OU.el.style;if(e)return e[t]},setExtra:function(t,e){var n=OU.el.extra||(OU.el.extra={});return n[t]=e,this},getExtra:function(t){var e=OU.el.extra;if(e)return e[t]}};function DU(){var t=this,e=t.el;if(e){var n=KH(e).userDuring,r=t.userDuring;n===r?(OU.el=e,OU.isShapeDirty=!1,OU.isStyleDirty=!1,r(MU),OU.isShapeDirty&&e.dirtyShape&&e.dirtyShape(),OU.isStyleDirty&&e.dirtyStyle&&e.dirtyStyle()):t.el=t.userDuring=null}}function IU(t,e,n,r,o,i,a){var u=e.isGroup?null:e,s=o&&o[t].cfg;if(u){var c=u.ensureState(t);if(!1===r){var l=u.getState(t);l&&(l.style=null)}else c.style=r||null;s&&(c.textConfig=s),ll(u)}}function EU(t,e,n,r){if(!t.isGroup){var o=t,i=n.currentZ,a=n.currentZLevel;o.z=i,o.zlevel=a;var u=e.z2;null!=u&&(o.z2=u||0);for(var s=0;s<iU.length;s++)RU(o,e,iU[s])}}function RU(t,e,n){var r,o=n===nU,i=o?e:GU(e,n),a=i?i.z2:null;null!=a&&(r=o?t:t.ensureState(n),r.z2=a||0)}function NU(t,e,n,r){var o=t[n],i=lU[n];o&&(r?(e[i[0]]=r[i[0]],e[i[1]]=r[i[1]]):(e[i[0]]=o[0],e[i[1]]=o[1]))}function PU(t,e,n,r){null!=t[n]&&(e[n]=r?r[n]:t[n])}function LU(t,e,n){n&&(t[e]=n[e])}function BU(t,e,n,r){var o=t.get("renderItem"),i=t.coordinateSystem,a={};i&&(a=i.prepareCustoms?i.prepareCustoms(i):dU[i.type](i));for(var u,s,c=wt({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:x,style:_,ordinalRawValue:w,styleEmphasis:S,visual:T,barLayout:A,currentSeriesIndices:O,font:M},a.api||{}),l={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:zU(t.getData())},f={},d={},h={},p={},m=0;m<iU.length;m++){var g=iU[m];h[g]=t.getModel(aU[g]),p[g]=t.getModel(uU[g])}function v(t){return t===u?s||(s=e.getItemModel(t)):e.getItemModel(t)}function y(t,n){return e.hasItemOption?t===u?f[n]||(f[n]=v(t).getModel(aU[n])):v(t).getModel(aU[n]):h[n]}function b(t,n){return e.hasItemOption?t===u?d[n]||(d[n]=v(t).getModel(uU[n])):v(t).getModel(uU[n]):p[n]}return function(t,n){return u=t,s=null,f={},d={},o&&o(wt({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},l),c)};function x(t,n){return null==n&&(n=u),e.get(e.getDimension(t||0),n)}function w(t,n){null==n&&(n=u);var r=e.getDimensionInfo(t||0);if(r){var o=e.get(r.name,n),i=r&&r.ordinalMeta;return i?i.categories[o]:o}}function _(n,r){null==r&&(r=u);var o=e.getItemVisual(r,"style"),i=o&&o.fill,a=o&&o.opacity,s=y(r,nU).getItemStyle();null!=i&&(s.fill=i),null!=a&&(s.opacity=a);var c={inheritColor:zt(i)?i:"#000"},l=b(r,nU),f=oh(l,null,c,!1,!0);f.text=l.getShallow("show")?$t(t.getFormattedLabel(r,nU),_k(e,r)):null;var d=ih(l,c,!1);return k(n,s),s=pH(s,f,d),n&&C(s,n),s.legacy=!0,s}function S(n,r){null==r&&(r=u);var o=y(r,eU).getItemStyle(),i=b(r,eU),a=oh(i,null,null,!0,!0);a.text=i.getShallow("show")?Kt(t.getFormattedLabel(r,eU),t.getFormattedLabel(r,nU),_k(e,r)):null;var s=ih(i,null,!0);return k(n,o),o=pH(o,a,s),n&&C(o,n),o.legacy=!0,o}function C(t,e){for(var n in e)ce(e,n)&&(t[n]=e[n])}function k(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}function T(t,n){if(null==n&&(n=u),ce(QH,t)){var r=e.getItemVisual(n,"style");return r?r[QH[t]]:null}if(ce(tU,t))return e.getItemVisual(n,t)}function A(t){if("cartesian2d"===i.type){var e=i.getBaseAxis();return kT(wt({axis:e},t))}}function O(){return n.getCurrentSeriesIndices()}function M(t){return dh(t,n)}}function zU(t){var e={};return At(t.dimensions,(function(n,r){var o=t.getDimensionInfo(n);if(!o.isExtraCoord){var i=o.coordDim,a=e[i]=e[i]||[];a[o.coordDimIndex]=r}})),e}function VU(t,e,n,r,o,i,a,u){if(r)return e=FU(t,e,n,r,o,i,!0,u),e&&a.setItemGraphicEl(n,e),Tl(e,r.focus,r.blurScope),e;nW(e,i)}function FU(t,e,n,r,o,i,a,u){var s=-1;e&&jU(e,r)&&(s=i.childrenRef().indexOf(e),e=null);var c=!e;e?e.clearStates():e=gU(r);var l=KH(e).canMorph=r.morph&&eW(e),f=l&&u&&u.hasFrom(),d=c&&!f;cU.normal.cfg=cU.normal.conOpt=cU.emphasis.cfg=cU.emphasis.conOpt=cU.blur.cfg=cU.blur.conOpt=cU.select.cfg=cU.select.conOpt=null,cU.isLegacy=!1,UU(e,n,r,o,d,cU),HU(e,n,r,o,d);var h=vU(t,e,f,n,r,r.style,cU,o,d,!1);f&&u.addTo(e,r,n,h);for(var p=0;p<iU.length;p++){var m=iU[p];if(m!==nU){var g=GU(r,m),v=qU(r,g,m);IU(m,e,g,v,cU,a,!1)}}return EU(e,r,o,cU),"group"===r.type&&YU(t,e,n,r,o,u),s>=0?i.replaceAt(e,s):i.add(e),e}function jU(t,e){var n=KH(t),r=e.type,o=e.shape,i=e.style;return null!=r&&r!==n.customGraphicType||"path"===r&&tW(o)&&QU(o)!==n.customPathData||"image"===r&&ce(i,"image")&&i.image!==n.customImagePath}function HU(t,e,n,r,o){var i=n.clipPath;if(!1===i)t&&t.getClipPath()&&t.removeClipPath();else if(i){var a=t.getClipPath();a&&jU(a,i)&&(a=null),a||(a=gU(i),t.setClipPath(a)),vU(null,a,null,e,i,null,null,r,o,!1)}}function UU(t,e,n,r,o,i){if(!t.isGroup){WU(n,null,i),WU(n,eU,i);var a=i.normal.conOpt,u=i.emphasis.conOpt,s=i.blur.conOpt,c=i.select.conOpt;if(null!=a||null!=u||null!=c||null!=s){var l=t.getTextContent();if(!1===a)l&&t.removeTextContent();else{a=i.normal.conOpt=a||{type:"text"},l?l.clearStates():(l=gU(a),t.setTextContent(l));var f=a&&a.style;vU(null,l,null,e,a,f,null,r,o,!0);for(var d=0;d<iU.length;d++){var h=iU[d];if(h!==nU){var p=i[h].conOpt;IU(h,l,p,qU(a,p,h),null,!1,!0)}}f?l.dirty():l.markRedraw()}}}}function WU(t,e,n){var r=e?GU(t,e):t,o=e?qU(t,r,eU):t.style,i=t.type,a=r?r.textConfig:null,u=t.textContent,s=u?e?GU(u,e):u:null;if(o&&(n.isLegacy||fH(o,i,!!a,!!s))){n.isLegacy=!0;var c=dH(o,i,!e);!a&&c.textConfig&&(a=c.textConfig),!s&&c.textContent&&(s=c.textContent)}if(!e&&s){var l=s;!l.type&&(l.type="text")}var f=e?n[e]:n.normal;f.cfg=a,f.conOpt=s}function GU(t,e){return e?t?t[e]:null:t}function qU(t,e,n){var r=e&&e.style;return null==r&&n===eU&&t&&(r=t.styleEmphasis),r}function YU(t,e,n,r,o,i){var a=r.children,u=a?a.length:0,s=r.$mergeChildren,c="byName"===s||r.diffChildrenByName,l=!1===s;if(u||c||l)if(c)XU({api:t,oldChildren:e.children()||[],newChildren:a||[],dataIndex:n,seriesModel:o,group:e,morphPreparation:i});else{l&&e.removeAll();for(var f=0;f<u;f++)a[f]&&FU(t,e.childAt(f),n,a[f],o,e,!1,i);for(var d=e.childCount()-1;d>=f;d--)JU(e.childAt(d),o,e)}}function XU(t){new SC(t.oldChildren,t.newChildren,ZU,ZU,t).add($U).update($U).remove(KU).execute()}function ZU(t,e){var n=t&&t.name;return null!=n?n:sU+e}function $U(t,e){var n=this.context,r=null!=t?n.newChildren[t]:null,o=null!=e?n.oldChildren[e]:null;FU(n.api,o,n.dataIndex,r,n.seriesModel,n.group,!1,n.morphPreparation)}function KU(t){var e=this.context,n=e.oldChildren[t];JU(n,e.seriesModel,e.group)}function JU(t,e,n){if(t){var r=KH(t).leaveToProps;r?Nd(t,r,e,{cb:function(){n.remove(t)}}):n.remove(t)}}function QU(t){return t&&(t.pathData||t.d)}function tW(t){return t&&(ce(t,"pathData")||ce(t,"d"))}function eW(t){return t&&t instanceof Js}function nW(t,e){t&&e.remove(t)}var rW=function(){function t(t,e){this._fromList=[],this._toList=[],this._toElOptionList=[],this._allPropsFinalList=[],this._toDataIndices=[],this._morphConfigList=[],this._seriesModel=t,this._transOpt=e}return t.prototype.hasFrom=function(){return!!this._fromList.length},t.prototype.findAndAddFrom=function(t){if(t&&(KH(t).canMorph&&this._fromList.push(t),t.isGroup))for(var e=t.childrenRef(),n=0;n<e.length;n++)this.findAndAddFrom(e[n])},t.prototype.addTo=function(t,e,n,r){t&&(this._toList.push(t),this._toElOptionList.push(e),this._toDataIndices.push(n),this._allPropsFinalList.push(r))},t.prototype.applyMorphing=function(){var t=this._type,e=this._fromList,n=this._toList,r=n.length,o=e.length;if(o&&r)if("oneToOne"===t)for(var i=0;i<r;i++)this._oneToOneForSingleTo(i,i);else if("manyToOne"===t)for(var a=Math.max(1,Math.floor(o/r)),u=(i=0,0);i<r;i++,u+=a){var s=i+1>=r?o-u:a;this._manyToOneForSingleTo(i,u>=o?null:u,s)}else if("oneToMany"===t)for(var c=Math.max(1,Math.floor(r/o)),l=0,f=0;l<r;l+=c,f++){var d=l+c>=r?r-l:c;this._oneToManyForSingleFrom(l,d,f>=o?null:f)}},t.prototype._oneToOneForSingleTo=function(t,e){var n=this._toList[t],r=this._toElOptionList[t],o=this._toDataIndices[t],i=this._allPropsFinalList[t],a=this._fromList[e],u=this._getOrCreateMorphConfig(o),s=u.duration;if(a&&LH(a)){if(yU(n,i,r.style),s){var c=zH([a],n,u,oW);this._processResultIndividuals(c,t,null)}}else{var l=s&&a&&(a!==n||BH(a))?a:null,f={};xU("shape",n,l,r,f,!1),xU("extra",n,l,r,f,!1),_U(n,l,r,f,!1),CU(n,l,r,r.style,f,!1),yU(n,i,r.style),l&&DH(l,n,u),bU(n,o,r,this._seriesModel,f,!1)}},t.prototype._manyToOneForSingleTo=function(t,e,n){var r=this._toList[t],o=this._toElOptionList[t],i=this._allPropsFinalList[t];yU(r,i,o.style);var a=this._getOrCreateMorphConfig(this._toDataIndices[t]);if(a.duration&&null!=e){for(var u=[],s=e;s<n;s++)u.push(this._fromList[s]);var c=zH(u,r,a,oW);this._processResultIndividuals(c,t,null)}},t.prototype._oneToManyForSingleFrom=function(t,e,n){for(var r=null==n?null:this._fromList[n],o=this._toList,i=[],a=t;a<e;a++){var u=o[a];yU(u,this._allPropsFinalList[a],this._toElOptionList[a].style),i.push(u)}var s=this._getOrCreateMorphConfig(this._toDataIndices[t]);if(s.duration&&r){var c=qH(r,i,s,oW);this._processResultIndividuals(c,t,e)}},t.prototype._processResultIndividuals=function(t,e,n){for(var r=null!=n,o=0;o<t.count;o++){var i=t.fromIndividuals[o],a=t.toIndividuals[o],u=e+(r?o:0),s=this._toElOptionList[u],c=this._toDataIndices[u],l={};_U(a,i,s,l,!1),CU(a,i,s,s.style,l,!1),bU(a,c,s,this._seriesModel,l,!1)}},t.prototype._getOrCreateMorphConfig=function(t){var e,n,r,o=this._morphConfigList,i=o[t];if(i)return i;var a=this._seriesModel,u=this._transOpt;if(a.isAnimationEnabled()){var s=void 0;if(a&&a.ecModel){var c=a.ecModel.getUpdatePayload();s=c&&c.animation}if(s)e=s.duration||0,n=s.easing||"cubicOut",r=s.delay||0;else{n=a.get("animationEasingUpdate");var l=a.get("animationDelayUpdate");r=Bt(l)?l(t):l;var f=a.get("animationDurationUpdate");e=Bt(f)?f(t):f}}return i={duration:e||0,delay:r,easing:n,dividingMethod:u?u.dividingMethod:null},o[t]=i,i},t.prototype.reset=function(t){this._type=t,this._fromList.length=this._toList.length=this._toElOptionList.length=this._allPropsFinalList.length=this._toDataIndices.length=0},t}();function oW(t,e,n){e.style=n?vt(t.style):t.style,e.zlevel=t.zlevel,e.z=t.z,e.z2=t.z2}function iW(t){t.registerChartView(pU),t.registerSeriesModel(hU)}var aW=ma(),uW=vt,sW=Nt,cW=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,r){var o=e.get("value"),i=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==o||this._lastStatus!==i){this._lastValue=o,this._lastStatus=i;var a=this._group,u=this._handle;if(!i||"hide"===i)return a&&a.hide(),void(u&&u.hide());a&&a.show(),u&&u.show();var s={};this.makeElOption(s,o,t,e,n);var c=s.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var l=this._moveAnimation=this.determineAnimation(t,e);if(a){var f=Pt(lW,e,l);this.updatePointerEl(a,s,f),this.updateLabelEl(a,s,f,e)}else a=this._group=new fi,this.createPointerEl(a,s,t,e),this.createLabelEl(a,s,t,e),n.getZr().add(a);pW(a,e,!0),this._renderHandle(o)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),r=t.axis,o="category"===r.type,i=e.get("snap");if(!i&&!o)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(o&&r.getBandWidth()>a)return!0;if(i){var u=dD(t).seriesDataCount,s=r.getExtent();return Math.abs(s[0]-s[1])/u>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,r,o){},t.prototype.createPointerEl=function(t,e,n,o){var i=e.pointer;if(i){var a=aW(t).pointerEl=new r[i.type](uW(e.pointer));t.add(a)}},t.prototype.createLabelEl=function(t,e,n,r){if(e.label){var o=aW(t).labelEl=new Mc(uW(e.label));t.add(o),dW(o,r)}},t.prototype.updatePointerEl=function(t,e,n){var r=aW(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,r){var o=aW(t).labelEl;o&&(o.setStyle(e.label.style),n(o,{x:e.label.x,y:e.label.y}),dW(o,r))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),o=this._handle,i=n.getModel("handle"),a=n.get("status");if(!i.get("show")||!a||"hide"===a)return o&&r.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Xd(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){rn(t.event)},onmousedown:sW(this._onHandleDragMove,this,0,0),drift:sW(this._onHandleDragMove,this),ondragend:sW(this._onHandleDragEnd,this)}),r.add(o)),pW(o,n,!1),o.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=i.get("size");Lt(u)||(u=[u,u]),o.scaleX=u[0]/2,o.scaleY=u[1]/2,Ay(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){lW(this._axisPointerModel,!e&&this._moveAnimation,this._handle,hW(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(hW(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(hW(r)),aW(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},t}();function lW(t,e,n,r){fW(aW(n).lastProp,r)||(aW(n).lastProp=r,e?Nd(n,r,t):(n.stopAnimation(),n.attr(r)))}function fW(t,e){if(jt(t)&&jt(e)){var n=!0;return At(e,(function(e,r){n=n&&fW(t[r],e)})),!!n}return t===e}function dW(t,e){t[e.get(["label","show"])?"show":"hide"]()}function hW(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function pW(t,e,n){var r=e.get("z"),o=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=o&&(t.zlevel=o),t.silent=n)}))}var mW=cW;function gW(t){var e,n=t.get("type"),r=t.getModel(n+"Style");return"line"===n?(e=r.getLineStyle(),e.fill=null):"shadow"===n&&(e=r.getAreaStyle(),e.stroke=null),e}function vW(t,e,n,r,o){var i=n.get("value"),a=bW(i,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),u=n.getModel("label"),s=kp(u.get("padding")||0),c=u.getFont(),l=to(a,c),f=o.position,d=l.width+s[1]+s[3],h=l.height+s[0]+s[2],p=o.align;"right"===p&&(f[0]-=d),"center"===p&&(f[0]-=d/2);var m=o.verticalAlign;"bottom"===m&&(f[1]-=h),"middle"===m&&(f[1]-=h/2),yW(f,d,h,r);var g=u.get("backgroundColor");g&&"auto"!==g||(g=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:oh(u,{text:a,font:c,fill:u.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function yW(t,e,n,r){var o=r.getWidth(),i=r.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+n,i)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function bW(t,e,n,r,o){t=e.scale.parse(t);var i=e.scale.getLabel({value:t},{precision:o.precision}),a=o.formatter;if(a){var u={value:nM(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};At(r,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),r=t.dataIndexInside,o=e&&e.getDataParams(r);o&&u.seriesData.push(o)})),zt(a)?i=a.replace("{value}",i):Bt(a)&&(i=a(u))}return i}function xW(t,e,n){var r=xn();return kn(r,r,n.rotation),Cn(r,r,n.position),jd([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function wW(t,e,n,r,o,i){var a=oD.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get(["label","margin"]),vW(e,r,o,i,{position:xW(r.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function _W(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function SW(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}function CW(t,e,n,r,o,i){return{cx:t,cy:e,r0:n,r:r,startAngle:o,endAngle:i,clockwise:!0}}var kW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.makeElOption=function(t,e,n,r,o){var i=n.axis,a=i.grid,u=r.get("type"),s=TW(a,i).getOtherAxis(i).getGlobalExtent(),c=i.toGlobalCoord(i.dataToCoord(e,!0));if(u&&"none"!==u){var l=gW(r),f=AW[u](i,c,s);f.style=l,t.graphicKey=f.type,t.pointer=f}var d=BM(a.model,n);wW(e,t,d,n,r,o)},e.prototype.getHandleTransform=function(t,e,n){var r=BM(e.axis.grid.model,e,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var o=xW(e.axis,t,r);return{x:o[0],y:o[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,r){var o=n.axis,i=o.grid,a=o.getGlobalExtent(!0),u=TW(i,o).getOtherAxis(o).getGlobalExtent(),s="x"===o.dim?0:1,c=[t.x,t.y];c[s]+=e[s],c[s]=Math.min(a[1],c[s]),c[s]=Math.max(a[0],c[s]);var l=(u[1]+u[0])/2,f=[l,l];f[s]=c[s];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:f,tooltipOption:d[s]}},e}(mW);function TW(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var AW={line:function(t,e,n){var r=_W([e,n[0]],[e,n[1]],OW(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:SW([e-r/2,n[0]],[r,o],OW(t))}}};function OW(t){return"x"===t.dim?0:1}var MW=kW,DW=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Qp),IW=DW,EW=ma(),RW=At;function NW(t,e,n){if(!nt.node){var r=e.getZr();EW(r).records||(EW(r).records={}),PW(r,e);var o=EW(r).records[t]||(EW(r).records[t]={});o.handler=n}}function PW(t,e){function n(n,r){t.on(n,(function(n){var o=VW(e);RW(EW(t).records,(function(t){t&&r(t,n,o.dispatchAction)})),LW(o.pendings,e)}))}EW(t).initialized||(EW(t).initialized=!0,n("click",Pt(zW,"click")),n("mousemove",Pt(zW,"mousemove")),n("globalout",BW))}function LW(t,e){var n,r=t.showTip.length,o=t.hideTip.length;r?n=t.showTip[r-1]:o&&(n=t.hideTip[o-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function BW(t,e,n){t.handler("leave",null,n)}function zW(t,e,n,r){e.handler(t,n,r)}function VW(t){var e={showTip:[],hideTip:[]},n=function(r){var o=e[r.type];o?o.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}function FW(t,e){if(!nt.node){var n=e.getZr(),r=(EW(n).records||{})[t];r&&(EW(n).records[t]=null)}}var jW=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=e.getComponent("tooltip"),o=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";NW("axisPointer",n,(function(t,e,n){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){FW("axisPointer",e)},e.prototype.dispose=function(t,e){FW("axisPointer",e)},e.type="axisPointer",e}(dy),HW=jW;function UW(t,e){var n,r=[],o=t.seriesIndex;if(null==o||!(n=e.getSeriesByIndex(o)))return{point:[]};var i=n.getData(),a=pa(i,t);if(null==a||a<0||Lt(a))return{point:[]};var u=i.getItemGraphicEl(a),s=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(a)||[];else if(s&&s.dataToPoint)if(t.isStacked){var c=s.getBaseAxis(),l=s.getOtherAxis(c),f=l.dim,d=c.dim,h="x"===f||"radius"===f?1:0,p=i.mapDimension(d),m=[];m[h]=i.get(p,a),m[1-h]=i.get(i.getCalculationInfo("stackResultDimension"),a),r=s.dataToPoint(m)||[]}else r=s.dataToPoint(i.getValues(Ot(s.dimensions,(function(t){return i.mapDimension(t)})),a))||[];else if(u){var g=u.getBoundingRect().clone();g.applyTransform(u.transform),r=[g.x+g.width/2,g.y+g.height/2]}return{point:r,el:u}}var WW=ma();function GW(t,e,n){var r=t.currTrigger,o=[t.x,t.y],i=t,a=t.dispatchAction||Nt(n.dispatchAction,n),u=e.getComponent("axisPointer").coordSysAxesInfo;if(u){eG(o)&&(o=UW({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},e).point);var s=eG(o),c=i.axesInfo,l=u.axesInfo,f="leave"===r||eG(o),d={},h={},p={list:[],map:{}},m={showPointer:Pt(XW,h),showTooltip:Pt(ZW,p)};At(u.coordSysMap,(function(t,e){var n=s||t.containPoint(o);At(u.coordSysAxesInfo[e],(function(t,e){var r=t.axis,i=QW(c,t);if(!f&&n&&(!c||i)){var a=i&&i.value;null!=a||s||(a=r.pointToData(o)),null!=a&&qW(t,a,m,!1,d)}}))}));var g={};return At(l,(function(t,e){var n=t.linkGroup;n&&!h[e]&&At(n.axesInfo,(function(e,r){var o=h[r];if(e!==t&&o){var i=o.value;n.mapper&&(i=t.axis.scale.parse(n.mapper(i,tG(e),tG(t)))),g[t.key]=i}}))})),At(g,(function(t,e){qW(l[e],t,m,!0,d)})),$W(h,l,d),KW(p,o,t,a),JW(l,a,n),d}}function qW(t,e,n,r,o){var i=t.axis;if(!i.scale.isBlank()&&i.containData(e))if(t.involveSeries){var a=YW(e,t),u=a.payloadBatch,s=a.snapToValue;u[0]&&null==o.seriesIndex&&xt(o,u[0]),!r&&t.snap&&i.containData(s)&&null!=s&&(e=s),n.showPointer(t,e,u),n.showTooltip(t,a,s)}else n.showPointer(t,e)}function YW(t,e){var n=e.axis,r=n.dim,o=t,i=[],a=Number.MAX_VALUE,u=-1;return At(e.seriesModels,(function(e,s){var c,l,f=e.getData().mapDimensionsAll(r);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(f,t,n);l=d.dataIndices,c=d.nestestValue}else{if(l=e.getData().indicesOfNearest(f[0],t,"category"===n.type?.5:null),!l.length)return;c=e.getData().get(f[0],l[0])}if(null!=c&&isFinite(c)){var h=t-c,p=Math.abs(h);p<=a&&((p<a||h>=0&&u<0)&&(a=p,u=h,o=c,i.length=0),At(l,(function(t){i.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:i,snapToValue:o}}function XW(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function ZW(t,e,n,r){var o=n.payloadBatch,i=e.axis,a=i.model,u=e.axisPointerModel;if(e.triggerTooltip&&o.length){var s=e.coordSys.model,c=mD(s),l=t.map[c];l||(l=t.map[c]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},t.list.push(l)),l.dataByAxis.push({axisDim:i.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:u.get(["label","precision"]),formatter:u.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function $W(t,e,n){var r=n.axesInfo=[];At(e,(function(e,n){var o=e.axisPointerModel.option,i=t[n];i?(!e.useHandle&&(o.status="show"),o.value=i.value,o.seriesDataIndices=(i.payloadBatch||[]).slice()):!e.useHandle&&(o.status="hide"),"show"===o.status&&r.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})}))}function KW(t,e,n,r){if(!eG(e)&&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}else r({type:"hideTip"})}function JW(t,e,n){var r=n.getZr(),o="axisPointerLastHighlights",i=WW(r)[o]||{},a=WW(r)[o]={};At(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&At(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var u=[],s=[];At(i,(function(t,e){!a[e]&&s.push(t)})),At(a,(function(t,e){!i[e]&&u.push(t)})),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),u.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:u})}function QW(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function tG(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function eG(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function nG(t){yD.registerAxisPointerClass("CartesianAxisPointer",MW),t.registerComponentModel(IW),t.registerComponentView(HW),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Lt(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=iD(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},GW)}function rG(t){Z_(DD),Z_(nG)}var oG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.makeElOption=function(t,e,n,r,o){var i=n.axis;"angle"===i.dim&&(this.animationThreshold=Math.PI/18);var a=i.polar,u=a.getOtherAxis(i),s=u.getExtent(),c=i.dataToCoord(e),l=r.get("type");if(l&&"none"!==l){var f=gW(r),d=aG[l](i,a,c,s);d.style=f,t.graphicKey=d.type,t.pointer=d}var h=r.get(["label","margin"]),p=iG(e,n,r,a,h);vW(t,n,r,o,p)},e}(mW);function iG(t,e,n,r,o){var i=e.axis,a=i.dataToCoord(t),u=r.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var s,c,l,f=r.getRadiusAxis().getExtent();if("radius"===i.dim){var d=xn();kn(d,d,u),Cn(d,d,[r.cx,r.cy]),s=jd([a,-o],d);var h=e.getModel("axisLabel").get("rotate")||0,p=oD.innerTextLayout(u,h*Math.PI/180,-1);c=p.textAlign,l=p.textVerticalAlign}else{var m=f[1];s=r.coordToPoint([m+o,a]);var g=r.cx,v=r.cy;c=Math.abs(s[0]-g)/m<.3?"center":s[0]>g?"left":"right",l=Math.abs(s[1]-v)/m<.3?"middle":s[1]>v?"top":"bottom"}return{position:s,align:c,verticalAlign:l}}var aG={line:function(t,e,n,r){return"angle"===t.dim?{type:"Line",shape:_W(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r){var o=Math.max(1,t.getBandWidth()),i=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:CW(e.cx,e.cy,r[0],r[1],(-n-o/2)*i,(o/2-n)*i)}:{type:"Sector",shape:CW(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}},uG=oG,sG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.findAxisModel=function(t){var e,n=this.ecModel;return n.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},e}(Qp),cG=sG,lG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",ya).models[0]},e.type="polarAxis",e}(Qp);kt(lG,qA);var fG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="angleAxis",e}(lG),dG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="radiusAxis",e}(lG),hG=function(t){function e(e,n){return t.call(this,"radius",e,n)||this}return Z(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(NM);hG.prototype.dataToRadius=NM.prototype.dataToCoord,hG.prototype.radiusToData=NM.prototype.coordToData;var pG=hG,mG=ma(),gG=function(t){function e(e,n){return t.call(this,"angle",e,n||[0,360])||this}return Z(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,e=t.getLabelModel(),n=t.scale,r=n.getExtent(),o=n.count();if(r[1]-r[0]<1)return 0;var i=r[0],a=t.dataToCoord(i+1)-t.dataToCoord(i),u=Math.abs(a),s=to(null==i?"":i+"",e.getFont(),"center","top"),c=Math.max(s.height,7),l=c/u;isNaN(l)&&(l=1/0);var f=Math.max(0,Math.floor(l)),d=mG(t.model),h=d.lastAutoInterval,p=d.lastTickCount;return null!=h&&null!=p&&Math.abs(h-f)<=1&&Math.abs(p-o)<=1&&h>f?f=h:(d.lastTickCount=o,d.lastAutoInterval=f),f},e}(NM);gG.prototype.dataToAngle=NM.prototype.dataToCoord,gG.prototype.angleToData=NM.prototype.coordToData;var vG=gG,yG=function(){function t(t){this.dimensions=["radius","angle"],this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new pG,this._angleAxis=new vG,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),i=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);r.inverse?i=a-360:a=i+360;var u=Math.sqrt(e*e+n*n);e/=u,n/=u;var s=Math.atan2(-n,e)/Math.PI*180,c=s<i?1:-1;while(s<i||s>a)s+=360*c;return[u,s]},t.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI,r=Math.cos(n)*e+this.cx,o=-Math.sin(n)*e+this.cy;return[r,o]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var r=t.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-r[0]*o,endAngle:-r[1]*o,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,r=e-this.cy,o=n*n+r*r,i=this.r,a=this.r0;return o<=i*i&&o>=a*a}}},t.prototype.convertToPixel=function(t,e,n){var r=bG(e);return r===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var r=bG(e);return r===this?this.pointToData(n):null},t}();function bG(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var xG=yG;function wG(t,e,n){var r=e.get("center"),o=n.getWidth(),i=n.getHeight();t.cx=Si(r[0],o),t.cy=Si(r[1],i);var a=t.getRadiusAxis(),u=Math.min(o,i)/2,s=e.get("radius");null==s?s=[0,"100%"]:Lt(s)||(s=[0,s]);var c=[Si(s[0],u),Si(s[1],u)];a.inverse?a.setExtent(c[1],c[0]):a.setExtent(c[0],c[1])}function _G(t,e){var n=this,r=n.getAngleAxis(),o=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===n){var e=t.getData();At(uM(e,"radius"),(function(t){o.scale.unionExtentFromData(e,t)})),At(uM(e,"angle"),(function(t){r.scale.unionExtentFromData(e,t)}))}})),JO(r.scale,r.model),JO(o.scale,o.model),"category"===r.type&&!r.onBand){var i=r.getExtent(),a=360/r.scale.count();r.inverse?i[1]+=a:i[1]-=a,r.setExtent(i[0],i[1])}}function SG(t){return"angleAxis"===t.mainType}function CG(t,e){if(t.type=e.get("type"),t.scale=QO(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),SG(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var kG={dimensions:xG.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",(function(t,r){var o=new xG(r+"");o.update=_G;var i=o.getRadiusAxis(),a=o.getAngleAxis(),u=t.findAxisModel("radiusAxis"),s=t.findAxisModel("angleAxis");CG(i,u),CG(a,s),wG(o,t,e),n.push(o),t.coordinateSystem=o,o.model=t})),t.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",ya).models[0];0,t.coordinateSystem=e.coordinateSystem}})),n}},TG=kG,AG=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function OG(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),o=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:o[0],y2:o[1]}}function MG(t){var e=t.getRadiusAxis();return e.inverse?0:1}function DG(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var IG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return Z(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,o=r.getRadiusAxis().getExtent(),i=n.getTicksCoords(),a=n.getMinorTicksCoords(),u=Ot(n.getViewLabels(),(function(t){t=vt(t);var e=n.scale,r="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(r),t}));DG(u),DG(i),At(AG,(function(e){!t.get([e,"show"])||n.scale.isBlank()&&"axisLine"!==e||EG[e](this.group,t,r,i,a,o,u)}),this)}},e.type="angleAxis",e}(yD),EG={axisLine:function(t,e,n,r,o,i){var a,u=e.getModel(["axisLine","lineStyle"]),s=MG(n),c=s?0:1;a=0===i[c]?new sf({shape:{cx:n.cx,cy:n.cy,r:i[s]},style:u.getLineStyle(),z2:1,silent:!0}):new If({shape:{cx:n.cx,cy:n.cy,r:i[s],r0:i[c]},style:u.getLineStyle(),z2:1,silent:!0}),a.style.fill=null,t.add(a)},axisTick:function(t,e,n,r,o,i){var a=e.getModel("axisTick"),u=(a.get("inside")?-1:1)*a.get("length"),s=i[MG(n)],c=Ot(r,(function(t){return new Gf({shape:OG(n,[s,s+u],t.coord)})}));t.add(Od(c,{style:wt(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,r,o,i){if(o.length){for(var a=e.getModel("axisTick"),u=e.getModel("minorTick"),s=(a.get("inside")?-1:1)*u.get("length"),c=i[MG(n)],l=[],f=0;f<o.length;f++)for(var d=0;d<o[f].length;d++)l.push(new Gf({shape:OG(n,[c,c+s],o[f][d].coord)}));t.add(Od(l,{style:wt(u.getModel("lineStyle").getLineStyle(),wt(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,r,o,i,a){var u=e.getCategories(!0),s=e.getModel("axisLabel"),c=s.get("margin"),l=e.get("triggerEvent");At(a,(function(r,o){var a=s,f=r.tickValue,d=i[MG(n)],h=n.coordToPoint([d+c,r.coord]),p=n.cx,m=n.cy,g=Math.abs(h[0]-p)/d<.3?"center":h[0]>p?"left":"right",v=Math.abs(h[1]-m)/d<.3?"middle":h[1]>m?"top":"bottom";if(u&&u[f]){var y=u[f];jt(y)&&y.textStyle&&(a=new Ah(y.textStyle,s,s.ecModel))}var b=new Mc({silent:oD.isLabelSilent(e),style:oh(a,{x:h[0],y:h[1],fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:g,verticalAlign:v})});if(t.add(b),l){var x=oD.makeAxisEventDataBase(e);x.targetType="axisLabel",x.value=r.rawLabel,Dc(b).eventData=x}}),this)},splitLine:function(t,e,n,r,o,i){var a=e.getModel("splitLine"),u=a.getModel("lineStyle"),s=u.get("color"),c=0;s=s instanceof Array?s:[s];for(var l=[],f=0;f<r.length;f++){var d=c++%s.length;l[d]=l[d]||[],l[d].push(new Gf({shape:OG(n,i,r[f].coord)}))}for(f=0;f<l.length;f++)t.add(Od(l[f],{style:wt({stroke:s[f%s.length]},u.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,r,o,i){if(o.length){for(var a=e.getModel("minorSplitLine"),u=a.getModel("lineStyle"),s=[],c=0;c<o.length;c++)for(var l=0;l<o[c].length;l++)s.push(new Gf({shape:OG(n,i,o[c][l].coord)}));t.add(Od(s,{style:u.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,r,o,i){if(r.length){var a=e.getModel("splitArea"),u=a.getModel("areaStyle"),s=u.get("color"),c=0;s=s instanceof Array?s:[s];for(var l=[],f=Math.PI/180,d=-r[0].coord*f,h=Math.min(i[0],i[1]),p=Math.max(i[0],i[1]),m=e.get("clockwise"),g=1,v=r.length;g<=v;g++){var y=g===v?r[0].coord:r[g].coord,b=c++%s.length;l[b]=l[b]||[],l[b].push(new Of({shape:{cx:n.cx,cy:n.cy,r0:h,r:p,startAngle:d,endAngle:-y*f,clockwise:m},silent:!0})),d=-y*f}for(g=0;g<l.length;g++)t.add(Od(l[g],{style:wt({fill:s[g%s.length]},u.getAreaStyle()),silent:!0}))}}},RG=IG,NG=["axisLine","axisTickLabel","axisName"],PG=["splitLine","splitArea","minorSplitLine"],LG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return Z(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=this._axisGroup,r=this._axisGroup=new fi;this.group.add(r);var o=t.axis,i=o.polar,a=i.getAngleAxis(),u=o.getTicksCoords(),s=o.getMinorTicksCoords(),c=a.getExtent()[0],l=o.getExtent(),f=zG(i,t,c),d=new oD(t,f);At(NG,d.add,d),r.add(d.getGroup()),Gd(n,r,t),At(PG,(function(e){t.get([e,"show"])&&!o.scale.isBlank()&&BG[e](this.group,t,i,c,l,u,s)}),this)}},e.type="radiusAxis",e}(yD),BG={splitLine:function(t,e,n,r,o,i){var a=e.getModel("splitLine"),u=a.getModel("lineStyle"),s=u.get("color"),c=0;s=s instanceof Array?s:[s];for(var l=[],f=0;f<i.length;f++){var d=c++%s.length;l[d]=l[d]||[],l[d].push(new sf({shape:{cx:n.cx,cy:n.cy,r:i[f].coord}}))}for(f=0;f<l.length;f++)t.add(Od(l[f],{style:wt({stroke:s[f%s.length],fill:null},u.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,r,o,i,a){if(a.length){for(var u=e.getModel("minorSplitLine"),s=u.getModel("lineStyle"),c=[],l=0;l<a.length;l++)for(var f=0;f<a[l].length;f++)c.push(new sf({shape:{cx:n.cx,cy:n.cy,r:a[l][f].coord}}));t.add(Od(c,{style:wt({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,r,o,i){if(i.length){var a=e.getModel("splitArea"),u=a.getModel("areaStyle"),s=u.get("color"),c=0;s=s instanceof Array?s:[s];for(var l=[],f=i[0].coord,d=1;d<i.length;d++){var h=c++%s.length;l[h]=l[h]||[],l[h].push(new Of({shape:{cx:n.cx,cy:n.cy,r0:f,r:i[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),f=i[d].coord}for(d=0;d<l.length;d++)t.add(Od(l[d],{style:wt({fill:s[d%s.length]},u.getAreaStyle()),silent:!0}))}}};function zG(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var VG=LG;function FG(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function jG(t,e){return e.dim+t.model.componentIndex}function HG(t,e,n){var r={},o=UG(Dt(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=jG(n,i),u=FG(t),s=o[a][u],c=s.offset,l=s.width,f=n.getOtherAxis(i),d=t.coordinateSystem.cx,h=t.coordinateSystem.cy,p=t.get("barMinHeight")||0,m=t.get("barMinAngle")||0;r[u]=r[u]||[];for(var g=e.mapDimension(f.dim),v=e.mapDimension(i.dim),y=pk(e,g),b="radius"!==i.dim||!t.get("roundCap",!0),x=f.dataToCoord(0),w=0,_=e.count();w<_;w++){var S=e.get(g,w),C=e.get(v,w),k=S>=0?"p":"n",T=x;y&&(r[u][C]||(r[u][C]={p:x,n:x}),T=r[u][C][k]);var A=void 0,O=void 0,M=void 0,D=void 0;if("radius"===f.dim){var I=f.dataToCoord(S)-x,E=i.dataToCoord(C);Math.abs(I)<p&&(I=(I<0?-1:1)*p),A=T,O=T+I,M=E-c,D=M-l,y&&(r[u][C][k]=O)}else{var R=f.dataToCoord(S,b)-x,N=i.dataToCoord(C);Math.abs(R)<m&&(R=(R<0?-1:1)*m),A=N+c,O=A+l,M=T,D=T+R,y&&(r[u][C][k]=D)}e.setItemLayout(w,{cx:d,cy:h,r0:A,r:O,startAngle:-M*Math.PI/180,endAngle:-D*Math.PI/180})}}}))}function UG(t){var e={};At(t,(function(t,n){var r=t.getData(),o=t.coordinateSystem,i=o.getBaseAxis(),a=jG(o,i),u=i.getExtent(),s="category"===i.type?i.getBandWidth():Math.abs(u[1]-u[0])/r.count(),c=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},l=c.stacks;e[a]=c;var f=FG(t);l[f]||c.autoWidthCount++,l[f]=l[f]||{width:0,maxWidth:0};var d=Si(t.get("barWidth"),s),h=Si(t.get("barMaxWidth"),s),p=t.get("barGap"),m=t.get("barCategoryGap");d&&!l[f].width&&(d=Math.min(c.remainedWidth,d),l[f].width=d,c.remainedWidth-=d),h&&(l[f].maxWidth=h),null!=p&&(c.gap=p),null!=m&&(c.categoryGap=m)}));var n={};return At(e,(function(t,e){n[e]={};var r=t.stacks,o=t.bandWidth,i=Si(t.categoryGap,o),a=Si(t.gap,1),u=t.remainedWidth,s=t.autoWidthCount,c=(u-i)/(s+(s-1)*a);c=Math.max(c,0),At(r,(function(t,e){var n=t.maxWidth;n&&n<c&&(n=Math.min(n,u),t.width&&(n=Math.min(n,t.width)),u-=n,t.width=n,s--)})),c=(u-i)/(s+(s-1)*a),c=Math.max(c,0);var l,f=0;At(r,(function(t,e){t.width||(t.width=c),l=t,f+=t.width*(1+a)})),l&&(f-=l.width*a);var d=-f/2;At(r,(function(t,r){n[e][r]=n[e][r]||{offset:d,width:t.width},d+=t.width*(1+a)}))})),n}var WG=HG,GG={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},qG={splitNumber:5},YG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="polar",e}(dy);function XG(t){Z_(nG),yD.registerAxisPointerClass("PolarAxisPointer",uG),t.registerCoordinateSystem("polar",TG),t.registerComponentModel(cG),t.registerComponentView(YG),oO(t,"angle",fG,GG),oO(t,"radius",dG,qG),t.registerComponentView(RG),t.registerComponentView(VG),t.registerLayout(Pt(WG,"bar"))}var ZG=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;i.dimensions=["lng","lat"],i.type="geo",i.map=n;var a=rE.load(n,r);return i._nameCoordMap=a.nameCoordMap,i._regionsMap=a.regionsMap,i._invertLongitute=null==o||o,i.regions=a.regions,i._rect=a.boundingRect,i}return Z(e,t),e.prototype.containCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},e.prototype.transformTo=function(t,e,n,r){var o=this.getBoundingRect(),i=this._invertLongitute;o=o.clone(),i&&(o.y=-o.y-o.height);var a=this._rawTransformable;a.transform=o.calculateTransform(new Yr(t,e,n,r)),a.decomposeTransform(),i&&(a.scaleY=-a.scaleY),a.updateTransform(),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){return this._nameCoordMap.get(t)},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.dataToPoint=function(t,e,n){if("string"===typeof t&&(t=this.getGeoCoord(t)),t)return EE.prototype.dataToPoint.call(this,t,e,n)},e.prototype.convertToPixel=function(t,e,n){var r=$G(e);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var r=$G(e);return r===this?r.pointToData(n):null},e}(EE);function $G(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",ya).models[0]||{}).coordinateSystem:null}kt(ZG,EE);var KG=ZG;function JG(t,e){var n=t.get("boundingCoords");if(null!=n){var r=n[0],o=n[1];isNaN(r[0])||isNaN(r[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1])}var i,a,u,s=this.getBoundingRect(),c=t.get("layoutCenter"),l=t.get("layoutSize"),f=e.getWidth(),d=e.getHeight(),h=s.width/s.height*this.aspectScale,p=!1;if(c&&l&&(i=[Si(c[0],f),Si(c[1],d)],a=Si(l,Math.min(f,d)),isNaN(i[0])||isNaN(i[1])||isNaN(a)||(p=!0)),p)u={},h>1?(u.width=a,u.height=a/h):(u.height=a,u.width=a*h),u.y=i[1]-u.height/2,u.x=i[0]-u.width/2;else{var m=t.getBoxLayoutParams();m.aspect=h,u=Up(m,{width:f,height:d})}this.setViewRect(u.x,u.y,u.width,u.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function QG(t,e){At(e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}var tq=function(){function t(){this.dimensions=KG.prototype.dimensions}return t.prototype.create=function(t,e){var n=[];t.eachComponent("geo",(function(t,r){var o=t.get("map"),i=t.get("aspectScale"),a=!0,u=db.retrieveMap(o);u&&u[0]&&"svg"===u[0].type?(null==i&&(i=1),a=!1):null==i&&(i=.75);var s=new KG(o+r,o,t.get("nameMap"),a);s.aspectScale=i,s.zoomLimit=t.get("scaleLimit"),n.push(s),t.coordinateSystem=s,s.model=t,s.resize=JG,s.resize(t,e)})),t.eachSeries((function(t){var e=t.get("coordinateSystem");if("geo"===e){var r=t.get("geoIndex")||0;t.coordinateSystem=n[r]}}));var r={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t)}})),At(r,(function(t,r){var o=Ot(t,(function(t){return t.get("nameMap")})),i=new KG(r,r,bt(o));i.zoomLimit=Zt.apply(null,Ot(t,(function(t){return t.get("scaleLimit")}))),n.push(i),i.resize=JG,i.aspectScale=t[0].get("aspectScale"),i.resize(t[0],e),At(t,(function(t){t.coordinateSystem=i,QG(i,t)}))})),n},t.prototype.getFilledRegions=function(t,e,n){for(var r=(t||[]).slice(),o=ae(),i=0;i<r.length;i++)o.set(r[i].name,r[i]);var a=rE.load(e,n);return At(a.regions,(function(t){var e=t.name;!o.get(e)&&r.push({name:e})})),r},t}(),eq=new tq,nq=eq,rq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(e,n,r){t.prototype.init.call(this,e,n,r),Xi(e,"label",["show"])},e.prototype.optionUpdated=function(){var t=this.option,e=this;t.regions=nq.getFilledRegions(t.regions,t.map,t.nameMap);var n={};this._optionModelMap=Mt(t.regions||[],(function(t,r){var o=r.name;return o&&(t.set(o,new Ah(r,e)),r.selected&&(n[o]=!0)),t}),ae()),t.selectedMap||(t.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Ah(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),r="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),o={name:t};return"function"===typeof r?(o.status=e,r(o)):"string"===typeof r?r.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;if(n){"multiple"!==n&&(e.selectedMap=null);var r=e.selectedMap||(e.selectedMap={});r[t]=!0}},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.prototype._initSelectedMapFromData=function(){},e.type="geo",e.layoutMode="box",e.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Qp),oq=rq,iq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(t,e){var n=new uE(e);this._mapDraw=n,this.group.add(n.group),this._api=e},e.prototype.render=function(t,e,n,r){var o=this._mapDraw;t.get("show")?o.draw(t,e,n,this,r):this._mapDraw.group.removeAll(),o.group.on("click",this._handleRegionClick,this),o.group.silent=t.get("silent"),this._model=t,this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){var e,n=t.target;while(n&&null==(e=Dc(n).eventData))n=n.__hostTarget||n.parent;e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var r=this;this._mapDraw.group.traverse((function(t){var e=Dc(t).eventData;if(e)return r._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0}))},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(dy),aq=iq;function uq(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,(function(t,n){var r={};return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name);var o=n.coordinateSystem;At(o.regions,(function(t){r[t.name]=n.isSelected(t.name)||!1}))})),{selected:r,name:t.name}}))}t.registerCoordinateSystem("geo",nq),t.registerComponentModel(oq),t.registerComponentView(aq),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){var r=e.coordinateSystem;if("geo"===r.type){var o=lR(r,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===n&&At(e.seriesGroup,(function(t){t.setCenter(o.center),t.setZoom(o.zoom)}))}}))}))}function sq(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,o={},i=r.position,a=r.orient,u=n.getRect(),s=[u.x,u.x+u.width,u.y,u.y+u.height],c={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};o.position=["vertical"===a?c.vertical[i]:s[0],"horizontal"===a?c.horizontal[i]:s[3]];var l={horizontal:0,vertical:1};o.rotation=Math.PI/2*l[a];var f={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=f[i],t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Zt(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var d=e.rotate;return null==d&&(d=t.get(["axisLabel","rotate"])),o.labelRotation="top"===i?-d:d,o.z2=1,o}var cq=["axisLine","axisTickLabel","axisName"],lq=["splitArea","splitLine"],fq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return Z(e,t),e.prototype.render=function(e,n,r,o){var i=this.group;i.removeAll();var a=this._axisGroup;this._axisGroup=new fi;var u=sq(e),s=new oD(e,u);At(cq,s.add,s),i.add(this._axisGroup),i.add(s.getGroup()),At(lq,(function(t){e.get([t,"show"])&&dq[t](this,this.group,this._axisGroup,e)}),this),Gd(a,this._axisGroup,e),t.prototype.render.call(this,e,n,r,o)},e.prototype.remove=function(){wD(this)},e.type="singleAxis",e}(yD),dq={splitLine:function(t,e,n,r){var o=r.axis;if(!o.scale.isBlank()){var i=r.getModel("splitLine"),a=i.getModel("lineStyle"),u=a.get("color");u=u instanceof Array?u:[u];for(var s=r.coordinateSystem.getRect(),c=o.isHorizontal(),l=[],f=0,d=o.getTicksCoords({tickModel:i}),h=[],p=[],m=0;m<d.length;++m){var g=o.toGlobalCoord(d[m].coord);c?(h[0]=g,h[1]=s.y,p[0]=g,p[1]=s.y+s.height):(h[0]=s.x,h[1]=g,p[0]=s.x+s.width,p[1]=g);var v=f++%u.length;l[v]=l[v]||[],l[v].push(new Gf({subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},silent:!0}))}var y=a.getLineStyle(["color"]);for(m=0;m<l.length;++m)e.add(Od(l[m],{style:wt({stroke:u[m%u.length]},y),silent:!0}))}},splitArea:function(t,e,n,r){xD(t,n,r,r)}},hq=fq,pq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Qp);kt(pq,qA.prototype);var mq=pq,gq=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,r)||this;return a.type=o||"value",a.position=i||"bottom",a}return Z(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(NM),vq=gq,yq=function(){function t(t,e,n){this.type="single",this.dimension="single",this.dimensions=["single"],this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var r=this.dimension,o=new vq(r,QO(t),[0,0],t.get("type"),t.get("position")),i="category"===o.type;o.onBand=i&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();At(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),JO(this._axis.scale,this._axis.model)}}),this)},t.prototype.resize=function(t,e){this._rect=Up({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(r[o],r[1-o]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),r=n[0]+n[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord=o?function(t){return t-e}:function(t){return r-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),r=n.orient;return"horizontal"===r?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),r=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[o]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-o]=0===o?n.y+n.height/2:n.x+n.width/2,r},t.prototype.convertToPixel=function(t,e,n){var r=bq(e);return r===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var r=bq(e);return r===this?this.pointToData(n):null},t}();function bq(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var xq=yq;function wq(t,e){var n=[];return t.eachComponent("singleAxis",(function(r,o){var i=new xq(r,t,e);i.name="single_"+o,i.resize(r,e),r.coordinateSystem=i,n.push(i)})),t.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",ya).models[0];t.coordinateSystem=e&&e.coordinateSystem}})),n}var _q={create:wq,dimensions:xq.prototype.dimensions},Sq=_q,Cq=["x","y"],kq=["width","height"],Tq=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.makeElOption=function(t,e,n,r,o){var i=n.axis,a=i.coordinateSystem,u=Mq(a,1-Oq(i)),s=a.dataToPoint(e)[0],c=r.get("type");if(c&&"none"!==c){var l=gW(r),f=Aq[c](i,s,u);f.style=l,t.graphicKey=f.type,t.pointer=f}var d=sq(n);wW(e,t,d,n,r,o)},e.prototype.getHandleTransform=function(t,e,n){var r=sq(e,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var o=xW(e.axis,t,r);return{x:o[0],y:o[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,r){var o=n.axis,i=o.coordinateSystem,a=Oq(o),u=Mq(i,a),s=[t.x,t.y];s[a]+=e[a],s[a]=Math.min(u[1],s[a]),s[a]=Math.max(u[0],s[a]);var c=Mq(i,1-a),l=(c[1]+c[0])/2,f=[l,l];return f[a]=s[a],{x:s[0],y:s[1],rotation:t.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}},e}(mW),Aq={line:function(t,e,n){var r=_W([e,n[0]],[e,n[1]],Oq(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=t.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:SW([e-r/2,n[0]],[r,o],Oq(t))}}};function Oq(t){return t.isHorizontal()?0:1}function Mq(t,e){var n=t.getRect();return[n[Cq[e]],n[Cq[e]]+n[kq[e]]]}var Dq=Tq,Iq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="single",e}(dy);function Eq(t){Z_(nG),yD.registerAxisPointerClass("SingleAxisPointer",Dq),t.registerComponentView(Iq),t.registerComponentView(hq),t.registerComponentModel(mq),oO(t,"single",mq,mq.defaultOption),t.registerCoordinateSystem("single",Sq)}var Rq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(e,n,r){var o=Xp(e);t.prototype.init.apply(this,arguments),Nq(e,o)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),Nq(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Qp);function Nq(t,e){var n,r=t.cellSize;n=Lt(r)?r:t.cellSize=[r,r],1===n.length&&(n[1]=n[0]);var o=Ot([0,1],(function(t){return Gp(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]}));Yp(t,e,{type:"box",ignoreSize:o})}var Pq=Rq,Lq={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},Bq={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]},zq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){var r=this.group;r.removeAll();var o=t.coordinateSystem,i=o.getRangeInfo(),a=o.getOrient();this._renderDayRect(t,i,r),this._renderLines(t,i,a,r),this._renderYearText(t,i,a,r),this._renderMonthText(t,a,r),this._renderWeekText(t,i,a,r)},e.prototype._renderDayRect=function(t,e,n){for(var r=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),i=r.getCellWidth(),a=r.getCellHeight(),u=e.start.time;u<=e.end.time;u=r.getNextNDay(u,1).time){var s=r.dataToRect([u],!1).tl,c=new mc({shape:{x:s[0],y:s[1],width:i,height:a},cursor:"default",style:o});n.add(c)}},e.prototype._renderLines=function(t,e,n,r){var o=this,i=t.coordinateSystem,a=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),s=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,l=0;c.time<=e.end.time;l++){d(c.formatedDate),0===l&&(c=i.getDateInfo(e.start.y+"-"+e.start.m));var f=c.date;f.setMonth(f.getMonth()+1),c=i.getDateInfo(f)}function d(e){o._firstDayOfMonth.push(i.getDateInfo(e)),o._firstDayPoints.push(i.dataToRect([e],!1).tl);var s=o._getLinePointsOfOneWeek(t,e,n);o._tlpoints.push(s[0]),o._blpoints.push(s[s.length-1]),u&&o._drawSplitline(s,a,r)}d(i.getNextNDay(e.end.time,1).formatedDate),u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,s,n),a,r),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,s,n),a,r)},e.prototype._getEdgesPoints=function(t,e,n){var r=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===n?0:1;return r[0][o]=r[0][o]-e/2,r[1][o]=r[1][o]+e/2,r},e.prototype._drawSplitline=function(t,e,n){var r=new jf({z2:20,shape:{points:t},style:e});n.add(r)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var r=t.coordinateSystem,o=r.getDateInfo(e),i=[],a=0;a<7;a++){var u=r.getNextNDay(o.time,a),s=r.dataToRect([u.time],!1);i[2*u.day]=s.tl,i[2*u.day+1]=s["horizontal"===n?"bl":"tr"]}return i},e.prototype._formatterLabel=function(t,e){return"string"===typeof t&&t?Rp(t,e):"function"===typeof t?t(e):e.nameMap},e.prototype._yearTextPositionControl=function(t,e,n,r,o){var i=e[0],a=e[1],u=["center","bottom"];"bottom"===r?(a+=o,u=["center","top"]):"left"===r?i-=o:"right"===r?(i+=o,u=["center","top"]):a-=o;var s=0;return"left"!==r&&"right"!==r||(s=Math.PI/2),{rotation:s,x:i,y:a,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,e,n,r){var o=t.getModel("yearLabel");if(o.get("show")){var i=o.get("margin"),a=o.get("position");a||(a="horizontal"!==n?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],s=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,l="horizontal"===n?0:1,f={top:[s,u[l][1]],bottom:[s,u[1-l][1]],left:[u[1-l][0],c],right:[u[l][0],c]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var h=o.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:d},m=this._formatterLabel(h,p),g=new Mc({z2:30,style:oh(o,{text:m})});g.attr(this._yearTextPositionControl(g,f[a],n,a,i)),r.add(g)}},e.prototype._monthTextPositionControl=function(t,e,n,r,o){var i="left",a="top",u=t[0],s=t[1];return"horizontal"===n?(s+=o,e&&(i="center"),"start"===r&&(a="bottom")):(u+=o,e&&(a="middle"),"start"===r&&(i="right")),{x:u,y:s,align:i,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,n){var r=t.getModel("monthLabel");if(r.get("show")){var o=r.get("nameMap"),i=r.get("margin"),a=r.get("position"),u=r.get("align"),s=[this._tlpoints,this._blpoints];zt(o)&&(o=Lq[o.toUpperCase()]||[]);var c="start"===a?0:1,l="horizontal"===e?0:1;i="start"===a?-i:i;for(var f="center"===u,d=0;d<s[c].length-1;d++){var h=s[c][d].slice(),p=this._firstDayOfMonth[d];if(f){var m=this._firstDayPoints[d];h[l]=(m[l]+s[0][d+1][l])/2}var g=r.get("formatter"),v=o[+p.m-1],y={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:v},b=this._formatterLabel(g,y),x=new Mc({z2:30,style:xt(oh(r,{text:b}),this._monthTextPositionControl(h,f,e,a,i))});n.add(x)}}},e.prototype._weekTextPositionControl=function(t,e,n,r,o){var i="center",a="middle",u=t[0],s=t[1],c="start"===n;return"horizontal"===e?(u=u+r+(c?1:-1)*o[0]/2,i=c?"right":"left"):(s=s+r+(c?1:-1)*o[1]/2,a=c?"bottom":"top"),{x:u,y:s,align:i,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,n,r){var o=t.getModel("dayLabel");if(o.get("show")){var i=t.coordinateSystem,a=o.get("position"),u=o.get("nameMap"),s=o.get("margin"),c=i.getFirstDayOfWeek();zt(u)&&(u=Bq[u.toUpperCase()]||[]);var l=i.getNextNDay(e.end.time,7-e.lweek).time,f=[i.getCellWidth(),i.getCellHeight()];s=Si(s,f["horizontal"===n?0:1]),"start"===a&&(l=i.getNextNDay(e.start.time,-(7+e.fweek)).time,s=-s);for(var d=0;d<7;d++){var h=i.getNextNDay(l,d),p=i.dataToRect([h.time],!1).center,m=d;m=Math.abs((d+c)%7);var g=new Mc({z2:30,style:xt(oh(o,{text:u[m]}),this._weekTextPositionControl(p,n,a,s,f))});r.add(g)}}},e.type="calendar",e}(dy),Vq=zq,Fq=864e5,jq=function(){function t(e,n,r){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){t=Ni(t);var e=t.getFullYear(),n=t.getMonth()+1,r=n<10?"0"+n:""+n,o=t.getDate(),i=o<10?"0"+o:""+o,a=t.getDay();return a=Math.abs((a+7-this.getFirstDayOfWeek())%7),{y:e+"",m:r,d:i,day:a,time:t.getTime(),formatedDate:e+"-"+r+"-"+i,date:t}},t.prototype.getNextNDay=function(t,e){return e=e||0,0===e||(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e)),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),i=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];At([0,1],(function(t){c(o,t)&&(i[r[t]]=o[t]*a[t])}));var u={width:e.getWidth(),height:e.getHeight()},s=this._rect=Up(i,u);function c(t,e){return null!=t[e]&&"auto"!==t[e]}At([0,1],(function(t){c(o,t)||(o[t]=s[r[t]]/a[t])})),this._sw=o[0],this._sh=o[1]},t.prototype.dataToPoint=function(t,e){Lt(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo,o=n.formatedDate;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+Fq))return[NaN,NaN];var i=n.day,a=this._getRangeInfo([r.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+i*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+i*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},t.prototype.convertToPixel=function(t,e,n){var r=Hq(e);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var r=Hq(e);return r===this?r.pointToData(n):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(Lt(e)&&1===e.length&&(e=e[0]),Lt(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),o=r.date;o.setMonth(o.getMonth()+1);var i=this.getNextNDay(o,-1);t=[r.formatedDate,i.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var r=Math.floor(n[1].time/Fq)-Math.floor(n[0].time/Fq)+1,o=new Date(n[0].time),i=o.getDate(),a=n[1].date.getDate();o.setDate(i+r-1);var u=o.getDate();if(u!==a){var s=o.getTime()-n[1].time>0?1:-1;while((u=o.getDate())!==a&&(o.getTime()-n[1].time)*s>0)r-=s,o.setDate(u-s)}var c=Math.floor((r+n[0].day+6)/7),l=e?1-c:c-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:c,nthWeek:l,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var o=7*(t-1)-r.fweek+e,i=new Date(r.start.time);return i.setDate(+r.start.d+o),this.getDateInfo(i)},t.create=function(e,n){var r=[];return e.eachComponent("calendar",(function(o){var i=new t(o,e,n);r.push(i),o.coordinateSystem=i})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("calendarIndex")||0])})),r},t.dimensions=["time","value"],t}();function Hq(t){var e=t.calendarModel,n=t.seriesModel,r=e?e.coordinateSystem:n?n.coordinateSystem:null;return r}var Uq=jq;function Wq(t){t.registerComponentModel(Pq),t.registerComponentView(Vq),t.registerCoordinateSystem("calendar",Uq)}var Gq=ma(),qq={path:null,compoundPath:null,group:fi,image:ac,text:Mc},Yq=function(t){var e=t.graphic;Lt(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])},Xq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.mergeOption=function(e,n){var r=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=r},e.prototype.optionUpdated=function(t,e){var n=this.option,r=(e?n:t).elements,o=n.elements=e?[]:n.elements,i=[];this._flatten(r,i,null);var a=Ji(o,i,"normalMerge"),u=this._elOptionsToUpdate=[];At(a,(function(t,e){var n=t.newOption;n&&(u.push(n),tY(t,n),eY(o,e,n),nY(o[e],n))}),this);for(var s=o.length-1;s>=0;s--)null==o[s]?o.splice(s,1):delete o[s].$action},e.prototype._flatten=function(t,e,n){At(t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var r=t.children;"group"===t.type&&r&&this._flatten(r,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Qp),Zq=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(){this._elMap=ae()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,r=this.group;At(e,(function(e){var o=ua(e.id,null),i=null!=o?n.get(o):null,a=ua(e.parentId,null),u=null!=a?n.get(a):r,s=e.type,c=e.style;"text"===s&&c&&e.hv&&e.hv[1]&&(c.textVerticalAlign=c.textBaseline=c.verticalAlign=c.align=null);var l=e.textContent,f=e.textConfig;if(c&&fH(c,s,!!f,!!l)){var d=dH(c,s,!0);!f&&d.textConfig&&(f=e.textConfig=d.textConfig),!l&&d.textContent&&(l=d.textContent)}var h=Jq(e);var p=e.$action||"merge";"merge"===p?i?i.attr(h):$q(o,u,h,n):"replace"===p?(Kq(i,n),$q(o,u,h,n)):"remove"===p&&Kq(i,n);var m=n.get(o);if(m&&l)if("merge"===p){var g=m.getTextContent();g?g.attr(l):m.setTextContent(new Mc(l))}else"replace"===p&&m.setTextContent(new Mc(l));if(m){var v=Gq(m);v.__ecGraphicWidthOption=e.width,v.__ecGraphicHeightOption=e.height,rY(m,t,e)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,r=this.group,o=this._elMap,i=e.getWidth(),a=e.getHeight(),u=0;u<n.length;u++){var s=n[u],c=ua(s.id,null),l=null!=c?o.get(c):null;if(l&&l.isGroup){var f=l.parent,d=f===r,h=Gq(l),p=Gq(f);h.__ecGraphicWidth=Si(h.__ecGraphicWidthOption,d?i:p.__ecGraphicWidth)||0,h.__ecGraphicHeight=Si(h.__ecGraphicHeightOption,d?a:p.__ecGraphicHeight)||0}}for(u=n.length-1;u>=0;u--){s=n[u],c=ua(s.id,null),l=null!=c?o.get(c):null;if(l){f=l.parent,p=Gq(f);var m=f===r?{width:i,height:a}:{width:p.__ecGraphicWidth,height:p.__ecGraphicHeight};Wp(l,s,m,null,{hv:s.hv,boundingMode:s.bounding})}}},e.prototype._clear=function(){var t=this._elMap;t.each((function(e){Kq(e,t)})),this._elMap=ae()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(dy);function $q(t,e,n,r){var o=n.type;var i=ce(qq,o)?qq[o]:Cd(o);var a=new i(n);e.add(a),r.set(t,a),Gq(a).__ecGraphicId=t}function Kq(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse((function(t){Kq(t,e)})),e.removeKey(Gq(t).__ecGraphicId),n.remove(t))}function Jq(t){return t=xt({},t),At(["id","parentId","$action","hv","bounding","textContent"].concat(zp),(function(e){delete t[e]})),t}function Qq(t,e){var n;return At(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}function tY(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var r=e.parentOption;r?e.parentId=r.id:n&&(e.parentId=n.parentId)}e.parentOption=null}function eY(t,e,n){var r=xt({},n),o=t[e],i=n.$action||"merge";"merge"===i?o?(yt(o,r,!0),Yp(o,r,{ignoreSize:!0}),Zp(n,o)):t[e]=r:"replace"===i?t[e]=r:"remove"===i&&o&&(t[e]=null)}function nY(t,e){if(t&&(t.hv=e.hv=[Qq(e,["left","right"]),Qq(e,["top","bottom"])],"group"===t.type)){var n=t,r=e;null==n.width&&(n.width=r.width=0),null==n.height&&(n.height=r.height=0)}}function rY(t,e,n){var r=Dc(t).eventData;t.silent||t.ignore||r||(r=Dc(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),r&&(r.info=n.info)}function oY(t){t.registerComponentModel(Xq),t.registerComponentView(Zq),t.registerPreprocessor(Yq)}var iY=["x","y","radius","angle","single"],aY=["cartesian2d","polar","singleAxis"];function uY(t){var e=t.get("coordinateSystem");return St(aY,e)>=0}function sY(t){return t+"Axis"}function cY(t,e){var n,r=ae(),o=[],i=ae();t.eachComponent({mainType:"dataZoom",query:e},(function(t){i.get(t.uid)||u(t)}));do{n=!1,t.eachComponent("dataZoom",a)}while(n);function a(t){!i.get(t.uid)&&s(t)&&(u(t),n=!0)}function u(t){i.set(t.uid,!0),o.push(t),c(t)}function s(t){var e=!1;return t.eachTargetAxis((function(t,n){var o=r.get(t);o&&o[n]&&(e=!0)})),e}function c(t){t.eachTargetAxis((function(t,e){(r.get(t)||r.set(t,[]))[e]=!0}))}return o}function lY(t){var e=t.ecModel,n={infoList:[],infoMap:ae()};return t.eachTargetAxis((function(t,r){var o=e.getComponent(sY(t),r);if(o){var i=o.getCoordSysModel();if(i){var a=i.uid,u=n.infoMap.get(a);u||(u={model:i,axisModels:[]},n.infoList.push(u),n.infoMap.set(a,u)),u.axisModels.push(o)}}})),n}var fY=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),dY=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return Z(e,t),e.prototype.init=function(t,e,n){var r=hY(t);this.settledOption=r,this.mergeDefaultAndTheme(t,n),this._doInit(r)},e.prototype.mergeOption=function(t){var e=hY(t);yt(this.option,t,!0),yt(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;At([["start","startValue"],["end","endValue"]],(function(t,r){"value"===this._rangePropMode[r]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=ae(),n=this._fillSpecifiedTargetAxis(e);n?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return At(iY,(function(n){var r=this.getReferringComponents(sY(n),ba);if(r.specified){e=!0;var o=new fY;At(r.models,(function(t){o.add(t.componentIndex)})),t.set(n,o)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,r=!0;if(r){var o="vertical"===e?"y":"x",i=n.findComponents({mainType:o+"Axis"});a(i,o)}if(r){i=n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}});a(i,"single")}function a(e,n){var o=e[0];if(o){var i=new fY;if(i.add(o.componentIndex),t.set(n,i),r=!1,"x"===n||"y"===n){var a=o.getReferringComponents("grid",ya).models[0];a&&At(e,(function(t){o.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",ya).models[0]&&i.add(t.componentIndex)}))}}}r&&At(iY,(function(e){if(r){var o=n.findComponents({mainType:sY(e),filter:function(t){return"category"===t.get("type",!0)}});if(o[0]){var i=new fY;i.add(o[0].componentIndex),t.set(e,i),r=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");At([["start","startValue"],["end","endValue"]],(function(r,o){var i=null!=t[r[0]],a=null!=t[r[1]];i&&!a?e[o]="percent":!i&&a?e[o]="value":n?e[o]=n[o]:i&&(e[o]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(sY(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,r){At(n.indexList,(function(n){t.call(e,r,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(sY(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;At([["start","startValue"],["end","endValue"]],(function(r){null==t[r[0]]&&null==t[r[1]]||(e[r[0]]=n[r[0]]=t[r[0]],e[r[1]]=n[r[1]]=t[r[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;At(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),r=0;r<n.length;r++)for(var o=n[r],i=this._targetAxisInfoMap.get(o),a=0;a<i.indexList.length;a++){var u=this.getAxisProxy(o,i.indexList[a]);if(u.hostedBy(this))return u;e||(e=u)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},e}(Qp);function hY(t){var e={};return At(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var pY=dY,mY=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="dataZoom.select",e}(pY),gY=mY,vY=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n,r){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(dy),yY=vY,bY=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="dataZoom.select",e}(yY),xY=bY,wY=At,_Y=ki,SY=function(){function t(t,e,n,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(uY(e)){var n=sY(this._dimName),r=e.getReferringComponents(n,ya).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return vt(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,r=this.getAxisModel(),o=r.axis.scale,i=this._dataZoomModel.getRangePropMode(),a=[0,100],u=[],s=[];wY(["start","end"],(function(r,c){var l=t[r],f=t[r+"Value"];"percent"===i[c]?(null==l&&(l=a[c]),f=o.parse(_i(l,a,n))):(e=!0,f=null==f?n[c]:o.parse(f),l=_i(f,n,a)),s[c]=f,u[c]=l})),_Y(s),_Y(u);var c=this._minMaxSpan;function l(t,e,n,r,i){var a=i?"Span":"ValueSpan";iB(0,t,n,"all",c["min"+a],c["max"+a]);for(var u=0;u<2;u++)e[u]=_i(t[u],n,r,!0),i&&(e[u]=o.parse(e[u]))}return e?l(s,u,n,a,!1):l(u,s,a,n,!0),{valueWindow:s,percentWindow:u}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=CY(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),i=this._valueWindow;"none"!==o&&wY(r,(function(t){var e=t.getData(),r=e.mapDimensionsAll(n);r.length&&("weakFilter"===o?e.filterSelf((function(t){for(var n,o,a,u=0;u<r.length;u++){var s=e.get(r[u],t),c=!isNaN(s),l=s<i[0],f=s>i[1];if(c&&!l&&!f)return!0;c&&(a=!0),l&&(n=!0),f&&(o=!0)}return a&&n&&o})):wY(r,(function(n){if("empty"===o)t.setData(e=e.map(n,(function(t){return a(t)?t:NaN})));else{var r={};r[n]=i,e.selectRange(r)}})),wY(r,(function(t){e.setApproximateExtent(i,t)})))}))}function a(t){return t>=i[0]&&t<=i[1]}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;wY(["min","max"],(function(r){var o=e.get(r+"Span"),i=e.get(r+"ValueSpan");null!=i&&(i=this.getAxisModel().axis.scale.parse(i)),null!=i?o=_i(n[0]+i,n,[0,100],!0):null!=o&&(i=_i(o,[0,100],n,!0)-n[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=i}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var r=Oi(n,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==e[1]&&o.setDeterminedMinMax("max",+n[1].toFixed(r)),o.freeze()}},t}();function CY(t,e,n){var r=[1/0,-1/0];wY(n,(function(t){sM(r,t.getData(),e)}));var o=t.getAxisModel(),i=XO(o.axis.scale,o,r).calculate();return[i.min,i.max]}var kY=SY,TY={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(r,o){var i=t.getComponent(sY(r),o);e(r,o,i,n)}))}))}e((function(t,e,n,r){n.__dzAxisProxy=null}));var n=[];e((function(e,r,o,i){o.__dzAxisProxy||(o.__dzAxisProxy=new kY(e,r,i,t),n.push(o.__dzAxisProxy))}));var r=ae();return At(n,(function(t){At(t.getTargetSeriesModels(),(function(t){r.set(t.uid,t)}))})),r},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,r){t.getAxisProxy(n,r).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),r=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}}))}},AY=TY;function OY(t){t.registerAction("dataZoom",(function(t,e){var n=cY(e,t);At(n,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}var MY=!1;function DY(t){MY||(MY=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,AY),OY(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function IY(t){t.registerComponentModel(gY),t.registerComponentView(xY),DY(t)}var EY=function(){function t(){}return t}(),RY={};function NY(t,e){RY[t]=e}function PY(t){return RY[t]}var LY=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;At(this.option.feature,(function(t,n){var r=PY(n);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(e)),yt(t,r.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}},e}(Qp),BY=LY;function zY(t,e,n){var r=e.getBoxLayoutParams(),o=e.get("padding"),i={width:n.getWidth(),height:n.getHeight()},a=Up(r,i,o);jp(e.get("orient"),t,e.get("itemGap"),a.width,a.height),Wp(t,r,i,o)}function VY(t,e){var n=kp(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new mc({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),t}var FY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.render=function(t,e,n,r){var o=this.group;if(o.removeAll(),t.get("show")){var i=+t.get("itemSize"),a=t.get("feature")||{},u=this._features||(this._features={}),s=[];At(a,(function(t,e){s.push(e)})),new SC(this._featureNames||[],s).add(c).update(c).remove(Pt(c,null)).execute(),this._featureNames=s,zY(o,t,n),o.add(VY(o.getBoundingRect(),t)),o.eachChild((function(t){var e=t.__title,r=t.ensureState("emphasis"),a=r.textConfig||(r.textConfig={}),u=t.getTextContent(),s=u&&u.states.emphasis;if(s&&!Bt(s)&&e){var c=s.style||(s.style={}),l=to(e,Mc.makeFont(c)),f=t.x+o.x,d=t.y+o.y+i,h=!1;d+l.height>n.getHeight()&&(a.position="top",h=!0);var p=h?-5-l.height:i+8;f+l.width/2>n.getWidth()?(a.position=["100%",p],c.align="right"):f-l.width/2<0&&(a.position=[0,p],c.align="left")}}))}function c(o,i){var c,f=s[o],d=s[i],h=a[f],p=new Ah(h,t,t.ecModel);if(r&&null!=r.newTitle&&r.featureName===f&&(h.title=r.newTitle),f&&!d){if(jY(f))c={onclick:p.option.onclick,featureName:f};else{var m=PY(f);if(!m)return;c=new m}u[f]=c}else if(c=u[d],!c)return;if(c.uid=Mh("toolbox-feature"),c.model=p,c.ecModel=e,c.api=n,c instanceof EY){if(!f&&d)return void(c.dispose&&c.dispose(e,n));if(!p.get("show")||c.unusable)return void(c.remove&&c.remove(e,n))}l(p,c,f),p.setIconStatus=function(t,e){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,r[t]&&("emphasis"===e?hl:pl)(r[t])},c instanceof EY&&c.render&&c.render(p,e,n,r)}function l(r,a,u){var s,c,l=r.getModel("iconStyle"),f=r.getModel(["emphasis","iconStyle"]),d=a instanceof EY&&a.getIcons?a.getIcons():r.get("icon"),h=r.get("title")||{};"string"===typeof d?(s={},s[u]=d):s=d,"string"===typeof h?(c={},c[u]=h):c=h;var p=r.iconPaths={};At(s,(function(u,s){var d=Xd(u,{},{x:-i/2,y:-i/2,width:i,height:i});d.setStyle(l.getItemStyle());var h=d.ensureState("emphasis");h.style=f.getItemStyle();var m=new Mc({style:{text:c[s],align:f.get("textAlign"),borderRadius:f.get("textBorderRadius"),padding:f.get("textPadding"),fill:null},ignore:!0});d.setTextContent(m);var g=t.getModel("tooltip");g&&g.get("show")&&(d.tooltip=xt({content:c[s],formatter:g.get("formatter",!0)||function(){return c[s]},formatterParams:{componentType:"toolbox",name:s,title:c[s],$vars:["name","title"]},position:g.get("position",!0)||"bottom"},g.option)),d.__title=c[s],d.on("mouseover",(function(){var e=f.getItemStyle(),n="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";m.setStyle({fill:f.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:f.get("textBackgroundColor")}),d.setTextConfig({position:f.get("textPosition")||n}),m.ignore=!t.get("showTitle"),hl(this)})).on("mouseout",(function(){"emphasis"!==r.get(["iconStatus",s])&&pl(this),m.hide()})),("emphasis"===r.get(["iconStatus",s])?hl:pl)(d),o.add(d),d.on("click",Nt(a.onclick,a,e,n,s)),p[s]=d}))}},e.prototype.updateView=function(t,e,n,r){At(this._features,(function(t){t instanceof EY&&t.updateView&&t.updateView(t.model,e,n,r)}))},e.prototype.remove=function(t,e){At(this._features,(function(n){n instanceof EY&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){At(this._features,(function(n){n instanceof EY&&n.dispose&&n.dispose(t,e)}))},e.type="toolbox",e}(dy);function jY(t){return 0===t.indexOf("my")}var HY=FY,UY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.onclick=function(t,e){var n=this.model,r=n.get("name")||t.get("title.0.text")||"echarts",o="svg"===e.getZr().painter.getType(),i=o?"svg":n.get("type",!0)||"png",a=e.getConnectedDataURL({type:i,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!==typeof MouseEvent||!nt.browser.newEdge&&(nt.browser.ie||nt.browser.edge))if(window.navigator.msSaveOrOpenBlob||o){var u=a.split(","),s=u[0].indexOf("base64")>-1,c=o?decodeURIComponent(u[1]):u[1];s&&(c=atob(c));var l=r+"."+i;if(window.navigator.msSaveOrOpenBlob){var f=c.length,d=new Uint8Array(f);while(f--)d[f]=c.charCodeAt(f);var h=new Blob([d]);window.navigator.msSaveOrOpenBlob(h,l)}else{var p=document.createElement("iframe");document.body.appendChild(p);var m=p.contentWindow,g=m.document;g.open("image/svg+xml","replace"),g.write(c),g.close(),m.focus(),g.execCommand("SaveAs",!0,l),document.body.removeChild(p)}}else{var v=n.get("lang"),y='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(v&&v[0]||"")+'" /></body>',b=window.open();b.document.write(y),b.document.title=r}else{var x=document.createElement("a");x.download=r+"."+i,x.target="_blank",x.href=a;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});x.dispatchEvent(w)}},e.getDefaultOption=function(t){var e={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:t.getLocale(["toolbox","saveAsImage","lang"])};return e},e}(EY);UY.prototype.unusable=!nt.canvasSupported;var WY=UY,GY="__ec_magicType_stack__",qY=[["line","bar"],["stack"]],YY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return At(t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){var e={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e},e.prototype.onclick=function(t,e,n){var r=this.model,o=r.get(["seriesIndex",n]);if(XY[n]){var i,a={series:[]},u=function(t){var e=t.subType,o=t.id,i=XY[n](e,o,t,r);i&&(wt(i,t.option),a.series.push(i));var u=t.coordinateSystem;if(u&&"cartesian2d"===u.type&&("line"===n||"bar"===n)){var s=u.getAxesByScale("ordinal")[0];if(s){var c=s.dim,l=c+"Axis",f=t.getReferringComponents(l,ya).models[0],d=f.componentIndex;a[l]=a[l]||[];for(var h=0;h<=d;h++)a[l][d]=a[l][d]||{};a[l][d].boundaryGap="bar"===n}}};At(qY,(function(t){St(t,n)>=0&&At(t,(function(t){r.setIconStatus(t,"normal")}))})),r.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},u),"stack"===n&&(i=yt({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title)),e.dispatchAction({type:"changeMagicType",currentType:n,newOption:a,newTitle:i,featureName:"magicType"})}},e}(EY),XY={line:function(t,e,n,r){if("bar"===t)return yt({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(t,e,n,r){if("line"===t)return yt({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(t,e,n,r){var o=n.get("stack")===GY;if("line"===t||"bar"===t)return r.setIconStatus("stack",o?"normal":"emphasis"),yt({id:e,stack:o?"":GY},r.get(["option","stack"])||{},!0)}};z_({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var ZY=YY,$Y=new Array(60).join("-"),KY="\t";function JY(t){var e={},n=[],r=[];return t.eachRawSeries((function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(t);else{var i=o.getBaseAxis();if("category"===i.type){var a=i.dim+"_"+i.index;e[a]||(e[a]={categoryAxis:i,valueAxis:o.getOtherAxis(i),series:[]},r.push({axisDim:i.dim,axisIndex:i.index})),e[a].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:r}}function QY(t){var e=[];return At(t,(function(t,n){var r=t.categoryAxis,o=t.valueAxis,i=o.dim,a=[" "].concat(Ot(t.series,(function(t){return t.name}))),u=[r.model.getCategories()];At(t.series,(function(t){var e=t.getRawData();u.push(t.getRawData().mapArray(e.mapDimension(i),(function(t){return t})))}));for(var s=[a.join(KY)],c=0;c<u[0].length;c++){for(var l=[],f=0;f<u.length;f++)l.push(u[f][c]);s.push(l.join(KY))}e.push(s.join("\n"))})),e.join("\n\n"+$Y+"\n\n")}function tX(t){return Ot(t,(function(t){var e=t.getRawData(),n=[t.name],r=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,o=arguments[t-1],i=e.getName(o),a=0;a<t-1;a++)r[a]=arguments[a];n.push((i?i+KY:"")+r.join(KY))})),n.join("\n")})).join("\n\n"+$Y+"\n\n")}function eX(t){var e=JY(t);return{value:Dt([QY(e.seriesGroupByCategoryAxis),tX(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+$Y+"\n\n"),meta:e.meta}}function nX(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function rX(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(KY)>=0)return!0}var oX=new RegExp("["+KY+"]+","g");function iX(t){for(var e=t.split(/\n+/g),n=nX(e.shift()).split(oX),r=[],o=Ot(n,(function(t){return{name:t,data:[]}})),i=0;i<e.length;i++){var a=nX(e[i]).split(oX);r.push(a.shift());for(var u=0;u<a.length;u++)o[u]&&(o[u].data[i]=a[u])}return{series:o,categories:r}}function aX(t){for(var e=t.split(/\n+/g),n=nX(e.shift()),r=[],o=0;o<e.length;o++){var i=nX(e[o]);if(i){var a=i.split(oX),u="",s=void 0,c=!1;isNaN(a[0])?(c=!0,u=a[0],a=a.slice(1),r[o]={name:u,value:[]},s=r[o].value):s=r[o]=[];for(var l=0;l<a.length;l++)s.push(+a[l]);1===s.length&&(c?r[o].value=s[0]:r[o]=s[0])}}return{name:n,data:r}}function uX(t,e){var n=t.split(new RegExp("\n*"+$Y+"\n*","g")),r={series:[]};return At(n,(function(t,n){if(rX(t)){var o=iX(t),i=e[n],a=i.axisDim+"Axis";i&&(r[a]=r[a]||[],r[a][i.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{o=aX(t);r.series.push(o)}})),r}var sX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.onclick=function(t,e){var n=e.getDom(),r=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=r.get("backgroundColor")||"#fff";var i=document.createElement("h4"),a=r.get("lang")||[];i.innerHTML=a[0]||r.get("title"),i.style.cssText="margin: 10px 20px;",i.style.color=r.get("textColor");var u=document.createElement("div"),s=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var c=r.get("optionToContent"),l=r.get("contentToOption"),f=eX(t);if("function"===typeof c){var d=c(e.getOption());"string"===typeof d?u.innerHTML=d:Wt(d)&&u.appendChild(d)}else u.appendChild(s),s.readOnly=r.get("readOnly"),s.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",s.style.color=r.get("textColor"),s.style.borderColor=r.get("textareaBorderColor"),s.style.backgroundColor=r.get("textareaColor"),s.value=f.value;var h=f.meta,p=document.createElement("div");p.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",g=document.createElement("div"),v=document.createElement("div");m+=";background-color:"+r.get("buttonColor"),m+=";color:"+r.get("buttonTextColor");var y=this;function b(){n.removeChild(o),y._dom=null}en(g,"click",b),en(v,"click",(function(){if(null==l&&null!=c||null!=l&&null==c)b();else{var t;try{t="function"===typeof l?l(u,e.getOption()):uX(s.value,h)}catch(n){throw b(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),b()}})),g.innerHTML=a[1],v.innerHTML=a[2],v.style.cssText=m,g.style.cssText=m,!r.get("readOnly")&&p.appendChild(v),p.appendChild(g),o.appendChild(i),o.appendChild(u),o.appendChild(p),u.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){var e={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocale(["toolbox","dataView","title"]),lang:t.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e},e}(EY);function cX(t,e){return Ot(t,(function(t,n){var r=e&&e[n];if(jt(r)&&!Lt(r)){var o=jt(t)&&!Lt(t);o||(t={value:t});var i=null!=r.name&&null==t.name;return t=wt(t,r),i&&delete t.name,t}return t}))}z_({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];At(t.newOption.series,(function(t){var r=e.getSeriesByName(t.name)[0];if(r){var o=r.get("data");n.push({name:t.name,data:cX(t.data,o)})}else n.push(xt({type:"scatter"},t))})),e.mergeOption(wt({series:n},t.newOption))}));var lX=sX,fX=At,dX=ma();function hX(t,e){var n=vX(t);fX(e,(function(e,r){for(var o=n.length-1;o>=0;o--){var i=n[o];if(i[r])break}if(o<0){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(a){var u=a.getPercentRange();n[0][r]={dataZoomId:r,start:u[0],end:u[1]}}}})),n.push(e)}function pX(t){var e=vX(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return fX(n,(function(t,n){for(var o=e.length-1;o>=0;o--)if(t=e[o][n],t){r[n]=t;break}})),r}function mX(t){dX(t).snapshots=null}function gX(t){return vX(t).length}function vX(t){var e=dX(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var yX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.onclick=function(t,e){mX(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var e={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocale(["toolbox","restore","title"])};return e},e}(EY);z_({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var bX=yX,xX=["dataToPoint","pointToData"],wX=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],_X=function(){function t(t,e,n){var r=this;this._targetInfoList=[];var o=CX(e,t);At(kX,(function(t,e){(!n||!n.include||St(n.include,e)>=0)&&t(o,r._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var r=OX[t.brushType](0,n,e);t.__rangeOffset={offset:DX[t.brushType](r.values,t.range,[1,1]),xyMinMax:r.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){At(t,(function(t){var r=this.findTargetInfo(t,e);r&&!0!==r&&At(r.coordSyses,(function(r){var o=OX[t.brushType](1,r,t.range);n(t,o.values,r,e)}))}),this)},t.prototype.setInputRanges=function(t,e){At(t,(function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var r=OX[t.brushType](0,n.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?DX[t.brushType](r.values,o.offset,EX(r.xyMinMax,o.xyMinMax)):r.values}}),this)},t.prototype.makePanelOpts=function(t,e){return Ot(this._targetInfoList,(function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:wz(r),isTargetByCursor:Sz(r,t,n.coordSysModel),getLinearBrushOtherExtent:_z(r)}}))},t.prototype.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return!0===r||r&&St(r.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=CX(e,t),o=0;o<n.length;o++){var i=n[o],a=t.panelId;if(a){if(i.panelId===a)return i}else for(var u=0;u<TX.length;u++)if(TX[u](r,i))return i}return!0},t}();function SX(t){return t[0]>t[1]&&t.reverse(),t}function CX(t,e){return va(t,e,{includeMainTypes:wX})}var kX={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,o=t.gridModels,i=ae(),a={},u={};(n||r||o)&&(At(n,(function(t){var e=t.axis.grid.model;i.set(e.id,e),a[e.id]=!0})),At(r,(function(t){var e=t.axis.grid.model;i.set(e.id,e),u[e.id]=!0})),At(o,(function(t){i.set(t.id,t),a[t.id]=!0,u[t.id]=!0})),i.each((function(t){var o=t.coordinateSystem,i=[];At(o.getCartesians(),(function(t,e){(St(n,t.getAxis("x").model)>=0||St(r,t.getAxis("y").model)>=0)&&i.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:i[0],coordSyses:i,getPanelRect:AX.grid,xAxisDeclared:a[t.id],yAxisDeclared:u[t.id]})})))},geo:function(t,e){At(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:AX.geo})}))}},TX=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,o=t.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&r&&(o=r.axis.grid.model),o&&o===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],AX={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Fd(t)),e}},OX={lineX:Pt(MX,0),lineY:Pt(MX,1),rect:function(t,e,n){var r=e[xX[t]]([n[0][0],n[1][0]]),o=e[xX[t]]([n[0][1],n[1][1]]),i=[SX([r[0],o[0]]),SX([r[1],o[1]])];return{values:i,xyMinMax:i}},polygon:function(t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]],o=Ot(n,(function(n){var o=e[xX[t]](n);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o}));return{values:o,xyMinMax:r}}};function MX(t,e,n,r){var o=n.getAxis(["x","y"][t]),i=SX(Ot([0,1],(function(t){return e?o.coordToData(o.toLocalCoord(r[t])):o.toGlobalCoord(o.dataToCoord(r[t]))}))),a=[];return a[t]=i,a[1-t]=[NaN,NaN],{values:i,xyMinMax:a}}var DX={lineX:Pt(IX,0),lineY:Pt(IX,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return Ot(t,(function(t,r){return[t[0]-n[0]*e[r][0],t[1]-n[1]*e[r][1]]}))}};function IX(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function EX(t,e){var n=RX(t),r=RX(e),o=[n[0]/r[0],n[1]/r[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function RX(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var NX=_X,PX=At,LX=la("toolbox-dataZoom_"),BX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.render=function(t,e,n,r){this.brushController||(this.brushController=new xz(n.getZr()),this.brushController.on("brush",Nt(this._onBrush,this)).mount()),jX(t,e,this,r,n),FX(t,e)},e.prototype.onclick=function(t,e,n){zX[n].call(this)},e.prototype.remove=function(t,e){this.brushController.unmount()},e.prototype.dispose=function(t,e){this.brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},r=this.ecModel;this.brushController.updateCovers([]);var o=new NX(VX(this.model),r,{include:["grid"]});o.matchOutputRanges(e,r,(function(t,e,n){if("cartesian2d"===n.type){var r=t.brushType;"rect"===r?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[r],n,e)}})),hX(r,n),this._dispatchZoomAction(n)}function i(t,e,o){var i=e.getAxis(t),u=i.model,s=a(t,u,r),c=s.findRepresentativeAxisProxy(u).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(o=iB(0,o.slice(),i.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:o[0],endValue:o[1]})}function a(t,e,n){var r;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){var o=n.getAxisModel(t,e.componentIndex);o&&(r=n)})),r}},e.prototype._dispatchZoomAction=function(t){var e=[];PX(t,(function(t,n){e.push(vt(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){var e={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e},e}(EY),zX={zoom:function(){var t=!this.isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(pX(this.ecModel))}};function VX(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}function FX(t,e){t.setIconStatus("back",gX(e)>1?"emphasis":"normal")}function jX(t,e,n,r,o){var i=n.isZoomActive;r&&"takeGlobalCursor"===r.type&&(i="dataZoomSelect"===r.key&&r.dataZoomSelectActive),n.isZoomActive=i,t.setIconStatus("zoom",i?"emphasis":"normal");var a=new NX(VX(t),e,{include:["grid"]}),u=a.makePanelOpts(o,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));n.brushController.setPanels(u).enableBrush(!(!i||!u.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}_m("dataZoom",(function(t){var e=t.getComponent("toolbox",0);if(e){var n=e.getModel(["feature","dataZoom"]),r=[],o=VX(n),i=va(t,o);return PX(i.xAxisModels,(function(t){return a(t,"xAxis","xAxisIndex")})),PX(i.yAxisModels,(function(t){return a(t,"yAxis","yAxisIndex")})),r}function a(t,e,o){var i=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:LX+e+i};a[o]=i,r.push(a)}}));var HX=BX;function UX(t){t.registerComponentModel(BY),t.registerComponentView(HY),NY("saveAsImage",WY),NY("magicType",ZY),NY("dataView",lX),NY("dataZoom",HX),NY("restore",bX),Z_(IY)}var WX=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Qp),GX=WX;function qX(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}var YX=["-ms-","-moz-","-o-","-webkit-",""],XX="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function ZX(t){return t="left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top",t}function $X(t,e,n){if(!zt(n)||"inside"===n)return"";e=Pp(e);var r=ZX(n),o="",i="";St(["left","right"],r)>-1?(o=r+":-6px;top:50%;",i="translateY(-50%) rotate("+("left"===r?-225:-45)+"deg)"):(o=r+":-6px;left:50%;",i="translateX(-50%) rotate("+("top"===r?225:45)+"deg)"),i=Ot(YX,(function(t){return t+"transform:"+i})).join(";");var a=["position:absolute;width:10px;height:10px;",""+o+i+";","border-bottom: "+e+" solid 1px;","border-right: "+e+" solid 1px;","background-color: "+t+";","box-shadow: 8px 8px 16px -3px #000;"];return'<div style="'+a.join("")+'"></div>'}function KX(t,e){var n="cubic-bezier(0.23, 1, 0.32, 1)",r="opacity "+t/2+"s "+n+",visibility "+t/2+"s "+n;return e||(r+=",left "+t+"s "+n+",top "+t+"s "+n),Ot(YX,(function(t){return t+"transition:"+r})).join(";")}function JX(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var o=t.get("textShadowColor"),i=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,u=t.get("textShadowOffsetY")||0;return o&&i&&e.push("text-shadow:"+a+"px "+u+"px "+i+"px "+o),At(["decoration","align"],(function(n){var r=t.get(n);r&&e.push("text-"+n+":"+r)})),e.join(";")}function QX(t,e,n){var r=[],o=t.get("transitionDuration"),i=t.get("backgroundColor"),a=t.get("shadowBlur"),u=t.get("shadowColor"),s=t.get("shadowOffsetX"),c=t.get("shadowOffsetY"),l=t.getModel("textStyle"),f=Zv(t,"html"),d=s+"px "+c+"px "+a+"px "+u;return r.push("box-shadow:"+d),e&&o&&r.push(KX(o,n)),i&&(nt.canvasSupported?r.push("background-Color:"+i):(r.push("background-Color:#"+cr(i)),r.push("filter:alpha(opacity=70)"))),At(["width","color","radius"],(function(e){var n="border-"+e,o=Cp(n),i=t.get(o);null!=i&&r.push(n+":"+i+("color"===e?"":"px"))})),r.push(JX(l)),null!=f&&r.push("padding:"+kp(f).join("px ")+"px"),r.join(";")+";"}function tZ(t,e,n,r,o){var i=e&&e.painter;if(n){var a=i&&i.getViewportRoot();a&&He(t,a,document.body,r,o)}else{t[0]=r,t[1]=o;var u=i&&i.getViewportRootOffset();u&&(t[0]+=u.offsetLeft,t[1]+=u.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var eZ=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,nt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),i=this._appendToBody=n&&n.appendToBody;tZ(this._styleCoord,o,i,e.getWidth()/2,e.getHeight()/2),i?document.body.appendChild(r):t.appendChild(r),this._container=t;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=o.handler,n=o.painter.getViewportRoot();Qe(n,t,!0),e.dispatch("mousemove",t)}},r.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e=this._container,n=e.currentStyle||document.defaultView.getComputedStyle(e),r=e.style;"absolute"!==r.position&&"absolute"!==n.position&&(r.position="relative");var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=this._styleCoord,o=n.offsetHeight/2;e=Pp(e),n.style.cssText=XX+QX(t,!this._firstShow,this._longHide)+";left:"+r[0]+"px;top:"+(r[1]-o)+"px;border-color: "+e+";"+(t.get("extraCssText")||""),n.style.display=n.innerHTML?"block":"none",n.style.pointerEvents=this._enterable?"auto":"none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,r,o){if(null!=t){var i=this.el;if(zt(o)&&"item"===n.get("trigger")&&!qX(n)&&(t+=$X(n.get("backgroundColor"),r,o)),zt(t))i.innerHTML=t;else if(t){i.innerHTML="",Lt(t)||(t=[t]);for(var a=0;a<t.length;a++)Wt(t[a])&&t[a].parentNode!==i&&i.appendChild(t[a])}}},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.clientWidth,t.clientHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(tZ(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var r=this.el.style;r.left=n[0].toFixed(0)+"px",r.top=n[1].toFixed(0)+"px"}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this;this.el.style.visibility="hidden",this.el.style.opacity="0",this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Nt(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t.prototype.getOuterSize=function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:t,height:e}},t}(),nZ=eZ,rZ=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),aZ(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,r,o){jt(t)&&cv(""),this.el&&this._zr.remove(this.el);var i=n.getModel("textStyle");this.el=new Mc({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:n.get("backgroundColor"),borderRadius:n.get("borderRadius"),borderWidth:1,borderColor:r,shadowColor:n.get("shadowColor"),shadowBlur:n.get("shadowBlur"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY"),textShadowColor:i.get("textShadowColor"),textShadowBlur:i.get("textShadowBlur")||0,textShadowOffsetX:i.get("textShadowOffsetX")||0,textShadowOffsetY:i.get("textShadowOffsetY")||0,fill:n.get(["textStyle","color"]),padding:Zv(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),this._zr.add(this.el);var a=this;this.el.on("mouseover",(function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0})),this.el.on("mouseout",(function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=iZ(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var r=this._styleCoord;aZ(r,this._zr,t,e),t=r[0],e=r[1];var o=n.style,i=oZ(o.borderWidth||0),a=iZ(o);n.x=t+i+a.left,n.y=e+i+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Nt(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.getOuterSize=function(){var t=this.getSize();return{width:t[0],height:t[1]}},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function oZ(t){return Math.max(0,t)}function iZ(t){var e=oZ(t.shadowBlur||0),n=oZ(t.shadowOffsetX||0),r=oZ(t.shadowOffsetY||0);return{left:oZ(e-n),right:oZ(e+n),top:oZ(e-r),bottom:oZ(e+r)}}function aZ(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var uZ=rZ,sZ=Nt,cZ=At,lZ=Si,fZ=new mc({shape:{x:-1,y:-1,width:2,height:2}}),dZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(t,e){if(!nt.node){var n=t.getComponent("tooltip"),r=n.get("renderMode");this._renderMode=Sa(r),this._tooltipContent="richText"===this._renderMode?new uZ(e):new nZ(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!nt.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent");var r=this._tooltipContent;r.update(t),r.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");NW("itemTooltip",this._api,sZ((function(t,n,r){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,r):"leave"===t&&this._hide(r))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&r.manuallyShowTip(t,e,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,n,r){if(r.from!==this.uid&&!nt.node){var o=pZ(r,n);this._ticket="";var i=r.dataByCoordSys;if(r.tooltip&&null!=r.x&&null!=r.y){var a=fZ;a.x=r.x,a.y=r.y,a.update(),a.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:a},o)}else if(i)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:i,tooltipOption:r.tooltipOption},o);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,r))return;var u=UW(r,e),s=u.point[0],c=u.point[1];null!=s&&null!=c&&this._tryShow({offsetX:s,offsetY:c,position:r.position,target:u.el},o)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},o))}},e.prototype.manuallyHideTip=function(t,e,n,r){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(pZ(r,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,r){var o=r.seriesIndex,i=r.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=i&&null!=a){var u=e.getSeriesByIndex(o);if(u){var s=u.getData(),c=hZ([s.getItemModel(i),u,(u.coordinateSystem||{}).model,t]);if("axis"===c.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:i,position:r.position}),!0}}},e.prototype._tryShow=function(t,e){var n=t.target,r=this._tooltipModel;if(r){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;o&&o.length?this._showAxisTooltip(o,t):n&&sx(n,(function(t){return null!=Dc(t).dataIndex}),!0)?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=Nt(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,r=this._tooltipModel,o=[e.offsetX,e.offsetY],i=hZ([e.tooltipOption,r]),a=this._renderMode,u=[],s=Bv("section",{blocks:[],noHeader:!0}),c=[],l=new $v;cZ(t,(function(t){cZ(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),r=t.value;if(e&&null!=r){var o=bW(r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),i=Bv("section",{header:o,noHeader:!ee(o),sortBlocks:!0,blocks:[]});s.blocks.push(i),At(t.seriesDataIndices,(function(s){var f=n.getSeriesByIndex(s.seriesIndex),d=s.dataIndexInside,h=f.getDataParams(d);h.axisDim=t.axisDim,h.axisIndex=t.axisIndex,h.axisType=t.axisType,h.axisId=t.axisId,h.axisValue=nM(e.axis,{value:r}),h.axisValueLabel=o,h.marker=l.makeTooltipMarker("item",Pp(h.color),a);var p=ov(f.formatTooltip(d,!0,null));p.markupFragment&&i.blocks.push(p.markupFragment),p.markupText&&c.push(p.markupText),u.push(h)}))}}))})),s.blocks.reverse(),c.reverse();var f=e.position,d=i.get("order"),h=jv(s,l,a,d,n.get("useUTC"),i.get("textStyle"));h&&c.unshift(h);var p="richText"===a?"\n\n":"<br/>",m=c.join(p);this._showOrMove(i,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(i,f,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(i,m,u,Math.random()+"",o[0],o[1],f,null,l)}))},e.prototype._showSeriesItemTooltip=function(t,e,n){var r=sx(e,(function(t){return null!=Dc(t).dataIndex}),!0),o=this._ecModel,i=Dc(r),a=i.seriesIndex,u=o.getSeriesByIndex(a),s=i.dataModel||u,c=i.dataIndex,l=i.dataType,f=s.getData(l),d=this._renderMode,h=hZ([f.getItemModel(c),s,u&&(u.coordinateSystem||{}).model,this._tooltipModel]),p=h.get("trigger");if(null==p||"item"===p){var m=s.getDataParams(c,l),g=new $v;m.marker=g.makeTooltipMarker("item",Pp(m.color),d);var v=ov(s.formatTooltip(c,!1,l)),y=h.get("order"),b=v.markupFragment?jv(v.markupFragment,g,d,y,o.get("useUTC"),h.get("textStyle")):v.markupText,x="item_"+s.name+"_"+c;this._showOrMove(h,(function(){this._showTooltipContent(h,b,m,x,t.offsetX,t.offsetY,t.position,t.target,g)})),n({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:a,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var r=e.tooltip;if(zt(r)){var o=r;r={content:o,formatter:o}}var i=new Ah(r,this._tooltipModel,this._ecModel),a=i.get("content"),u=Math.random()+"",s=new $v;this._showOrMove(i,(function(){this._showTooltipContent(i,a,i.get("formatterParams")||{},u,t.offsetX,t.offsetY,t.position,e,s)})),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,r,o,i,a,u,s){if(this._ticket="",t.get("showContent")&&t.get("show")){var c=this._tooltipContent,l=t.get("formatter");a=a||t.get("position");var f=e,d=this._getNearestPoint([o,i],n,t.get("trigger"),t.get("borderColor"));if(l&&zt(l)){var h=t.ecModel.get("useUTC"),p=Lt(n)?n[0]:n,m=p&&p.axisType&&p.axisType.indexOf("time")>=0;f=l,m&&(f=ip(p.axisValue,f,h)),f=Ep(f,n,!0)}else if(Bt(l)){var g=sZ((function(e,r){e===this._ticket&&(c.setContent(r,s,t,d.color,a),this._updatePosition(t,a,o,i,c,n,u))}),this);this._ticket=r,f=l(n,r,g)}c.setContent(f,s,t,d.color,a),c.show(t,d.color),this._updatePosition(t,a,o,i,c,n,u)}},e.prototype._getNearestPoint=function(t,e,n,r){return"axis"===n||Lt(e)?{color:r||("html"===this._renderMode?"#fff":"none")}:Lt(e)?void 0:{color:r||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,r,o,i,a){var u=this._api.getWidth(),s=this._api.getHeight();e=e||t.get("position");var c=o.getSize(),l=t.get("align"),f=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),Bt(e)&&(e=e([n,r],i,o.el,d,{viewSize:[u,s],contentSize:c.slice()})),Lt(e))n=lZ(e[0],u),r=lZ(e[1],s);else if(jt(e)){var h=e;h.width=c[0],h.height=c[1];var p=Up(h,{width:u,height:s});n=p.x,r=p.y,l=null,f=null}else if(zt(e)&&a){var m=vZ(e,d,c);n=m[0],r=m[1]}else{m=mZ(n,r,o,u,s,l?null:20,f?null:20);n=m[0],r=m[1]}if(l&&(n-=yZ(l)?c[0]/2:"right"===l?c[0]:0),f&&(r-=yZ(f)?c[1]/2:"bottom"===f?c[1]:0),qX(t)){m=gZ(n,r,o,u,s);n=m[0],r=m[1]}o.moveTo(n,r)},e.prototype._updateContentNotChangedOnAxis=function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&cZ(e,(function(e,r){var o=e.dataByAxis||[],i=t[r]||{},a=i.dataByAxis||[];n=n&&o.length===a.length,n&&cZ(o,(function(t,e){var r=a[e]||{},o=t.seriesDataIndices||[],i=r.seriesDataIndices||[];n=n&&t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&o.length===i.length,n&&cZ(o,(function(t,e){var r=i[e];n=n&&t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex}))}))})),this._lastDataByCoordSys=t,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){nt.node||(this._tooltipContent.dispose(),FW("itemTooltip",e))},e.type="tooltip",e}(dy);function hZ(t){var e=t.pop();while(t.length){var n=t.pop();n&&(n instanceof Ah&&(n=n.get("tooltip",!0)),zt(n)&&(n={formatter:n}),e=new Ah(n,e,e.ecModel))}return e}function pZ(t,e){return t.dispatchAction||Nt(e.dispatchAction,e)}function mZ(t,e,n,r,o,i,a){var u=n.getOuterSize(),s=u.width,c=u.height;return null!=i&&(t+s+i+2>r?t-=s+i:t+=i),null!=a&&(e+c+a>o?e-=c+a:e+=a),[t,e]}function gZ(t,e,n,r,o){var i=n.getOuterSize(),a=i.width,u=i.height;return t=Math.min(t+a,r)-a,e=Math.min(e+u,o)-u,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function vZ(t,e,n){var r=n[0],o=n[1],i=10,a=5,u=0,s=0,c=e.width,l=e.height;switch(t){case"inside":u=e.x+c/2-r/2,s=e.y+l/2-o/2;break;case"top":u=e.x+c/2-r/2,s=e.y-o-i;break;case"bottom":u=e.x+c/2-r/2,s=e.y+l+i;break;case"left":u=e.x-r-i-a,s=e.y+l/2-o/2;break;case"right":u=e.x+c+i+a,s=e.y+l/2-o/2}return[u,s]}function yZ(t){return"center"===t||"middle"===t}var bZ=dZ;function xZ(t){Z_(nG),t.registerComponentModel(GX),t.registerComponentView(bZ),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}var wZ=["rect","polygon","keep","clear"];function _Z(t,e){var n=Yi(t?t.brush:[]);if(n.length){var r=[];At(n,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e))}));var o=t&&t.toolbox;Lt(o)&&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var i=o.feature||(o.feature={}),a=i.brush||(i.brush={}),u=a.type||(a.type=[]);u.push.apply(u,r),SZ(u),e&&!u.length&&u.push.apply(u,wZ)}}function SZ(t){var e={};At(t,(function(t){e[t]=1})),t.length=0,At(e,(function(e,n){t.push(n)}))}var CZ=At;function kZ(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function TZ(t,e,n){var r={};return CZ(e,(function(e){var i=r[e]=o();CZ(t[e],(function(t,r){if(hN.isValidType(r)){var o={type:r,visual:t};n&&n(o,e),i[r]=new hN(o),"opacity"===r&&(o=vt(o),o.type="colorAlpha",i.__hidden.__alphaForOpacity=new hN(o))}}))})),r;function o(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}}function AZ(t,e,n){var r;At(n,(function(t){e.hasOwnProperty(t)&&kZ(e[t])&&(r=!0)})),r&&At(n,(function(n){e.hasOwnProperty(n)&&kZ(e[n])?t[n]=vt(e[n]):delete t[n]}))}function OZ(t,e,n,r,o,i){var a,u={};function s(t){return vb(n,a,t)}function c(t,e){bb(n,a,t,e)}function l(t,l){a=null==i?t:l;var f=n.getRawDataItem(a);if(!f||!1!==f.visualMap)for(var d=r.call(o,t),h=e[d],p=u[d],m=0,g=p.length;m<g;m++){var v=p[m];h[v]&&h[v].applyVisual(t,s,c)}}At(t,(function(t){var n=hN.prepareVisualTypes(e[t]);u[t]=n})),null==i?n.each(l):n.each([i],l)}function MZ(t,e,n,r){var o={};return At(t,(function(t){var n=hN.prepareVisualTypes(e[t]);o[t]=n})),{progress:function(t,i){var a,u;function s(t){return vb(i,u,t)}function c(t,e){bb(i,u,t,e)}null!=r&&(a=i.getDimension(r));while(null!=(u=t.next())){var l=i.getRawDataItem(u);if(!l||!1!==l.visualMap)for(var f=null!=r?i.get(a,u):u,d=n(f),h=e[d],p=o[d],m=0,g=p.length;m<g;m++){var v=p[m];h[v]&&h[v].applyVisual(f,s,c)}}}}}function DZ(t){var e=t.brushType,n={point:function(r){return IZ[e].point(r,n,t)},rect:function(r){return IZ[e].rect(r,n,t)}};return n}var IZ={lineX:EZ(0),lineY:EZ(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&gI(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var o=t.x,i=t.y,a=t.width,u=t.height,s=r[0];return!!(gI(r,o,i)||gI(r,o+a,i)||gI(r,o,i+u)||gI(r,o+a,i+u)||Yr.create(t).contain(s[0],s[1])||Zd(o,i,o+a,i,r)||Zd(o,i,o,i+u,r)||Zd(o+a,i,o+a,i+u,r)||Zd(o,i+u,o+a,i+u,r))||void 0}}};function EZ(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,r){if(e){var o=r.range,i=e[t];return RZ(i,o)}},rect:function(r,o,i){if(r){var a=i.range,u=[r[e[t]],r[e[t]]+r[n[t]]];return u[1]<u[0]&&u.reverse(),RZ(u[0],a)||RZ(u[1],a)||RZ(a[0],u)||RZ(a[1],u)}}}}function RZ(t,e){return e[0]<=t&&t<=e[1]}var NZ=["inBrush","outOfBrush"],PZ="__ecBrushSelect",LZ="__ecInBrushSelectEvent";function BZ(t){t.eachComponent({mainType:"brush"},(function(e){var n=e.brushTargetManager=new NX(e.option,t);n.setInputRanges(e.areas,t)}))}function zZ(t,e,n){var r,o,i=[];t.eachComponent({mainType:"brush"},(function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),BZ(t),t.eachComponent({mainType:"brush"},(function(e,n){var a={brushId:e.id,brushIndex:n,brushName:e.name,areas:vt(e.areas),selected:[]};i.push(a);var u=e.option,s=u.brushLink,c=[],l=[],f=[],d=!1;n||(r=u.throttleType,o=u.throttleDelay);var h=Ot(e.areas,(function(t){var e=UZ[t.brushType],n=wt({boundingRect:e?e(t):void 0},t);return n.selectors=DZ(n),n})),p=TZ(e.option,NZ,(function(t){t.mappingMethod="fixed"}));function m(t){return"all"===s||!!c[t]}function g(t){return!!t.length}function v(t,e){var n=t.coordinateSystem;d=d||n.hasAxisBrushed(),m(e)&&n.eachActiveState(t.getData(),(function(t,e){"active"===t&&(l[e]=1)}))}function y(n,r,o){if(n.brushSelector&&!HZ(e,r)&&(At(h,(function(r){e.brushTargetManager.controlSeries(r,n,t)&&o.push(r),d=d||g(o)})),m(r)&&g(o))){var i=n.getData();i.each((function(t){jZ(n,o,i,t)&&(l[t]=1)}))}}Lt(s)&&At(s,(function(t){c[t]=1})),t.eachSeries((function(t,e){var n=f[e]=[];"parallel"===t.subType?v(t,e):y(t,e,n)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(n);var r=f[e],o=t.getData(),i=m(e)?function(t){return l[t]?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return jZ(t,r,o,e)?(n.dataIndex.push(o.getRawIndex(e)),"inBrush"):"outOfBrush"};(m(e)?d:g(r))&&OZ(NZ,p,o,i)}))})),VZ(e,r,o,i,n)}function VZ(t,e,n,r,o){if(o){var i=t.getZr();if(!i[LZ]){i[PZ]||(i[PZ]=FZ);var a=Ay(i,PZ,n,e);a(t,r)}}}function FZ(t,e){if(!t.isDisposed()){var n=t.getZr();n[LZ]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[LZ]=!1}}function jZ(t,e,n,r){for(var o=0,i=e.length;o<i;o++){var a=e[o];if(t.brushSelector(r,n,a.selectors,a))return!0}}function HZ(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(Lt(n)?St(n,e)<0:e!==n)}var UZ={rect:function(t){return WZ(t.range)},polygon:function(t){for(var e,n=t.range,r=0,o=n.length;r<o;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var i=n[r];i[0]<e[0][0]&&(e[0][0]=i[0]),i[0]>e[0][1]&&(e[0][1]=i[0]),i[1]<e[1][0]&&(e[1][0]=i[1]),i[1]>e[1][1]&&(e[1][1]=i[1])}return e&&WZ(e)}};function WZ(t){return new Yr(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var GZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new xz(e.getZr())).on("brush",Nt(this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,r){this.model=t,this._updateController(t,e,n,r)},e.prototype.updateTransform=function(t,e,n,r){BZ(e),this._updateController(t,e,n,r)},e.prototype.updateVisual=function(t,e,n,r){this.updateTransform(t,e,n,r)},e.prototype.updateView=function(t,e,n,r){this._updateController(t,e,n,r)},e.prototype._updateController=function(t,e,n,r){(!r||r.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:vt(n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:vt(n),$from:e})},e.type="brush",e}(dy),qZ=GZ,YZ="#ddd",XZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return Z(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&AZ(n,t,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:YZ},r.hasOwnProperty("liftZ")||(r.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=Ot(t,(function(t){return ZZ(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=ZZ(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Qp);function ZZ(t,e){return yt({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Ah(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var $Z=XZ,KZ=["rect","polygon","lineX","lineY","keep","clear"],JZ=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.render=function(t,e,n){var r,o,i;e.eachComponent({mainType:"brush"},(function(t){r=t.brushType,o=t.brushOption.brushMode||"single",i=i||!!t.areas.length})),this._brushType=r,this._brushMode=o,At(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===o:"clear"===e?i:e===r)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return At(t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},e.prototype.onclick=function(t,e,n){var r=this._brushType,o=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},e.getDefaultOption=function(t){var e={show:!0,type:KZ.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocale(["toolbox","brush","title"])};return e},e}(EY),QZ=JZ;function t$(t){t.registerComponentView(qZ),t.registerComponentModel($Z),t.registerPreprocessor(_Z),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,zZ),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},(function(){})),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},(function(){})),NY("brush",QZ)}var e$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Z(e,t),e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Qp),n$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,o=t.getModel("textStyle"),i=t.getModel("subtextStyle"),a=t.get("textAlign"),u=$t(t.get("textBaseline"),t.get("textVerticalAlign")),s=new Mc({style:oh(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=s.getBoundingRect(),l=t.get("subtext"),f=new Mc({style:oh(i,{text:l,fill:i.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),h=t.get("sublink"),p=t.get("triggerEvent",!0);s.silent=!d&&!p,f.silent=!h&&!p,d&&s.on("click",(function(){Lp(d,"_"+t.get("target"))})),h&&f.on("click",(function(){Lp(h,"_"+t.get("subtarget"))})),Dc(s).eventData=Dc(f).eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(s),l&&r.add(f);var m=r.getBoundingRect(),g=t.getBoxLayoutParams();g.width=m.width,g.height=m.height;var v=Up(g,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a||(a=t.get("left")||t.get("right"),"middle"===a&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),u||(u=t.get("top")||t.get("bottom"),"center"===u&&(u="middle"),"bottom"===u?v.y+=v.height:"middle"===u&&(v.y+=v.height/2),u=u||"top"),r.x=v.x,r.y=v.y,r.markRedraw();var y={align:a,verticalAlign:u};s.setStyle(y),f.setStyle(y),m=r.getBoundingRect();var b=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var w=new mc({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2],r:t.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});r.add(w)}},e.type="title",e}(dy);function r$(t){t.registerComponentModel(e$),t.registerComponentView(n$)}var o$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return Z(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],r=e.axisType,o=this._names=[];"category"===r?(t=[],At(n,(function(e,n){var r,i=ua($i(e),"");jt(e)?(r=vt(e),r.value=n):r=n,t.push(r),o.push(i)}))):t=n;var i={category:"ordinal",time:"time",value:"number"}[r]||"number",a=this._data=new rk([{name:"value",type:i}],this);a.initData(t,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Qp),i$=o$,a$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="timeline.slider",e.defaultOption=Eh(i$.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(i$);kt(a$,rv.prototype);var u$=a$,s$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="timeline",e}(dy),c$=s$,l$=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r)||this;return i.type=o||"value",i}return Z(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(NM),f$=l$,d$=Math.PI,h$=ma(),p$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var r=this._layout(t,n),o=this._createGroup("_mainGroup"),i=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(r,t);t.formatTooltip=function(t){var e=a.scale.getLabel({value:t});return Bv("nameValue",{noName:!0,value:e})},At(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](r,o,a,t)}),this),this._renderAxisLabel(r,i,a,t),this._position(r,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,r=t.get(["label","position"]),o=t.get("orient"),i=g$(t,e);n=null==r||"auto"===r?"horizontal"===o?i.y+i.height/2<e.getHeight()/2?"-":"+":i.x+i.width/2<e.getWidth()/2?"+":"-":zt(r)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][r]:r;var a,u,s,c={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},l={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},f={horizontal:0,vertical:d$/2},d="vertical"===o?i.height:i.width,h=t.getModel("controlStyle"),p=h.get("show",!0),m=p?h.get("itemSize"):0,g=p?h.get("itemGap"):0,v=m+g,y=t.get(["label","rotate"])||0;y=y*d$/180;var b=h.get("position",!0),x=p&&h.get("showPlayBtn",!0),w=p&&h.get("showPrevBtn",!0),_=p&&h.get("showNextBtn",!0),S=0,C=d;"left"===b||"bottom"===b?(x&&(a=[0,0],S+=v),w&&(u=[S,0],S+=v),_&&(s=[C-m,0],C-=v)):(x&&(a=[C-m,0],C-=v),w&&(u=[0,0],S+=v),_&&(s=[C-m,0],C-=v));var k=[S,C];return t.get("inverse")&&k.reverse(),{viewRect:i,mainLength:d,orient:o,rotation:f[o],labelRotation:y,labelPosOpt:n,labelAlign:t.get(["label","align"])||c[o],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||l[o],playPosition:a,prevBtnPosition:u,nextBtnPosition:s,axisExtent:k,controlSize:m,controlGap:g}},e.prototype._position=function(t,e){var n=this._mainGroup,r=this._labelGroup,o=t.viewRect;if("vertical"===t.orient){var i=xn(),a=o.x,u=o.y+o.height;Cn(i,i,[-a,-u]),kn(i,i,-d$/2),Cn(i,i,[a,u]),o=o.clone(),o.applyTransform(i)}var s=g(o),c=g(n.getBoundingRect()),l=g(r.getBoundingRect()),f=[n.x,n.y],d=[r.x,r.y];d[0]=f[0]=s[0][0];var h=t.labelPosOpt;if(null==h||zt(h)){var p="+"===h?0:1;v(f,c,s,1,p),v(d,l,s,1,1-p)}else{p=h>=0?0:1;v(f,c,s,1,p),d[1]=f[1]+h}function m(t){t.originX=s[0][0]-t.x,t.originY=s[1][0]-t.y}function g(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,n,r,o){t[r]+=n[r][o]-e[r][o]}n.setPosition(f),r.setPosition(d),n.rotation=r.rotation=t.rotation,m(n),m(r)},e.prototype._createAxis=function(t,e){var n=e.getData(),r=e.get("axisType"),o=m$(e,r);o.getTicks=function(){return n.mapArray(["value"],(function(t){return{value:t}}))};var i=n.getDataExtent("value");o.setExtent(i[0],i[1]),o.niceTicks();var a=new f$("value",o,t.axisExtent,r);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new fi;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,r){var o=n.getExtent();if(r.get(["lineStyle","show"])){var i=new Gf({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:xt({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(i);var a=this._progressLine=new Gf({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:wt({lineCap:"round",lineWidth:i.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,n,r){var o=this,i=r.getData(),a=n.scale.getTicks();this._tickSymbols=[],At(a,(function(t){var a=n.dataToCoord(t.value),u=i.getItemModel(t.value),s=u.getModel("itemStyle"),c=u.getModel(["emphasis","itemStyle"]),l=u.getModel(["progress","itemStyle"]),f={x:a,y:0,onclick:Nt(o._changeTimeline,o,t.value)},d=y$(u,s,e,f);d.ensureState("emphasis").style=c.getItemStyle(),d.ensureState("progress").style=l.getItemStyle(),Tl(d);var h=Dc(d);u.get("tooltip")?(h.dataIndex=t.value,h.dataModel=r):h.dataIndex=h.dataModel=null,o._tickSymbols.push(d)}))},e.prototype._renderAxisLabel=function(t,e,n,r){var o=this,i=n.getLabelModel();if(i.get("show")){var a=r.getData(),u=n.getViewLabels();this._tickLabels=[],At(u,(function(r){var i=r.tickValue,u=a.getItemModel(i),s=u.getModel("label"),c=u.getModel(["emphasis","label"]),l=u.getModel(["progress","label"]),f=n.dataToCoord(r.tickValue),d=new Mc({x:f,y:0,rotation:t.labelRotation-t.rotation,onclick:Nt(o._changeTimeline,o,i),silent:!1,style:oh(s,{text:r.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});d.ensureState("emphasis").style=oh(c),d.ensureState("progress").style=oh(l),e.add(d),Tl(d),h$(d).dataIndex=i,o._tickLabels.push(d)}))}},e.prototype._renderControl=function(t,e,n,r){var o=t.controlSize,i=t.rotation,a=r.getModel("controlStyle").getItemStyle(),u=r.getModel(["emphasis","controlStyle"]).getItemStyle(),s=r.getPlayState(),c=r.get("inverse",!0);function l(t,n,s,c){if(t){var l=oo($t(r.get(["controlStyle",n+"BtnSize"]),o),o),f=[0,-l/2,l,l],d={position:t,origin:[o/2,0],rotation:c?-i:0,rectHover:!0,style:a,onclick:s},h=v$(r,n+"Icon",f,d);h.ensureState("emphasis").style=u,e.add(h),Tl(h)}}l(t.nextBtnPosition,"next",Nt(this._changeTimeline,this,c?"-":"+")),l(t.prevBtnPosition,"prev",Nt(this._changeTimeline,this,c?"+":"-")),l(t.playPosition,s?"stop":"play",Nt(this._handlePlayClick,this,!s),!0)},e.prototype._renderCurrentPointer=function(t,e,n,r){var o=r.getData(),i=r.getCurrentIndex(),a=o.getItemModel(i).getModel("checkpointStyle"),u=this,s={onCreate:function(t){t.draggable=!0,t.drift=Nt(u._handlePointerDrag,u),t.ondragend=Nt(u._handlePointerDragend,u),b$(t,u._progressLine,i,n,r,!0)},onUpdate:function(t){b$(t,u._progressLine,i,n,r)}};this._currentPointer=y$(a,a,this._mainGroup,{},this._currentPointer,s)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],r=this._axis,o=ki(r.getExtent().slice());n>o[1]&&(n=o[1]),n<o[0]&&(n=o[0]),this._currentPointer.x=n,this._currentPointer.markRedraw(),this._progressLine.shape.x2=n,this._progressLine.dirty();var i=this._findNearestTick(n),a=this.model;(e||i!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(i)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return jd(t,e,!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),r=1/0,o=this._axis;return n.each(["value"],(function(n,i){var a=o.dataToCoord(n),u=Math.abs(a-t);u<r&&(r=u,e=i)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var r=0;r<e.length;r++)e&&e[r]&&e[r].toggleState("progress",r<t);if(n)for(r=0;r<n.length;r++)n&&n[r]&&n[r].toggleState("progress",h$(n[r]).dataIndex<=t)},e.type="timeline.slider",e}(c$);function m$(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new vO({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new EO({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new xO}}function g$(t,e){return Up(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function v$(t,e,n,r){var o=r.style,i=Xd(t.get(["controlStyle",e]),r||{},new Yr(n[0],n[1],n[2],n[3]));return o&&i.setStyle(o),i}function y$(t,e,n,r,o,i){var a=e.get("color");if(o)o.setColor(a),n.add(o),i&&i.onUpdate(o);else{var u=t.get("symbol");o=_x(u,-1,-1,2,2,a),o.setStyle("strokeNoScale",!0),n.add(o),i&&i.onCreate(o)}var s=e.getItemStyle(["color"]);o.setStyle(s),r=yt({rectHover:!0,z2:100},r,!0);var c=t.get("symbolSize");c=c instanceof Array?c.slice():[+c,+c],r.scaleX=c[0]/2,r.scaleY=c[1]/2;var l=t.get("symbolOffset");l&&(r.x=r.x||0,r.y=r.y||0,r.x+=Si(l[0],c[0]),r.y+=Si(l[1],c[1]));var f=t.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,o.attr(r),o.updateTransform(),o}function b$(t,e,n,r,o,i){if(!t.dragging){var a=o.getModel("checkpointStyle"),u=r.dataToCoord(o.getData().get("value",n));if(i||!a.get("animation",!0))t.attr({x:u,y:0}),e&&e.attr({shape:{x2:u}});else{var s={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:u,y:0},s),e&&e.animateTo({shape:{x2:u}},s)}}}var x$=p$;function w$(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline",{replaceMerge:n.get("replaceMerge",!0)}),wt({currentIndex:n.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)}))}function _$(t){var e=t&&t.timeline;Lt(e)||(e=e?[e]:[]),At(e,(function(t){t&&S$(t)}))}function S$(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),C$(t),k$(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});k$(r,"position")||(r.position=t.controlPosition),"none"!==r.position||k$(r,"show")||(r.show=!1,delete r.position),delete t.controlPosition}At(t.data||[],(function(t){jt(t)&&!Lt(t)&&(!k$(t,"value")&&k$(t,"name")&&(t.value=t.name),C$(t))}))}function C$(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},o=r.normal||(r.normal={}),i={normal:1,emphasis:1};At(r,(function(t,e){i[e]||k$(o,e)||(o[e]=t)})),n.label&&!k$(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function k$(t,e){return t.hasOwnProperty(e)}function T$(t){t.registerComponentModel(u$),t.registerComponentView(x$),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),w$(t),t.registerPreprocessor(_$)}function A$(t){Xi(t,"label",["show"])}var O$=ma(),M$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return Z(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(nt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,r){var o=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),i=O$(t)[o];n&&n.data?(i?i._mergeOption(n,e,!0):(r&&A$(n),At(n.data,(function(t){t instanceof Array?(A$(t[0]),A$(t[1])):A$(t)})),i=this.createMarkerModelFromSeries(n,this,e),xt(i,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),i.__hostSeries=t),O$(t)[o]=i):O$(t)[o]=null}),this)},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),o=this.getRawValue(t),i=r.getName(t);return Bv("section",{header:this.name,blocks:[Bv("nameValue",{name:i,value:o,noName:!i,noValue:null==o})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return O$(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Qp);kt(M$,rv.prototype);var D$=M$,I$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markPoint",e.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(D$),E$=I$;function R$(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function N$(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function P$(t,e,n,r,o,i){var a=[],u=pk(e,r),s=u?e.getCalculationInfo("stackResultDimension"):r,c=H$(e,s,t),l=e.indicesOfNearest(s,c)[0];a[o]=e.get(n,l),a[i]=e.get(s,l);var f=e.get(r,l),d=Ti(e.get(r,l));return d=Math.min(d,20),d>=0&&(a[i]=+a[i].toFixed(d)),[a,f]}var L$={min:Pt(P$,"min"),max:Pt(P$,"max"),average:Pt(P$,"average"),median:Pt(P$,"median")};function B$(t,e){var n=t.getData(),r=t.coordinateSystem;if(e&&!N$(e)&&!Lt(e.coord)&&r){var o=r.dimensions,i=z$(e,n,r,t);if(e=vt(e),e.type&&L$[e.type]&&i.baseAxis&&i.valueAxis){var a=St(o,i.baseAxis.dim),u=St(o,i.valueAxis.dim),s=L$[e.type](n,i.baseDataDim,i.valueDataDim,a,u);e.coord=s[0],e.value=s[1]}else{for(var c=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],l=0;l<2;l++)L$[c[l]]&&(c[l]=H$(n,n.mapDimension(o[l]),c[l]));e.coord=c}}return e}function z$(t,e,n,r){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=n.getAxis(V$(r,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=r.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function V$(t,e){var n=t.getData(),r=n.dimensions;e=n.getDimension(e);for(var o=0;o<r.length;o++){var i=n.getDimensionInfo(r[o]);if(i.name===e)return i.coordDim}}function F$(t,e){return!(t&&t.containData&&e.coord&&!R$(e))||t.containData(e.coord)}function j$(t,e,n,r){return r<2?t.coord&&t.coord[r]:t.value}function H$(t,e,n){if("average"===n){var r=0,o=0;return t.each(e,(function(t,e){isNaN(t)||(r+=t,o++)})),r/o}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var U$=ma(),W$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.init=function(){this.markerGroupMap=ae()},e.prototype.render=function(t,e,n){var r=this,o=this.markerGroupMap;o.each((function(t){U$(t).keep=!1})),e.eachSeries((function(t){var o=D$.getMarkerModelFromSeries(t,r.type);o&&r.renderSeries(t,o,e,n)})),o.each((function(t){!U$(t).keep&&r.group.remove(t.group)}))},e.prototype.markKeep=function(t){U$(t).keep=!0},e.prototype.blurSeries=function(t){var e=this;At(t,(function(t){var n=D$.getMarkerModelFromSeries(t,e.type);if(n){var r=n.getData();r.eachItemGraphicEl((function(t){t&&ml(t)}))}}))},e.type="marker",e}(dy),G$=W$;function q$(t,e,n){var r=e.coordinateSystem;t.each((function(o){var i,a=t.getItemModel(o),u=Si(a.get("x"),n.getWidth()),s=Si(a.get("y"),n.getHeight());if(isNaN(u)||isNaN(s)){if(e.getMarkerPosition)i=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(r){var c=t.get(r.dimensions[0],o),l=t.get(r.dimensions[1],o);i=r.dataToPoint([c,l])}}else i=[u,s];isNaN(u)||(i[0]=u),isNaN(s)||(i[1]=s),t.setItemLayout(o,i)}))}var Y$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=D$.getMarkerModelFromSeries(t,"markPoint");e&&(q$(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,n,r){var o=t.coordinateSystem,i=t.id,a=t.getData(),u=this.markerGroupMap,s=u.get(i)||u.set(i,new Ik),c=X$(o,t,e);e.setData(c),q$(e.getData(),t,r),c.each((function(t){var n=c.getItemModel(t),r=n.getShallow("symbol"),o=n.getShallow("symbolSize"),i=n.getShallow("symbolRotate");if(Bt(r)||Bt(o)||Bt(i)){var u=e.getRawValue(t),s=e.getDataParams(t);Bt(r)&&(r=r(u,s)),Bt(o)&&(o=o(u,s)),Bt(i)&&(i=i(u,s))}var l=n.getModel("itemStyle").getItemStyle(),f=yb(a,"color");l.fill||(l.fill=f),c.setItemVisual(t,{symbol:r,symbolSize:o,symbolRotate:i,style:l})})),s.updateData(c),this.group.add(s.group),c.eachItemGraphicEl((function(t){t.traverse((function(t){Dc(t).dataModel=e}))})),this.markKeep(s),s.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(G$);function X$(t,e,n){var r;r=t?Ot(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return wt({name:t},n)})):[{name:"value",type:"float"}];var o=new rk(r,n),i=Ot(n.get("data"),Pt(B$,e));return t&&(i=Dt(i,Pt(F$,t))),o.initData(i,null,t?j$:function(t){return t.value}),o}var Z$=Y$;function $$(t){t.registerComponentModel(E$),t.registerComponentView(Z$),t.registerPreprocessor((function(t){t.markPoint=t.markPoint||{}}))}var K$=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markLine",e.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(D$),J$=K$,Q$=ma(),tK=function(t,e,n,r){var o,i=t.getData();if(Lt(r))o=r;else{var a=r.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=r.xAxis||null!=r.yAxis){var u=void 0,s=void 0;if(null!=r.yAxis||null!=r.xAxis)u=e.getAxis(null!=r.yAxis?"y":"x"),s=Zt(r.yAxis,r.xAxis);else{var c=z$(r,i,e,t);u=c.valueAxis;var l=mk(i,c.valueDataDim);s=H$(i,l,a)}var f="x"===u.dim?0:1,d=1-f,h=vt(r),p={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,p.coord[d]=1/0;var m=n.get("precision");m>=0&&"number"===typeof s&&(s=+s.toFixed(Math.min(m,20))),h.coord[f]=p.coord[f]=s,o=[h,p,{type:a,valueIndex:r.valueIndex,value:s}]}else o=[]}var g=[B$(t,o[0]),B$(t,o[1]),xt({},o[2])];return g[2].type=g[2].type||null,yt(g[2],g[0]),yt(g[2],g[1]),g};function eK(t){return!isNaN(t)&&!isFinite(t)}function nK(t,e,n,r){var o=1-t,i=r.dimensions[t];return eK(e[o])&&eK(n[o])&&e[t]===n[t]&&r.getAxis(i).containData(e[t])}function rK(t,e){if("cartesian2d"===t.type){var n=e[0].coord,r=e[1].coord;if(n&&r&&(nK(1,n,r,t)||nK(0,n,r,t)))return!0}return F$(t,e[0])&&F$(t,e[1])}function oK(t,e,n,r,o){var i,a=r.coordinateSystem,u=t.getItemModel(e),s=Si(u.get("x"),o.getWidth()),c=Si(u.get("y"),o.getHeight());if(isNaN(s)||isNaN(c)){if(r.getMarkerPosition)i=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var l=a.dimensions,f=t.get(l[0],e),d=t.get(l[1],e);i=a.dataToPoint([f,d])}if(Kk(a,"cartesian2d")){var h=a.getAxis("x"),p=a.getAxis("y");l=a.dimensions;eK(t.get(l[0],e))?i[0]=h.toGlobalCoord(h.getExtent()[n?0:1]):eK(t.get(l[1],e))&&(i[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(s)||(i[0]=s),isNaN(c)||(i[1]=c)}else i=[s,c];t.setItemLayout(e,i)}var iK=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=D$.getMarkerModelFromSeries(t,"markLine");if(e){var r=e.getData(),o=Q$(e).from,i=Q$(e).to;o.each((function(e){oK(o,e,!0,t,n),oK(i,e,!1,t,n)})),r.each((function(t){r.setItemLayout(t,[o.getItemLayout(t),i.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,n,r){var o=t.coordinateSystem,i=t.id,a=t.getData(),u=this.markerGroupMap,s=u.get(i)||u.set(i,new FP);this.group.add(s.group);var c=aK(o,t,e),l=c.from,f=c.to,d=c.line;Q$(e).from=l,Q$(e).to=f,e.setData(d);var h=e.get("symbol"),p=e.get("symbolSize");function m(e,n,o){var i=e.getItemModel(n);oK(e,n,o,t,r);var u=i.getModel("itemStyle").getItemStyle();null==u.fill&&(u.fill=yb(a,"color")),e.setItemVisual(n,{symbolRotate:i.get("symbolRotate"),symbolSize:i.get("symbolSize")||p[o?0:1],symbol:i.get("symbol",!0)||h[o?0:1],style:u})}Lt(h)||(h=[h,h]),Lt(p)||(p=[p,p]),c.from.each((function(t){m(l,t,!0),m(f,t,!1)})),d.each((function(t){var e=d.getItemModel(t).getModel("lineStyle").getLineStyle();d.setItemLayout(t,[l.getItemLayout(t),f.getItemLayout(t)]),null==e.stroke&&(e.stroke=l.getItemVisual(t,"style").fill),d.setItemVisual(t,{fromSymbolRotate:l.getItemVisual(t,"symbolRotate"),fromSymbolSize:l.getItemVisual(t,"symbolSize"),fromSymbol:l.getItemVisual(t,"symbol"),toSymbolRotate:f.getItemVisual(t,"symbolRotate"),toSymbolSize:f.getItemVisual(t,"symbolSize"),toSymbol:f.getItemVisual(t,"symbol"),style:e})})),s.updateData(d),c.line.eachItemGraphicEl((function(t,n){t.traverse((function(t){Dc(t).dataModel=e}))})),this.markKeep(s),s.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(G$);function aK(t,e,n){var r;r=t?Ot(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return wt({name:t},n)})):[{name:"value",type:"float"}];var o=new rk(r,n),i=new rk(r,n),a=new rk([],n),u=Ot(n.get("data"),Pt(tK,e,t,n));t&&(u=Dt(u,Pt(rK,t)));var s=t?j$:function(t){return t.value};return o.initData(Ot(u,(function(t){return t[0]})),null,s),i.initData(Ot(u,(function(t){return t[1]})),null,s),a.initData(Ot(u,(function(t){return t[2]}))),a.hasItemOption=!0,{from:o,to:i,line:a}}var uK=iK;function sK(t){t.registerComponentModel(J$),t.registerComponentView(uK),t.registerPreprocessor((function(t){t.markLine=t.markLine||{}}))}var cK=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markArea",e.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(D$),lK=cK,fK=ma(),dK=function(t,e,n,r){var o=B$(t,r[0]),i=B$(t,r[1]),a=o.coord,u=i.coord;a[0]=Zt(a[0],-1/0),a[1]=Zt(a[1],-1/0),u[0]=Zt(u[0],1/0),u[1]=Zt(u[1],1/0);var s=bt([{},o,i]);return s.coord=[o.coord,i.coord],s.x0=o.x,s.y0=o.y,s.x1=i.x,s.y1=i.y,s};function hK(t){return!isNaN(t)&&!isFinite(t)}function pK(t,e,n,r){var o=1-t;return hK(e[o])&&hK(n[o])}function mK(t,e){var n=e.coord[0],r=e.coord[1];return!!(Kk(t,"cartesian2d")&&n&&r&&(pK(1,n,r,t)||pK(0,n,r,t)))||(F$(t,{coord:n,x:e.x0,y:e.y0})||F$(t,{coord:r,x:e.x1,y:e.y1}))}function gK(t,e,n,r,o){var i,a=r.coordinateSystem,u=t.getItemModel(e),s=Si(u.get(n[0]),o.getWidth()),c=Si(u.get(n[1]),o.getHeight());if(isNaN(s)||isNaN(c)){if(r.getMarkerPosition)i=r.getMarkerPosition(t.getValues(n,e));else{var l=t.get(n[0],e),f=t.get(n[1],e),d=[l,f];a.clampData&&a.clampData(d,d),i=a.dataToPoint(d,!0)}if(Kk(a,"cartesian2d")){var h=a.getAxis("x"),p=a.getAxis("y");l=t.get(n[0],e),f=t.get(n[1],e);hK(l)?i[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):hK(f)&&(i[1]=p.toGlobalCoord(p.getExtent()["y0"===n[1]?0:1]))}isNaN(s)||(i[0]=s),isNaN(c)||(i[1]=c)}else i=[s,c];return i}var vK=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],yK=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=D$.getMarkerModelFromSeries(t,"markArea");if(e){var r=e.getData();r.each((function(e){var o=Ot(vK,(function(o){return gK(r,e,o,t,n)}));r.setItemLayout(e,o);var i=r.getItemGraphicEl(e);i.setShape("points",o)}))}}),this)},e.prototype.renderSeries=function(t,e,n,r){var o=t.coordinateSystem,i=t.id,a=t.getData(),u=this.markerGroupMap,s=u.get(i)||u.set(i,{group:new fi});this.group.add(s.group),this.markKeep(s);var c=bK(o,t,e);e.setData(c),c.each((function(e){var n=Ot(vK,(function(n){return gK(c,e,n,t,r)})),i=!0;At(vK,(function(t){if(i){var n=c.get(t[0],e),r=c.get(t[1],e);(hK(n)||o.getAxis("x").containData(n))&&(hK(r)||o.getAxis("y").containData(r))&&(i=!1)}})),c.setItemLayout(e,{points:n,allClipped:i});var u=c.getItemModel(e).getModel("itemStyle").getItemStyle(),s=yb(a,"color");u.fill||(u.fill=s,"string"===typeof u.fill&&(u.fill=dr(u.fill,.4))),u.stroke||(u.stroke=s),c.setItemVisual(e,"style",u)})),c.diff(fK(s).data).add((function(t){var e=c.getItemLayout(t);if(!e.allClipped){var n=new zf({shape:{points:e.points}});c.setItemGraphicEl(t,n),s.group.add(n)}})).update((function(t,n){var r=fK(s).data.getItemGraphicEl(n),o=c.getItemLayout(t);o.allClipped?r&&s.group.remove(r):(r?Nd(r,{shape:{points:o.points}},e,t):r=new zf({shape:{points:o.points}}),c.setItemGraphicEl(t,r),s.group.add(r))})).remove((function(t){var e=fK(s).data.getItemGraphicEl(t);s.group.remove(e)})).execute(),c.eachItemGraphicEl((function(t,n){var r=c.getItemModel(n),o=c.getItemVisual(n,"style");t.useStyle(c.getItemVisual(n,"style")),nh(t,rh(r),{labelFetcher:e,labelDataIndex:n,defaultText:c.getName(n)||"",inheritColor:"string"===typeof o.fill?dr(o.fill,1):"#000"}),Dl(t,r),Tl(t),Dc(t).dataModel=e})),fK(s).data=c,s.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(G$);function bK(t,e,n){var r,o,i=["x0","y0","x1","y1"];t?(r=Ot(t&&t.dimensions,(function(t){var n=e.getData(),r=n.getDimensionInfo(n.mapDimension(t))||{};return wt({name:t},r)})),o=new rk(Ot(i,(function(t,e){return{name:t,type:r[e%2].type}})),n)):(r=[{name:"value",type:"float"}],o=new rk(r,n));var a=Ot(n.get("data"),Pt(dK,e,t,n));t&&(a=Dt(a,Pt(mK,t)));var u=t?function(t,e,n,r){return t.coord[Math.floor(r/2)][r%2]}:function(t){return t.value};return o.initData(a,null,u),o.hasItemOption=!0,o}var xK=yK;function wK(t){t.registerComponentModel(lK),t.registerComponentView(xK),t.registerPreprocessor((function(t){t.markArea=t.markArea||{}}))}var _K=function(t,e){return"all"===e?{type:"all",title:t.getLocale(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocale(["legend","selector","inverse"])}:void 0},SK=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Z(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),Lt(e)&&At(e,(function(t,r){zt(t)&&(t={type:t}),e[r]=yt(t,_K(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var r=t[n].get("name");if(this.isSelected(r)){this.select(r),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(r){var o,i=r.name;if(n.push(i),r.legendVisualProvider){var a=r.legendVisualProvider,u=a.getAllNames();t.isSeriesFiltered(r)||(n=n.concat(u)),u.length?e=e.concat(u):o=!0}else o=!0;o&&sa(r)&&e.push(r.name)})),this._availableNames=n;var r=this.get("data")||e,o=Ot(r,(function(t){return"string"!==typeof t&&"number"!==typeof t||(t={name:t}),new Ah(t,this,this.ecModel)}),this);this._data=o},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected,n=this.get("selectedMode");if("single"===n){var r=this._data;At(r,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;At(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;At(t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&St(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Qp),CK=SK,kK=Pt,TK=At,AK=fi,OK=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return Z(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new AK),this.group.add(this._selectorGroup=new AK),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),i=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===i?"right":"left");var a=t.get("selector",!0),u=t.get("selectorPosition",!0);!a||u&&"auto"!==u||(u="horizontal"===i?"end":"start"),this.renderInner(o,t,e,n,a,i,u);var s=t.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},l=t.get("padding"),f=Up(s,c,l),d=this.layoutInner(t,o,f,r,a,u),h=Up(wt({width:d.width,height:d.height},s),c,l);this.group.x=h.x-d.x,this.group.y=h.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=VY(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,r,o,i,a){var u=this.getContentGroup(),s=ae(),c=e.get("selectedMode"),l=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&l.push(t.id)})),TK(e.getData(),(function(o,i){var a=o.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var f=new AK;return f.newline=!0,void u.add(f)}var d=n.getSeriesByName(a)[0];if(!s.get(a)){if(d){var h=d.getData(),p=h.getVisual("style"),m=p[h.getVisual("drawType")]||p.fill,g=p.stroke,v=p.decal,y=h.getVisual("legendSymbol")||"roundRect",b=h.getVisual("symbol"),x=this._createItem(a,i,o,e,y,b,t,m,g,v,c);x.on("click",kK(DK,a,null,r,l)).on("mouseover",kK(EK,d.name,null,r,l)).on("mouseout",kK(RK,d.name,null,r,l)),s.set(a,!0)}else n.eachRawSeries((function(n){if(!s.get(a)&&n.legendVisualProvider){var u=n.legendVisualProvider;if(!u.containName(a))return;var f=u.indexOfName(a),d=u.getItemVisual(f,"style"),h=d.stroke,p=d.decal,m=d.fill,g=ir(d.fill);g&&0===g[3]&&(g[3]=.2,m=hr(g,"rgba"));var v="roundRect",y=this._createItem(a,i,o,e,v,null,t,m,h,p,c);y.on("click",kK(DK,null,a,r,l)).on("mouseover",kK(EK,null,a,r,l)).on("mouseout",kK(RK,null,a,r,l)),s.set(a,!0)}}),this);0}}),this),o&&this._createSelector(o,e,r,i,a)},e.prototype._createSelector=function(t,e,n,r,o){var i=this.getSelectorGroup();TK(t,(function(t){var r=t.type,o=new Mc({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});i.add(o);var a=e.getModel("selectorLabel"),u=e.getModel(["emphasis","selectorLabel"]);nh(o,{normal:a,emphasis:u},{defaultText:t.title}),Tl(o)}))},e.prototype._createItem=function(t,e,n,r,o,i,a,u,s,c,l){var f=r.get("itemWidth"),d=r.get("itemHeight"),h=r.get("inactiveColor"),p=r.get("inactiveBorderColor"),m=r.get("symbolKeepAspect"),g=r.getModel("itemStyle"),v=r.isSelected(t),y=new AK,b=n.getModel("textStyle"),x=n.get("icon"),w=n.getModel("tooltip"),_=w.parentModel;o=x||o;var S=_x(o,0,0,f,d,v?u:h,null==m||m);if(y.add(MK(S,o,g,s,p,c,v)),!x&&i&&(i!==o||"none"===i)){var C=.8*d;"none"===i&&(i="circle");var k=_x(i,(f-C)/2,(d-C)/2,C,C,v?u:h,null==m||m);y.add(MK(k,i,g,s,p,c,v))}var T="left"===a?f+5:-5,A=a,O=r.get("formatter"),M=t;"string"===typeof O&&O?M=O.replace("{name}",null!=t?t:""):"function"===typeof O&&(M=O(t)),y.add(new Mc({style:oh(b,{text:M,x:T,y:d/2,fill:v?b.getTextColor():h,align:A,verticalAlign:"middle"})}));var D=new mc({shape:y.getBoundingRect(),invisible:!0});if(w.get("show")){var I={componentType:"legend",legendIndex:r.componentIndex,name:t,$vars:["name"]};D.tooltip=xt({content:t,formatter:_.get("formatter",!0)||function(t){return t.name},formatterParams:I},w.option)}return y.add(D),y.eachChild((function(t){t.silent=!0})),D.silent=!l,this.getContentGroup().add(y),Tl(y),y.__legendDataIndex=e,y},e.prototype.layoutInner=function(t,e,n,r,o,i){var a=this.getContentGroup(),u=this.getSelectorGroup();jp(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var s=a.getBoundingRect(),c=[-s.x,-s.y];if(u.markRedraw(),a.markRedraw(),o){jp("horizontal",u,t.get("selectorItemGap",!0));var l=u.getBoundingRect(),f=[-l.x,-l.y],d=t.get("selectorButtonGap",!0),h=t.getOrient().index,p=0===h?"width":"height",m=0===h?"height":"width",g=0===h?"y":"x";"end"===i?f[h]+=s[p]+d:c[h]+=l[p]+d,f[1-h]+=s[m]/2-l[m]/2,u.x=f[0],u.y=f[1],a.x=c[0],a.y=c[1];var v={x:0,y:0};return v[p]=s[p]+d+l[p],v[m]=Math.max(s[m],l[m]),v[g]=Math.min(0,l[g]+f[1-h]),v}return a.x=c[0],a.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(dy);function MK(t,e,n,r,o,i,a){var u;return"line"!==e&&e.indexOf("empty")<0?(u=n.getItemStyle(),t.style.stroke=r,t.style.decal=i,a||(u.stroke=o)):u=n.getItemStyle(["borderWidth","borderColor"]),t.setStyle(u),t}function DK(t,e,n,r){RK(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),EK(t,e,n,r)}function IK(t){var e,n=t.getZr().storage.getDisplayList(),r=0,o=n.length;while(r<o&&!(e=n[r].states.emphasis))r++;return e&&e.hoverLayer}function EK(t,e,n,r){IK(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function RK(t,e,n,r){IK(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}var NK=OK;function PK(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function LK(t,e,n){var r,o={},i="toggleSelected"===t;return n.eachComponent("legend",(function(n){i&&null!=r?n[r?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),r=n.isSelected(e.name));var a=n.getData();At(a,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var r=n.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&r:o[e]=r}}))})),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}function BK(t){t.registerAction("legendToggleSelect","legendselectchanged",Pt(LK,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Pt(LK,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Pt(LK,"inverseSelect")),t.registerAction("legendSelect","legendselected",Pt(LK,"select")),t.registerAction("legendUnSelect","legendunselected",Pt(LK,"unSelect"))}function zK(t){t.registerComponentModel(CK),t.registerComponentView(NK),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,PK),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),BK(t)}var VK=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,r){var o=Xp(e);t.prototype.init.call(this,e,n,r),FK(this,e,o)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),FK(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Eh(CK.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(CK);function FK(t,e,n){var r=t.getOrient(),o=[1,1];o[r.index]=0,Yp(e,n,{type:"box",ignoreSize:!!o})}var jK=VK,HK=fi,UK=["width","height"],WK=["x","y"],GK=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return Z(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new HK),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new HK)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,r,o,i,a,u){var s=this;t.prototype.renderInner.call(this,e,n,r,o,i,a,u);var c=this._controllerGroup,l=n.get("pageIconSize",!0),f=Lt(l)?l:[l,l];h("pagePrev",0);var d=n.getModel("pageTextStyle");function h(t,e){var r=t+"DataIndex",i=Xd(n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:Nt(s._pageGo,s,r,n,o)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});i.name=t,c.add(i)}c.add(new Mc({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1)},e.prototype.layoutInner=function(t,e,n,r,o,i){var a=this.getSelectorGroup(),u=t.getOrient().index,s=UK[u],c=WK[u],l=UK[1-u],f=WK[1-u];o&&jp("horizontal",a,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),h=a.getBoundingRect(),p=[-h.x,-h.y],m=vt(n);o&&(m[s]=n[s]-h[s]-d);var g=this._layoutContentAndController(t,r,m,u,s,l,f,c);if(o){if("end"===i)p[u]+=g[s]+d;else{var v=h[s]+d;p[u]-=v,g[c]-=v}g[s]+=h[s]+d,p[1-u]+=g[f]+g[l]/2-h[l]/2,g[l]=Math.max(g[l],h[l]),g[f]=Math.min(g[f],h[f]+p[1-u]),a.x=p[0],a.y=p[1],a.markRedraw()}return g},e.prototype._layoutContentAndController=function(t,e,n,r,o,i,a,u){var s=this.getContentGroup(),c=this._containerGroup,l=this._controllerGroup;jp(t.get("orient"),s,t.get("itemGap"),r?n.width:null,r?null:n.height),jp("horizontal",l,t.get("pageButtonItemGap",!0));var f=s.getBoundingRect(),d=l.getBoundingRect(),h=this._showController=f[o]>n[o],p=[-f.x,-f.y];e||(p[r]=s[u]);var m=[0,0],g=[-d.x,-d.y],v=$t(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(h){var y=t.get("pageButtonPosition",!0);"end"===y?g[r]+=n[o]-d[o]:m[r]+=d[o]+v}g[1-r]+=f[i]/2-d[i]/2,s.setPosition(p),c.setPosition(m),l.setPosition(g);var b={x:0,y:0};if(b[o]=h?n[o]:f[o],b[i]=Math.max(f[i],d[i]),b[a]=Math.min(0,d[a]+g[1-r]),c.__rectSize=n[o],h){var x={x:0,y:0};x[o]=Math.max(n[o]-d[o]-v,0),x[i]=b[i],c.setClipPath(new mc({shape:x})),c.__rectSize=x[o]}else l.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var w=this._getPageInfo(t);return null!=w.pageIndex&&Nd(s,{x:w.contentPosition[0],y:w.contentPosition[1]},h?t:null),this._updatePageInfoView(t,w),b},e.prototype._pageGo=function(t,e,n){var r=this._getPageInfo(e)[t];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;At(["pagePrev","pageNext"],(function(r){var o=r+"DataIndex",i=null!=e[o],a=n.childOfName(r);a&&(a.setStyle("fill",i?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),a.cursor=i?"pointer":"default")}));var r=n.childOfName("pageText"),o=t.get("pageFormatter"),i=e.pageIndex,a=null!=i?i+1:0,u=e.pageCount;r&&o&&r.setStyle("text",zt(o)?o.replace("{current}",null==a?"":a+"").replace("{total}",null==u?"":u+""):o({current:a,total:u}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,o=t.getOrient().index,i=UK[o],a=WK[o],u=this._findTargetItemIndex(e),s=n.children(),c=s[u],l=s.length,f=l?1:0,d={contentPosition:[n.x,n.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var h=y(c);d.contentPosition[o]=-h.s;for(var p=u+1,m=h,g=h,v=null;p<=l;++p)v=y(s[p]),(!v&&g.e>m.s+r||v&&!b(v,m.s))&&(m=g.i>m.i?g:v,m&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=m.i),++d.pageCount)),g=v;for(p=u-1,m=h,g=h,v=null;p>=-1;--p)v=y(s[p]),v&&b(g,v.s)||!(m.i<g.i)||(g=m,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=m.i),++d.pageCount,++d.pageIndex),m=v;return d;function y(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[i],i:t.__legendDataIndex}}}function b(t,e){return t.e>=e&&t.s<=e+r}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var e,n,r=this.getContentGroup();return r.eachChild((function(r,o){var i=r.__legendDataIndex;null==n&&null!=i&&(n=o),i===t&&(e=o)})),null!=e?e:n},e.type="legend.scroll",e}(NK),qK=GK;function YK(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}function XK(t){Z_(zK),t.registerComponentModel(jK),t.registerComponentView(qK),YK(t)}function ZK(t){Z_(zK),Z_(XK)}var $K=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="dataZoom.inside",e.defaultOption=Eh(pY.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(pY),KK=$K,JK=ma();function QK(t,e,n){JK(t).coordSysRecordMap.each((function(t){var r=t.dataZoomInfoMap.get(e.uid);r&&(r.getRange=n)}))}function tJ(t,e){for(var n=JK(t).coordSysRecordMap,r=n.keys(),o=0;o<r.length;o++){var i=r[o],a=n.get(i),u=a.dataZoomInfoMap;if(u){var s=e.uid,c=u.get(s);c&&(u.removeKey(s),u.keys().length||eJ(n,a))}}}function eJ(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function nJ(t,e){var n={model:e,containsPoint:Pt(oJ,e),dispatchAction:Pt(rJ,t),dataZoomInfoMap:null,controller:null},r=n.controller=new cI(t.getZr());return At(["pan","zoom","scrollMove"],(function(t){r.on(t,(function(e){var r=[];n.dataZoomInfoMap.each((function(o){if(e.isAvailableBehavior(o.model.option)){var i=(o.getRange||{})[t],a=i&&i(o.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!o.model.get("disabled",!0)&&a&&r.push({dataZoomId:o.model.id,start:a[0],end:a[1]})}})),r.length&&n.dispatchAction(r)}))})),n}function rJ(t,e){t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function oJ(t,e,n,r){return t.coordinateSystem.containPoint([n,r])}function iJ(t){var e,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return t.each((function(t){var i=t.model,a=!i.get("disabled",!0)&&(!i.get("zoomLock",!0)||"move");r[n+a]>r[n+e]&&(e=a),o=o&&i.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function aJ(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=JK(e),r=n.coordSysRecordMap||(n.coordSysRecordMap=ae());r.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var n=lY(t);At(n.infoList,(function(n){var o=n.model.uid,i=r.get(o)||r.set(o,nJ(e,n.model)),a=i.dataZoomInfoMap||(i.dataZoomInfoMap=ae());a.set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),r.each((function(t){var e,n=t.controller,o=t.dataZoomInfoMap;if(o){var i=o.keys()[0];null!=i&&(e=o.get(i))}if(e){var a=iJ(o);n.enable(a.controlType,a.opt),n.setPointerChecker(t.containsPoint),Ay(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else eJ(r,t)}))}))}var uJ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Z(e,t),e.prototype.render=function(e,n,r){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),QK(r,e,{pan:Nt(sJ.pan,this),zoom:Nt(sJ.zoom,this),scrollMove:Nt(sJ.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){tJ(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(yY),sJ={zoom:function(t,e,n,r){var o=this.range,i=o.slice(),a=t.axisModels[0];if(a){var u=lJ[e](null,[r.originX,r.originY],a,n,t),s=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(i[1]-i[0])+i[0],c=Math.max(1/r.scale,0);i[0]=(i[0]-s)*c+s,i[1]=(i[1]-s)*c+s;var l=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return iB(0,i,[0,100],0,l.minSpan,l.maxSpan),this.range=i,o[0]!==i[0]||o[1]!==i[1]?i:void 0}},pan:cJ((function(t,e,n,r,o,i){var a=lJ[r]([i.oldX,i.oldY],[i.newX,i.newY],e,o,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength})),scrollMove:cJ((function(t,e,n,r,o,i){var a=lJ[r]([0,0],[i.scrollDelta,i.scrollDelta],e,o,n);return a.signal*(t[1]-t[0])*i.scrollDelta}))};function cJ(t){return function(e,n,r,o){var i=this.range,a=i.slice(),u=e.axisModels[0];if(u){var s=t(a,u,e,n,r,o);return iB(s,a,[0,100],"all"),this.range=a,i[0]!==a[0]||i[1]!==a[1]?a:void 0}}}var lJ={grid:function(t,e,n,r,o){var i=n.axis,a={},u=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===i.dim?(a.pixel=e[0]-t[0],a.pixelLength=u.width,a.pixelStart=u.x,a.signal=i.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=u.height,a.pixelStart=u.y,a.signal=i.inverse?-1:1),a},polar:function(t,e,n,r,o){var i=n.axis,a={},u=o.model.coordinateSystem,s=u.getRadiusAxis().getExtent(),c=u.getAngleAxis().getExtent();return t=t?u.pointToCoord(t):[0,0],e=u.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=s[1]-s[0],a.pixelStart=s[0],a.signal=i.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=i.inverse?-1:1),a},singleAxis:function(t,e,n,r,o){var i=n.axis,a=o.model.coordinateSystem.getRect(),u={};return t=t||[0,0],"horizontal"===i.orient?(u.pixel=e[0]-t[0],u.pixelLength=a.width,u.pixelStart=a.x,u.signal=i.inverse?1:-1):(u.pixel=e[1]-t[1],u.pixelLength=a.height,u.pixelStart=a.y,u.signal=i.inverse?-1:1),u}},fJ=uJ;function dJ(t){DY(t),t.registerComponentModel(KK),t.registerComponentView(fJ),aJ(t)}var hJ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Eh(pY.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(pY),pJ=hJ,mJ=mc,gJ=7,vJ=1,yJ=30,bJ=7,xJ="horizontal",wJ="vertical",_J=5,SJ=["line","bar","candlestick","scatter"],CJ={easing:"cubicOut",duration:100},kJ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return Z(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Nt(this._onBrush,this),this._onBrushEnd=Nt(this._onBrushEnd,this)},e.prototype.render=function(e,n,r,o){if(t.prototype.render.apply(this,arguments),Ay(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Oy(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new fi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect"),r=n?bJ:0,o=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},a=this._orient===xJ?{right:i.width-o.x-o.width,top:i.height-yJ-gJ-r,width:o.width,height:yJ}:{right:gJ,top:o.y,width:yJ,height:o.height},u=Xp(t.option);At(["right","top","width","height"],(function(t){"ph"===u[t]&&(u[t]=a[t])}));var s=Up(u,i);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===wJ&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),o=r&&r.get("inverse"),i=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;i.attr(n!==xJ||o?n===xJ&&o?{scaleY:a?1:-1,scaleX:-1}:n!==wJ||o?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var u=t.getBoundingRect([i]);t.x=e.x-u.x,t.y=e.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,r=t.get("brushSelect");n.add(new mJ({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new mJ({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Nt(this._onClickPanel,this)}),i=this.api.getZr();r?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",i.on("mousemove",this._onBrush),i.on("mouseup",this._onBrushEnd)):(i.off("mousemove",this._onBrush),i.off("mouseup",this._onBrushEnd)),n.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=t.series,r=n.getRawData(),o=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=o){var i=r.getDataExtent(o),a=.3*(i[1]-i[0]);i=[i[0]-a,i[1]+a];var u,s=[0,e[1]],c=[0,e[0]],l=[[e[0],0],[0,0]],f=[],d=c[1]/(r.count()-1),h=0,p=Math.round(r.count()/e[0]);r.each([o],(function(t,e){if(p>0&&e%p)h+=d;else{var n=null==t||isNaN(t)||""===t,r=n?0:_i(t,i,s,!0);n&&!u&&e?(l.push([l[l.length-1][0],0]),f.push([f[f.length-1][0],0])):!n&&u&&(l.push([h,0]),f.push([h,0])),l.push([h,r]),f.push([h,r]),h+=d,u=n}}));for(var m=this.dataZoomModel,g=0;g<3;g++){var v=y(1===g);this._displayables.sliderGroup.add(v),this._displayables.dataShadowSegs.push(v)}}}function y(t){var e=m.getModel(t?"selectedDataBackground":"dataBackground"),n=new fi,r=new zf({shape:{points:l},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),o=new jf({shape:{points:f},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(r),n.add(o),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis((function(o,i){var a=t.getAxisProxy(o,i).getTargetSeriesModels();At(a,(function(t){if(!n&&!(!0!==e&&St(SJ,t.get("type"))<0)){var a,u=r.getComponent(sY(o),i).axis,s=TJ(o),c=t.coordinateSystem;null!=s&&c.getOtherAxis&&(a=c.getOtherAxis(u).inverse),s=t.getData().mapDimension(s),n={thisAxis:u,series:t,thisDim:o,otherDim:s,otherAxisInverse:a}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],r=e.handleLabels=[null,null],o=this._displayables.sliderGroup,i=this._size,a=this.dataZoomModel,u=this.api,s=a.get("borderRadius")||0,c=a.get("brushSelect"),l=e.filler=new mJ({silent:c,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});o.add(l),o.add(new mJ({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:i[0],height:i[1],r:s},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:vJ,fill:"rgba(0,0,0,0)"}})),At([0,1],(function(e){var i=a.get("handleIcon");!yx[i]&&i.indexOf("path://")<0&&(i="path://"+i);var u=_x(i,-1,0,2,2,null,!0);u.attr({cursor:AJ(this._orient),draggable:!0,drift:Nt(this._onDragMove,this,e),ondragend:Nt(this._onDragEnd,this),onmouseover:Nt(this._showDataInfo,this,!0),onmouseout:Nt(this._showDataInfo,this,!1),z2:5});var s=u.getBoundingRect(),c=a.get("handleSize");this._handleHeight=Si(c,this._size[1]),this._handleWidth=s.width/s.height*this._handleHeight,u.setStyle(a.getModel("handleStyle").getItemStyle()),u.style.strokeNoScale=!0,u.rectHover=!0,u.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),Tl(u);var l=a.get("handleColor");null!=l&&(u.style.fill=l),o.add(n[e]=u);var f=a.getModel("textStyle");t.add(r[e]=new Mc({silent:!0,invisible:!0,style:{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:f.getTextColor(),font:f.getFont()},z2:10}))}),this);var f=l;if(c){var d=Si(a.get("moveHandleSize"),i[1]),h=e.moveHandle=new mc({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:i[1]-.5,height:d}}),p=.8*d,m=e.moveHandleIcon=_x(a.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",!0);m.silent=!0,m.y=i[1]+d/2-.5,h.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(i[1]/2,Math.max(d,10));f=e.moveZone=new mc({invisible:!0,shape:{y:i[1]-g,height:d+g}}),f.on("mouseover",(function(){u.enterEmphasis(h)})).on("mouseout",(function(){u.leaveEmphasis(h)})),o.add(h),o.add(m),o.add(f)}f.attr({draggable:!0,cursor:AJ(this._orient),drift:Nt(this._onDragMove,this,"all"),ondragstart:Nt(this._showDataInfo,this,!0),ondragend:Nt(this._onDragEnd,this),onmouseover:Nt(this._showDataInfo,this,!0),onmouseout:Nt(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[_i(t[0],[0,100],e,!0),_i(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,r=this._handleEnds,o=this._getViewExtent(),i=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];iB(e,r,o,n.get("zoomLock")?"all":t,null!=i.minSpan?_i(i.minSpan,a,o,!0):null,null!=i.maxSpan?_i(i.maxSpan,a,o,!0):null);var u=this._range,s=this._range=ki([_i(r[0],o,a,!0),_i(r[1],o,a,!0)]);return!u||u[0]!==s[0]||u[1]!==s[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,r=ki(n.slice()),o=this._size;At([0,1],(function(t){var r=e.handles[t],i=this._handleHeight;r.attr({scaleX:i/2,scaleY:i/2,x:n[t]+(t?-1:1),y:o[1]/2-i/2})}),this),e.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:o[1]});var i={x:r[0],width:r[1]-r[0]};e.moveHandle&&(e.moveHandle.setShape(i),e.moveZone.setShape(i),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",i.x+i.width/2));for(var a=e.dataShadowSegs,u=[0,r[0],r[1],o[0]],s=0;s<a.length;s++){var c=a[s],l=c.getClipPath();l||(l=new mc,c.setClipPath(l)),l.setShape({x:u[s],y:0,width:u[s+1]-u[s],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,r=n.handleLabels,o=this._orient,i=["",""];if(e.get("showDetail")){var a=e.findRepresentativeAxisProxy();if(a){var u=a.getAxisModel().axis,s=this._range,c=t?a.calculateDataWindow({start:s[0],end:s[1]}).valueWindow:a.getDataValueWindow();i=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var l=ki(this._handleEnds.slice());function f(t){var e=Fd(n.handles[t].parent,this.group),a=Hd(0===t?"right":"left",e),u=this._handleWidth/2+_J,s=jd([l[t]+(0===t?-u:u),this._size[1]/2],e);r[t].setStyle({x:s[0],y:s[1],verticalAlign:o===xJ?"middle":a,align:o===xJ?a:"center",text:i[t]})}f.call(this,0),f.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=e.getPixelPrecision());var i=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return Bt(r)?r(t,i):zt(r)?r.replace("{value}",i):i},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,r){this._dragging=!0,rn(r.event);var o=this._displayables.sliderGroup.getLocalTransform(),i=jd([e,n],o,!0),a=this._updateInterval(t,i[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),a&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var r=this._handleEnds,o=(r[0]+r[1])/2,i=this._updateInterval("all",n[0]-o);this._updateView(),i&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new Br(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape,r=+new Date;if(!(r-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),i=[0,100];this._range=ki([_i(n.x,o,i,!0),_i(n.x+n.width,o,i,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(rn(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,r=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new mJ({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.attr("ignore",!1);var i=this._brushStart,a=this._displayables.sliderGroup,u=a.transformCoordToLocal(t,e),s=a.transformCoordToLocal(i.x,i.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),o.setShape({x:s[0],y:0,width:u[0]-s[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?CJ:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=lY(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var r=this.api.getWidth(),o=this.api.getHeight();t={x:.2*r,y:.2*o,width:.6*r,height:.6*o}}return t},e.type="dataZoom.slider",e}(yY);function TJ(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function AJ(t){return"vertical"===t?"ns-resize":"ew-resize"}var OJ=kJ;function MJ(t){t.registerComponentModel(pJ),t.registerComponentView(OJ),DY(t)}function DJ(t){Z_(dJ),Z_(MJ)}var IJ={get:function(t,e,n){var r=vt((EJ[t]||{})[e]);return n&&Lt(r)?r[r.length-1]:r}},EJ={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},RJ=IJ,NJ=hN.mapVisual,PJ=hN.eachVisual,LJ=Lt,BJ=At,zJ=ki,VJ=_i,FJ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return Z(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;nt.canvasSupported||(n.realtime=!1),!e&&AZ(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=Nt(t,this),this.controllerVisuals=TZ(this.option.controller,e,t),this.targetVisuals=TZ(this.option.target,e,t)},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=Yi(t),e},e.prototype.eachTargetSeries=function(t,e){At(this.getTargetSeriesIndices(),(function(n){var r=this.ecModel.getSeriesByIndex(n);r&&t.call(e,r)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var r,o=this.option,i=o.precision,a=this.dataBound,u=o.formatter;n=n||["<",">"],Lt(t)&&(t=t.slice(),r=!0);var s=e?t:r?[c(t[0]),c(t[1])]:c(t);return zt(u)?u.replace("{value}",r?s[0]:s).replace("{value2}",r?s[1]:s):Bt(u)?r?u(t[0],t[1]):u(t):r?t[0]===a[0]?n[0]+" "+s[1]:t[1]===a[1]?n[1]+" "+s[0]:s[0]+" - "+s[1]:s;function c(t){return t===a[0]?"min":t===a[1]?"max":(+t).toFixed(Math.min(i,20))}},e.prototype.resetExtent=function(){var t=this.option,e=zJ([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimension=function(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var r=t.dimensions,o=r.length-1;o>=0;o--){var i=r[o],a=t.getDimensionInfo(i);if(!a.isCalculationCoord)return i}}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},r=e.target||(e.target={}),o=e.controller||(e.controller={});yt(r,n),yt(o,n);var i=this.isCategory();function a(n){LJ(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}function u(t,e,n){var r=t[e],o=t[n];r&&!o&&(o=t[n]={},BJ(r,(function(t,e){if(hN.isValidType(e)){var n=RJ.get(e,"inactive",i);null!=n&&(o[e]=n,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}function s(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,r=this.get("inactiveColor");BJ(this.stateList,(function(o){var a=this.itemSize,u=t[o];u||(u=t[o]={color:i?r:[r]}),null==u.symbol&&(u.symbol=e&&vt(e)||(i?"roundRect":["roundRect"])),null==u.symbolSize&&(u.symbolSize=n&&vt(n)||(i?a[0]:[a[0],a[0]])),u.symbol=NJ(u.symbol,(function(t){return"none"===t||"square"===t?"roundRect":t}));var s=u.symbolSize;if(null!=s){var c=-1/0;PJ(s,(function(t){t>c&&(c=t)})),u.symbolSize=NJ(s,(function(t){return VJ(t,[0,c],[0,a[0]],!0)}))}}),this)}a.call(this,r),a.call(this,o),u.call(this,r,"inRange","outOfRange"),s.call(this,o)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Qp),jJ=FJ,HJ=[20,140],UJ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=HJ[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=HJ[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):Lt(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),At(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=ki((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var r=[],o=n.getData();o.each(this.getDataDimension(o),(function(e,n){t[0]<=e&&e<=t[1]&&r.push(n)}),this),e.push({seriesId:n.id,dataIndex:r})}),this),e},e.prototype.getVisualMeta=function(t){var e=WJ(this,"outOfRange",this.getExtent()),n=WJ(this,"inRange",this.option.range.slice()),r=[];function o(e,n){r.push({value:e,color:t(e,n)})}for(var i=0,a=0,u=n.length,s=e.length;a<s&&(!n.length||e[a]<=n[0]);a++)e[a]<n[i]&&o(e[a],"outOfRange");for(var c=1;i<u;i++,c=0)c&&r.length&&o(n[i],"outOfRange"),o(n[i],"inRange");for(c=1;a<s;a++)(!n.length||n[n.length-1]<e[a])&&(c&&(r.length&&o(r[r.length-1].value,"outOfRange"),c=0),o(e[a],"outOfRange"));var l=r.length;return{stops:r,outerColors:[l?r[0].color:"transparent",l?r[l-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Eh(jJ.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(jJ);function WJ(t,e,n){if(n[0]===n[1])return n.slice();for(var r=200,o=(n[1]-n[0])/r,i=n[0],a=[],u=0;u<=r&&i<n[1];u++)a.push(i),i+=o;return a.push(n[1]),a}var GJ=UJ,qJ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return Z(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,r){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,r):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=kp(e.get("padding")||0),r=t.getBoundingRect();t.add(new mc({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){n=n||{};var r=n.forceState,o=this.visualMapModel,i={};if("symbol"===e&&(i.symbol=o.get("itemSymbol")),"color"===e){var a=o.get("contentColor");i.color=a}function u(t){return i[t]}function s(t,e){i[t]=e}var c=o.controllerVisuals[r||o.getValueState(t)],l=hN.prepareVisualTypes(c);return At(l,(function(r){var o=c[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",o=c.__alphaForOpacity),hN.dependsOn(r,e)&&o&&o.applyVisual(t,u,s)})),i[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;Wp(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,r){},e.type="visualMap",e}(dy),YJ=qJ,XJ=[["left","right","width"],["top","bottom","height"]];function ZJ(t,e,n){var r=t.option,o=r.align;if(null!=o&&"auto"!==o)return o;for(var i={width:e.getWidth(),height:e.getHeight()},a="horizontal"===r.orient?1:0,u=XJ[a],s=[0,null,10],c={},l=0;l<3;l++)c[XJ[1-a][l]]=s[l],c[u[l]]=2===l?n[0]:r[u[l]];var f=[["x","width",3],["y","height",0]][a],d=Up(c,i,r.padding);return u[(d.margin[f[2]]||0)+d[f[0]]+.5*d[f[1]]<.5*i[f[1]]?0:1]}function $J(t,e){return At(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var KJ=_i,JJ=At,QJ=Math.min,tQ=Math.max,eQ=12,nQ=6,rQ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return Z(e,t),e.prototype.doRender=function(t,e,n,r){this._api=n,r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var r=e[1-n];r=null!=r?r+"":"";var o=this.visualMapModel,i=o.get("textGap"),a=o.itemSize,u=this._shapes.mainGroup,s=this._applyTransform([a[0]/2,0===n?-i:a[1]+i],u),c=this._applyTransform(0===n?"bottom":"top",u),l=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new Mc({style:{x:s[0],y:s[1],verticalAlign:"horizontal"===l?"middle":c,align:"horizontal"===l?c:"center",text:r,font:f.getFont(),fill:f.getTextColor()}}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,o=this._orient,i=this._useHandle,a=ZJ(e,this.api,r),u=n.mainGroup=this._createBarGroup(a),s=new fi;u.add(s),s.add(n.outOfRange=oQ()),s.add(n.inRange=oQ(null,i?uQ(this._orient):null,Nt(this._dragHandle,this,"all",!1),Nt(this._dragHandle,this,"all",!0))),s.setClipPath(new mc({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var c=e.textStyleModel.getTextRect(""),l=tQ(c.width,c.height);i&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,u,0,r,l,o),this._createHandle(e,u,1,r,l,o)),this._createIndicator(e,u,r,l,o),t.add(u)},e.prototype._createHandle=function(t,e,n,r,o,i){var a=Nt(this._dragHandle,this,n,!1),u=Nt(this._dragHandle,this,n,!0),s=oo(t.get("handleSize"),r[0]),c=_x(t.get("handleIcon"),-s/2,-s/2,s,s,null,!0),l=uQ(this._orient);c.attr({cursor:l,draggable:!0,drift:a,ondragend:u,onmousemove:function(t){rn(t.event)}}),c.x=r[0]/2,c.useStyle(t.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Il(c,!0),e.add(c);var f=this.visualMapModel.textStyleModel,d=new Mc({cursor:l,draggable:!0,drift:a,onmousemove:function(t){rn(t.event)},ondragend:u,style:{x:0,y:0,text:"",font:f.getFont(),fill:f.getTextColor()}});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var h=[s,0],p=this._shapes;p.handleThumbs[n]=c,p.handleLabelPoints[n]=h,p.handleLabels[n]=d},e.prototype._createIndicator=function(t,e,n,r,o){var i=oo(t.get("indicatorSize"),n[0]),a=_x(t.get("indicatorIcon"),-i/2,-i/2,i,i,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(a instanceof ac){var s=a.style;a.useStyle(xt({image:s.image,x:s.x,y:s.y,width:s.width,height:s.height},u))}else a.useStyle(u);e.add(a);var c=this.visualMapModel.textStyleModel,l=new Mc({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:c.getFont(),fill:c.getTextColor()}});this.group.add(l);var f=[("horizontal"===o?r/2:nQ)+n[0]/2,0],d=this._shapes;d.indicator=a,d.indicatorLabel=l,d.indicatorLabelPoint=f,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,r){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():aQ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),r=[0,t.itemSize[1]];this._handleEnds=[KJ(e[0],n,r,!0),KJ(e[1],n,r,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,r=this._handleEnds,o=[0,n.itemSize[1]];iB(e,r,o,t,0);var i=n.getExtent();this._dataInterval=[KJ(r[0],o,i,!0),KJ(r[1],o,i,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),r=this._shapes,o=[0,e.itemSize[1]],i=t?o:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,i,"inRange"),u=this._createBarVisual(n,n,o,"outOfRange");r.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),r.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(i,a)},e.prototype._createBarVisual=function(t,e,n,r){var o={forceState:r,convertOpacityToAlpha:!0},i=this._makeColorGradient(t,o),a=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(n,a);return{barColor:new id(0,0,0,1,i),barPoints:u,handlesColor:[i[0].color,i[i.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=100,r=[],o=(t[1]-t[0])/n;r.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<n;i++){var a=t[0]+o*i;if(a>t[1])break;r.push({color:this.getControllerVisual(a,"color",e),offset:i/n})}return r.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),r},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new fi("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,o=n.handleThumbs,i=n.handleLabels,a=r.itemSize,u=r.getExtent();JJ([0,1],(function(s){var c=o[s];c.setStyle("fill",e.handlesColor[s]),c.y=t[s];var l=KJ(t[s],[0,a[1]],u,!0),f=this.getControllerVisual(l,"symbolSize");c.scaleX=c.scaleY=f/a[0],c.x=a[0]-f/2;var d=jd(n.handleLabelPoints[s],Fd(c,this.group));i[s].setStyle({x:d[0],y:d[1],text:r.formatValueText(this._dataInterval[s]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,n,r){var o=this.visualMapModel,i=o.getExtent(),a=o.itemSize,u=[0,a[1]],s=this._shapes,c=s.indicator;if(c){c.attr("invisible",!1);var l={convertOpacityToAlpha:!0},f=this.getControllerVisual(t,"color",l),d=this.getControllerVisual(t,"symbolSize"),h=KJ(t,i,u,!0),p=a[0]-d/2,m={x:c.x,y:c.y};c.y=h,c.x=p;var g=jd(s.indicatorLabelPoint,Fd(c,this.group)),v=s.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",s.mainGroup),b=this._orient,x="horizontal"===b;v.setStyle({text:(n||"")+o.formatValueText(e),verticalAlign:x?y:"middle",align:x?"center":y});var w={x:p,y:h,style:{fill:f}},_={style:{x:g[0],y:g[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};c.x=m.x,c.y=m.y,c.animateTo(w,S),v.animateTo(_,S)}else c.attr(w),v.attr(_);this._firstShowIndicator=!1;var C=this._shapes.handleLabels;if(C)for(var k=0;k<C.length;k++)this._api.enterBlur(C[k])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,r=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);r[1]=QJ(tQ(0,r[1]),n[1]),t._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var o=[0,r[1]],i=n.getExtent();t=QJ(tQ(o[0],t),o[1]);var a=iQ(n,i,o),u=[t-a,t+a],s=KJ(t,o,i,!0),c=[KJ(u[0],o,i,!0),KJ(u[1],o,i,!0)];u[0]<o[0]&&(c[0]=-1/0),u[1]>o[1]&&(c[1]=1/0),e&&(c[0]===-1/0?this._showIndicator(s,c[1],"< ",a):c[1]===1/0?this._showIndicator(s,c[0],"> ",a):this._showIndicator(s,s," ",a));var l=this._hoverLinkDataIndices,f=[];(e||aQ(n))&&(f=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var d=ha(l,f);this._dispatchHighDown("downplay",$J(d[0],n)),this._dispatchHighDown("highlight",$J(d[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=Dc(e).dataIndex){var r=Dc(e),o=this.ecModel.getSeriesByIndex(r.seriesIndex);if(n.isTargetSeries(o)){var i=o.getData(r.dataType),a=i.get(n.getDataDimension(i),r.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",$J(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,r){var o=Fd(e,r?null:this.group);return Lt(t)?jd(t,o,n):Hd(t,o,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(YJ);function oQ(t,e,n,r){return new zf({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){rn(t.event)},ondragend:r})}function iQ(t,e,n){var r=eQ/2,o=t.get("hoverLinkDataSize");return o&&(r=KJ(o,e,n,!0)/2),r}function aQ(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function uQ(t){return"vertical"===t?"ns-resize":"ew-resize"}var sQ=rQ,cQ={type:"selectDataRange",event:"dataRangeSelected",update:"update"},lQ=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},fQ=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var r=t.pipelineContext;!e.isTargetSeries(t)||r&&r.large||n.push(MZ(e.stateList,e.targetVisuals,Nt(e.getValueState,e),e.getDataDimension(t.getData())))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(Nt(dQ,null,t,e))||{stops:[],outerColors:[]},i=e.getDataDimension(n),a=n.getDimensionInfo(i);null!=a&&(o.dimension=a.index,r.push(o))}})),t.getData().setVisual("visualMeta",r)}}];function dQ(t,e,n,r){for(var o=e.targetVisuals[r],i=hN.prepareVisualTypes(o),a={color:yb(t.getData(),"color")},u=0,s=i.length;u<s;u++){var c=i[u],l=o["opacity"===c?"__alphaForOpacity":c];l&&l.applyVisual(n,f,d)}return a.color;function f(t){return a[t]}function d(t,e){a[t]=e}}var hQ=At;function pQ(t){var e=t&&t.visualMap;Lt(e)||(e=e?[e]:[]),hQ(e,(function(t){if(t){mQ(t,"splitList")&&!mQ(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&Lt(e)&&hQ(e,(function(t){jt(t)&&(mQ(t,"start")&&!mQ(t,"min")&&(t.min=t.start),mQ(t,"end")&&!mQ(t,"max")&&(t.max=t.end))}))}}))}function mQ(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var gQ=!1;function vQ(t){gQ||(gQ=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(cQ,lQ),At(fQ,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(pQ))}function yQ(t){t.registerComponentModel(GJ),t.registerComponentView(sQ),vQ(t)}var bQ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return Z(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],xQ[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var o=this.option.categories;this.resetVisual((function(t,e){"categories"===r?(t.mappingMethod="category",t.categories=vt(o)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=Ot(this._pieceList,(function(t){return t=vt(t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,n={},r=hN.listVisualTypes(),o=this.isCategory();function i(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}At(e.pieces,(function(t){At(r,(function(e){t.hasOwnProperty(e)&&(n[e]=1)}))})),At(n,(function(t,n){var r=!1;At(this.stateList,(function(t){r=r||i(e,t,n)||i(e.target,t,n)}),this),!r&&At(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=RJ.get(n,"inRange"===t?"active":"inactive",o)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,r=this._pieceList,o=(e?n:t).selected||{};if(n.selected=o,At(r,(function(t,e){var n=this.getSelectedMapKey(t);o.hasOwnProperty(n)||(o[n]=!0)}),this),"single"===n.selectedMode){var i=!1;At(r,(function(t,e){var n=this.getSelectedMapKey(t);o[n]&&(i?o[n]=!1:i=!0)}),this)}},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=vt(t)},e.prototype.getValueState=function(t){var e=hN.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(r){var o=[],i=r.getData();i.each(this.getDataDimension(i),(function(e,r){var i=hN.findPieceIndex(e,n);i===t&&o.push(r)}),this),e.push({seriesId:r.id,dataIndex:o})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],r=this,o=this._pieceList.slice();if(o.length){var i=o[0].interval[0];i!==-1/0&&o.unshift({interval:[-1/0,i]}),i=o[o.length-1].interval[1],i!==1/0&&o.push({interval:[i,1/0]})}else o.push({interval:[-1/0,1/0]});var a=-1/0;return At(o,(function(t){var e=t.interval;e&&(e[0]>a&&u([a,e[0]],"outOfRange"),u(e.slice()),a=e[1])}),this),{stops:e,outerColors:n}}function u(o,i){var a=r.getRepresentValue({interval:o});i||(i=r.getValueState(a));var u=t(a,i);o[0]===-1/0?n[0]=u:o[1]===1/0?n[1]=u:e.push({value:o[0],color:u},{value:o[1],color:u})}},e.type="visualMap.piecewise",e.defaultOption=Eh(jJ.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(jJ),xQ={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),r=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;var i=(r[1]-r[0])/o;while(+i.toFixed(n)!==i&&n<5)n++;e.precision=n,i=+i.toFixed(n),e.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var a=0,u=r[0];a<o;u+=i,a++){var s=a===o-1?r[1]:u+i;t.push({interval:[u,s],close:[1,1]})}e.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),Vi(t),At(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;At(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),wQ(e,t)},pieces:function(t){var e=this.option;At(e.pieces,(function(e,n){jt(e)||(e={value:e});var r={text:"",index:n};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var o=r.value=e.value;r.interval=[o,o],r.close=[1,1]}else{for(var i=r.interval=[],a=r.close=[0,0],u=[1,0,1],s=[-1/0,1/0],c=[],l=0;l<2;l++){for(var f=[["gte","gt","min"],["lte","lt","max"]][l],d=0;d<3&&null==i[l];d++)i[l]=e[f[d]],a[l]=u[d],c[l]=2===d;null==i[l]&&(i[l]=s[l])}c[0]&&i[1]===1/0&&(a[0]=0),c[1]&&i[0]===-1/0&&(a[1]=0),i[0]===i[1]&&a[0]&&a[1]&&(r.value=i[0])}r.visual=hN.retrieveVisuals(e),t.push(r)}),this),wQ(e,t),Vi(t),At(t,(function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function wQ(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var _Q=bQ,SQ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Z(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,o=r.getFont(),i=r.getTextColor(),a=this._getItemAlign(),u=e.itemSize,s=this._getViewData(),c=s.endsText,l=Zt(e.get("showLabel",!0),!c);c&&this._renderEndsText(t,c[0],u,l,a),At(s.viewPieceList,(function(r){var s=r.piece,c=new fi;c.onclick=Nt(this._onItemClick,this,s),this._enableHoverLink(c,r.indexInModelPieceList);var f=e.getRepresentValue(s);if(this._createItemSymbol(c,f,[0,0,u[0],u[1]]),l){var d=this.visualMapModel.getValueState(f);c.add(new Mc({style:{x:"right"===a?-n:u[0]+n,y:u[1]/2,text:s.text,verticalAlign:"middle",align:a,font:o,fill:i,opacity:"outOfRange"===d?.5:1}}))}t.add(c)}),this),c&&this._renderEndsText(t,c[1],u,l,a),jp(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",(function(){return r("highlight")})).on("mouseout",(function(){return r("downplay")}));var r=function(t){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:t,batch:$J(r.findTargetDataIndices(e),r)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return ZJ(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,r,o){if(e){var i=new fi,a=this.visualMapModel.textStyleModel;i.add(new Mc({style:{x:r?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:r?o:"center",text:e,font:a.getFont(),fill:a.getTextColor()}})),t.add(i)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=Ot(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),r=t.get("orient"),o=t.get("inverse");return("horizontal"===r?o:!o)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(_x(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,r=vt(n.selected),o=e.getSelectedMapKey(t);"single"===n.selectedMode?(r[o]=!0,At(r,(function(t,e){r[e]=e===o}))):r[o]=!r[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})},e.type="visualMap.piecewise",e}(YJ),CQ=SQ;function kQ(t){t.registerComponentModel(_Q),t.registerComponentView(CQ),vQ(t)}function TQ(t){Z_(yQ),Z_(kQ)}var AQ={label:{enabled:!0},decal:{show:!1}},OQ=ma(),MQ={};function DQ(t,e){var n=t.getModel("aria");if(n.get("enabled")){var r=vt(AQ);yt(r.label,t.getLocaleModel().get("aria"),!1),yt(n.option,r,!1),o(),i()}function o(){var e=n.getModel("decal"),r=e.get("show");if(r){var o=ae();t.eachSeries((function(t){if(t.useColorPaletteOnData){var e=o.get(t.type);e||(e={},o.set(t.type,e)),OQ(t).scope=e}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if("function"!==typeof e.enableAriaDecal){var n=e.getData();if(e.useColorPaletteOnData){var r=e.getRawData(),o={},i=OQ(e).scope;n.each((function(t){var e=n.getRawIndex(t);o[e]=t}));var a=r.count();r.each((function(t){var u=o[t],s=r.getName(t)||t+"",l=Dm(e.ecModel,s,i,a),f=n.getItemVisual(u,"decal");n.setItemVisual(u,"decal",c(f,l))}))}else{var u=Dm(e.ecModel,e.name,MQ,t.getSeriesCount()),s=n.getVisual("decal");n.setVisual("decal",c(s,u))}}else e.enableAriaDecal();function c(t,e){var n=t?xt(xt({},e),t):e;return n.dirty=!0,n}}))}}function i(){var r=t.getLocaleModel().get("aria"),o=n.getModel("label");if(o.option=wt(o.option,r),o.get("enabled")){var i=e.getZr().dom;if(o.get("description"))i.setAttribute("aria-label",o.get("description"));else{var c,l=t.getSeriesCount(),f=o.get(["data","maxCount"])||10,d=o.get(["series","maxCount"])||10,h=Math.min(l,d);if(!(l<1)){var p=u();if(p){var m=o.get(["general","withTitle"]);c=a(m,{title:p})}else c=o.get(["general","withoutTitle"]);var g=[],v=l>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]);c+=a(v,{seriesCount:l}),t.eachSeries((function(t,e){if(e<h){var n=void 0,r=t.get("name"),i=r?"withName":"withoutName";n=l>1?o.get(["series","multiple",i]):o.get(["series","single",i]),n=a(n,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:s(t.subType)});var u=t.getData();if(u.count()>f){var c=o.get(["data","partialData"]);n+=a(c,{displayCnt:f})}else n+=o.get(["data","allData"]);for(var d=[],p=0;p<u.count();p++)if(p<f){var m=u.getName(p),v=ev(u,p),y=o.get(["data",m?"withName":"withoutName"]);d.push(a(y,{name:m,value:v}))}var b=o.get(["data","separator","middle"]),x=o.get(["data","separator","end"]);n+=d.join(b)+x,g.push(n)}}));var y=o.getModel(["series","multiple","separator"]),b=y.get("middle"),x=y.get("end");c+=g.join(b)+x,i.setAttribute("aria-label",c)}}}}function a(t,e){if("string"!==typeof t)return t;var n=t;return At(e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}function u(){var e=t.get("title");return e&&e.length&&(e=e[0]),e&&e.text}function s(e){return t.getLocaleModel().get(["series","typeNames"])[e]||""}}function IQ(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},At(["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}function EQ(t){t.registerPreprocessor(IQ),t.registerVisual(t.PRIORITY.VISUAL.ARIA,DQ)}var RQ={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},NQ=function(){function t(t){var e=this._condVal=zt(t)?new RegExp(t):Yt(t)?t:null;if(null==e){var n="";0,cv(n)}}return t.prototype.evaluate=function(t){var e=typeof t;return"string"===e?this._condVal.test(t):"number"===e&&this._condVal.test(t+"")},t}(),PQ=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),LQ=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),BQ=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),zQ=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),VQ=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),r=t?this.valueParser(n):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?r:n))return!1;return!0},t}();function FQ(t,e){if(!0===t||!1===t){var n=new PQ;return n.value=t,n}var r="";return WQ(t)||cv(r),t.and?jQ("and",t,e):t.or?jQ("or",t,e):t.not?HQ(t,e):UQ(t,e)}function jQ(t,e,n){var r=e[t],o="";Lt(r)||cv(o),r.length||cv(o);var i="and"===t?new LQ:new BQ;return i.children=Ot(r,(function(t){return FQ(t,n)})),i.children.length||cv(o),i}function HQ(t,e){var n=t.not,r="";WQ(n)||cv(r);var o=new zQ;return o.child=FQ(n,e),o.child||cv(r),o}function UQ(t,e){for(var n="",r=e.prepareGetValue(t),o=[],i=Et(t),a=t.parser,u=a?dv(a):null,s=0;s<i.length;s++){var c=i[s];if("parser"!==c&&!e.valueGetterAttrMap.get(c)){var l=ce(RQ,c)?RQ[c]:c,f=t[c],d=u?u(f):f,h=vv(l,d)||"reg"===l&&new NQ(d);h||cv(n),o.push(h)}}o.length||cv(n);var p=new VQ;return p.valueGetterParam=r,p.valueParser=u,p.getValue=e.getValue,p.subCondList=o,p}function WQ(t){return jt(t)&&!Tt(t)}var GQ=function(){function t(t,e){this._cond=FQ(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function qQ(t,e){return new GQ(t,e)}var YQ={type:"echarts:filter",transform:function(t){for(var e,n=t.upstream,r=qQ(t.config,{valueGetterAttrMap:ae({dimension:!0}),prepareGetValue:function(t){var e="",r=t.dimension;ce(t,"dimension")||cv(e);var o=n.getDimensionInfo(r);return o||cv(e),{dimIdx:o.index}},getValue:function(t){return n.retrieveValueFromItem(e,t.dimIdx)}}),o=[],i=0,a=n.count();i<a;i++)e=n.getRawDataItem(i),r.evaluate()&&o.push(e);return{data:o}}};var XQ={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,r="",o=Yi(n);o.length||cv(r);var i=[];At(o,(function(t){var n=t.dimension,o=t.order,a=t.parser,u=t.incomparable;if(null==n&&cv(r),"asc"!==o&&"desc"!==o&&cv(r),u&&"min"!==u&&"max"!==u){var s="";0,cv(s)}if("asc"!==o&&"desc"!==o){var c="";0,cv(c)}var l=e.getDimensionInfo(n);l||cv(r);var f=a?dv(a):null;a&&!f&&cv(r),i.push({dimIdx:l.index,parser:f,comparator:new mv(o,u)})}));var a=e.sourceFormat;a!==im&&a!==am&&cv(r);for(var u=[],s=0,c=e.count();s<c;s++)u.push(e.getRawDataItem(s));return u.sort((function(t,n){for(var r=0;r<i.length;r++){var o=i[r],a=e.retrieveValueFromItem(t,o.dimIdx),u=e.retrieveValueFromItem(n,o.dimIdx);o.parser&&(a=o.parser(a),u=o.parser(u));var s=o.comparator.evaluate(a,u);if(0!==s)return s}return 0})),{data:u}}};function ZQ(t){t.registerTransform(YQ),t.registerTransform(XQ)}var $Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Z(e,t),e.prototype.init=function(e,n,r){t.prototype.init.call(this,e,n,r),this._sourceManager=new Mv(this),Dv(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Dv(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:lm},e}(Qp),KQ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Z(e,t),e.type="dataset",e}(dy);function JQ(t){t.registerComponentModel($Q),t.registerComponentView(KQ)}Z_([cS]),Z_([bC]),Z_([bT,pA,NA,ID,QD,mE,dR,GN,sL,bL,DL,Pz,hV,EV,aF,gF,VF,$F,Tj,Lj,eH,iW]),Z_(rG),Z_(XG),Z_(uq),Z_(Eq),Z_(Nz),Z_(Wq),Z_(oY),Z_(UX),Z_(xZ),Z_(nG),Z_(t$),Z_(r$),Z_(T$),Z_($$),Z_(sK),Z_(wK),Z_(ZK),Z_(DJ),Z_(dJ),Z_(MJ),Z_(TQ),Z_(yQ),Z_(kQ),Z_(EQ),Z_(ZQ),Z_(JQ);var QQ=Object(o["defineComponent"])({props:{className:{type:String,default:"chart"},width:{type:String,default:"100%",required:!0},height:{type:String,default:"350px",required:!0},chartData:{type:Object,required:!0}},setup:function(t){var e=Y(),n=e.mounted,r=e.chart,i=e.beforeDestroy,a=e.activated,u=e.deactivated,s=function(t){r.value&&r.value.setOption({xAxis:{data:["Display","Segment","Contrast","Analyse"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:30,right:30,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:8},yAxis:{axisTick:{show:!1}},legend:{data:[""]},series:[{name:"use count",itemStyle:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"}]})};Object(o["watchEffect"])((function(){t.chartData&&s(t.chartData)}));var c=function(){var e=I_(document.getElementById("homeLineCharts"),"macarons");s(t.chartData),r.value=e};return Object(o["onMounted"])((function(){n(),Object(o["nextTick"])((function(){c()}))})),Object(o["onBeforeUnmount"])((function(){i(),r.value&&(r.value.dispose(),r.value=null)})),Object(o["onActivated"])((function(){a()})),Object(o["onDeactivated"])((function(){u()})),{}}});QQ.render=q;var t0=QQ,e0={components:{PanelGroup:G,LineChart:t0},setup:function(){var t=Object(o["reactive"])({totalDisplay:void 0,totalSegment:void 0,totalContrast:void 0,totalAnalyse:void 0}),e=Object(o["reactive"])([]);return Object(o["onMounted"])((function(){d().then((function(n){"200"===n.code?(t.totalAnalyse=n.data.totalAnalyse,t.totalContrast=n.data.totalContrast,t.totalDisplay=n.data.totalDisplay,t.totalSegment=n.data.totalSegment,e.push(t.totalDisplay),e.push(t.totalSegment),e.push(t.totalContrast),e.push(t.totalAnalyse)):console.error(n)}))})),{showData:t,chartData:e}}};n("1740");e0.render=c,e0.__scopeId="data-v-7dec9eb0";var n0=e0,r0=Object(o["defineComponent"])({components:{AdminDashboard:n0},setup:function(){var t=Object(o["ref"])("admin-dashboard");return{currentRole:t}}});r0.render=a;e["default"]=r0},cdd9:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){return e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},e.apply(this,arguments)},n=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},r=function(t){return function(e){return n(e)===t}},o=function(t){return function(e){return typeof e===t}},i=function(t){return function(e){return t===e}},a=r("string"),u=r("object"),s=r("array"),c=i(null),l=o("boolean"),f=o("number"),d=function(){},h=function(t){return function(){return t}},p=h(!1),m=h(!0),g=function(){return v},v=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:p,isSome:p,isNone:m,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(void 0),or:n,orThunk:e,map:g,each:d,bind:g,exists:p,forall:m,filter:g,equals:t,equals_:t,toArray:function(){return[]},toString:h("none()")};return r}(),y=function(t){var e=h(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:m,isNone:p,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return y(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:v},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(p,(function(e){return n(t,e)}))}};return o},b=function(t){return null===t||void 0===t?v:y(t)},x={some:y,none:g,from:b},w=Array.prototype.push,_=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!s(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);w.apply(e,t[n])}return e},S=function(t,e){return e>=0&&e<t.length?x.some(t[e]):x.none()},C=function(t){return S(t,0)},k=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return x.none()},T=("undefined"!==typeof window?window:Function("return this;")(),function(t,e,n){if(!(a(n)||l(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")}),A=function(t,e,n){T(t.dom,e,n)},O=function(t,e){t.dom.removeAttribute(e)},M=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return E(r.childNodes[0])},D=function(t,e){var n=e||document,r=n.createElement(t);return E(r)},I=function(t,e){var n=e||document,r=n.createTextNode(t);return E(r)},E=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},R=function(t,e,n){return x.from(t.dom.elementFromPoint(e,n)).map(E)},N={fromHtml:M,fromTag:D,fromText:I,fromDom:E,fromPoint:R},P=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),L=tinymce.util.Tools.resolve("tinymce.util.Promise"),B=tinymce.util.Tools.resolve("tinymce.util.XHR"),z=function(t){return t.getParam("image_dimensions",!0,"boolean")},V=function(t){return t.getParam("image_advtab",!1,"boolean")},F=function(t){return t.getParam("image_uploadtab",!0,"boolean")},j=function(t){return t.getParam("image_prepend_url","","string")},H=function(t){return t.getParam("image_class_list")},U=function(t){return t.getParam("image_description",!0,"boolean")},W=function(t){return t.getParam("image_title",!1,"boolean")},G=function(t){return t.getParam("image_caption",!1,"boolean")},q=function(t){return t.getParam("image_list",!1)},Y=function(t){return!!Z(t)},X=function(t){return!!$(t)},Z=function(t){return t.getParam("images_upload_url","","string")},$=function(t){return t.getParam("images_upload_handler",void 0,"function")},K=function(t){return t.getParam("images_upload_base_path",void 0,"string")},J=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},Q=function(t){return t.getParam("a11y_advanced_options",!1,"boolean")},tt=function(t){return t.getParam("automatic_uploads",!0,"boolean")},et=function(t,e){return Math.max(parseInt(t,10),parseInt(e,10))},nt=function(t){return new L((function(e){var n=document.createElement("img"),r=function(t){n.parentNode&&n.parentNode.removeChild(n),e(t)};n.onload=function(){var t=et(n.width,n.clientWidth),e=et(n.height,n.clientHeight),o={width:t,height:e};r(L.resolve(o))},n.onerror=function(){r(L.reject("Failed to get image dimensions for: "+t))};var o=n.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(n),n.src=t}))},rt=function(t){return t&&(t=t.replace(/px$/,"")),t},ot=function(t){return t.length>0&&/^[0-9]+$/.test(t)&&(t+="px"),t},it=function(t){if(t.margin){var e=String(t.margin).split(" ");switch(e.length){case 1:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[0],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[0];break;case 2:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[1];break;case 3:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[1];break;case 4:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[3]}delete t.margin}return t},at=function(t,e){var n=q(t);"string"===typeof n?B.send({url:n,success:function(t){e(JSON.parse(t))}}):"function"===typeof n?n(e):e(n)},ut=function(t,e,n){var r=function(){n.onload=n.onerror=null,t.selection&&(t.selection.select(n),t.nodeChanged())};n.onload=function(){e.width||e.height||!z(t)||t.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},st=function(t){return new L((function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=function(){n(r.error.message)},r.readAsDataURL(t)}))},ct=function(t){return"IMG"===t.nodeName&&(t.hasAttribute("data-mce-object")||t.hasAttribute("data-mce-placeholder"))},lt=P.DOM,ft=function(t){return t.style.marginLeft&&t.style.marginRight&&t.style.marginLeft===t.style.marginRight?rt(t.style.marginLeft):""},dt=function(t){return t.style.marginTop&&t.style.marginBottom&&t.style.marginTop===t.style.marginBottom?rt(t.style.marginTop):""},ht=function(t){return t.style.borderWidth?rt(t.style.borderWidth):""},pt=function(t,e){return t.hasAttribute(e)?t.getAttribute(e):""},mt=function(t,e){return t.style[e]?t.style[e]:""},gt=function(t){return null!==t.parentNode&&"FIGURE"===t.parentNode.nodeName},vt=function(t,e,n){""===n?t.removeAttribute(e):t.setAttribute(e,n)},yt=function(t){var e=lt.create("figure",{class:"image"});lt.insertAfter(e,t),e.appendChild(t),e.appendChild(lt.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false"},bt=function(t){var e=t.parentNode;lt.insertAfter(t,e),lt.remove(e)},xt=function(t){gt(t)?bt(t):yt(t)},wt=function(t,e){var n=t.getAttribute("style"),r=e(null!==n?n:"");r.length>0?(t.setAttribute("style",r),t.setAttribute("data-mce-style",r)):t.removeAttribute("style")},_t=function(t,e){return function(t,n,r){t.style[n]?(t.style[n]=ot(r),wt(t,e)):vt(t,n,r)}},St=function(t,e){return t.style[e]?rt(t.style[e]):pt(t,e)},Ct=function(t,e){var n=ot(e);t.style.marginLeft=n,t.style.marginRight=n},kt=function(t,e){var n=ot(e);t.style.marginTop=n,t.style.marginBottom=n},Tt=function(t,e){var n=ot(e);t.style.borderWidth=n},At=function(t,e){t.style.borderStyle=e},Ot=function(t){return mt(t,"borderStyle")},Mt=function(t){return"FIGURE"===t.nodeName},Dt=function(t){return"IMG"===t.nodeName},It=function(t){return 0===lt.getAttrib(t,"alt").length&&"presentation"===lt.getAttrib(t,"role")},Et=function(t){return It(t)?"":pt(t,"alt")},Rt=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Nt=function(t,e){var n=document.createElement("img");return vt(n,"style",e.style),(ft(n)||""!==e.hspace)&&Ct(n,e.hspace),(dt(n)||""!==e.vspace)&&kt(n,e.vspace),(ht(n)||""!==e.border)&&Tt(n,e.border),(Ot(n)||""!==e.borderStyle)&&At(n,e.borderStyle),t(n.getAttribute("style"))},Pt=function(t,n){var r=document.createElement("img");if(jt(t,e(e({},n),{caption:!1}),r),zt(r,n.alt,n.isDecorative),n.caption){var o=lt.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(lt.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r},Lt=function(t,e){return{src:pt(e,"src"),alt:Et(e),title:pt(e,"title"),width:St(e,"width"),height:St(e,"height"),class:pt(e,"class"),style:t(pt(e,"style")),caption:gt(e),hspace:ft(e),vspace:dt(e),border:ht(e),borderStyle:mt(e,"borderStyle"),isDecorative:It(e)}},Bt=function(t,e,n,r,o){n[r]!==e[r]&&o(t,r,n[r])},zt=function(t,e,n){if(n){lt.setAttrib(t,"role","presentation");var r=N.fromDom(t);A(r,"alt","")}else{if(c(e)){r=N.fromDom(t);O(r,"alt")}else{r=N.fromDom(t);A(r,"alt",e)}"presentation"===lt.getAttrib(t,"role")&&lt.setAttrib(t,"role","")}},Vt=function(t,e,n){n.alt===e.alt&&n.isDecorative===e.isDecorative||zt(t,n.alt,n.isDecorative)},Ft=function(t,e){return function(n,r,o){t(n,o),wt(n,e)}},jt=function(t,e,n){var r=Lt(t,n);Bt(n,r,e,"caption",(function(t,e,n){return xt(t)})),Bt(n,r,e,"src",vt),Bt(n,r,e,"title",vt),Bt(n,r,e,"width",_t("width",t)),Bt(n,r,e,"height",_t("height",t)),Bt(n,r,e,"class",vt),Bt(n,r,e,"style",Ft((function(t,e){return vt(t,"style",e)}),t)),Bt(n,r,e,"hspace",Ft(Ct,t)),Bt(n,r,e,"vspace",Ft(kt,t)),Bt(n,r,e,"border",Ft(Tt,t)),Bt(n,r,e,"borderStyle",Ft(At,t)),Vt(n,r,e)},Ht=function(t,e){var n=t.dom.styles.parse(e),r=it(n),o=t.dom.styles.parse(t.dom.styles.serialize(r));return t.dom.styles.serialize(o)},Ut=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,"figure.image");return n?t.dom.select("img",n)[0]:e&&("IMG"!==e.nodeName||ct(e))?null:e},Wt=function(t,e){var n=t.dom,r=n.getParent(e.parentNode,(function(e){return!!t.schema.getTextBlockElements()[e.nodeName]}),t.getBody());return r?n.split(r,e):e},Gt=function(t){var e=Ut(t);return e?Lt((function(e){return Ht(t,e)}),e):Rt()},qt=function(t,e){var n=Pt((function(e){return Ht(t,e)}),e);t.dom.setAttrib(n,"data-mce-id","__mcenew"),t.focus(),t.selection.setContent(n.outerHTML);var r=t.dom.select('*[data-mce-id="__mcenew"]')[0];if(t.dom.setAttrib(r,"data-mce-id",null),Mt(r)){var o=Wt(t,r);t.selection.select(o)}else t.selection.select(r)},Yt=function(t,e){t.dom.setAttrib(e,"src",e.getAttribute("src"))},Xt=function(t,e){if(e){var n=t.dom.is(e.parentNode,"figure.image")?e.parentNode:e;t.dom.remove(n),t.focus(),t.nodeChanged(),t.dom.isEmpty(t.getBody())&&(t.setContent(""),t.selection.setCursorLocation())}},Zt=function(t,e){var n=Ut(t);if(jt((function(e){return Ht(t,e)}),e,n),Yt(t,n),Mt(n.parentNode)){var r=n.parentNode;Wt(t,r),t.selection.select(n.parentNode)}else t.selection.select(n),ut(t,e,n)},$t=function(t,n){var r=Ut(t);if(r){var o=Lt((function(e){return Ht(t,e)}),r),i=e(e({},o),n);i.src?Zt(t,i):Xt(t,r)}else n.src&&qt(t,e(e({},Rt()),n))},Kt=Object.prototype.hasOwnProperty,Jt=function(t,e){var n=u(t)&&u(e);return n?te(t,e):e},Qt=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)Kt.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},te=Qt(Jt),ee=tinymce.util.Tools.resolve("tinymce.util.Tools"),ne=function(t){return a(t.value)?t.value:""},re=function(t){return a(t.text)?t.text:a(t.title)?t.title:""},oe=function(t,e){var n=[];return ee.each(t,(function(t){var r=re(t);if(void 0!==t.menu){var o=oe(t.menu,e);n.push({text:r,items:o})}else{var i=e(t);n.push({text:r,value:i})}})),n},ie=function(t){return void 0===t&&(t=ne),function(e){return e?x.from(e).map((function(e){return oe(e,t)})):x.none()}},ae=function(t){return ie(ne)(t)},ue=function(t){return Object.prototype.hasOwnProperty.call(t,"items")},se=function(t,e){return k(t,(function(t){return ue(t)?se(t.items,e):t.value===e?x.some(t):x.none()}))},ce=function(t,e){return t.bind((function(t){return se(t,e)}))},le={sanitizer:ie,sanitize:ae,findEntry:ce},fe=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e};function de(t){var e=function(e,n,r,o){var i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(t){o(t.loaded/t.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){if(i.status<200||i.status>=300)r("HTTP Error: "+i.status);else{var e=JSON.parse(i.responseText);e&&"string"===typeof e.location?n(fe(t.basePath,e.location)):r("Invalid JSON: "+i.responseText)}};var a=new FormData;a.append("file",e.blob(),e.filename()),i.send(a)},n=function(t,e){return new L((function(n,r){try{e(t,n,r,d)}catch(o){r(o.message)}}))},r=function(t){return t===e},o=function(e){return!t.url&&r(t.handler)?L.reject("Upload url missing from the settings."):n(e,t.handler)};return t=ee.extend({credentials:!1,handler:e},t),{upload:o}}var he=function(t){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},pe={makeTab:he},me=function(t){var e=le.sanitizer((function(e){return t.convertURL(e.value||e.url,"src")})),n=new L((function(n){at(t,(function(t){n(e(t).map((function(t){return _([[{text:"None",value:""}],t])})))}))})),r=le.sanitize(H(t)),o=V(t),i=F(t),u=Y(t),s=X(t),c=Gt(t),l=U(t),f=W(t),d=z(t),h=G(t),p=Q(t),m=Z(t),g=K(t),v=J(t),y=$(t),b=tt(t),w=x.some(j(t)).filter((function(t){return a(t)&&t.length>0}));return n.then((function(t){return{image:c,imageList:t,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:u,hasUploadHandler:s,hasDescription:l,hasImageTitle:f,hasDimensions:d,hasImageCaption:h,url:m,basePath:g,credentials:v,handler:y,prependURL:w,hasAccessibilityOptions:p,automaticUploads:b}}))},ge=function(t){var e={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=t.imageList.map((function(t){return{name:"images",type:"listbox",label:"Image list",items:t}})),r={name:"alt",type:"input",label:"Alternative description",disabled:t.hasAccessibilityOptions&&t.image.isDecorative},o={name:"title",type:"input",label:"Image title"},i={name:"dimensions",type:"sizeinput"},a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},u=t.classList.map((function(t){return{name:"classes",type:"listbox",label:"Class",items:t}})),s={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return _([[e],n.toArray(),t.hasAccessibilityOptions&&t.hasDescription?[a]:[],t.hasDescription?[r]:[],t.hasImageTitle?[o]:[],t.hasDimensions?[i]:[],[{type:"grid",columns:2,items:_([u.toArray(),t.hasImageCaption?[s]:[]])}]])},ve=function(t){return{title:"General",name:"general",items:ge(t)}},ye={makeTab:ve,makeItems:ge},be=function(t){var e=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:e}},xe={makeTab:be},we=function(t){return{prevImage:le.findEntry(t.imageList,t.image.src),prevAlt:t.image.alt,open:!0}},_e=function(t){return{src:{value:t.src,meta:{}},images:t.src,alt:t.alt,title:t.title,dimensions:{width:t.width,height:t.height},classes:t.class,caption:t.caption,style:t.style,vspace:t.vspace,border:t.border,hspace:t.hspace,borderstyle:t.borderStyle,fileinput:[],isDecorative:t.isDecorative}},Se=function(t,e){return{src:t.src.value,alt:0===t.alt.length&&e?null:t.alt,title:t.title,width:t.dimensions.width,height:t.dimensions.height,class:t.classes,style:t.style,caption:t.caption,hspace:t.hspace,vspace:t.vspace,border:t.border,borderStyle:t.borderstyle,isDecorative:t.isDecorative}},Ce=function(t,e){return/^(?:[a-zA-Z]+:)?\/\//.test(e)?x.none():t.prependURL.bind((function(t){return e.substring(0,t.length)!==t?x.some(t+e):x.none()}))},ke=function(t,e){var n=e.getData();Ce(t,n.src.value).each((function(t){e.setData({src:{value:t,meta:n.src.meta}})}))},Te=function(t,e,n){t.hasDescription&&a(n.alt)&&(e.alt=n.alt),t.hasAccessibilityOptions&&(e.isDecorative=n.isDecorative||e.isDecorative||!1),t.hasImageTitle&&a(n.title)&&(e.title=n.title),t.hasDimensions&&(a(n.width)&&(e.dimensions.width=n.width),a(n.height)&&(e.dimensions.height=n.height)),a(n.class)&&le.findEntry(t.classList,n.class).each((function(t){e.classes=t.value})),t.hasImageCaption&&l(n.caption)&&(e.caption=n.caption),t.hasAdvTab&&(a(n.style)&&(e.style=n.style),a(n.vspace)&&(e.vspace=n.vspace),a(n.border)&&(e.border=n.border),a(n.hspace)&&(e.hspace=n.hspace),a(n.borderstyle)&&(e.borderstyle=n.borderstyle))},Ae=function(t,e){var n=e.getData(),r=n.src.meta;if(void 0!==r){var o=te({},n);Te(t,o,r),e.setData(o)}},Oe=function(t,e,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!e.hasDimensions||t.imageSize(i).then((function(t){n.open&&r.setData({dimensions:t})}))},Me=function(t,e,n){var r=n.getData(),o=le.findEntry(t.imageList,r.src.value);e.prevImage=o,n.setData({images:o.map((function(t){return t.value})).getOr("")})},De=function(t,e,n,r){ke(e,r),Ae(e,r),Oe(t,e,n,r),Me(e,n,r)},Ie=function(t,e,n,r){var o=r.getData(),i=le.findEntry(e.imageList,o.images);i.each((function(t){var e=""===o.alt||n.prevImage.map((function(t){return t.text===o.alt})).getOr(!1);e?""===t.value?r.setData({src:t,alt:n.prevAlt}):r.setData({src:t,alt:t.text}):r.setData({src:t})})),n.prevImage=i,De(t,e,n,r)},Ee=function(t){var e=t["margin-top"]&&t["margin-bottom"]&&t["margin-top"]===t["margin-bottom"];return e?rt(String(t["margin-top"])):""},Re=function(t){var e=t["margin-right"]&&t["margin-left"]&&t["margin-right"]===t["margin-left"];return e?rt(String(t["margin-right"])):""},Ne=function(t){return t["border-width"]?rt(String(t["border-width"])):""},Pe=function(t){return t["border-style"]?String(t["border-style"]):""},Le=function(t,e,n){return e(t(e(n)))},Be=function(t,e,n){var r=it(t(n.style)),o=te({},n);return o.vspace=Ee(r),o.hspace=Re(r),o.border=Ne(r),o.borderstyle=Pe(r),o.style=Le(t,e,r),o},ze=function(t,e){var n=e.getData(),r=Be(t.parseStyle,t.serializeStyle,n);e.setData(r)},Ve=function(t,e,n){var r=te(_e(e.image),n.getData()),o=Nt(t.normalizeCss,Se(r,!1));n.setData({style:o})},Fe=function(t,e,n,r){var o=r.getData();r.block("Uploading image"),C(o.fileinput).fold((function(){r.unblock()}),(function(o){var i=URL.createObjectURL(o),a=de({url:e.url,basePath:e.basePath,credentials:e.credentials,handler:e.handler}),u=function(){r.unblock(),URL.revokeObjectURL(i)},s=function(o){r.setData({src:{value:o,meta:{}}}),r.showTab("general"),De(t,e,n,r)};st(o).then((function(n){var c=t.createBlobCache(o,i,n);e.automaticUploads?a.upload(c).then((function(t){s(t),u()})).catch((function(e){u(),t.alertErr(e)})):(t.addToBlobCache(c),s(c.blobUri()),r.unblock())}))}))},je=function(t,e,n){return function(r,o){"src"===o.name?De(t,e,n,r):"images"===o.name?Ie(t,e,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?ze(t,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?Ve(t,e,r):"fileinput"===o.name?Fe(t,e,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},He=function(t){return function(){t.open=!1}},Ue=function(t){if(t.hasAdvTab||t.hasUploadUrl||t.hasUploadHandler){var e={type:"tabpanel",tabs:_([[ye.makeTab(t)],t.hasAdvTab?[pe.makeTab(t)]:[],t.hasUploadTab&&(t.hasUploadUrl||t.hasUploadHandler)?[xe.makeTab(t)]:[]])};return e}var n={type:"panel",items:ye.makeItems(t)};return n},We=function(t){return function(e){var n=we(e);return{title:"Insert/Edit Image",size:"normal",body:Ue(e),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_e(e.image),onSubmit:t.onSubmit(e),onChange:je(t,e,n),onClose:He(n)}}},Ge=function(t){return function(e){return function(n){var r=te(_e(e.image),n.getData());t.execCommand("mceUpdateImage",!1,Se(r,e.hasAccessibilityOptions)),t.editorUpload.uploadImagesAuto(),n.close()}}},qe=function(t){return function(e){return nt(t.documentBaseURI.toAbsolute(e)).then((function(t){return{width:String(t.width),height:String(t.height)}}))}},Ye=function(t){return function(e,n,r){return t.editorUpload.blobCache.create({blob:e,blobUri:n,name:e.name?e.name.replace(/\.[^\.]+$/,""):null,filename:e.name,base64:r.split(",")[1]})}},Xe=function(t){return function(e){t.editorUpload.blobCache.add(e)}},Ze=function(t){return function(e){t.windowManager.alert(e)}},$e=function(t){return function(e){return Ht(t,e)}},Ke=function(t){return function(e){return t.dom.parseStyle(e)}},Je=function(t){return function(e,n){return t.dom.serializeStyle(e,n)}},Qe=function(t){var e={onSubmit:Ge(t),imageSize:qe(t),addToBlobCache:Xe(t),createBlobCache:Ye(t),alertErr:Ze(t),normalizeCss:$e(t),parseStyle:Ke(t),serializeStyle:Je(t)},n=function(){me(t).then(We(e)).then(t.windowManager.open)};return{open:n}},tn=function(t){t.addCommand("mceImage",Qe(t).open),t.addCommand("mceUpdateImage",(function(e,n){t.undoManager.transact((function(){return $t(t,n)}))}))},en=function(t){var e=t.attr("class");return e&&/\bimage\b/.test(e)},nn=function(t){return function(e){var n=e.length,r=function(e){e.attr("contenteditable",t?"true":null)};while(n--){var o=e[n];en(o)&&(o.attr("contenteditable",t?"false":null),ee.each(o.getAll("figcaption"),r))}}},rn=function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("figure",nn(!0)),t.serializer.addNodeFilter("figure",nn(!1))}))},on=function(t){t.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Qe(t).open,onSetup:function(e){return t.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",e.setActive).unbind}}),t.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Qe(t).open}),t.ui.registry.addContextMenu("image",{update:function(t){return Mt(t)||Dt(t)&&!ct(t)?["image"]:[]}})};function an(){t.add("image",(function(t){rn(t),on(t),tn(t)}))}an()})()},cf08:function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){var e=function(){return t.get()};return{isEnabled:e}},r=function(t,e){return t.fire("VisualChars",{state:e})},o=function(){},i=function(t){return function(){return t}},a=i(!1),u=i(!0),s=function(){return c},c=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:a,isSome:a,isNone:u,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:e,map:s,each:o,bind:s,exists:a,forall:u,filter:s,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")};return r}(),l=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return l(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:c},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(a,(function(e){return n(t,e)}))}};return o},f=function(t){return null===t||void 0===t?c:l(t)},d={some:l,none:s,from:f},h=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},p=function(t){return function(e){return h(e)===t}},m=function(t){return function(e){return typeof e===t}},g=p("string"),v=m("boolean"),y=m("number"),b=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},x=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},w=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},_=Object.keys,S=function(t,e){for(var n=_(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},C=("undefined"!==typeof window?window:Function("return this;")(),3),k=function(t){return t.dom.nodeType},T=function(t){return t.dom.nodeValue},A=function(t){return function(e){return k(e)===t}},O=A(C),M=function(t,e,n){if(!(g(n)||v(n)||y(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},D=function(t,e,n){M(t.dom,e,n)},I=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},E=function(t,e){t.dom.removeAttribute(e)},R=function(t,e){var n=I(t,e);return void 0===n||""===n?[]:n.split(" ")},N=function(t,e,n){var r=R(t,e),o=r.concat([n]);return D(t,e,o.join(" ")),!0},P=function(t,e,n){var r=w(R(t,e),(function(t){return t!==n}));return r.length>0?D(t,e,r.join(" ")):E(t,e),!1},L=function(t){return void 0!==t.dom.classList},B=function(t){return R(t,"class")},z=function(t,e){return N(t,"class",e)},V=function(t,e){return P(t,"class",e)},F=function(t,e){L(t)?t.dom.classList.add(e):z(t,e)},j=function(t){var e=L(t)?t.dom.classList:B(t);0===e.length&&E(t,"class")},H=function(t,e){if(L(t)){var n=t.dom.classList;n.remove(e)}else V(t,e);j(t)},U=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return q(r.childNodes[0])},W=function(t,e){var n=e||document,r=n.createElement(t);return q(r)},G=function(t,e){var n=e||document,r=n.createTextNode(t);return q(r)},q=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},Y=function(t,e,n){return d.from(t.dom.elementFromPoint(e,n)).map(q)},X={fromHtml:U,fromTag:W,fromText:G,fromDom:q,fromPoint:Y},Z={"":"nbsp","":"shy"},$=function(t,e){var n="";return S(t,(function(t,e){n+=e})),new RegExp("["+n+"]",e?"g":"")},K=function(t){var e="";return S(t,(function(t){e&&(e+=","),e+="span.mce-"+t})),e},J=$(Z),Q=$(Z,!0),tt=K(Z),et="mce-nbsp",nt=function(t){return'<span data-mce-bogus="1" class="mce-'+Z[t]+'">'+t+"</span>"},rt=function(t){var e=T(t);return O(t)&&void 0!==e&&J.test(e)},ot=function(t,e){var n=[],r=t.dom,o=b(r.childNodes,X.fromDom);return x(o,(function(t){e(t)&&(n=n.concat([t])),n=n.concat(ot(t,e))})),n},it=function(t,e){while(t.parentNode){if(t.parentNode===e)return t;t=t.parentNode}},at=function(t){return t.replace(Q,nt)},ut=function(t){return"span"===t.nodeName.toLowerCase()&&t.classList.contains("mce-nbsp-wrap")},st=function(t,e){var n=ot(X.fromDom(e),rt);x(n,(function(e){var n=e.dom.parentNode;if(ut(n))F(X.fromDom(n),et);else{var r=at(t.dom.encode(T(e))),o=t.dom.create("div",null,r),i=void 0;while(i=o.lastChild)t.dom.insertAfter(i,e.dom);t.dom.remove(e.dom)}}))},ct=function(t,e){var n=t.dom.select(tt,e);x(n,(function(e){ut(e)?H(X.fromDom(e),et):t.dom.remove(e,!0)}))},lt=function(t){var e=t.getBody(),n=t.selection.getBookmark(),r=it(t.selection.getNode(),e);r=void 0!==r?r:e,ct(t,r),st(t,r),t.selection.moveToBookmark(n)},ft=function(t,e){r(t,e.get());var n=t.getBody();!0===e.get()?st(t,n):ct(t,n)},dt=function(t,e){e.set(!e.get());var n=t.selection.getBookmark();ft(t,e),t.selection.moveToBookmark(n)},ht=function(t,e){t.addCommand("mceVisualChars",(function(){dt(t,e)}))},pt=function(t){return t.getParam("visualchars_default_state",!1)},mt=function(t){return!1!==t.getParam("forced_root_block")},gt=function(t,e){t.on("init",(function(){ft(t,e)}))},vt=tinymce.util.Tools.resolve("tinymce.util.Delay"),yt=function(t,e){var n=vt.debounce((function(){lt(t)}),300);mt(t)&&t.on("keydown",(function(r){!0===e.get()&&(13===r.keyCode?lt(t):n())})),t.on("remove",n.stop)},bt=function(t,e){return function(n){n.setActive(e.get());var r=function(t){return n.setActive(t.state)};return t.on("VisualChars",r),function(){return t.off("VisualChars",r)}}},xt=function(t,e){t.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:function(){return t.execCommand("mceVisualChars")},onSetup:bt(t,e)}),t.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:function(){return t.execCommand("mceVisualChars")},onSetup:bt(t,e)})};function wt(){e.add("visualchars",(function(e){var r=t(pt(e));return ht(e,r),xt(e,r),yt(e,r),gt(e,r),n(r)}))}wt()})()},cfb0:function(t,e,n){n("43fc")},d169:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e="tinymce.plugins.emoticons",n=function(t){return t.getParam("emoticons_database","emojis","string")},r=function(t,e){var r=n(t);return t.getParam("emoticons_database_url",e+"/js/"+r+t.suffix+".js","string")},o=function(t){return t.getParam("emoticons_database_id",e,"string")},i=function(t){return t.getParam("emoticons_append",{},"object")},a=function(t){return t.getParam("emoticons_images_url","https://twemoji.maxcdn.com/v/13.0.1/72x72/","string")},u=function(){return u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},u.apply(this,arguments)},s=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},c=Object.prototype.hasOwnProperty,l=function(t,e){return e},f=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)c.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},d=f(l),h=function(){},p=function(t){return function(){return t}},m=p(!1),g=p(!0),v=function(){return y},y=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:m,isSome:m,isNone:g,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:p(null),getOrUndefined:p(void 0),or:n,orThunk:e,map:v,each:h,bind:v,exists:m,forall:g,filter:v,equals:t,equals_:t,toArray:function(){return[]},toString:p("none()")};return r}(),b=function(t){var e=p(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:g,isNone:m,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return b(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:y},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(m,(function(e){return n(t,e)}))}};return o},x=function(t){return null===t||void 0===t?y:b(t)},w={some:b,none:v,from:x},_=Object.keys,S=Object.hasOwnProperty,C=function(t,e){for(var n=_(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},k=function(t,e){return T(t,(function(t,n){return{k:n,v:e(t,n)}}))},T=function(t,e){var n={};return C(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},A=function(t,e){return S.call(t,e)},O=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},M=function(t,e){return-1!==t.indexOf(e)},D=function(t,e){return O(t,e,0)},I=tinymce.util.Tools.resolve("tinymce.Resource"),E=tinymce.util.Tools.resolve("tinymce.util.Delay"),R=tinymce.util.Tools.resolve("tinymce.util.Promise"),N="All",P={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},L=function(t,e){return A(t,e)?t[e]:e},B=function(t){var e=i(t);return k(e,(function(t){return u({keywords:[],category:"user"},t)}))},z=function(t,e,n){var r=s(w.none()),o=s(w.none()),i=a(t),u=function(t){return D(t.char,"<img")?t.char.replace(/src="([^"]+)"/,(function(t,e){return'src="'+i+e+'"'})):t.char},c=function(t){var e={},n=[];C(t,(function(t,r){var o={title:r,keywords:t.keywords,char:u(t),category:L(P,t.category)},i=void 0!==e[o.category]?e[o.category]:[];e[o.category]=i.concat([o]),n.push(o)})),r.set(w.some(e)),o.set(w.some(n))};t.on("init",(function(){I.load(n,e).then((function(e){var n=B(t);c(d(e,n))}),(function(t){console.log("Failed to load emoticons: "+t),r.set(w.some({})),o.set(w.some([]))}))}));var l=function(t){return t===N?f():r.get().bind((function(e){return w.from(e[t])})).getOr([])},f=function(){return o.get().getOr([])},h=function(){return[N].concat(_(r.get().getOr({})))},p=function(){return m()?R.resolve(!0):new R((function(t,n){var r=15,o=E.setInterval((function(){m()?(E.clearInterval(o),t(!0)):(r--,r<0&&(console.log("Could not load emojis from url: "+e),E.clearInterval(o),n(!1)))}),100)}))},m=function(){return r.get().isSome()&&o.get().isSome()};return{listCategories:h,hasLoaded:m,waitForLoad:p,listAll:f,listCategory:l}},V=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},F=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},j=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},H=function(t){t.on("PreInit",(function(){t.parser.addAttributeFilter("data-emoticon",(function(t){j(t,(function(t){t.attr("data-mce-resize","false"),t.attr("data-mce-placeholder","1")}))}))}))},U=function(t,e){return M(t.title.toLowerCase(),e)||V(t.keywords,(function(t){return M(t.toLowerCase(),e)}))},W=function(t,e,n){for(var r=[],o=e.toLowerCase(),i=n.fold((function(){return m}),(function(t){return function(e){return e>=t}})),a=0;a<t.length;a++)if((0===e.length||U(t[a],o))&&(r.push({value:t[a].char,text:t[a].title,icon:t[a].char}),i(r.length)))break;return r},G=function(t,e){t.ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:function(t,n){return e.waitForLoad().then((function(){var r=e.listAll();return W(r,t,w.some(n))}))},onAction:function(e,n,r){t.selection.setRng(n),t.insertContent(r),e.hide()}})},q=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){t.apply(null,r),n=null}),e)};return{cancel:r,throttle:o}},Y=function(t,e){t.insertContent(e)},X="pattern",Z=function(t,e){var n={pattern:"",results:W(e.listAll(),"",w.some(300))},r=s(N),o=function(t){var n=t.getData(),o=r.get(),i=e.listCategory(o),a=W(i,n[X],o===N?w.some(300):w.none());t.setData({results:a})},i=q((function(t){o(t)}),200),a={label:"Search",type:"input",name:X},u={type:"collection",name:"results"},c=function(){var o={type:"tabpanel",tabs:F(e.listCategories(),(function(t){return{title:t,name:t,items:[a,u]}}))};return{title:"Emoticons",size:"normal",body:o,initialData:n,onTabChange:function(t,e){r.set(e.newTabName),i.throttle(t)},onChange:i.throttle,onAction:function(e,n){"results"===n.name&&(Y(t,n.value),e.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},l=t.windowManager.open(c());l.focus(X),e.hasLoaded()||(l.block("Loading emoticons..."),e.waitForLoad().then((function(){l.redial(c()),i.throttle(l),l.focus(X),l.unblock()})).catch((function(t){l.redial({title:"Emoticons",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"<p>Could not load emoticons</p>"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),l.focus(X),l.unblock()})))},$=function(t,e){var n=function(){return Z(t,e)};t.ui.registry.addButton("emoticons",{tooltip:"Emoticons",icon:"emoji",onAction:n}),t.ui.registry.addMenuItem("emoticons",{text:"Emoticons...",icon:"emoji",onAction:n})};function K(){t.add("emoticons",(function(t,e){var n=r(t,e),i=o(t),a=z(t,n,i);$(t,a),G(t,a),H(t)}))}K()})()},d2dc:function(t,e,n){n("169f")},d4c3:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),n=function(t){t.addCommand("mcePrint",(function(){e.browser.isIE()?t.getDoc().execCommand("print",!1,null):t.getWin().print()}))},r=function(t){t.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:function(){return t.execCommand("mcePrint")}}),t.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:function(){return t.execCommand("mcePrint")}})};function o(){t.add("print",(function(t){n(t),r(t),t.addShortcut("Meta+P","","mcePrint")}))}o()})()},d675:function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o={class:"app-container"},i=Object(r["createVNode"])("br",null,null,-1);function a(t,e,n,a,u,s){var c=Object(r["resolveComponent"])("el-table-column"),l=Object(r["resolveComponent"])("el-table"),f=Object(r["resolveComponent"])("el-pagination"),d=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["withDirectives"])(Object(r["createVNode"])(l,{key:t.tableKey,data:t.list,border:"",fit:"","highlight-current-row":"",style:{width:"50%"},"default-sort":{prop:"userId",order:"descending"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{label:t.t("table.fileId"),prop:"userId",sortable:"",align:"center",width:"100"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.fileId),1)]})),_:1},8,["label"]),Object(r["createVNode"])(c,{label:t.t("table.hisFunction"),prop:"userName",align:"center",width:"200"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.hisFunction),1)]})),_:1},8,["label"]),Object(r["createVNode"])(c,{label:t.t("table.hisTime"),prop:"userEmail",align:"center",width:"297"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.hisTime),1)]})),_:1},8,["label"])]})),_:1},8,["data"]),[[d,t.listLoading]]),i,Object(r["withDirectives"])(Object(r["createVNode"])(f,{total:t.total,page:t.listQuery.page,"onUpdate:page":e[1]||(e[1]=function(e){return t.listQuery.page=e}),limit:t.listQuery.limit,"onUpdate:limit":e[2]||(e[2]=function(e){return t.listQuery.limit=e}),onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange,"current-page":1,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","page","limit","onSizeChange","onCurrentChange"]),[[r["vShow"],t.total>0]])])}n("4795");var u=n("5530"),s=(n("96cf"),n("1da1")),c=n("3fd4"),l=n("3a6a"),f=n("0613"),d=n("47e2"),h=n("6c02"),p=Object(r["defineComponent"])({components:{},setup:function(){Object(f["b"])();var t=Object(d["b"])(),e=t.t,n=Object(r["ref"])(c["a"]),o=Object(r["reactive"])({tableKey:0,list:Array(),total:0,listLoading:!0,listQuery:{page:1,limit:10,findName:void 0,findId:void 0},handleCurrentChange:function(t){o.getList(t)},handleSizeChange:function(t){o.getList(null,null,t)},getList:function(t,e,n,r){return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,u,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t&&(o.listQuery.page=t),n&&(o.listQuery.limit=n),console.log(e),o.listLoading=!0,i.next=6,Object(l["f"])(r,o.listQuery.page,o.listQuery.limit);case 6:s=i.sent,console.log(s),o.list=null!==(a=null===s||void 0===s?void 0:s.data.items)&&void 0!==a?a:[],o.total=null!==(u=null===s||void 0===s?void 0:s.data.total)&&void 0!==u?u:0,setTimeout((function(){o.listLoading=!1}),500);case 11:case"end":return i.stop()}}),i)})))()}});return Object(r["onMounted"])(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Object(h["c"])(),n=e.params.user_id,o.getList(null,null,20,n);case 3:case"end":return t.stop()}}),t)})))),Object(u["a"])(Object(u["a"])({t:e},Object(r["toRefs"])(o)),{},{dataForm:n})}});p.render=a;e["default"]=p},d81d:function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").map,i=n("1dde"),a=n("ae40"),u=i("map"),s=a("map");r({target:"Array",proto:!0,forced:!u||!s},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},d9c1:function(t,e,n){},dbbc:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){t.addCommand("InsertHorizontalRule",(function(){t.execCommand("mceInsertContent",!1,"<hr />")}))},n=function(t){t.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}}),t.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}})};function r(){t.add("hr",(function(t){e(t),n(t)}))}r()})()},dcb7:function(t,e,n){n("e704")},e1e7:function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o={class:"app-container"},i={class:"filter-container"},a={style:{height:"150px","overflow-y":"auto"}};function u(t,e,n,u,s,c){var l=Object(r["resolveComponent"])("el-button"),f=Object(r["resolveComponent"])("el-table-column"),d=Object(r["resolveComponent"])("el-table"),h=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])("div",i,[Object(r["createVNode"])(l,{class:"filter-item",style:{"margin-left":"10px"},type:"primary",icon:"el-icon-edit",onClick:t.handleCreate},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.add")),1)]})),_:1},8,["onClick"])]),Object(r["withDirectives"])(Object(r["createVNode"])(d,{key:t.tableKey,data:t.list,border:"",fit:"","highlight-current-row":"",style:{width:"100%"},"default-sort":{prop:"userId",order:"descending"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{label:t.t("table.introId"),sortable:"custom",align:"center",width:"100",fixed:""},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.introId),1)]})),_:1},8,["label"]),Object(r["createVNode"])(f,{label:t.t("table.introTitle"),align:"center",width:"100",fixed:""},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.introTitle),1)]})),_:1},8,["label"]),Object(r["createVNode"])(f,{label:t.t("table.introContent"),align:"center",width:"400"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("div",a,Object(r["toDisplayString"])(e.introContent),1)]})),_:1},8,["label"]),Object(r["createVNode"])(f,{label:t.t("table.introTime"),align:"center",width:"150"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.introTime),1)]})),_:1},8,["label"]),Object(r["createVNode"])(f,{label:t.t("table.introOrganPath"),align:"center",width:"245"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.introOrganPath),1)]})),_:1},8,["label"]),Object(r["createVNode"])(f,{label:t.t("table.introWholePath"),align:"center",width:"245"},{default:Object(r["withCtx"])((function(t){var e=t.row;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.introWholePath),1)]})),_:1},8,["label"]),Object(r["createVNode"])(f,{label:t.t("table.actions"),align:"center",width:"200",fixed:"right"},{default:Object(r["withCtx"])((function(e){var n=e.row,o=e.$index;return[Object(r["createVNode"])(l,{type:"primary",size:"mini",onClick:function(e){return t.handleUpdate(n)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.edit")),1)]})),_:2},1032,["onClick"]),"deleted"!==n.status?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,size:"mini",type:"danger",onClick:function(e){return t.handleDelete(n,o)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.t("table.delete")),1)]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["label"])]})),_:1},8,["data"]),[[h,t.listLoading]])])}n("4795");var s=n("5530"),c=n("53ca"),l=(n("96cf"),n("1da1")),f=n("3fd4"),d=n("47e2"),h=n("b0d2"),p=n("afbc"),m=Object(r["defineComponent"])({setup:function(){var t=Object(d["b"])(),e=t.t,n=Object(r["ref"])(f["a"]),o=Object(r["reactive"])({tableKey:0,list:Array(),total:0,listLoading:!0,listQuery:{page:1,limit:10},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},handleCurrentChange:function(t){o.getList(t)},handleSizeChange:function(t){o.getList(null,null,t)},getList:function(t,e,n){return Object(l["a"])(regeneratorRuntime.mark((function r(){var i,a,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t&&(o.listQuery.page=t),n&&(o.listQuery.limit=n),console.log(e),o.listLoading=!0,r.next=6,Object(h["b"])();case 6:u=r.sent,o.list=null!==(i=null===u||void 0===u?void 0:u.data.items)&&void 0!==i?i:[],o.total=null!==(a=null===u||void 0===u?void 0:u.data.total)&&void 0!==a?a:0,setTimeout((function(){o.listLoading=!1}),500);case 10:case"end":return r.stop()}}),r)})))()},handleFilter:function(){o.listQuery.page=1,o.getList()},handleCreate:function(){p["c"].push({path:"/medicalIntroManage/tinymce",query:{introId:null,introTitle:null,introContent:null,handle:"create"}})},handleUpdate:function(t){p["c"].push({path:"/medicalIntroManage/tinymce",query:{introId:t.introId,introTitle:t.introTitle,introContent:t.introContent,handle:"edit"}})},handleDelete:function(t,e){Object(h["a"])(t.introId).then((function(t){"200"===t.code?o.getList(o.listQuery.page,null,o.listQuery.limit).then((function(){f["c"].success({message:"",type:"success",duration:2e3})})):f["c"].error({message:"",type:"error",duration:2e3})}))}});return Object(r["onMounted"])((function(){console.log(Object(c["a"])(f["a"])),o.getList(null,null,20)})),Object(s["a"])(Object(s["a"])({t:e},Object(r["toRefs"])(o)),{},{dataForm:n})}});m.render=u;var g=m,v=Object(r["defineComponent"])({expose:[],setup:function(t){return{ComplexTable:g}}});v.__scopeId="data-v-e8b9c9ea";e["default"]=v},e2d6:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(t,n){var r,o=t.dom,i=t.selection.getSelectedBlocks();i.length&&(r=o.getAttrib(i[0],"dir"),e.each(i,(function(t){o.getParent(t.parentNode,'*[dir="'+n+'"]',o.getRoot())||o.setAttrib(t,"dir",r!==n?n:null)})),t.nodeChanged())},r=function(t){t.addCommand("mceDirectionLTR",(function(){n(t,"ltr")})),t.addCommand("mceDirectionRTL",(function(){n(t,"rtl")}))},o=function(){},i=function(t,e){return function(n){return t(e(n))}},a=function(t){return function(){return t}},u=a(!1),s=a(!0),c=function(){return l},l=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:u,isSome:u,isNone:s,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:n,orThunk:e,map:c,each:o,bind:c,exists:u,forall:s,filter:c,equals:t,equals_:t,toArray:function(){return[]},toString:a("none()")};return r}(),f=function(t){var e=a(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:s,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return f(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:l},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,(function(e){return n(t,e)}))}};return o},d=function(t){return null===t||void 0===t?l:f(t)},h={some:f,none:c,from:d},p=function(t){return function(e){return typeof e===t}},m=p("function"),g=function(t){return void 0!==t.style&&m(t.style.getPropertyValue)},v=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return x(r.childNodes[0])},y=function(t,e){var n=e||document,r=n.createElement(t);return x(r)},b=function(t,e){var n=e||document,r=n.createTextNode(t);return x(r)},x=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},w=function(t,e,n){return h.from(t.dom.elementFromPoint(e,n)).map(x)},_={fromHtml:v,fromTag:y,fromText:b,fromDom:x,fromPoint:w},S=("undefined"!==typeof window?window:Function("return this;")(),9),C=11,k=3,T=function(t){return t.dom.nodeType},A=function(t){return function(e){return T(e)===t}},O=A(k),M=A(S),D=A(C),I=function(t){return _.fromDom(t.dom.ownerDocument)},E=function(t){return M(t)?t:I(t)},R=function(t){return D(t)},N=m(Element.prototype.attachShadow)&&m(Node.prototype.getRootNode),P=N?function(t){return _.fromDom(t.dom.getRootNode())}:E,L=function(t){var e=P(t);return R(e)?h.some(e):h.none()},B=function(t){return _.fromDom(t.dom.host)},z=function(t){var e=O(t)?t.dom.parentNode:t.dom;if(void 0===e||null===e||null===e.ownerDocument)return!1;var n=e.ownerDocument;return L(_.fromDom(e)).fold((function(){return n.body.contains(e)}),i(z,B))},V=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||z(t)?o:F(n,e)},F=function(t,e){return g(t)?t.style.getPropertyValue(e):""},j=function(t){return"rtl"===V(t,"direction")?"rtl":"ltr"},H=function(t,e){return function(n){var r=function(t){var r=_.fromDom(t.element);n.setActive(j(r)===e)};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}},U=function(t){t.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return t.execCommand("mceDirectionLTR")},onSetup:H(t,"ltr")}),t.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return t.execCommand("mceDirectionRTL")},onSetup:H(t,"rtl")})};function W(){t.add("directionality",(function(t){r(t),U(t)}))}W()})()},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e455:function(t,e,n){n("6b68")},e467:function(t,e,n){"use strict";(function(t){var r=n("c532"),o=n("7917"),i=n("4581");function a(t){return r["a"].isPlainObject(t)||r["a"].isArray(t)}function u(t){return r["a"].endsWith(t,"[]")?t.slice(0,-2):t}function s(t,e,n){return t?t.concat(e).map((function(t,e){return t=u(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}function c(t){return r["a"].isArray(t)&&!t.some(a)}const l=r["a"].toFlatObject(r["a"],{},null,(function(t){return/^is[A-Z]/.test(t)}));function f(e,n,f){if(!r["a"].isObject(e))throw new TypeError("target must be an object");n=n||new(i["a"]||FormData),f=r["a"].toFlatObject(f,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!r["a"].isUndefined(e[t])}));const d=f.metaTokens,h=f.visitor||b,p=f.dots,m=f.indexes,g=f.Blob||"undefined"!==typeof Blob&&Blob,v=g&&r["a"].isSpecCompliantForm(n);if(!r["a"].isFunction(h))throw new TypeError("visitor must be a function");function y(e){if(null===e)return"";if(r["a"].isDate(e))return e.toISOString();if(!v&&r["a"].isBlob(e))throw new o["a"]("Blob is not supported. Use a Buffer instead.");return r["a"].isArrayBuffer(e)||r["a"].isTypedArray(e)?v&&"function"===typeof Blob?new Blob([e]):t.from(e):e}function b(t,e,o){let i=t;if(t&&!o&&"object"===typeof t)if(r["a"].endsWith(e,"{}"))e=d?e:e.slice(0,-2),t=JSON.stringify(t);else if(r["a"].isArray(t)&&c(t)||(r["a"].isFileList(t)||r["a"].endsWith(e,"[]"))&&(i=r["a"].toArray(t)))return e=u(e),i.forEach((function(t,o){!r["a"].isUndefined(t)&&null!==t&&n.append(!0===m?s([e],o,p):null===m?e:e+"[]",y(t))})),!1;return!!a(t)||(n.append(s(o,e,p),y(t)),!1)}const x=[],w=Object.assign(l,{defaultVisitor:b,convertValue:y,isVisitable:a});function _(t,e){if(!r["a"].isUndefined(t)){if(-1!==x.indexOf(t))throw Error("Circular reference detected in "+e.join("."));x.push(t),r["a"].forEach(t,(function(t,o){const i=!(r["a"].isUndefined(t)||null===t)&&h.call(n,t,r["a"].isString(o)?o.trim():o,e,w);!0===i&&_(t,e?e.concat(o):[o])})),x.pop()}}if(!r["a"].isObject(e))throw new TypeError("data must be an object");return _(e),n}e["a"]=f}).call(this,n("b639").Buffer)},e562:function(t,e,n){(function(e){(function(){"use strict";var n=function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},r=function(t){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(t)},o=function(t,e){var n=Array.prototype.slice.call(t);return n.sort(e)},i=function(t,e){return a((function(n,r){return t.eq(e(n),e(r))}))},a=function(t){return{eq:t}},u=a((function(t,e){return t===e})),s=u,c=function(t){return a((function(e,n){if(e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t.eq(e[o],n[o]))return!1;return!0}))},l=function(t,e){return i(c(t),(function(t){return o(t,e)}))},f=function(t){return a((function(e,n){var r=Object.keys(e),o=Object.keys(n);if(!l(s).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var u=r[a];if(!t.eq(e[u],n[u]))return!1}return!0}))},d=a((function(t,e){if(t===e)return!0;var o=n(t),i=n(e);return o===i&&(r(o)?t===e:"array"===o?c(d).eq(t,e):"object"===o&&f(d).eq(t,e))})),h=function(){},p=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},m=function(t,e){return function(n){return t(e(n))}},g=function(t){return function(){return t}},v=function(t){return t};function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var b=function(t){return function(e){return!t(e)}},x=function(t){return function(){throw new Error(t)}},w=function(t){t()},_=g(!1),S=g(!0),C=function(){return k},k=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:_,isSome:_,isNone:S,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:n,orThunk:e,map:C,each:h,bind:C,exists:_,forall:S,filter:C,equals:t,equals_:t,toArray:function(){return[]},toString:g("none()")};return r}(),T=function(t){var e=g(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:S,isNone:_,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return T(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:k},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(_,(function(e){return n(t,e)}))}};return o},A=function(t){return null===t||void 0===t?k:T(t)},O={some:T,none:C,from:A},M=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},D=function(t){return function(e){return M(e)===t}},I=function(t){return function(e){return typeof e===t}},E=function(t){return function(e){return t===e}},R=D("string"),N=D("object"),P=D("array"),L=E(null),B=I("boolean"),z=E(void 0),V=function(t){return null===t||void 0===t},F=function(t){return!V(t)},j=I("function"),H=I("number"),U=Array.prototype.slice,W=Array.prototype.indexOf,G=Array.prototype.push,q=function(t,e){return W.call(t,e)},Y=function(t,e){var n=q(t,e);return-1===n?O.none():O.some(n)},X=function(t,e){return q(t,e)>-1},Z=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},$=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},K=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},J=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},Q=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],u=e(a,o)?n:r;u.push(a)}return{pass:n,fail:r}},tt=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},et=function(t,e,n){return J(t,(function(t){n=e(n,t)})),n},nt=function(t,e,n){return K(t,(function(t){n=e(n,t)})),n},rt=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return O.some(i);if(n(i,r))break}return O.none()},ot=function(t,e){return rt(t,e,_)},it=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return O.some(n)}return O.none()},at=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!P(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);G.apply(e,t[n])}return e},ut=function(t,e){return at($(t,e))},st=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},ct=function(t){var e=U.call(t,0);return e.reverse(),e},lt=function(t,e){return tt(t,(function(t){return!X(e,t)}))},ft=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},dt=function(t,e){var n=U.call(t,0);return n.sort(e),n},ht=function(t,e){return e>=0&&e<t.length?O.some(t[e]):O.none()},pt=function(t){return ht(t,0)},mt=function(t){return ht(t,t.length-1)},gt=j(Array.from)?Array.from:function(t){return U.call(t)},vt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return O.none()},yt=Object.keys,bt=Object.hasOwnProperty,xt=function(t,e){for(var n=yt(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},wt=function(t,e){return _t(t,(function(t,n){return{k:n,v:e(t,n)}}))},_t=function(t,e){var n={};return xt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},St=function(t){return function(e,n){t[n]=e}},Ct=function(t,e,n,r){var o={};return xt(t,(function(t,o){(e(t,o)?n:r)(t,o)})),o},kt=function(t,e){var n={},r={};return Ct(t,e,St(n),St(r)),{t:n,f:r}},Tt=function(t,e){var n={};return Ct(t,e,St(n),h),n},At=function(t,e){var n=[];return xt(t,(function(t,r){n.push(e(t,r))})),n},Ot=function(t){return At(t,(function(t){return t}))},Mt=function(t,e){return Dt(t,e)?O.from(t[e]):O.none()},Dt=function(t,e){return bt.call(t,e)},It=function(t,e){return Dt(t,e)&&void 0!==t[e]&&null!==t[e]},Et=function(t,e,n){return void 0===n&&(n=d),f(n).eq(t,e)},Rt=Array.isArray,Nt=function(t){if(Rt(t))return t;for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n];return e},Pt=function(t,e,n){var r,o;if(!t)return!1;if(n=n||t,void 0!==t.length){for(r=0,o=t.length;r<o;r++)if(!1===e.call(n,t[r],r,t))return!1}else for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))return!1;return!0},Lt=function(t,e){var n=[];return Pt(t,(function(r,o){n.push(e(r,o,t))})),n},Bt=function(t,e){var n=[];return Pt(t,(function(r,o){e&&!e(r,o,t)||n.push(r)})),n},zt=function(t,e){if(t)for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},Vt=function(t,e,n,r){for(var o=z(n)?t[0]:n,i=0;i<t.length;i++)o=e.call(r,o,t[i],i);return o},Ft=function(t,e,n){var r,o;for(r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return r;return-1},jt=function(t){return t[t.length-1]},Ht=function(){return Ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ht.apply(this,arguments)};function Ut(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function Wt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var Gt=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},qt=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:g(o),isiPhone:g(i),isTablet:g(s),isPhone:g(c),isTouch:g(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:g(l),isDesktop:g(f)}},Yt=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},Xt=function(t,e){var n=Yt(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Kt(r(1),r(2))},Zt=function(t,e){var n=String(e).toLowerCase();return 0===t.length?$t():Xt(t,n)},$t=function(){return Kt(0,0)},Kt=function(t,e){return{major:t,minor:e}},Jt={nu:Kt,detect:Zt,unknown:$t},Qt=function(t,e){var n=String(e).toLowerCase();return ot(t,(function(t){return t.search(n)}))},te=function(t,e){return Qt(t,e).map((function(t){var n=Jt.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},ee=function(t,e){return Qt(t,e).map((function(t){var n=Jt.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},ne={detectBrowser:te,detectOs:ee},re=function(t,e){return t.substring(e)},oe=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},ie=function(t,e){return ue(t,e)?re(t,e.length):t},ae=function(t,e){return-1!==t.indexOf(e)},ue=function(t,e){return oe(t,e,0)},se=function(t){return function(e){return e.replace(t,"")}},ce=se(/^\s+|\s+$/g),le=se(/^\s+/g),fe=se(/\s+$/g),de=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,he=function(t){return function(e){return ae(e,t)}},pe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ae(t,"edge/")&&ae(t,"chrome")&&ae(t,"safari")&&ae(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,de],search:function(t){return ae(t,"chrome")&&!ae(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ae(t,"msie")||ae(t,"trident")}},{name:"Opera",versionRegexes:[de,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:he("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:he("firefox")},{name:"Safari",versionRegexes:[de,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ae(t,"safari")||ae(t,"mobile/"))&&ae(t,"applewebkit")}}],me=[{name:"Windows",search:he("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ae(t,"iphone")||ae(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:he("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:he("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:he("linux"),versionRegexes:[]},{name:"Solaris",search:he("sunos"),versionRegexes:[]},{name:"FreeBSD",search:he("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:he("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ge={browsers:g(pe),oses:g(me)},ve="Edge",ye="Chrome",be="IE",xe="Opera",we="Firefox",_e="Safari",Se=function(){return Ce({current:void 0,version:Jt.unknown()})},Ce=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(ve),isChrome:r(ye),isIE:r(be),isOpera:r(xe),isFirefox:r(we),isSafari:r(_e)}},ke={unknown:Se,nu:Ce,edge:g(ve),chrome:g(ye),ie:g(be),opera:g(xe),firefox:g(we),safari:g(_e)},Te="Windows",Ae="iOS",Oe="Android",Me="Linux",De="OSX",Ie="Solaris",Ee="FreeBSD",Re="ChromeOS",Ne=function(){return Pe({current:void 0,version:Jt.unknown()})},Pe=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Te),isiOS:r(Ae),isAndroid:r(Oe),isOSX:r(De),isLinux:r(Me),isSolaris:r(Ie),isFreeBSD:r(Ee),isChromeOS:r(Re)}},Le={unknown:Ne,nu:Pe,windows:g(Te),ios:g(Ae),android:g(Oe),linux:g(Me),osx:g(De),solaris:g(Ie),freebsd:g(Ee),chromeos:g(Re)},Be=function(t,e){var n=ge.browsers(),r=ge.oses(),o=ne.detectBrowser(n,t).fold(ke.unknown,ke.nu),i=ne.detectOs(r,t).fold(Le.unknown,Le.nu),a=qt(i,o,t,e);return{browser:o,os:i,deviceType:a}},ze={detect:Be},Ve=function(t){return window.matchMedia(t).matches},Fe=Gt((function(){return ze.detect(navigator.userAgent,Ve)})),je=function(){return Fe()},He=navigator.userAgent,Ue=je(),We=Ue.browser,Ge=Ue.os,qe=Ue.deviceType,Ye=/WebKit/.test(He)&&!We.isEdge(),Xe="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Ze=-1!==He.indexOf("Windows Phone"),$e={opera:We.isOpera(),webkit:Ye,ie:!(!We.isIE()&&!We.isEdge())&&We.version.major,gecko:We.isFirefox(),mac:Ge.isOSX()||Ge.isiOS(),iOS:qe.isiPad()||qe.isiPhone(),android:Ge.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:We.isIE()?document.documentMode||7:10,fileApi:Xe,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!We.isIE(),desktop:qe.isDesktop(),windowsPhone:Ze,browser:{current:We.current,version:We.version,isChrome:We.isChrome,isEdge:We.isEdge,isFirefox:We.isFirefox,isIE:We.isIE,isOpera:We.isOpera,isSafari:We.isSafari},os:{current:Ge.current,version:Ge.version,isAndroid:Ge.isAndroid,isChromeOS:Ge.isChromeOS,isFreeBSD:Ge.isFreeBSD,isiOS:Ge.isiOS,isLinux:Ge.isLinux,isOSX:Ge.isOSX,isSolaris:Ge.isSolaris,isWindows:Ge.isWindows},deviceType:{isDesktop:qe.isDesktop,isiPad:qe.isiPad,isiPhone:qe.isiPhone,isPhone:qe.isPhone,isTablet:qe.isTablet,isTouch:qe.isTouch,isWebView:qe.isWebView}},Ke=/^\s*|\s*$/g,Je=function(t){return null===t||void 0===t?"":(""+t).replace(Ke,"")},Qe=function(t,e){return e?!("array"!==e||!Rt(t))||typeof t===e:void 0!==t},tn=function(t,e,n){var r;t=t||[],e=e||",","string"===typeof t&&(t=t.split(e)),n=n||{},r=t.length;while(r--)n[t[r]]={};return n},en=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},nn=function(t,e,n){var r,o,i,a=this,u=0;t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t);var s=t[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(t[3].replace(/\.\w+$/,""),n);if(!c[s]){if("static"===t[2])return c[s]=e,void(this.onCreate&&this.onCreate(t[2],t[3],c[s]));e[s]||(e[s]=function(){},u=1),c[s]=e[s],a.extend(c[s].prototype,e),t[5]&&(r=a.resolve(t[5]).prototype,o=t[5].match(/\.(\w+)$/i)[1],i=c[s],c[s]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[s].prototype[s]=c[s],a.each(r,(function(t,e){c[s].prototype[e]=r[e]})),a.each(e,(function(t,e){r[e]?c[s].prototype[e]=function(){return this.parent=r[e],t.apply(this,arguments)}:e!==s&&(c[s].prototype[e]=t)}))),a.each(e.static,(function(t,e){c[s][e]=t}))}},rn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];void 0!==a&&(t[i]=a)}}return t},on=function(t,e,n,r){r=r||this,t&&(n&&(t=t[n]),Pt(t,(function(t,o){if(!1===e.call(r,t,o,n))return!1;on(t,e,n,r)})))},an=function(t,e){var n,r;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)r=t[n],e[r]||(e[r]={}),e=e[r];return e},un=function(t,e){var n,r;for(e=e||window,t=t.split("."),n=0,r=t.length;n<r;n++)if(e=e[t[n]],!e)break;return e},sn=function(t,e){return!t||Qe(t,"array")?t:Lt(t.split(e||","),Je)},cn=function(t){var e=$e.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t},ln={trim:Je,isArray:Rt,is:Qe,toArray:Nt,makeMap:tn,each:Pt,map:Lt,grep:Bt,inArray:zt,hasOwn:en,extend:rn,create:nn,walk:on,createNS:an,resolve:un,explode:sn,_addCacheSuffix:cn},fn=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return pn(r.childNodes[0])},dn=function(t,e){var n=e||document,r=n.createElement(t);return pn(r)},hn=function(t,e){var n=e||document,r=n.createTextNode(t);return pn(r)},pn=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},mn=function(t,e,n){return O.from(t.dom.elementFromPoint(e,n)).map(pn)},gn={fromHtml:fn,fromTag:dn,fromText:hn,fromDom:pn,fromPoint:mn},vn=function(t,e){var n=[],r=function(t){return n.push(t),e(t)},o=e(t);do{o=o.bind(r)}while(o.isSome());return n},yn=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},bn=function(t,e){return yn(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},xn=8,wn=9,_n=11,Sn=1,Cn=3,kn=function(t,e){var n=t.dom;if(n.nodeType!==Sn)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Tn=function(t){return t.nodeType!==Sn&&t.nodeType!==wn&&t.nodeType!==_n||0===t.childElementCount},An=function(t,e){var n=void 0===e?document:e.dom;return Tn(n)?[]:$(n.querySelectorAll(t),gn.fromDom)},On=function(t,e){var n=void 0===e?document:e.dom;return Tn(n)?O.none():O.from(n.querySelector(t)).map(gn.fromDom)},Mn=function(t,e){return t.dom===e.dom},Dn=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},In=function(t,e){return bn(t.dom,e.dom)},En=function(t,e){return je().browser.isIE()?In(t,e):Dn(t,e)},Rn=("undefined"!==typeof window?window:Function("return this;")(),function(t){var e=t.dom.nodeName;return e.toLowerCase()}),Nn=function(t){return t.dom.nodeType},Pn=function(t){return function(e){return Nn(e)===t}},Ln=function(t){return Nn(t)===xn||"#comment"===Rn(t)},Bn=Pn(Sn),zn=Pn(Cn),Vn=Pn(wn),Fn=Pn(_n),jn=function(t){return gn.fromDom(t.dom.ownerDocument)},Hn=function(t){return Vn(t)?t:jn(t)},Un=function(t){return gn.fromDom(Hn(t).dom.documentElement)},Wn=function(t){return gn.fromDom(Hn(t).dom.defaultView)},Gn=function(t){return O.from(t.dom.parentNode).map(gn.fromDom)},qn=function(t,e){var n=j(e)?e:_,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=gn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Yn=function(t){var e=function(e){return tt(e,(function(e){return!Mn(t,e)}))};return Gn(t).map(Jn).map(e).getOr([])},Xn=function(t){return O.from(t.dom.previousSibling).map(gn.fromDom)},Zn=function(t){return O.from(t.dom.nextSibling).map(gn.fromDom)},$n=function(t){return ct(vn(t,Xn))},Kn=function(t){return vn(t,Zn)},Jn=function(t){return $(t.dom.childNodes,gn.fromDom)},Qn=function(t,e){var n=t.dom.childNodes;return O.from(n[e]).map(gn.fromDom)},tr=function(t){return Qn(t,0)},er=function(t){return Qn(t,t.dom.childNodes.length-1)},nr=function(t){return t.dom.childNodes.length},rr=function(t){var e=t.dom.head;if(null===e||void 0===e)throw new Error("Head is not available yet");return gn.fromDom(e)},or=function(t){return Fn(t)},ir=j(Element.prototype.attachShadow)&&j(Node.prototype.getRootNode),ar=g(ir),ur=ir?function(t){return gn.fromDom(t.dom.getRootNode())}:Hn,sr=function(t){return or(t)?t:rr(Hn(t))},cr=function(t){var e=ur(t);return or(e)?O.some(e):O.none()},lr=function(t){return gn.fromDom(t.dom.host)},fr=function(t){if(ar()&&F(t.target)){var e=gn.fromDom(t.target);if(Bn(e)&&dr(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return pt(n)}}return O.from(t.target)},dr=function(t){return F(t.dom.shadowRoot)},hr=function(t,e){var n=Gn(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},pr=function(t,e){var n=Zn(t);n.fold((function(){var n=Gn(t);n.each((function(t){gr(t,e)}))}),(function(t){hr(t,e)}))},mr=function(t,e){var n=tr(t);n.fold((function(){gr(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},gr=function(t,e){t.dom.appendChild(e.dom)},vr=function(t,e){hr(t,e),gr(e,t)},yr=function(t,e){K(e,(function(e){hr(t,e)}))},br=function(t,e){K(e,(function(e){gr(t,e)}))},xr=function(t){t.dom.textContent="",K(Jn(t),(function(t){wr(t)}))},wr=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},_r=function(t){var e=Jn(t);e.length>0&&yr(t,e),wr(t)},Sr=function(t){var e=zn(t)?t.dom.parentNode:t.dom;if(void 0===e||null===e||null===e.ownerDocument)return!1;var n=e.ownerDocument;return cr(gn.fromDom(e)).fold((function(){return n.body.contains(e)}),m(Sr,lr))},Cr=function(t,e){var n=function(n,r){return Cr(t+n,e+r)};return{left:t,top:e,translate:n}},kr=Cr,Tr=function(t){var e=t.getBoundingClientRect();return kr(e.left,e.top)},Ar=function(t,e){return void 0!==t?t:void 0!==e?e:0},Or=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return kr(n.offsetLeft,n.offsetTop);var i=Ar(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=Ar(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),u=Ar(o.clientTop,n.clientTop),s=Ar(o.clientLeft,n.clientLeft);return Mr(t).translate(a-s,i-u)},Mr=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?kr(r.offsetLeft,r.offsetTop):Sr(t)?Tr(e):kr(0,0)},Dr=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return kr(n,r)},Ir=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollTo(t,e)},Er=function(t,e){var n=je().browser.isSafari();n&&j(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)},Rr=function(t){var e=void 0===t?window:t;return O.from(e["visualViewport"])},Nr=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},Pr=function(t){var e=void 0===t?window:t,n=e.document,r=Dr(gn.fromDom(n));return Rr(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return Nr(r.left,r.top,n,o)}),(function(t){return Nr(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},Lr=function(t){return function(e){return!!e&&e.nodeType===t}},Br=function(t){return!!t&&!Object.getPrototypeOf(t)},zr=Lr(1),Vr=function(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return X(e,n)}return!1}},Fr=function(t,e){var n=e.toLowerCase().split(" ");return function(e){var r,o;if(zr(e))for(r=0;r<n.length;r++){var i=e.ownerDocument.defaultView.getComputedStyle(e,null);if(o=i?i.getPropertyValue(t):null,o===n[r])return!0}return!1}},jr=function(t){return function(e){return zr(e)&&e.hasAttribute(t)}},Hr=function(t,e){return function(n){return zr(n)&&n.getAttribute(t)===e}},Ur=function(t){return zr(t)&&t.hasAttribute("data-mce-bogus")},Wr=function(t){return zr(t)&&"all"===t.getAttribute("data-mce-bogus")},Gr=function(t){return zr(t)&&"TABLE"===t.tagName},qr=function(t){return function(e){if(zr(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Yr=Vr(["textarea","input"]),Xr=Lr(3),Zr=Lr(8),$r=Lr(9),Kr=Lr(11),Jr=Vr(["br"]),Qr=Vr(["img"]),to=qr("true"),eo=qr("false"),no=Vr(["td","th"]),ro=Vr(["video","audio","object","embed"]),oo=function(t){return void 0!==t.style&&j(t.style.getPropertyValue)},io=function(t,e,n){if(!(R(n)||B(n)||H(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},ao=function(t,e,n){io(t.dom,e,n)},uo=function(t,e){var n=t.dom;xt(e,(function(t,e){io(n,e,t)}))},so=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},co=function(t,e){return O.from(so(t,e))},lo=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},fo=function(t,e){t.dom.removeAttribute(e)},ho=function(t){return nt(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},po=function(t,e,n){if(!R(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);oo(t)&&t.style.setProperty(e,n)},mo=function(t,e){var n=t.dom;xt(e,(function(t,e){po(n,e,t)}))},go=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||Sr(t)?o:vo(n,e)},vo=function(t,e){return oo(t)?t.style.getPropertyValue(e):""},yo=function(t,e){var n=t.dom,r=vo(n,e);return O.from(r).filter((function(t){return t.length>0}))},bo=function(t){var e={},n=t.dom;if(oo(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},xo=function(t){return t.dom.offsetWidth},wo=je().browser,_o=function(t){return ot(t,Bn)},So=function(t){return wo.isFirefox()&&"table"===Rn(t)?_o(Jn(t)).filter((function(t){return"caption"===Rn(t)})).bind((function(t){return _o(Kn(t)).map((function(e){var n=e.dom.offsetTop,r=t.dom.offsetTop,o=t.dom.offsetHeight;return n<=r?-o:0}))})).getOr(0):0},Co=function(t,e){return t.children&&X(t.children,e)},ko=function(t,e,n){var r,o,i=0,a=0,u=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===go(gn.fromDom(t),"position"))return o=e.getBoundingClientRect(),i=o.left+(u.documentElement.scrollLeft||t.scrollLeft)-u.documentElement.clientLeft,a=o.top+(u.documentElement.scrollTop||t.scrollTop)-u.documentElement.clientTop,{x:i,y:a};r=e;while(r&&r!==n&&r.nodeType&&!Co(r,n))i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;r=e.parentNode;while(r&&r!==n&&r.nodeType&&!Co(r,n))i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=So(gn.fromDom(e))}return{x:i,y:a}},To={},Ao={exports:To};(function(t,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o();else if("function"===typeof t&&t.amd)t([],o);else{var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:this,i.EphoxContactWrapper=o()}})((function(){return function(){function t(e,n,r){function i(u,s){if(!n[u]){if(!e[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};e[u][0].call(f.exports,(function(t){var n=e[u][1][t];return i(n||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return t}()({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function c(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"===typeof clearTimeout?clearTimeout:u}catch(t){o=u}})();var l,f=[],d=!1,h=-1;function p(){d&&l&&(d=!1,l.length?f=l.concat(f):h=-1,f.length&&m())}function m(){if(!d){var t=s(p);d=!0;var e=f.length;while(e){l=f,f=[];while(++h<e)l&&l[h].run();h=-1,e=f.length}l=null,d=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new g(t,e)),1!==f.length||d||s(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){(function(n){var r=setTimeout;function o(){}function i(t,e){return function(){t.apply(e,arguments)}}function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function u(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void c(e.promise,o)}s(e.promise,r)}else(1===t._state?s:c)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"===typeof n)return void d(i(n,e),t)}t._state=1,t._value=e,l(t)}catch(r){c(t,r)}}function c(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&a._immediateFn((function(){t._handled||a._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(r){if(n)return;n=!0,c(e,r)}}a.prototype["catch"]=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(o);return u(this,new f(t,e,n)),n},a.all=function(t){var e=Array.prototype.slice.call(t);return new a((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,(function(t){o(i,t)}),n)}e[i]=a,0===--r&&t(e)}catch(s){n(s)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},a.resolve=function(t){return t&&"object"===typeof t&&t.constructor===a?t:new a((function(e){e(t)}))},a.reject=function(t){return new a((function(e,n){n(t)}))},a.race=function(t){return new a((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},a._immediateFn="function"===typeof t?function(e){t(e)}:function(t){r(t,0)},a._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},a._setImmediateFn=function(t){a._immediateFn=t},a._setUnhandledRejectionFn=function(t){a._unhandledRejectionFn=t},"undefined"!==typeof e&&e.exports?e.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"===typeof e?e:function(t){var e=s++,r=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"===typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o=function(){return"undefined"!==typeof window?window:Function("return this;")()}();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,To,Ao,void 0);var Oo=Ao.exports.boltExport,Mo=function(t){var e=O.none(),n=[],r=function(t){return Mo((function(e){o((function(n){e(t(n))}))}))},o=function(t){a()?s(t):n.push(t)},i=function(t){a()||(e=O.some(t),u(n),n=[])},a=function(){return e.isSome()},u=function(t){K(t,s)},s=function(t){e.each((function(e){setTimeout((function(){t(e)}),0)}))};return t(i),{get:o,map:r,isReady:a}},Do=function(t){return Mo((function(e){e(t)}))},Io={nu:Mo,pure:Do},Eo=function(t){setTimeout((function(){throw t}),0)},Ro=function(t){var e=function(e){t().then(e,Eo)},n=function(e){return Ro((function(){return t().then(e)}))},r=function(e){return Ro((function(){return t().then((function(t){return e(t).toPromise()}))}))},o=function(e){return Ro((function(){return t().then((function(){return e.toPromise()}))}))},i=function(){return Io.nu(e)},a=function(){var e=null;return Ro((function(){return null===e&&(e=t()),e}))},u=t;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,toPromise:u,get:e}},No=function(t){return Ro((function(){return new Oo(t)}))},Po=function(t){return Ro((function(){return Oo.resolve(t)}))},Lo={nu:No,pure:Po},Bo=function(t,e){return e((function(e){var n=[],r=0,o=function(o){return function(i){n[o]=i,r++,r>=t.length&&e(n)}};0===t.length?e([]):K(t,(function(t,e){t.get(o(e))}))}))},zo=function(t){return Bo(t,Lo.nu)},Vo=function(t){var e=function(e){return t===e},n=function(e){return Vo(t)},r=function(e){return Vo(t)},o=function(e){return Vo(e(t))},i=function(e){return Vo(t)},a=function(e){e(t)},u=function(e){return e(t)},s=function(e,n){return n(t)},c=function(e){return e(t)},l=function(e){return e(t)},f=function(){return O.some(t)};return{is:e,isValue:S,isError:_,getOr:g(t),getOrThunk:g(t),getOrDie:g(t),or:n,orThunk:r,fold:s,map:o,mapError:i,each:a,bind:u,exists:c,forall:l,toOptional:f}},Fo=function(t){var e=function(t){return t()},n=function(){return x(String(t))()},r=function(t){return t},o=function(t){return t()},i=function(e){return Fo(t)},a=function(e){return Fo(e(t))},u=function(e){return Fo(t)},s=function(e,n){return e(t)};return{is:_,isValue:_,isError:S,getOr:v,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:s,map:i,mapError:a,each:h,bind:u,exists:_,forall:S,toOptional:O.none}},jo=function(t,e){return t.fold((function(){return Fo(e)}),Vo)},Ho={value:Vo,error:Fo,fromOption:jo},Uo=function(t){if(!P(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return K(t,(function(r,o){var i=yt(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!P(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){var n=arguments.length;if(n!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var s=function(t){var n=yt(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=st(e,(function(t){return X(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,r)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[o];return e.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:a,params:r})}}}})),n},Wo={generate:Uo},Go=(Wo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){return t.fold(v,v)});function qo(t,e,n,r,o){return t(n,r)?O.some(n):j(o)&&o(n)?O.none():e(n,r,o)}var Yo,Xo=function(t,e,n){var r=t.dom,o=j(n)?n:_;while(r.parentNode){r=r.parentNode;var i=gn.fromDom(r);if(e(i))return O.some(i);if(o(i))break}return O.none()},Zo=function(t,e,n){var r=function(t,e){return e(t)};return qo(r,Xo,t,e,n)},$o=function(t,e){var n=t.dom;return n.parentNode?Ko(gn.fromDom(n.parentNode),(function(n){return!Mn(t,n)&&e(n)})):O.none()},Ko=function(t,e){var n=function(t){return e(gn.fromDom(t))},r=ot(t.dom.childNodes,n);return r.map(gn.fromDom)},Jo=function(t,e,n){return Xo(t,(function(t){return kn(t,e)}),n)},Qo=function(t,e){return On(e,t)},ti=function(t,e,n){var r=function(t,e){return kn(t,e)};return qo(r,Jo,t,e,n)},ei=function(){function t(t,e){return function(){t.apply(e,arguments)}}var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=function(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,t(i,this),t(a,this))},r=n.immediateFn||"function"===typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)};function o(t){var e=this;null!==this._state?r((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void t.reject(o)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if("function"===typeof n)return void c(t(n,e),t(i,this),t(a,this))}this._state=!0,this._value=e,u.call(this)}catch(r){a.call(this,r)}}function a(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function s(t,e,n,r){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=n,this.reject=r}function c(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(o){if(r)return;r=!0,n(o)}}return n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var r=this;return new n((function(n,i){o.call(r,new s(t,e,n,i))}))},n.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&e(arguments[0])?arguments[0]:arguments);return new n((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var u=a.then;if("function"===typeof u)return void u.call(a,(function(t){o(i,t)}),n)}t[i]=a,0===--r&&e(t)}catch(s){n(s)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},n.resolve=function(t){return t&&"object"===typeof t&&t.constructor===n?t:new n((function(e){e(t)}))},n.reject=function(t){return new n((function(e,n){n(t)}))},n.race=function(t){return new n((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},n},ni=window.Promise?window.Promise:ei(),ri=function(t,e){var n,r=window.requestAnimationFrame,o=["ms","moz","webkit"],i=function(t){window.setTimeout(t,0)};for(n=0;n<o.length&&!r;n++)r=window[o[n]+"RequestAnimationFrame"];r||(r=i),r(t,e)},oi=function(t,e){return"number"!==typeof e&&(e=0),setTimeout(t,e)},ii=function(t,e){return"number"!==typeof e&&(e=1),setInterval(t,e)},ai=function(t){return clearTimeout(t)},ui=function(t){return clearInterval(t)},si=function(t,e){var n,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=oi((function(){t.apply(this,r)}),e)};return r.stop=function(){clearTimeout(n)},r},ci={requestAnimationFrame:function(t,e){Yo?Yo.then(t):Yo=new ni((function(t){e||(e=document.body),ri(t,e)})).then(t)},setTimeout:oi,setInterval:ii,setEditorTimeout:function(t,e,n){return oi((function(){t.removed||e()}),n)},setEditorInterval:function(t,e,n){var r=ii((function(){t.removed?clearInterval(r):e()}),n);return r},debounce:si,throttle:si,clearInterval:ui,clearTimeout:ai};function li(t,e){void 0===e&&(e={});var n=0,r={},o=gn.fromDom(t),i=Hn(o),a=e.maxLoadTime||5e3,u=function(t){e.referrerPolicy=t},s=function(t){gr(sr(o),t)},c=function(t){var e=sr(o);Qo(e,"#"+t).each(wr)},l=function(t){return Mt(r,t).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))},f=function(n,o,u){var c,f=ln._addCacheSuffix(n),d=l(f);r[f]=d,d.count++;var h=function(t,e){var n=t.length;while(n--)t[n]();d.status=e,d.passed=[],d.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},p=function(){return h(d.passed,2)},m=function(){return h(d.failed,3)},g=function(t,e){t()||(Date.now()-b<a?ci.setTimeout(e):m())},v=function(){g((function(){var e=t.styleSheets,n=e.length;while(n--){var r=e[n],o=r.ownerNode;if(o&&o.id===c.id)return p(),!0}return!1}),v)};if(o&&d.passed.push(o),u&&d.failed.push(u),1!==d.status)if(2!==d.status)if(3!==d.status){d.status=1;var y=gn.fromTag("link",i.dom);uo(y,{rel:"stylesheet",type:"text/css",id:d.id});var b=Date.now();e.contentCssCors&&ao(y,"crossOrigin","anonymous"),e.referrerPolicy&&ao(y,"referrerpolicy",e.referrerPolicy),c=y.dom,c.onload=v,c.onerror=m,s(y),ao(y,"href",f)}else m();else p()},d=function(t){return Lo.nu((function(e){f(t,p(e,g(Ho.value(t))),p(e,g(Ho.error(t))))}))},h=function(t,e,n){zo($(t,d)).get((function(t){var r=Q(t,(function(t){return t.isValue()}));r.fail.length>0?n(r.fail.map(Go)):e(r.pass.map(Go))}))},m=function(t){var e=ln._addCacheSuffix(t);Mt(r,e).each((function(t){var n=--t.count;0===n&&(delete r[e],c(t.id))}))},v=function(t){K(t,(function(t){m(t)}))};return{load:f,loadAll:h,unload:m,unloadAll:v,_setReferrerPolicy:u}}var fi=function(){var t=new WeakMap,e=function(e,n){var r=ur(e),o=r.dom;return O.from(t.get(o)).getOrThunk((function(){var e=li(o,n);return t.set(o,e),e}))};return{forElement:e}},di=fi(),hi=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,r){var o,i;if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){if(o=t[n],o)return o;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n],o)return o}}},t.prototype.findPreviousNode=function(t,e,n,r){var o,i,a;if(t){if(o=t[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[e];a;a=a[e])if(!a[e])return a;return o}if(i=t.parentNode,i&&i!==this.rootNode)return i}},t}(),pi=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],mi=["td","th"],gi=["thead","tbody","tfoot"],vi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],yi=["h1","h2","h3","h4","h5","h6"],bi=["li","dd","dt"],xi=["ul","ol","dl"],wi=["pre","script","textarea","style"],_i=function(t){var e;return function(n){return e=e||ft(t,S),e.hasOwnProperty(Rn(n))}},Si=_i(yi),Ci=_i(pi),ki=function(t){return"table"===Rn(t)},Ti=function(t){return Bn(t)&&!Ci(t)},Ai=function(t){return Bn(t)&&"br"===Rn(t)},Oi=_i(vi),Mi=_i(xi),Di=_i(bi),Ii=_i(gi),Ei=_i(mi),Ri=_i(wi),Ni=function(t,e,n){return Jo(t,e,n).isSome()},Pi="\ufeff",Li="",Bi=function(t){return t===Pi},zi=function(t){return t.replace(/\uFEFF/g,"")},Vi=Pi,Fi=Bi,ji=zi,Hi=zr,Ui=Xr,Wi=function(t){return Ui(t)&&(t=t.parentNode),Hi(t)&&t.hasAttribute("data-mce-caret")},Gi=function(t){return Ui(t)&&Fi(t.data)},qi=function(t){return Wi(t)||Gi(t)},Yi=function(t){return t.firstChild!==t.lastChild||!Jr(t.firstChild)},Xi=function(t,e){var n,r=t.ownerDocument,o=r.createTextNode(Vi),i=t.parentNode;if(e){if(n=t.previousSibling,Ui(n)){if(qi(n))return n;if(ta(n))return n.splitText(n.data.length-1)}i.insertBefore(o,t)}else{if(n=t.nextSibling,Ui(n)){if(qi(n))return n;if(Qi(n))return n.splitText(1),n}t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o)}return o},Zi=function(t){var e=t.container();return!!Xr(e)&&(e.data.charAt(t.offset())===Vi||t.isAtStart()&&Gi(e.previousSibling))},$i=function(t){var e=t.container();return!!Xr(e)&&(e.data.charAt(t.offset()-1)===Vi||t.isAtEnd()&&Gi(e.nextSibling))},Ki=function(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},Ji=function(t,e,n){var r=e.ownerDocument,o=r.createElement(t);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Ki());var i=e.parentNode;return n?i.insertBefore(o,e):e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o),o},Qi=function(t){return Ui(t)&&t.data[0]===Vi},ta=function(t){return Ui(t)&&t.data[t.data.length-1]===Vi},ea=function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];Ur(n)&&n.parentNode.removeChild(n)},na=function(t){return t&&t.hasAttribute("data-mce-caret")?(ea(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},ra=function(t){return Wi(t.startContainer)},oa=to,ia=eo,aa=Jr,ua=Xr,sa=Vr(["script","style","textarea"]),ca=Vr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),la=Vr(["table"]),fa=qi,da=function(t){return!fa(t)&&(ua(t)?!sa(t.parentNode):ca(t)||aa(t)||la(t)||pa(t))},ha=function(t){return zr(t)&&"true"===t.getAttribute("unselectable")},pa=function(t){return!1===ha(t)&&ia(t)},ma=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(pa(t))return!1;if(oa(t))return!0}return!0},ga=function(t){return!!pa(t)&&!0!==nt(gt(t.getElementsByTagName("*")),(function(t,e){return t||oa(e)}),!1)},va=function(t){return ca(t)||ga(t)},ya=function(t,e){return da(t)&&ma(t,e)},ba=/^[ \t\r\n]*$/,xa=function(t){return ba.test(t)},wa=function(t,e){var n=gn.fromDom(e),r=gn.fromDom(t);return Ni(r,"pre,code",y(Mn,n))},_a=function(t,e){return Xr(t)&&xa(t.data)&&!1===wa(t,e)},Sa=function(t){return zr(t)&&"A"===t.nodeName&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id"))},Ca=function(t,e){return da(t)&&!1===_a(t,e)||Sa(t)||ka(t)},ka=jr("data-mce-bookmark"),Ta=jr("data-mce-bogus"),Aa=Hr("data-mce-bogus","all"),Oa=function(t,e){var n,r=0;if(Ca(t,t))return!1;if(n=t.firstChild,!n)return!0;var o=new hi(n,t);do{if(e){if(Aa(n)){n=o.next(!0);continue}if(Ta(n)){n=o.next();continue}}if(Jr(n))r++,n=o.next();else{if(Ca(n,t))return!1;n=o.next()}}while(n);return r<=1},Ma=function(t,e){return void 0===e&&(e=!0),Oa(t.dom,e)},Da=function(t){return"span"===t.nodeName.toLowerCase()},Ia=function(t,e){return F(t)&&(Ca(t,e)||Ti(gn.fromDom(t)))},Ea=function(t,e){var n=new hi(t,e).prev(!1),r=new hi(t,e).next(!1),o=z(n)||Ia(n,e),i=z(r)||Ia(r,e);return o&&i},Ra=function(t){return Da(t)&&"bookmark"===t.getAttribute("data-mce-type")},Na=function(t,e){return Xr(t)&&t.data.length>0&&Ea(t,e)},Pa=function(t){return!!zr(t)&&t.childNodes.length>0},La=function(t){return Kr(t)||$r(t)},Ba=function(t,e,n){var r=n||e;if(zr(e)&&Ra(e))return e;for(var o=e.childNodes,i=o.length-1;i>=0;i--)Ba(t,o[i],r);if(zr(e)){var a=e.childNodes;1===a.length&&Ra(a[0])&&e.parentNode.insertBefore(a[0],e)}return La(e)||Ca(e,r)||Pa(e)||Na(e,r)||t.remove(e),e},za=ln.makeMap,Va=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fa=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ja=/[<>&\"\']/g,Ha=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ua={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Wa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ga={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qa=function(t){var e=gn.fromTag("div").dom;return e.innerHTML=t,e.textContent||e.innerText||t},Ya=function(t,e){var n,r,o,i={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),Wa[r]||(o="&"+t[n+1]+";",i[r]=o,i[o]=r);return i}},Xa=Ya("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Za=function(t,e){return t.replace(e?Va:Fa,(function(t){return Wa[t]||t}))},$a=function(t){return(""+t).replace(ja,(function(t){return Wa[t]||t}))},Ka=function(t,e){return t.replace(e?Va:Fa,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":Wa[t]||"&#"+t.charCodeAt(0)+";"}))},Ja=function(t,e,n){return n=n||Xa,t.replace(e?Va:Fa,(function(t){return Wa[t]||n[t]||t}))},Qa=function(t,e){var n=Ya(e)||Xa,r=function(t,e){return t.replace(e?Va:Fa,(function(t){return void 0!==Wa[t]?Wa[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))},o=function(t,e){return Ja(t,e,n)},i=za(t.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?e?o:Ja:i.numeric?Ka:Za},tu=function(t){return t.replace(Ha,(function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10),e>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Ua[e]||String.fromCharCode(e)):Ga[t]||Xa[t]||qa(t)}))},eu={encodeRaw:Za,encodeAllRaw:$a,encodeNumeric:Ka,encodeNamed:Ja,getEncodeFunc:Qa,decode:tu},nu={},ru={},ou=ln.makeMap,iu=ln.each,au=ln.extend,uu=ln.explode,su=ln.inArray,cu=function(t,e){return t=ln.trim(t),t?t.split(e||" "):[]},lu=function(t){var e,n,r,o,i,a,u={},s=function(t,n,r){var o,i,a,s=function(t,e){var n,r,o={};for(n=0,r=t.length;n<r;n++)o[t[n]]=e||{};return o};r=r||[],n=n||"","string"===typeof r&&(r=cu(r));var c=cu(t);o=c.length;while(o--)i=cu([e,n].join(" ")),a={attributes:s(i),attributesOrder:i,children:s(r,ru)},u[c[o]]=a},c=function(t,e){var n,r,o,i,a=cu(t);n=a.length;var s=cu(e);while(n--)for(r=u[a[n]],o=0,i=s.length;o<i;o++)r.attributes[s[o]]={},r.attributesOrder.push(s[o])};return nu[t]?nu[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),iu(cu(a),(function(t){s(t,"",r)})),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),iu(cu(i),(function(t){s(t,"",o)}))),o=o||[n,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),s("address dt dd div caption","",o),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",o),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",o),s("dl","","dt dd"),s("a","href target rel media hreflang type",r),s("q","cite",r),s("ins del","cite datetime",o),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",o),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),s("param","name value"),s("map","name",[o,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",o),s("th","colspan rowspan headers scope abbr",o),s("form","accept-charset action autocomplete enctype method name novalidate target",o),s("fieldset","disabled form name",[o,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?o:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[o,"li"].join(" ")),s("noscript","",o),"html4"!==t&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",o),s("mark rt rp summary bdi","",r),s("canvas","width height",o),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",o),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[o,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",o),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[o,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==t&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),iu(cu("a form meter progress dfn"),(function(t){u[t]&&delete u[t].children[t]})),delete u.caption.children.table,delete u.script,nu[t]=u,u)},fu=function(t,e){var n;return t&&(n={},"string"===typeof t&&(t={"*":t}),iu(t,(function(t,r){n[r]=n[r.toUpperCase()]="map"===e?ou(t,/[, ]/):uu(t,/[, ]/)}))),n};function du(t){var e={},n={},r=[],o={},i={},a=function(e,n,r){var o=t[e];return o?o=ou(o,/[, ]/,ou(o.toUpperCase(),/[, ]/)):(o=nu[e],o||(o=ou(n," ",ou(n.toUpperCase()," ")),o=au(o,r),nu[e]=o)),o};t=t||{};var u=lu(t.schema);!1===t.verify_html&&(t.valid_elements="*[*]");var s=fu(t.valid_styles),c=fu(t.invalid_styles,"map"),l=fu(t.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m="td th iframe video audio object script code",g=a("non_empty_elements",m+" pre",h),v=a("move_caret_before_on_enter_elements",m+" table",h),y=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",y),x=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");iu((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(t){i[t]=new RegExp("</"+t+"[^>]*>","gi")}));var w=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},_=function(t){var n,o,i,a,u,s,c,l,f,d,h,p,m,g,v,y,b,x,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,C=/[*?+]/;if(t){var k=cu(t,",");for(e["@"]&&(y=e["@"].attributes,b=e["@"].attributesOrder),n=0,o=k.length;n<o;n++)if(u=_.exec(k[n]),u){if(g=u[1],f=u[2],v=u[3],l=u[5],p={},m=[],s={attributes:p,attributesOrder:m},"#"===g&&(s.paddEmpty=!0),"-"===g&&(s.removeEmpty=!0),"!"===u[4]&&(s.removeEmptyAttrs=!0),y&&(xt(y,(function(t,e){p[e]=t})),m.push.apply(m,b)),l)for(l=cu(l,"|"),i=0,a=l.length;i<a;i++)if(u=S.exec(l[i]),u){if(c={},h=u[1],d=u[2].replace(/[\\:]:/g,":"),g=u[3],x=u[4],"!"===h&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(d),c.required=!0),"-"===h){delete p[d],m.splice(su(m,d),1);continue}g&&("="===g&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:d,value:x}),c.defaultValue=x),":"===g&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:d,value:x}),c.forcedValue=x),"<"===g&&(c.validValues=ou(x,"?"))),C.test(d)?(s.attributePatterns=s.attributePatterns||[],c.pattern=w(d),s.attributePatterns.push(c)):(p[d]||m.push(d),p[d]=c)}y||"@"!==f||(y=p,b=m),v&&(s.outputName=f,e[v]=s),C.test(f)?(s.pattern=w(f),r.push(s)):e[f]=s}}},S=function(t){e={},r=[],_(t),iu(u,(function(t,e){n[e]=t.children}))},C=function(t){var r=/^(~)?(.+)$/;t&&(nu.text_block_elements=nu.block_elements=null,iu(cu(t,","),(function(t){var i=r.exec(t),a="~"===i[1],u=a?"span":"div",s=i[2];if(n[s]=n[u],o[s]=u,a||(b[s.toUpperCase()]={},b[s]={}),!e[s]){var c=e[u];c=au({},c),delete c.removeEmptyAttrs,delete c.removeEmpty,e[s]=c}iu(n,(function(t,e){t[u]&&(n[e]=t=au({},n[e]),t[s]=t[u])}))})))},k=function(e){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;nu[t.schema]=null,e&&iu(cu(e,","),(function(t){var e,o,i=r.exec(t);i&&(o=i[1],e=o?n[i[2]]:n[i[2]]={"#comment":{}},e=n[i[2]],iu(cu(i[3],"|"),(function(t){"-"===o?delete e[t]:e[t]={}})))}))},T=function(t){var n,o=e[t];if(o)return o;n=r.length;while(n--)if(o=r[n],o.pattern.test(t))return o};t.valid_elements?S(t.valid_elements):(iu(u,(function(t,r){e[r]={attributes:t.attributes,attributesOrder:t.attributesOrder},n[r]=t.children})),"html5"!==t.schema&&iu(cu("strong/b em/i"),(function(t){var n=cu(t,"/");e[n[1]].outputName=n[0]})),iu(cu("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(t){e[t]&&(e[t].removeEmpty=!0)})),iu(cu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){e[t].paddEmpty=!0})),iu(cu("span"),(function(t){e[t].removeEmptyAttrs=!0}))),C(t.custom_elements),k(t.valid_children),_(t.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),iu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,n){e[n]&&(e[n].parentsRequired=cu(t))})),t.invalid_elements&&iu(uu(t.invalid_elements),(function(t){e[t]&&delete e[t]})),T("span")||_("span[!data-mce-type|*]");var A=function(){return s},O=function(){return c},M=function(){return l},D=function(){return p},I=function(){return b},E=function(){return y},R=function(){return x},N=function(){return h},P=function(){return d},L=function(){return g},B=function(){return v},z=function(){return f},V=function(){return i},F=function(t,e){var r=n[t.toLowerCase()];return!(!r||!r[e.toLowerCase()])},j=function(t,e){var n,r,o=T(t);if(o){if(!e)return!0;if(o.attributes[e])return!0;if(n=o.attributePatterns,n){r=n.length;while(r--)if(n[r].pattern.test(t))return!0}}return!1},H=function(){return o};return{children:n,elements:e,getValidStyles:A,getValidClasses:M,getBlockElements:I,getInvalidStyles:O,getShortEndedElements:N,getTextBlockElements:E,getTextInlineElements:R,getBoolAttrs:D,getElementRule:T,getSelfClosingElements:P,getNonEmptyElements:L,getMoveCaretBeforeOnEnterElements:B,getWhiteSpaceElements:z,getSpecialElements:V,isValidChild:F,isValid:j,getCustomElements:H,addValidElements:_,setValidElements:S,addCustomElements:C,addValidChildren:k}}var hu,pu,mu,gu,vu,yu,bu,xu,wu,_u,Su,Cu,ku,Tu,Au,Ou,Mu,Du,Iu=function(t,e,n,r){var o=function(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t};return"#"+o(e)+o(n)+o(r)},Eu=function(t,e){var n,r,o,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,c={},l=Pi;t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles());var f=("\\\" \\' \\; \\: ; : "+l).split(" ");for(n=0;n<f.length;n++)c[f[n]]=l+n,c[l+n]=f[n];return{toHex:function(t){return t.replace(i,Iu)},parse:function(e){var r,o,f,d,h={},p=t.url_converter,m=t.url_converter_scope||this,g=function(t,e,r){var o=h[t+"-top"+e];if(o){var i=h[t+"-right"+e];if(i){var a=h[t+"-bottom"+e];if(a){var u=h[t+"-left"+e];if(u){var s=[o,i,a,u];n=s.length-1;while(n--)if(s[n]!==s[n+1])break;n>-1&&r||(h[t+e]=-1===n?s[0]:s.join(" "),delete h[t+"-top"+e],delete h[t+"-right"+e],delete h[t+"-bottom"+e],delete h[t+"-left"+e])}}}}},v=function(t){var e,n=h[t];if(n){n=n.split(" "),e=n.length;while(e--)if(n[e]!==n[0])return!1;return h[t]=n[0],!0}},y=function(t,e,n,r){v(e)&&v(n)&&v(r)&&(h[t]=h[e]+" "+h[n]+" "+h[r],delete h[e],delete h[n],delete h[r])},b=function(t){return d=!0,c[t]},x=function(t,e){return d&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return c[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},w=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},_=function(t){return t.replace(/\\[0-9a-f]+/gi,w)},S=function(e,n,r,o,i,a){if(i=i||a,i)return i=x(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=x(n||r||o),!t.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return p&&(n=p.call(m,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){e=e.replace(/[\u0000-\u001F]/g,""),e=e.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,b)}));while(r=u.exec(e))if(u.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),f=r[2].replace(s,""),o&&f){if(o=_(o),f=_(f),-1!==o.indexOf(l)||-1!==o.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(f)))continue;"font-weight"===o&&"700"===f?f="bold":"color"!==o&&"background-color"!==o||(f=f.toLowerCase()),f=f.replace(i,Iu),f=f.replace(a,S),h[o]=d?x(f,!0):f}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),y("border","border-width","border-style","border-color"),"medium none"===h.border&&delete h.border,"none"===h["border-image"]&&delete h["border-image"]}return h},serialize:function(t,e){var n="",i=function(e){var o,i=r[e];if(i)for(var a=0,u=i.length;a<u;a++)e=i[a],o=t[e],o&&(n+=(n.length>0?" ":"")+e+": "+o+";")},a=function(t,e){var n=o["*"];return(!n||!n[t])&&(n=o[e],!(n&&n[t]))};return e&&r?(i("*"),i(e)):xt(t,(function(t,r){!t||o&&!a(r,e)||(n+=(n.length>0?" ":"")+r+": "+t+";")})),n}}},Ru="mce-data-",Nu=/^(?:mouse|contextmenu)|click/,Pu={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Lu=function(t){return t.isDefaultPrevented===zu||t.isDefaultPrevented===Bu},Bu=function(){return!1},zu=function(){return!0},Vu=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Fu=function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)},ju=function(t){return Nu.test(t.type)},Hu=function(t,e){var n,r=e||{};for(n in t)Pu[n]||(r[n]=t[n]);if(r.target||(r.target=r.srcElement||document),r.composedPath&&(r.composedPath=function(){return t.composedPath()}),t&&ju(t)&&void 0===t.pageX&&void 0!==t.clientX){var o=r.target.ownerDocument||document,i=o.documentElement,a=o.body;r.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),r.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}return r.preventDefault=function(){r.isDefaultPrevented=zu,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},r.stopPropagation=function(){r.isPropagationStopped=zu,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=zu,r.stopPropagation()},!1===Lu(r)&&(r.isDefaultPrevented=Bu,r.isPropagationStopped=Bu,r.isImmediatePropagationStopped=Bu),"undefined"===typeof r.metaKey&&(r.metaKey=!1),r},Uu=function(t,e,n){var r=t.document,o={type:"ready"};if(n.domLoaded)e(o);else{var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){Fu(t,"DOMContentLoaded",a),Fu(t,"load",a),n.domLoaded||(n.domLoaded=!0,e(o)),t=null};i()?a():Vu(t,"DOMContentLoaded",a),n.domLoaded||Vu(t,"load",a)}},Wu=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Ru+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return t.prototype.bind=function(t,e,n,r){var o,i,a,u,s,c,l,f=this,d=window,h=function(t){f.executeHandlers(Hu(t||d.event),o)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[f.expando]?o=t[f.expando]:(o=f.count++,t[f.expando]=o,f.events[o]={}),r=r||t;var p=e.split(" ");a=p.length;while(a--)u=p[a],c=h,s=l=!1,"DOMContentLoaded"===u&&(u="ready"),f.domLoaded&&"ready"===u&&"complete"===t.readyState?n.call(r,Hu({type:u})):(f.hasMouseEnterLeave||(s=f.mouseEnterLeave[u],s&&(c=function(t){var e=t.currentTarget,n=t.relatedTarget;if(n&&e.contains)n=e.contains(n);else while(n&&n!==e)n=n.parentNode;n||(t=Hu(t||d.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,f.executeHandlers(t,o))})),f.hasFocusIn||"focusin"!==u&&"focusout"!==u||(l=!0,s="focusin"===u?"focus":"blur",c=function(t){t=Hu(t||d.event),t.type="focus"===t.type?"focusin":"focusout",f.executeHandlers(t,o)}),i=f.events[o][u],i?"ready"===u&&f.domLoaded?n(Hu({type:u})):i.push({func:n,scope:r}):(f.events[o][u]=i=[{func:n,scope:r}],i.fakeName=s,i.capture=l,i.nativeHandler=c,"ready"===u?Uu(t,c,f):Vu(t,s||u,c,l)));return t=i=null,n}},t.prototype.unbind=function(t,e,n){var r,o,i,a,u;if(!t||3===t.nodeType||8===t.nodeType)return this;var s=t[this.expando];if(s){if(u=this.events[s],e){var c=e.split(" ");o=c.length;while(o--)if(a=c[o],r=u[a],r){if(n){i=r.length;while(i--)if(r[i].func===n){var l=r.nativeHandler,f=r.fakeName,d=r.capture;r=r.slice(0,i).concat(r.slice(i+1)),r.nativeHandler=l,r.fakeName=f,r.capture=d,u[a]=r}}n&&0!==r.length||(delete u[a],Fu(t,r.fakeName||a,r.nativeHandler,r.capture))}}else xt(u,(function(e,n){Fu(t,e.fakeName||n,e.nativeHandler,e.capture)})),u={};for(a in u)if(Dt(u,a))return this;delete this.events[s];try{delete t[this.expando]}catch(h){t[this.expando]=null}}return this},t.prototype.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;var o=Hu(null,n);o.type=e,o.target=t;do{r=t[this.expando],r&&this.executeHandlers(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this},t.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t),n=t.getElementsByTagName("*"),e=n.length;while(e--)t=n[e],t[this.expando]&&this.unbind(t)}return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(t,e){var n=this.events[e],r=n&&n[t.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}},t.Event=new t,t}(),Gu="sizzle"+-new Date,qu=window.document,Yu=0,Xu=0,Zu=Ms(),$u=Ms(),Ku=Ms(),Ju=function(t,e){return t===e&&(_u=!0),0},Qu="undefined",ts=1<<31,es={}.hasOwnProperty,ns=[],rs=ns.pop,os=ns.push,is=ns.push,as=ns.slice,us=ns.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},ss="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cs="[\\x20\\t\\r\\n\\f]",ls="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fs="\\["+cs+"*("+ls+")(?:"+cs+"*([*^$|!~]?=)"+cs+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ls+"))|)"+cs+"*\\]",ds=":("+ls+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fs+")*)|.*)\\)|)",hs=new RegExp("^"+cs+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cs+"+$","g"),ps=new RegExp("^"+cs+"*,"+cs+"*"),ms=new RegExp("^"+cs+"*([>+~]|"+cs+")"+cs+"*"),gs=new RegExp("="+cs+"*([^\\]'\"]*?)"+cs+"*\\]","g"),vs=new RegExp(ds),ys=new RegExp("^"+ls+"$"),bs={ID:new RegExp("^#("+ls+")"),CLASS:new RegExp("^\\.("+ls+")"),TAG:new RegExp("^("+ls+"|[*])"),ATTR:new RegExp("^"+fs),PSEUDO:new RegExp("^"+ds),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cs+"*(even|odd|(([+-]|)(\\d*)n|)"+cs+"*(?:([+-]|)"+cs+"*(\\d+)|))"+cs+"*\\)|)","i"),bool:new RegExp("^(?:"+ss+")$","i"),needsContext:new RegExp("^"+cs+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cs+"*((?:-\\d)?\\d*)"+cs+"*\\)|)(?=[^-]|$)","i")},xs=/^(?:input|select|textarea|button)$/i,ws=/^h\d$/i,_s=/^[^{]+\{\s*\[native \w/,Ss=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Cs=/[+~]/,ks=/'|\\/g,Ts=new RegExp("\\\\([\\da-f]{1,6}"+cs+"?|("+cs+")|.)","ig"),As=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{is.apply(ns=as.call(qu.childNodes),qu.childNodes),ns[qu.childNodes.length].nodeType}catch(gF){is={apply:ns.length?function(t,e){os.apply(t,as.call(e))}:function(t,e){var n=t.length,r=0;while(t[n++]=e[r++]);t.length=n-1}}}var Os=function(t,e,n,r){var o,i,a,u,s,c,l,f,d,h;if((e?e.ownerDocument||e:qu)!==Cu&&Su(e),e=e||Cu,n=n||[],!t||"string"!==typeof t)return n;if(1!==(u=e.nodeType)&&9!==u)return[];if(Tu&&!r){if(o=Ss.exec(t))if(a=o[1]){if(9===u){if(i=e.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(e.ownerDocument&&(i=e.ownerDocument.getElementById(a))&&Du(e,i)&&i.id===a)return n.push(i),n}else{if(o[2])return is.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&hu.getElementsByClassName)return is.apply(n,e.getElementsByClassName(a)),n}if(hu.qsa&&(!Au||!Au.test(t))){if(f=l=Gu,d=e,h=9===u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){c=vu(t),(l=e.getAttribute("id"))?f=l.replace(ks,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",s=c.length;while(s--)c[s]=f+Bs(c[s]);d=Cs.test(t)&&Ps(e.parentNode)||e,h=c.join(",")}if(h)try{return is.apply(n,d.querySelectorAll(h)),n}catch(p){}finally{l||e.removeAttribute("id")}}}return bu(t.replace(hs,"$1"),e,n,r)};function Ms(){var t=[];function e(n,r){return t.push(n+" ")>pu.cacheLength&&delete e[t.shift()],e[n+" "]=r}return e}function Ds(t){return t[Gu]=!0,t}function Is(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||ts)-(~t.sourceIndex||ts);if(r)return r;if(n)while(n=n.nextSibling)if(n===e)return-1;return t?1:-1}function Es(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function Rs(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function Ns(t){return Ds((function(e){return e=+e,Ds((function(n,r){var o,i=t([],n.length,e),a=i.length;while(a--)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function Ps(t){return t&&typeof t.getElementsByTagName!==Qu&&t}function Ls(){}function Bs(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function zs(t,e,n){var r=e.dir,o=n&&"parentNode"===r,i=Xu++;return e.first?function(e,n,i){while(e=e[r])if(1===e.nodeType||o)return t(e,n,i)}:function(e,n,a){var u,s,c=[Yu,i];if(a){while(e=e[r])if((1===e.nodeType||o)&&t(e,n,a))return!0}else while(e=e[r])if(1===e.nodeType||o){if(s=e[Gu]||(e[Gu]={}),(u=s[r])&&u[0]===Yu&&u[1]===i)return c[2]=u[2];if(s[r]=c,c[2]=t(e,n,a))return!0}}}function Vs(t){return t.length>1?function(e,n,r){var o=t.length;while(o--)if(!t[o](e,n,r))return!1;return!0}:t[0]}function Fs(t,e,n){for(var r=0,o=e.length;r<o;r++)Os(t,e[r],n);return n}function js(t,e,n,r,o){for(var i,a=[],u=0,s=t.length,c=null!=e;u<s;u++)(i=t[u])&&(n&&!n(i,r,o)||(a.push(i),c&&e.push(u)));return a}function Hs(t,e,n,r,o,i){return r&&!r[Gu]&&(r=Hs(r)),o&&!o[Gu]&&(o=Hs(o,i)),Ds((function(i,a,u,s){var c,l,f,d=[],h=[],p=a.length,m=i||Fs(e||"*",u.nodeType?[u]:u,[]),g=!t||!i&&e?m:js(m,d,t,u,s),v=n?o||(i?t:p||r)?[]:a:g;if(n&&n(g,v,u,s),r){c=js(v,h),r(c,[],u,s),l=c.length;while(l--)(f=c[l])&&(v[h[l]]=!(g[h[l]]=f))}if(i){if(o||t){if(o){c=[],l=v.length;while(l--)(f=v[l])&&c.push(g[l]=f);o(null,v=[],c,s)}l=v.length;while(l--)(f=v[l])&&(c=o?us.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else v=js(v===a?v.splice(p,v.length):v),o?o(null,a,v,s):is.apply(a,v)}))}function Us(t){for(var e,n,r,o=t.length,i=pu.relative[t[0].type],a=i||pu.relative[" "],u=i?1:0,s=zs((function(t){return t===e}),a,!0),c=zs((function(t){return us.call(e,t)>-1}),a,!0),l=[function(t,n,r){return!i&&(r||n!==xu)||((e=n).nodeType?s(t,n,r):c(t,n,r))}];u<o;u++)if(n=pu.relative[t[u].type])l=[zs(Vs(l),n)];else{if(n=pu.filter[t[u].type].apply(null,t[u].matches),n[Gu]){for(r=++u;r<o;r++)if(pu.relative[t[r].type])break;return Hs(u>1&&Vs(l),u>1&&Bs(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(hs,"$1"),n,u<r&&Us(t.slice(u,r)),r<o&&Us(t=t.slice(r)),r<o&&Bs(t))}l.push(n)}return Vs(l)}function Ws(t,e){var n=e.length>0,r=t.length>0,o=function(o,i,a,u,s){var c,l,f,d=0,h="0",p=o&&[],m=[],g=xu,v=o||r&&pu.find.TAG("*",s),y=Yu+=null==g?1:Math.random()||.1,b=v.length;for(s&&(xu=i!==Cu&&i);h!==b&&null!=(c=v[h]);h++){if(r&&c){l=0;while(f=t[l++])if(f(c,i,a)){u.push(c);break}s&&(Yu=y)}n&&((c=!f&&c)&&d--,o&&p.push(c))}if(d+=h,n&&h!==d){l=0;while(f=e[l++])f(p,m,i,a);if(o){if(d>0)while(h--)p[h]||m[h]||(m[h]=rs.call(u));m=js(m)}is.apply(u,m),s&&!o&&m.length>0&&d+e.length>1&&Os.uniqueSort(u)}return s&&(Yu=y,xu=g),p};return n?Ds(o):o}hu=Os.support={},gu=Os.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Su=Os.setDocument=function(t){var e,n=t?t.ownerDocument||t:qu,r=n.defaultView;function o(t){try{return t.top}catch(e){}return null}return n!==Cu&&9===n.nodeType&&n.documentElement?(Cu=n,ku=n.documentElement,Tu=!gu(n),r&&r!==o(r)&&(r.addEventListener?r.addEventListener("unload",(function(){Su()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){Su()}))),hu.attributes=!0,hu.getElementsByTagName=!0,hu.getElementsByClassName=_s.test(n.getElementsByClassName),hu.getById=!0,pu.find.ID=function(t,e){if(typeof e.getElementById!==Qu&&Tu){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},pu.filter.ID=function(t){var e=t.replace(Ts,As);return function(t){return t.getAttribute("id")===e}},pu.find.TAG=hu.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==Qu)return e.getElementsByTagName(t)}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){while(n=i[o++])1===n.nodeType&&r.push(n);return r}return i},pu.find.CLASS=hu.getElementsByClassName&&function(t,e){if(Tu)return e.getElementsByClassName(t)},Ou=[],Au=[],hu.disconnectedMatch=!0,Au=Au.length&&new RegExp(Au.join("|")),Ou=Ou.length&&new RegExp(Ou.join("|")),e=_s.test(ku.compareDocumentPosition),Du=e||_s.test(ku.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)while(e=e.parentNode)if(e===t)return!0;return!1},Ju=e?function(t,e){if(t===e)return _u=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!hu.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===qu&&Du(qu,t)?-1:e===n||e.ownerDocument===qu&&Du(qu,e)?1:wu?us.call(wu,t)-us.call(wu,e):0:4&r?-1:1)}:function(t,e){if(t===e)return _u=!0,0;var r,o=0,i=t.parentNode,a=e.parentNode,u=[t],s=[e];if(!i||!a)return t===n?-1:e===n?1:i?-1:a?1:wu?us.call(wu,t)-us.call(wu,e):0;if(i===a)return Is(t,e);r=t;while(r=r.parentNode)u.unshift(r);r=e;while(r=r.parentNode)s.unshift(r);while(u[o]===s[o])o++;return o?Is(u[o],s[o]):u[o]===qu?-1:s[o]===qu?1:0},n):Cu},Os.matches=function(t,e){return Os(t,null,null,e)},Os.matchesSelector=function(t,e){if((t.ownerDocument||t)!==Cu&&Su(t),e=e.replace(gs,"='$1']"),hu.matchesSelector&&Tu&&(!Ou||!Ou.test(e))&&(!Au||!Au.test(e)))try{var n=Mu.call(t,e);if(n||hu.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(gF){}return Os(e,Cu,null,[t]).length>0},Os.contains=function(t,e){return(t.ownerDocument||t)!==Cu&&Su(t),Du(t,e)},Os.attr=function(t,e){(t.ownerDocument||t)!==Cu&&Su(t);var n=pu.attrHandle[e.toLowerCase()],r=n&&es.call(pu.attrHandle,e.toLowerCase())?n(t,e,!Tu):void 0;return void 0!==r?r:hu.attributes||!Tu?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},Os.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Os.uniqueSort=function(t){var e,n=[],r=0,o=0;if(_u=!hu.detectDuplicates,wu=!hu.sortStable&&t.slice(0),t.sort(Ju),_u){while(e=t[o++])e===t[o]&&(r=n.push(o));while(r--)t.splice(n[r],1)}return wu=null,t},mu=Os.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=mu(t)}else if(3===o||4===o)return t.nodeValue}else while(e=t[r++])n+=mu(e);return n},pu=Os.selectors={cacheLength:50,createPseudo:Ds,match:bs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ts,As),t[3]=(t[3]||t[4]||t[5]||"").replace(Ts,As),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Os.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Os.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return bs.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&vs.test(n)&&(e=vu(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ts,As).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Zu[t+" "];return e||(e=new RegExp("(^|"+cs+")"+t+"("+cs+"|$)"))&&Zu(t,(function(t){return e.test("string"===typeof t.className&&t.className||typeof t.getAttribute!==Qu&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var o=Os.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,s){var c,l,f,d,h,p,m=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=u&&e.nodeName.toLowerCase(),y=!s&&!u;if(g){if(i){while(m){f=e;while(f=f[m])if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){l=g[Gu]||(g[Gu]={}),c=l[t]||[],h=c[0]===Yu&&c[1],d=c[0]===Yu&&c[2],f=h&&g.childNodes[h];while(f=++h&&f&&f[m]||(d=h=0)||p.pop())if(1===f.nodeType&&++d&&f===e){l[t]=[Yu,h,d];break}}else if(y&&(c=(e[Gu]||(e[Gu]={}))[t])&&c[0]===Yu)d=c[1];else while(f=++h&&f&&f[m]||(d=h=0)||p.pop())if((u?f.nodeName.toLowerCase()===v:1===f.nodeType)&&++d&&(y&&((f[Gu]||(f[Gu]={}))[t]=[Yu,d]),f===e))break;return d-=o,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(t,e){var n,r=pu.pseudos[t]||pu.setFilters[t.toLowerCase()]||Os.error("unsupported pseudo: "+t);return r[Gu]?r(e):r.length>1?(n=[t,t,"",e],pu.setFilters.hasOwnProperty(t.toLowerCase())?Ds((function(t,n){var o,i=r(t,e),a=i.length;while(a--)o=us.call(t,i[a]),t[o]=!(n[o]=i[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:Ds((function(t){var e=[],n=[],r=yu(t.replace(hs,"$1"));return r[Gu]?Ds((function(t,e,n,o){var i,a=r(t,null,o,[]),u=t.length;while(u--)(i=a[u])&&(t[u]=!(e[u]=i))})):function(t,o,i){return e[0]=t,r(e,null,i,n),!n.pop()}})),has:Ds((function(t){return function(e){return Os(t,e).length>0}})),contains:Ds((function(t){return t=t.replace(Ts,As),function(e){return(e.textContent||e.innerText||mu(e)).indexOf(t)>-1}})),lang:Ds((function(t){return ys.test(t||"")||Os.error("unsupported lang: "+t),t=t.replace(Ts,As).toLowerCase(),function(e){var n;do{if(n=Tu?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===ku},focus:function(t){return t===Cu.activeElement&&(!Cu.hasFocus||Cu.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!pu.pseudos.empty(t)},header:function(t){return ws.test(t.nodeName)},input:function(t){return xs.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Ns((function(){return[0]})),last:Ns((function(t,e){return[e-1]})),eq:Ns((function(t,e,n){return[n<0?n+e:n]})),even:Ns((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:Ns((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:Ns((function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t})),gt:Ns((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}},pu.pseudos.nth=pu.pseudos.eq,K(["radio","checkbox","file","password","image"],(function(t){pu.pseudos[t]=Es(t)})),K(["submit","reset"],(function(t){pu.pseudos[t]=Rs(t)})),Ls.prototype=pu.filters=pu.pseudos,pu.setFilters=new Ls,vu=Os.tokenize=function(t,e){var n,r,o,i,a,u,s,c=$u[t+" "];if(c)return e?0:c.slice(0);a=t,u=[],s=pu.preFilter;while(a){for(i in n&&!(r=ps.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=ms.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(hs," ")}),a=a.slice(n.length)),pu.filter)pu.filter.hasOwnProperty(i)&&(!(r=bs[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?Os.error(t):$u(t,u).slice(0)},yu=Os.compile=function(t,e){var n,r=[],o=[],i=Ku[t+" "];if(!i){e||(e=vu(t)),n=e.length;while(n--)i=Us(e[n]),i[Gu]?r.push(i):o.push(i);i=Ku(t,Ws(o,r)),i.selector=t}return i},bu=Os.select=function(t,e,n,r){var o,i,a,u,s,c="function"===typeof t&&t,l=!r&&vu(t=c.selector||t);if(n=n||[],1===l.length){if(i=l[0]=l[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&hu.getById&&9===e.nodeType&&Tu&&pu.relative[i[1].type]){if(e=(pu.find.ID(a.matches[0].replace(Ts,As),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(i.shift().value.length)}o=bs.needsContext.test(t)?0:i.length;while(o--){if(a=i[o],pu.relative[u=a.type])break;if((s=pu.find[u])&&(r=s(a.matches[0].replace(Ts,As),Cs.test(i[0].type)&&Ps(e.parentNode)||e))){if(i.splice(o,1),t=r.length&&Bs(i),!t)return is.apply(n,r),n;break}}}return(c||yu(t,l))(r,e,!Tu,n,Cs.test(t)&&Ps(e.parentNode)||e),n},hu.sortStable=Gu.split("").sort(Ju).join("")===Gu,hu.detectDuplicates=!!_u,Su(),hu.sortDetached=!0;var Gs=document,qs=Array.prototype.push,Ys=Array.prototype.slice,Xs=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Zs=Wu.Event,$s=ln.makeMap("children,contents,next,prev"),Ks=function(t){return"undefined"!==typeof t},Js=function(t){return"string"===typeof t},Qs=function(t){return t&&t===t.window},tc=function(t,e){e=e||Gs;var n,r=e.createElement("div"),o=e.createDocumentFragment();r.innerHTML=t;while(n=r.firstChild)o.appendChild(n);return o},ec=function(t,e,n,r){var o;if(Js(e))e=tc(e,gc(t[0]));else if(e.length&&!e.nodeType){if(e=xc.makeArray(e),r)for(o=e.length-1;o>=0;o--)ec(t,e[o],n,r);else for(o=0;o<e.length;o++)ec(t,e[o],n,r);return t}if(e.nodeType){o=t.length;while(o--)n.call(t[o],e)}return t},nc=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},rc=function(t,e,n){var r,o;return e=xc(e)[0],t.each((function(){var t=this;n&&r===t.parentNode||(r=t.parentNode,o=e.cloneNode(!1),t.parentNode.insertBefore(o,t)),o.appendChild(t)})),t},oc=ln.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ic=ln.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ac={for:"htmlFor",class:"className",readonly:"readOnly"},uc={float:"cssFloat"},sc={},cc={},lc=function(t,e){return new xc.fn.init(t,e)},fc=function(t,e){var n;if(e.indexOf)return e.indexOf(t);n=e.length;while(n--)if(e[n]===t)return n;return-1},dc=/^\s*|\s*$/g,hc=function(t){return null===t||void 0===t?"":(""+t).replace(dc,"")},pc=function(t,e){var n,r,o,i;if(t)if(n=t.length,void 0===n){for(r in t)if(t.hasOwnProperty(r)&&(i=t[r],!1===e.call(i,r,i)))break}else for(o=0;o<n;o++)if(i=t[o],!1===e.call(i,o,i))break;return t},mc=function(t,e){var n=[];return pc(t,(function(t,r){e(r,t)&&n.push(r)})),n},gc=function(t){return t?9===t.nodeType?t:t.ownerDocument:Gs};lc.fn=lc.prototype={constructor:lc,selector:"",context:null,length:0,init:function(t,e){var n,r,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return xc(t).attr(e);o.context=e=document}if(Js(t)){if(o.selector=t,n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Xs.exec(t),!n)return xc(e).find(t);if(n[1]){r=tc(t,gc(e)).firstChild;while(r)qs.call(o,r),r=r.nextSibling}else{if(r=gc(e).getElementById(n[2]),!r)return o;if(r.id!==n[2])return o.find(t);o.length=1,o[0]=r}}else this.add(t,!1);return o},toArray:function(){return ln.toArray(this)},add:function(t,e){var n,r,o=this;if(Js(t))return o.add(xc(t));if(!1!==e)for(n=xc.unique(o.toArray().concat(xc.makeArray(t))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else qs.apply(o,xc.makeArray(t));return o},attr:function(t,e){var n,r=this;if("object"===typeof t)pc(t,(function(t,e){r.attr(t,e)}));else{if(!Ks(e)){if(r[0]&&1===r[0].nodeType){if(n=sc[t],n&&n.get)return n.get(r[0],t);if(ic[t])return r.prop(t)?t:void 0;e=r[0].getAttribute(t,2),null===e&&(e=void 0)}return e}this.each((function(){var n;if(1===this.nodeType){if(n=sc[t],n&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}}))}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if(t=ac[t]||t,"object"===typeof t)pc(t,(function(t,e){n.prop(t,e)}));else{if(!Ks(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each((function(){1===this.nodeType&&(this[t]=e)}))}return n},css:function(t,e){var n,r,o=this,i=function(t){return t.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()}))},a=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))};if("object"===typeof t)pc(t,(function(t,e){o.css(t,e)}));else if(Ks(e))t=i(t),"number"!==typeof e||oc[t]||(e=e.toString()+"px"),o.each((function(){var n=this.style;if(r=cc[t],r&&r.set)r.set(this,e);else{try{this.style[uc[t]||t]=e}catch(o){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(a(t)):n.removeAttribute(t))}}));else{if(n=o[0],r=cc[t],r&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(t))}catch(u){return}}return o},remove:function(){var t,e=this,n=this.length;while(n--)t=e[n],Zs.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){var t,e=this,n=this.length;while(n--){t=e[n];while(t.firstChild)t.removeChild(t.firstChild)}return this},html:function(t){var e,n=this;if(Ks(t)){e=n.length;try{while(e--)n[e].innerHTML=t}catch(r){xc(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(Ks(t)){e=n.length;while(e--)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return ec(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return ec(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?ec(t,arguments,(function(t){this.parentNode.insertBefore(t,this)})):t},after:function(){var t=this;return t[0]&&t[0].parentNode?ec(t,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):t},appendTo:function(t){return xc(t).append(this),this},prependTo:function(t){return xc(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return rc(this,t)},wrapAll:function(t){return rc(this,t,!0)},wrapInner:function(t){return this.each((function(){xc(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){xc(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),xc(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!==typeof t||(-1!==t.indexOf(" ")?pc(t.split(" "),(function(){n.toggleClass(this,e)})):n.each((function(n,r){var o=nc(r,t);if(o!==e){var i=r.className;o?r.className=hc((" "+i+" ").replace(" "+t+" "," ")):r.className+=i?" "+t:t}}))),n},hasClass:function(t){return nc(this[0],t)},each:function(t){return pc(this,t)},on:function(t,e){return this.each((function(){Zs.bind(this,t,e)}))},off:function(t,e){return this.each((function(){Zs.unbind(this,t,e)}))},trigger:function(t){return this.each((function(){"object"===typeof t?Zs.fire(this,t.type,t):Zs.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new xc(Ys.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,r=[];for(e=0,n=this.length;e<n;e++)xc.find(t,this[e],r);return xc(r)},filter:function(t){return xc("function"===typeof t?mc(this.toArray(),(function(e,n){return t(n,e)})):xc.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof xc&&(t=t[0]),this.each((function(n,r){while(r){if("string"===typeof t&&xc(r).is(t)){e.push(r);break}if(r===t){e.push(r);break}r=r.parentNode}})),xc(e)},offset:function(t){var e,n,r,o,i=0,a=0;return t?this.css(t):(e=this[0],e&&(n=e.ownerDocument,r=n.documentElement,e.getBoundingClientRect&&(o=e.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:qs,sort:Array.prototype.sort,splice:Array.prototype.splice},ln.extend(lc,{extend:ln.extend,makeArray:function(t){return Qs(t)||t.nodeType?[t]:ln.toArray(t)},inArray:fc,isArray:ln.isArray,each:pc,trim:hc,grep:mc,find:Os,expr:Os.selectors,unique:Os.uniqueSort,text:Os.getText,contains:Os.contains,filter:function(t,e,n){var r=e.length;n&&(t=":not("+t+")");while(r--)1!==e[r].nodeType&&e.splice(r,1);return e=1===e.length?xc.find.matchesSelector(e[0],t)?[e[0]]:[]:xc.find.matches(t,e),e}});var vc=function(t,e,n){var r=[],o=t[e];"string"!==typeof n&&n instanceof xc&&(n=n[0]);while(o&&9!==o.nodeType){if(void 0!==n){if(o===n)break;if("string"===typeof n&&xc(o).is(n))break}1===o.nodeType&&r.push(o),o=o[e]}return r},yc=function(t,e,n,r){var o=[];for(r instanceof xc&&(r=r[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==r){if(t===r)break;if("string"===typeof r&&xc(t).is(r))break}o.push(t)}return o},bc=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};pc({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return vc(t,"parentNode")},next:function(t){return bc(t,"nextSibling",1)},prev:function(t){return bc(t,"previousSibling",1)},children:function(t){return yc(t.firstChild,"nextSibling",1)},contents:function(t){return ln.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,e){lc.fn[t]=function(n){var r=this,o=[];r.each((function(){var t=e.call(o,this,n,o);t&&(xc.isArray(t)?o.push.apply(o,t):o.push(t))})),this.length>1&&($s[t]||(o=xc.unique(o)),0===t.indexOf("parents")&&(o=o.reverse()));var i=xc(o);return n?i.filter(n):i}})),pc({parentsUntil:function(t,e){return vc(t,"parentNode",e)},nextUntil:function(t,e){return yc(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return yc(t,"previousSibling",1,e).slice(1)}},(function(t,e){lc.fn[t]=function(n,r){var o=this,i=[];o.each((function(){var t=e.call(i,this,n,i);t&&(xc.isArray(t)?i.push.apply(i,t):i.push(t))})),this.length>1&&(i=xc.unique(i),0!==t.indexOf("parents")&&"prevUntil"!==t||(i=i.reverse()));var a=xc(i);return r?a.filter(r):a}})),lc.fn.is=function(t){return!!t&&this.filter(t).length>0},lc.fn.init.prototype=lc.fn,lc.overrideDefaults=function(t){var e,n=function(r,o){return e=e||t(),0===arguments.length&&(r=e.element),o||(o=e.context),new n.fn.init(r,o)};return xc.extend(n,this),n},lc.attrHooks=sc,lc.cssHooks=cc;var xc=lc,wc=ln.each,_c=ln.grep,Sc=$e.ie,Cc=/^([a-z0-9],?)+$/i,kc=function(t,e,n){var r=e.keep_values,o={set:function(t,r,o){e.url_converter&&(r=e.url_converter.call(e.url_converter_scope||n(),r,o,t[0])),t.attr("data-mce-"+o,r).attr(o,r)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(e,n){null===n||"object"!==typeof n?(r&&e.attr("data-mce-style",n),null!==n&&"string"===typeof n?(e.removeAttr("style"),e.css(t.parse(n))):e.attr("style",n)):e.css(n)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName),n}}};return r&&(i.href=i.src=o),i},Tc=function(t,e){var n=e.attr("style"),r=t.serialize(t.parse(n),e[0].nodeName);r||(r=null),e.attr("data-mce-style",r)},Ac=function(t,e){var n,r,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!e||3!==r||r!==n&&t.nodeValue.length)&&(o++,n=r);return o};function Oc(t,e){var n=this;void 0===e&&(e={});var r={},o=window,i={},a=0,u=!0,s=!0,c=di.forElement(gn.fromDom(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),l=[],f=e.schema?e.schema:du({}),d=Eu({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),p=e.ownEvents?new Wu:Wu.Event,m=f.getBlockElements(),g=xc.overrideDefaults((function(){return{context:t,element:It.getRoot()}})),v=function(t){if("string"===typeof t)return!!m[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!m[t.nodeName])}return!1},y=function(e){return e&&t&&R(e)?t.getElementById(e):e},b=function(t){return g("string"===typeof t?y(t):t)},x=function(t,e,n){var r,o,i=b(t);return i.length&&(r=Et[e],o=r&&r.get?r.get(i,e):i.attr(e)),"undefined"===typeof o&&(o=n||""),o},w=function(t){var e=y(t);return e?e.attributes:[]},_=function(t,n,r){""===r&&(r=null);var o=b(t),i=o.attr(n);if(o.length){var a=Et[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&e.onSetAttrib&&e.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},S=function(e,n){if(!Sc||1!==e.nodeType||n)return e.cloneNode(n);var r=t.createElement(e.nodeName);return wc(w(e),(function(t){_(r,t.nodeName,x(e,t.nodeName))})),r},C=function(){return e.root_element||t.body},k=function(t){var e=Pr(t);return{x:e.x,y:e.y,w:e.width,h:e.height}},T=function(e,n){return ko(t.body,y(e),n)},A=function(t,n,r){var o=R(n)?b(t).css(n,r):b(t).css(n);e.update_styles&&Tc(d,o)},O=function(t,n){var r=b(t).css(n);e.update_styles&&Tc(d,r)},M=function(t,e,n){var r=b(t);return n?r.css(e):(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})),"float"===e&&(e=$e.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[e]:void 0)},D=function(t){var e,n;return t=y(t),e=M(t,"width"),n=M(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},I=function(t){t=y(t);var e=T(t),n=D(t);return{x:e.x,y:e.y,w:n.w,h:n.h}},E=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(Cc.test(e)){var r=e.toLowerCase().split(/,/),o=t.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var i=Array.isArray(t)?t:[t];return Os(e,i[0].ownerDocument||i[0],null,i).length>0},N=function(t,e,n,r){var o,i=[],a=y(t);r=void 0===r,n=n||("BODY"!==C().nodeName?C().parentNode:null),ln.is(e,"string")&&(o=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return E(t,o)});while(a){if(a===n||V(a.nodeType)||$r(a)||Kr(a))break;if(!e||"function"===typeof e&&e(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},P=function(t,e,n){var r=N(t,e,n,!1);return r&&r.length>0?r[0]:null},L=function(t,e,n){var r=e;if(t)for("string"===typeof e&&(r=function(t){return E(t,e)}),t=t[n];t;t=t[n])if("function"===typeof r&&r(t))return t;return null},B=function(t,e){return L(t,e,"nextSibling")},z=function(t,e){return L(t,e,"previousSibling")},F=function(n,r){return Os(n,y(r)||e.root_element||t,[])},j=function(t,e,r){var o,i="string"===typeof t?y(t):t;if(!i)return!1;if(ln.isArray(i)&&(i.length||0===i.length))return o=[],wc(i,(function(t,n){t&&o.push(e.call(r,"string"===typeof t?y(t):t,n))})),o;var a=r||n;return e.call(a,i)},H=function(t,e){b(t).each((function(t,n){wc(e,(function(t,e){_(n,e,t)}))}))},U=function(t,e){var n=b(t);Sc?n.each((function(t,n){if(!1!==n.canHaveHTML){while(n.firstChild)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(r){xc("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}})):n.html(e)},W=function(e,n,r,o,i){return j(e,(function(e){var a="string"===typeof n?t.createElement(n):n;return H(a,r),o&&("string"!==typeof o&&o.nodeType?a.appendChild(o):"string"===typeof o&&U(a,o)),i?a:e.appendChild(a)}))},G=function(e,n,r){return W(t.createElement(e),e,n,r,!0)},q=eu.decode,Y=eu.encodeAllRaw,X=function(t,e,n){var r,o="";for(r in o+="<"+t,e)e.hasOwnProperty(r)&&null!==e[r]&&"undefined"!==typeof e[r]&&(o+=" "+r+'="'+Y(e[r])+'"');return"undefined"!==typeof n?o+">"+n+"</"+t+">":o+" />"},Z=function(e){var n,r=t.createElement("div"),o=t.createDocumentFragment();o.appendChild(r),e&&(r.innerHTML=e);while(n=r.firstChild)o.appendChild(n);return o.removeChild(r),o},$=function(t,e){var n=b(t);return e?n.each((function(){var t;while(t=this.firstChild)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},J=function(t){return j(t,(function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))}))},Q=function(t){return d.parse(t)},tt=function(t,e){return d.serialize(t,e)},et=function(e){var n,o;if(It!==Oc.DOM&&t===document){if(r[e])return;r[e]=!0}o=t.getElementById("mceDefaultStyles"),o||(o=t.createElement("style"),o.id="mceDefaultStyles",o.type="text/css",n=t.getElementsByTagName("head")[0],n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=e:o.appendChild(t.createTextNode(e))},nt=function(t){t||(t=""),K(t.split(","),(function(t){i[t]=!0,c.load(t,h)}))},rt=function(t,e,n){b(t).toggleClass(e,n).each((function(){""===this.className&&xc(this).attr("class",null)}))},ot=function(t,e){b(t).addClass(e)},it=function(t,e){rt(t,e,!1)},at=function(t,e){return b(t).hasClass(e)},ut=function(t){b(t).show()},st=function(t){b(t).hide()},ct=function(t){return"none"===b(t).css("display")},lt=function(t){return(t||"mce_")+a++},ft=function(t){var e="string"===typeof t?y(t):t;return zr(e)?e.outerHTML:xc("<div></div>").append(xc(e).clone()).html()},dt=function(t,e){b(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}$(xc(this).html(e),!0)}))},ht=function(t,e){var n=y(e);return j(t,(function(t){var e=n.parentNode,r=n.nextSibling;return r?e.insertBefore(t,r):e.appendChild(t),t}))},pt=function(t,e,n){return j(e,(function(e){return ln.is(e,"array")&&(t=t.cloneNode(!0)),n&&wc(_c(e.childNodes),(function(e){t.appendChild(e)})),e.parentNode.replaceChild(t,e)}))},mt=function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=G(e),wc(w(t),(function(e){_(n,e.nodeName,x(t,e.nodeName))})),pt(n,t,!0)),n||t},gt=function(t,e){var n,r=t;while(r){n=e;while(n&&r!==n)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&t.ownerDocument?t.ownerDocument.documentElement:r},vt=function(t){return d.toHex(ln.trim(t))},yt=function(t){if(zr(t)){var e="a"===t.nodeName.toLowerCase()&&!x(t,"href")&&x(t,"id");if(x(t,"name")||x(t,"data-mce-bookmark")||e)return!0}return!1},bt=function(t,e){var n,r,o=0;if(yt(t))return!1;if(t=t.firstChild,t){var i=new hi(t,t.parentNode),a=f?f.getWhiteSpaceElements():{};e=e||(f?f.getNonEmptyElements():null);do{if(n=t.nodeType,zr(t)){var u=t.getAttribute("data-mce-bogus");if(u){t=i.next("all"===u);continue}if(r=t.nodeName.toLowerCase(),e&&e[r]){if("br"===r){o++,t=i.next();continue}return!1}if(yt(t))return!1}if(8===n)return!1;if(3===n&&!xa(t.nodeValue))return!1;if(3===n&&t.parentNode&&a[t.parentNode.nodeName]&&xa(t.nodeValue))return!1;t=i.next()}while(t)}return o<=1},wt=function(){return t.createRange()},_t=function(t,e,n){var r,o,i,a=wt();if(t&&e)return a.setStart(t.parentNode,Ac(t)),a.setEnd(e.parentNode,Ac(e)),r=a.extractContents(),a=wt(),a.setStart(e.parentNode,Ac(e)+1),a.setEnd(t.parentNode,Ac(t)+1),o=a.extractContents(),i=t.parentNode,i.insertBefore(Ba(It,r),t),n?i.insertBefore(n,t):i.insertBefore(e,t),i.insertBefore(Ba(It,o),t),$(t),n||e},St=function(n,r,i,a){if(ln.isArray(n)){var u=n.length,s=[];while(u--)s[u]=St(n[u],r,i,a);return s}!e.collect||n!==t&&n!==o||l.push([n,r,i,a]);var c=p.bind(n,r,i,a||It);return c},Ct=function(e,n,r){if(ln.isArray(e)){var i=e.length,a=[];while(i--)a[i]=Ct(e[i],n,r);return a}if(l.length>0&&(e===t||e===o)){i=l.length;while(i--){var u=l[i];e!==u[0]||n&&n!==u[1]||r&&r!==u[2]||p.unbind(u[0],u[1],u[2])}}return p.unbind(e,n,r)},kt=function(t,e,n){return p.fire(t,e,n)},Tt=function(t){if(t&&zr(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},At=function(t){for(var e=C(),n=null;t&&t!==e;t=t.parentNode)if(n=Tt(t),null!==n)break;return n},Ot=function(){if(l.length>0){var t=l.length;while(t--){var e=l[t];p.unbind(e[0],e[1],e[2])}}xt(i,(function(t,e){c.unload(e),delete i[e]})),Os.setDocument&&Os.setDocument()},Mt=function(t,e){while(t){if(e===t)return!0;t=t.parentNode}return!1},Dt=function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},It={doc:t,settings:e,win:o,files:i,stdMode:u,boxModel:s,styleSheetLoader:c,boundEvents:l,styles:d,schema:f,events:p,isBlock:v,$:g,$$:b,root:null,clone:S,getRoot:C,getViewPort:k,getRect:I,getSize:D,getParent:P,getParents:N,get:y,getNext:B,getPrev:z,select:F,is:E,add:W,create:G,createHTML:X,createFragment:Z,remove:$,setStyle:A,getStyle:M,setStyles:O,removeAllAttribs:J,setAttrib:_,setAttribs:H,getAttrib:x,getPos:T,parseStyle:Q,serializeStyle:tt,addStyle:et,loadCSS:nt,addClass:ot,removeClass:it,hasClass:at,toggleClass:rt,show:ut,hide:st,isHidden:ct,uniqueId:lt,setHTML:U,getOuterHTML:ft,setOuterHTML:dt,decode:q,encode:Y,insertAfter:ht,replace:pt,rename:mt,findCommonAncestor:gt,toHex:vt,run:j,getAttribs:w,isEmpty:bt,createRng:wt,nodeIndex:Ac,split:_t,bind:St,unbind:Ct,fire:kt,getContentEditable:Tt,getContentEditableParent:At,destroy:Ot,isChildOf:Mt,dumpRng:Dt},Et=kc(d,e,(function(){return It}));return It}(function(t){t.DOM=t(document),t.nodeIndex=Ac})(Oc||(Oc={}));var Mc=Oc,Dc=Mc.DOM,Ic=ln.each,Ec=ln.grep,Rc=0,Nc=1,Pc=2,Lc=3,Bc=function(){function t(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return t.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},t.prototype.loadScript=function(t,e,n){var r,o=Dc,i=function(){o.remove(s),r&&(r.onerror=r.onload=r=null)},a=function(){i(),e()},u=function(){i(),j(n)?n():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+t)},s=o.uniqueId();r=document.createElement("script"),r.id=s,r.type="text/javascript",r.src=ln._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=a,r.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)},t.prototype.isDone=function(t){return this.states[t]===Pc},t.prototype.markDone=function(t){this.states[t]=Pc},t.prototype.add=function(t,e,n,r){var o=this.states[t];this.queue.push(t),void 0===o&&(this.states[t]=Rc),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:r,scope:n||this}))},t.prototype.load=function(t,e,n,r){return this.add(t,e,n,r)},t.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},t.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},t.prototype.loadScripts=function(t,e,n,r){var o=this,i=[],a=function(t,e){Ic(o.scriptLoadedCallbacks[e],(function(e){j(e[t])&&e[t].call(e.scope)})),o.scriptLoadedCallbacks[e]=void 0};o.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this});var u=function(){var e=Ec(t);if(t.length=0,Ic(e,(function(t){o.states[t]!==Pc?o.states[t]!==Lc?o.states[t]!==Nc&&(o.states[t]=Nc,o.loading++,o.loadScript(t,(function(){o.states[t]=Pc,o.loading--,a("success",t),u()}),(function(){o.states[t]=Lc,o.loading--,i.push(t),a("failure",t),u()}))):a("failure",t):a("success",t)})),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,Ic(n,(function(t){0===i.length?j(t.success)&&t.success.call(t.scope):j(t.failure)&&t.failure.call(t.scope,i)}))}};u()},t.ScriptLoader=new t,t}(),zc=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},Vc=function(t){return N(t)&&Dt(t,"raw")},Fc=function(t){return P(t)&&t.length>1},jc={},Hc=zc("en"),Uc=function(){return Mt(jc,Hc.get())},Wc=function(){return wt(jc,(function(t){return Ht({},t)}))},Gc=function(t){t&&Hc.set(t)},qc=function(){return Hc.get()},Yc=function(t,e){var n=jc[t];n||(jc[t]=n={}),xt(e,(function(t,e){n[e.toLowerCase()]=t}))},Xc=function(t){var e=Uc().getOr({}),n=function(t){return j(t)?Object.prototype.toString.call(t):r(t)?"":""+t},r=function(t){return""===t||null===t||void 0===t},o=function(t){var r=n(t);return Mt(e,r.toLowerCase()).map(n).getOr(r)},i=function(t){return t.replace(/{context:\w+}$/,"")};if(r(t))return"";if(Vc(t))return n(t.raw);if(Fc(t)){var a=t.slice(1),u=o(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return Dt(a,e)?n(a[e]):t}));return i(u)}return i(o(t))},Zc=function(){return Uc().bind((function(t){return Mt(t,"_dir")})).exists((function(t){return"rtl"===t}))},$c=function(t){return Dt(jc,t)},Kc={getData:Wc,setCode:Gc,getCode:qc,add:Yc,translate:Xc,isRtl:Zc,hasCode:$c};function Jc(){var t=this,e=[],n={},r={},o=[],i=function(t,e){var n=tt(o,(function(n){return n.name===t&&n.state===e}));K(n,(function(t){return t.callback()}))},a=function(t){if(r[t])return r[t].instance},u=function(t){var e;return r[t]&&(e=r[t].dependencies),e||[]},s=function(t,e){!1!==Jc.languageLoad&&m(t,(function(){var r=Kc.getCode(),o=","+(e||"")+",";!r||e&&-1===o.indexOf(","+r+",")||Bc.ScriptLoader.add(n[t]+"/langs/"+r+".js")}),"loaded")},c=function(t,n,o){var a=n;return e.push(a),r[t]={instance:a,dependencies:o},i(t,"added"),a},l=function(t){delete n[t],delete r[t]},f=function(t,e){return"object"===typeof e?e:"string"===typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},d=function(e,n){var r=t.urls[e];K(n,(function(t){Bc.ScriptLoader.add(r+"/"+t)}))},h=function(t,e,n,r){var o=u(t);K(o,(function(t){var n=f(e,t);p(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Bc))},p=function(t,e,o,a,u){if(!n[t]){var s="string"===typeof e?e:e.prefix+e.resource+e.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=Jc.baseURL+"/"+s),n[t]=s.substring(0,s.lastIndexOf("/"));var c=function(){i(t,"loaded"),h(t,e,o,a)};r[t]?c():Bc.ScriptLoader.add(s,c,a,u)}},m=function(t,e,i){void 0===i&&(i="added"),Dt(r,t)&&"added"===i||Dt(n,t)&&"loaded"===i?e():o.push({name:t,state:i,callback:e})};return{items:e,urls:n,lookup:r,_listeners:o,get:a,dependencies:u,requireLangPack:s,add:c,remove:l,createUrl:f,addComponents:d,load:p,waitFor:m}}(function(t){t.PluginManager=t(),t.ThemeManager=t()})(Jc||(Jc={}));var Qc=Jc,tl=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout((function(){t.apply(null,r),n=null}),e))};return{cancel:r,throttle:o}},el=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){t.apply(null,r),n=null}),e)};return{cancel:r,throttle:o}},nl=function(t,e){var n=so(t,e);return void 0===n||""===n?[]:n.split(" ")},rl=function(t,e,n){var r=nl(t,e),o=r.concat([n]);return ao(t,e,o.join(" ")),!0},ol=function(t,e,n){var r=tt(nl(t,e),(function(t){return t!==n}));return r.length>0?ao(t,e,r.join(" ")):fo(t,e),!1},il=function(t){return void 0!==t.dom.classList},al=function(t){return nl(t,"class")},ul=function(t,e){return rl(t,"class",e)},sl=function(t,e){return ol(t,"class",e)},cl=function(t,e){il(t)?t.dom.classList.add(e):ul(t,e)},ll=function(t){var e=il(t)?t.dom.classList:al(t);0===e.length&&fo(t,"class")},fl=function(t,e){if(il(t)){var n=t.dom.classList;n.remove(e)}else sl(t,e);ll(t)},dl=function(t,e){return il(t)&&t.dom.classList.contains(e)},hl=function(t,e){var n=[];return K(Jn(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(hl(t,e))})),n},pl=function(t,e){return An(e,t)},ml=g("mce-annotation"),gl=g("data-mce-annotation"),vl=g("data-mce-annotation-uid"),yl=function(t,e){var n=t.selection.getRng(),r=gn.fromDom(n.startContainer),o=gn.fromDom(t.getBody()),i=e.fold((function(){return"."+ml()}),(function(t){return"["+gl()+'="'+t+'"]'})),a=Qn(r,n.startOffset).getOr(r),u=ti(a,i,(function(t){return Mn(t,o)})),s=function(t,e){return lo(t,e)?O.some(so(t,e)):O.none()};return u.bind((function(e){return s(e,""+vl()).bind((function(n){return s(e,""+gl()).map((function(e){var r=xl(t,n);return{uid:n,name:e,elements:r}}))}))}))},bl=function(t){return Bn(t)&&dl(t,ml())},xl=function(t,e){var n=gn.fromDom(t.getBody());return pl(n,"["+vl()+'="'+e+'"]')},wl=function(t,e){var n=gn.fromDom(t.getBody()),r=pl(n,"["+gl()+'="'+e+'"]'),o={};return K(r,(function(t){var e=so(t,vl()),n=o.hasOwnProperty(e)?o[e]:[];o[e]=n.concat([t])})),o},_l=function(t,e){var n=zc({}),r=function(){return{listeners:[],previous:zc(O.none())}},o=function(t,e){i(t,(function(t){return e(t),t}))},i=function(t,e){var o=n.get(),i=o.hasOwnProperty(t)?o[t]:r(),a=e(i);o[t]=a,n.set(o)},a=function(t,e,n){o(t,(function(r){K(r.listeners,(function(r){return r(!0,t,{uid:e,nodes:$(n,(function(t){return t.dom}))})}))}))},u=function(t){o(t,(function(e){K(e.listeners,(function(e){return e(!1,t)}))}))},s=el((function(){var e=n.get(),r=dt(yt(e));K(r,(function(e){i(e,(function(n){var r=n.previous.get();return yl(t,O.some(e)).fold((function(){r.isSome()&&(u(e),n.previous.set(O.none()))}),(function(t){var e=t.uid,o=t.name,i=t.elements;r.is(e)||(a(o,e,i),n.previous.set(O.some(e)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);t.on("remove",(function(){s.cancel()})),t.on("NodeChange",(function(){s.throttle()}));var c=function(t,e){i(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))};return{addListener:c}},Sl=function(t,e){var n=function(t){return O.from(t.attr(gl())).bind(e.lookup)};t.on("init",(function(){t.serializer.addNodeFilter("span",(function(t){K(t,(function(t){n(t).each((function(e){!1===e.persistent&&t.unwrap()}))}))}))}))},Cl=function(){var t={},e=function(e,n){t[e]={name:e,settings:n}},n=function(e){return t.hasOwnProperty(e)?O.from(t[e]).map((function(t){return t.settings})):O.none()};return{register:e,lookup:n}},kl=0,Tl=function(t){var e=new Date,n=e.getTime(),r=Math.floor(1e9*Math.random());return kl++,t+"_"+r+kl+String(n)},Al=function(t,e){K(e,(function(e){cl(t,e)}))},Ol=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,Jn(gn.fromDom(r))},Ml=function(t){return t.dom.innerHTML},Dl=function(t,e){var n=jn(t),r=n.dom,o=gn.fromDom(r.createDocumentFragment()),i=Ol(e,r);br(o,i),xr(t),gr(t,o)},Il=function(t,e){return gn.fromDom(t.dom.cloneNode(e))},El=function(t){return Il(t,!1)},Rl=function(t){return Il(t,!0)},Nl=function(t,e,n){void 0===n&&(n=_);var r=new hi(t,e),o=function(t){var e;do{e=r[t]()}while(e&&!Xr(e)&&!n(e));return O.from(e).filter(Xr)};return{current:function(){return O.from(r.current()).filter(Xr)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},Pl=function(t,e){var n=e||function(e){return t.isBlock(e)||Jr(e)||eo(e)},r=function(t,e,n,o){if(Xr(t)){var i=o(t,e,t.data);if(-1!==i)return O.some({container:t,offset:i})}return n().bind((function(t){return r(t.container,t.offset,n,o)}))},o=function(t,e,o,i){var a=Nl(t,i,n);return r(t,e,(function(){return a.prev().map((function(t){return{container:t,offset:t.length}}))}),o).getOrNull()},i=function(t,e,o,i){var a=Nl(t,i,n);return r(t,e,(function(){return a.next().map((function(t){return{container:t,offset:0}}))}),o).getOrNull()};return{backwards:o,forwards:i}},Ll=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Bl=function(t,e,n){return t.isSome()&&e.isSome()?O.some(n(t.getOrDie(),e.getOrDie())):O.none()},zl=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?O.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):O.none()},Vl=function(t,e){return t?O.some(e):O.none()},Fl=Math.round,jl=function(t){return t?{left:Fl(t.left),top:Fl(t.top),bottom:Fl(t.bottom),right:Fl(t.right),width:Fl(t.width),height:Fl(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Hl=function(t,e){return t=jl(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},Ul=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},Wl=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},Gl=function(t,e){var n=Math.min(e.height/2,t.height/2);return t.bottom-n<e.top||!(t.top>e.bottom)&&Wl(e.top-t.bottom,t,e)},ql=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Wl(e.bottom-t.top,t,e)},Yl=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},Xl=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Zl=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},$l=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Kl=function(t){return"string"===typeof t&&t.charCodeAt(0)>=768&&$l.test(t)},Jl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},Ql=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},tf=zr,ef=da,nf=Fr("display","block table"),rf=Fr("float","left right"),of=Ql(tf,ef,b(rf)),af=b(Fr("white-space","pre pre-line pre-wrap")),uf=Xr,sf=Jr,cf=Mc.nodeIndex,lf=Zl,ff=function(t){return"createRange"in t?t.createRange():Mc.DOM.createRng()},df=function(t){return t&&/[\r\n\t ]/.test(t)},hf=function(t){return!!t.setStart&&!!t.setEnd},pf=function(t){var e,n=t.startContainer,r=t.startOffset;return!!(df(t.toString())&&af(n.parentNode)&&Xr(n)&&(e=n.data,df(e[r-1])||df(e[r+1])))},mf=function(t){var e=t.ownerDocument,n=ff(e),r=e.createTextNode(Li),o=t.parentNode;o.insertBefore(r,t),n.setStart(r,0),n.setEnd(r,1);var i=jl(n.getBoundingClientRect());return o.removeChild(r),i},gf=function(t){var e=t.startContainer,n=t.endContainer,r=t.startOffset,o=t.endOffset;if(e===n&&Xr(n)&&0===r&&1===o){var i=t.cloneRange();return i.setEndAfter(n),yf(i)}return null},vf=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},yf=function(t){var e,n=t.getClientRects();return e=n.length>0?jl(n[0]):jl(t.getBoundingClientRect()),!hf(t)&&sf(t)&&vf(e)?mf(t):vf(e)&&hf(t)?gf(t):e},bf=function(t,e){var n=Hl(t,e);return n.width=1,n.right=n.left+1,n},xf=function(t){var e,n,r=[],o=function(t){0!==t.height&&(r.length>0&&Ul(t,r[r.length-1])||r.push(t))},i=function(t,e){var n=ff(t.ownerDocument);if(e<t.data.length){if(Kl(t.data[e]))return r;if(Kl(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!pf(n)))return o(bf(yf(n),!1)),r}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),pf(n)||o(bf(yf(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),pf(n)||o(bf(yf(n),!0)))};if(uf(t.container()))return i(t.container(),t.offset()),r;if(tf(t.container()))if(t.isAtEnd())n=lf(t.container(),t.offset()),uf(n)&&i(n,n.data.length),of(n)&&!sf(n)&&o(bf(yf(n),!1));else{if(n=lf(t.container(),t.offset()),uf(n)&&i(n,0),of(n)&&t.isAtEnd())return o(bf(yf(n),!1)),r;e=lf(t.container(),t.offset()-1),of(e)&&!sf(e)&&(nf(e)||nf(n)||!of(n))&&o(bf(yf(e),!1)),of(n)&&o(bf(yf(n),!0))}return r};function wf(t,e,n){var r=function(){return uf(t),0===e},o=function(){return uf(t)?e>=t.data.length:e>=t.childNodes.length},i=function(){var n=ff(t.ownerDocument);return n.setStart(t,e),n.setEnd(t,e),n},a=function(){return n||(n=xf(wf(t,e))),n},u=function(){return a().length>0},s=function(n){return n&&t===n.container()&&e===n.offset()},c=function(n){return lf(t,n?e-1:e)};return{container:g(t),offset:g(e),toRange:i,getClientRects:a,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:s,getNode:c}}(function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,cf(e)+1)},t.before=function(e){return t(e.parentNode,cf(e))},t.isAbove=function(t,e){return Bl(pt(e.getClientRects()),mt(t.getClientRects()),Gl).getOr(!1)},t.isBelow=function(t,e){return Bl(mt(e.getClientRects()),pt(t.getClientRects()),ql).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&Xr(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}})(wf||(wf={}));var _f,Sf=wf,Cf=function(t,e){Xr(e)&&0===e.data.length&&t.remove(e)},kf=function(t,e,n){e.insertNode(n),Cf(t,n.previousSibling),Cf(t,n.nextSibling)},Tf=function(t,e,n){var r=O.from(n.firstChild),o=O.from(n.lastChild);e.insertNode(n),r.each((function(e){return Cf(t,e.previousSibling)})),o.each((function(e){return Cf(t,e.nextSibling)}))},Af=function(t,e,n){Kr(n)?Tf(t,e,n):kf(t,e,n)},Of=Xr,Mf=Ur,Df=Mc.nodeIndex,If=function(t){var e=t.parentNode;return Mf(e)?If(e):e},Ef=function(t){return t?Vt(t.childNodes,(function(t,e){return Mf(e)&&"BR"!==e.nodeName?t=t.concat(Ef(e)):t.push(e),t}),[]):[]},Rf=function(t,e){while(t=t.previousSibling){if(!Of(t))break;e+=t.data.length}return e},Nf=function(t){return function(e){return t===e}},Pf=function(t){var e,n;e=Ef(If(t)),n=Ft(e,Nf(t),t),e=e.slice(0,n+1);var r=Vt(e,(function(t,n,r){return Of(n)&&Of(e[r-1])&&t++,t}),0);return e=Bt(e,Vr([t.nodeName])),n=Ft(e,Nf(t),t),n-r},Lf=function(t){var e;return e=Of(t)?"text()":t.nodeName.toLowerCase(),e+"["+Pf(t)+"]"},Bf=function(t,e,n){var r=[];for(e=e.parentNode;e!==t;e=e.parentNode){if(n&&n(e))break;r.push(e)}return r},zf=function(t,e){var n,r,o,i,a,u=[];return n=e.container(),r=e.offset(),Of(n)?o=Rf(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Lf(n)),a=Bf(t,n),a=Bt(a,b(Ur)),u=u.concat(Lt(a,(function(t){return Lf(t)}))),u.reverse().join("/")+","+o},Vf=function(t,e,n){var r=Ef(t);return r=Bt(r,(function(t,e){return!Of(t)||!Of(r[e-1])})),r=Bt(r,Vr([e])),r[n]},Ff=function(t,e){var n,r=t,o=0;while(Of(r)){if(n=r.data.length,e>=o&&e<=o+n){t=r,e-=o;break}if(!Of(r.nextSibling)){t=r,e=n;break}o+=n,r=r.nextSibling}return Of(t)&&e>t.data.length&&(e=t.data.length),Sf(t,e)},jf=function(t,e){var n;if(!e)return null;var r=e.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=Vt(o,(function(t,e){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e);return n?("text()"===n[1]&&(n[1]="#text"),Vf(t,n[1],parseInt(n[2],10))):null}),t);return i?Of(i)?Ff(i,parseInt(n,10)):(n="after"===n?Df(i)+1:Df(i),Sf(i.parentNode,n)):null},Hf=eo,Uf=function(t,e,n){var r,o;for(o=t(e.data.slice(0,n)).length,r=e.previousSibling;r&&Xr(r);r=r.previousSibling)o+=t(r.data).length;return o},Wf=function(t,e,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],s=[],c=0,l=t.getRoot();for(Xr(a)?s.push(n?Uf(e,a,u):u):(i=a.childNodes,u>=i.length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(t.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(t.nodeIndex(a,n));return s},Gf=function(t,e,n,r){var o=e.dom,i={};return i.start=Wf(o,t,n,r,!0),e.isCollapsed()||(i.end=Wf(o,t,n,r,!1)),i},qf=function(t,e,n){var r=0;return ln.each(t.select(e),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void r++})),r},Yf=function(t,e){var n,r,o,i=e?"start":"end";n=t[i+"Container"],r=t[i+"Offset"],zr(n)&&"TR"===n.nodeName&&(o=n.childNodes,n=o[Math.min(e?r:r-1,o.length-1)],n&&(r=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,r)))},Xf=function(t){return Yf(t,!0),Yf(t,!1),t},Zf=function(t,e){var n;if(zr(t)&&(t=Zl(t,e),Hf(t)))return t;if(qi(t)){if(Xr(t)&&Wi(t)&&(t=t.parentNode),n=t.previousSibling,Hf(n))return n;if(n=t.nextSibling,Hf(n))return n}},$f=function(t){return Zf(t.startContainer,t.startOffset)||Zf(t.endContainer,t.endOffset)},Kf=function(t,e,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Hf(r)||"IMG"===o)return{name:o,index:qf(n.dom,o,r)};var a=$f(i);return a?(o=a.tagName,{name:o,index:qf(n.dom,o,a)}):Gf(t,n,e,i)},Jf=function(t){var e=t.getRng();return{start:zf(t.dom.getRoot(),Sf.fromRangeStart(e)),end:zf(t.dom.getRoot(),Sf.fromRangeEnd(e))}},Qf=function(t){return{rng:t.getRng()}},td=function(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)},ed=function(t,e){var n=t.dom,r=t.getRng(),o=n.uniqueId(),i=t.isCollapsed(),a=t.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:qf(n,u,a)};var s=Xf(r.cloneRange());if(!i){s.collapse(!1);var c=td(n,o+"_end",e);Af(n,s,c)}r=Xf(r),r.collapse(!0);var l=td(n,o+"_start",e);return Af(n,r,l),t.moveToBookmark({id:o,keep:!0}),{id:o}},nd=function(t,e,n){return 2===e?Kf(ji,n,t):3===e?Jf(t):e?Qf(t):ed(t,!1)},rd=y(Kf,v,!0),od=Mc.DOM,id="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",ad=function(t,e,n){var r=t.getParam(e,n);if(-1!==r.indexOf("=")){var o=t.getParam(e,"","hash");return o.hasOwnProperty(t.id)?o[t.id]:n}return r},ud=function(t){return t.getParam("iframe_attrs",{})},sd=function(t){return t.getParam("doctype","<!DOCTYPE html>")},cd=function(t){return t.getParam("document_base_url","")},ld=function(t){return ad(t,"body_id","tinymce")},fd=function(t){return ad(t,"body_class","")},dd=function(t){return t.getParam("content_security_policy","")},hd=function(t){return t.getParam("br_in_pre",!0)},pd=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},md=function(t){return t.getParam("forced_root_block_attrs",{})},gd=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},vd=function(t){return t.getParam("no_newline_selector","")},yd=function(t){return t.getParam("keep_styles",!0)},bd=function(t){return t.getParam("end_container_on_empty_block",!1)},xd=function(t){return ln.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},wd=function(t){return ln.explode(t.getParam("font_size_classes",""))},_d=function(t){return t.getParam("images_dataimg_filter",S,"function")},Sd=function(t){return t.getParam("automatic_uploads",!0,"boolean")},Cd=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},kd=function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},Td=function(t){return t.getParam("icons","","string")},Ad=function(t){return t.getParam("icons_url","","string")},Od=function(t){return t.getParam("images_upload_url","","string")},Md=function(t){return t.getParam("images_upload_base_path","","string")},Dd=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},Id=function(t){return t.getParam("images_upload_handler",null,"function")},Ed=function(t){return t.getParam("content_css_cors",!1,"boolean")},Rd=function(t){return t.getParam("referrer_policy","","string")},Nd=function(t){return t.getParam("language","en","string")},Pd=function(t){return t.getParam("language_url","","string")},Ld=function(t){return t.getParam("indent_use_margin",!1)},Bd=function(t){return t.getParam("indentation","40px","string")},zd=function(t){var e=t.getParam("content_css");return R(e)?$(e.split(","),ce):P(e)?e:!1===e||t.inline?[]:["default"]},Vd=function(t){return t.getParam("directionality",Kc.isRtl()?"rtl":void 0)},Fd=function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},jd=function(t){var e=t.getParam("object_resizing");return!1!==e&&!$e.iOS&&(R(e)?e:"table,img,figure.image,div")},Hd=function(t){return t.getParam("resize_img_proportional",!0,"boolean")},Ud=function(t){return t.getParam("placeholder",od.getAttrib(t.getElement(),"placeholder"),"string")},Wd=function(t){return t.getParam("event_root")},Gd=function(t){return t.getParam("service_message")},qd=function(t){return t.getParam("theme")},Yd=function(t){return t.getParam("validate")},Xd=function(t){return!1!==t.getParam("inline_boundaries")},Zd=function(t){return t.getParam("formats")},$d=function(t){var e=t.getParam("preview_styles",id);return R(e)?e:""},Kd=function(t){return t.getParam("format_empty_lines",!1,"boolean")},Jd=function(t){return t.getParam("custom_ui_selector","","string")},Qd=function(t){return t.getParam("theme_url")},th=function(t){return t.getParam("inline")},eh=function(t){return t.getParam("hidden_input")},nh=function(t){return t.getParam("submit_patch")},rh=function(t){return"xml"===t.getParam("encoding")},oh=function(t){return t.getParam("add_form_submit_trigger")},ih=function(t){return t.getParam("add_unload_trigger")},ah=function(t){return""!==pd(t)},uh=function(t){return t.getParam("custom_undo_redo_levels",0,"number")},sh=function(t){return t.getParam("disable_nodechange")},ch=function(t){return t.getParam("readonly")},lh=function(t){return t.getParam("content_css_cors")},fh=function(t){return t.getParam("plugins","","string")},dh=function(t){return t.getParam("external_plugins")},hh=function(t){return t.getParam("block_unsupported_drop",!0,"boolean")},ph=function(t){return t.getParam("visual",!0,"boolean")},mh=function(t){return t.getParam("visual_table_class","mce-item-table","string")},gh=function(t){return t.getParam("visual_anchor_class","mce-item-anchor","string")},vh=zr,yh=Xr,bh=function(t){var e=t.parentNode;e&&e.removeChild(t)},xh=function(t){var e=ji(t);return{count:t.length-e.length,text:e}},wh=function(t){var e;while(-1!==(e=t.data.lastIndexOf(Vi)))t.deleteData(e,1)},_h=function(t,e){return Oh(t),e},Sh=function(t,e){var n=xh(t.data.substr(0,e.offset())),r=xh(t.data.substr(e.offset())),o=n.text+r.text;return o.length>0?(wh(t),Sf(t,e.offset()-n.count)):e},Ch=function(t,e){var n=e.container(),r=Y(gt(n.childNodes),t).map((function(t){return t<e.offset()?Sf(n,e.offset()-1):e})).getOr(e);return Oh(t),r},kh=function(t,e){return yh(t)&&e.container()===t?Sh(t,e):_h(t,e)},Th=function(t,e){return e.container()===t.parentNode?Ch(t,e):_h(t,e)},Ah=function(t,e){return Sf.isTextPosition(e)?kh(t,e):Th(t,e)},Oh=function(t){vh(t)&&qi(t)&&(Yi(t)?t.removeAttribute("data-mce-caret"):bh(t)),yh(t)&&(wh(t),0===t.data.length&&bh(t))},Mh=je().browser,Dh=eo,Ih=ro,Eh=no,Rh="*[contentEditable=false],video,audio,embed,object",Nh=function(t,e,n){var r,o,i,a,u,s=Hl(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(r=t.ownerDocument.documentElement,o=t.scrollLeft||r.scrollLeft,i=t.scrollTop||r.scrollTop):(u=t.getBoundingClientRect(),o=t.scrollLeft-u.left,i=t.scrollTop-u.top),s.left+=o,s.right+=o,s.top+=i,s.bottom+=i,s.width=1,a=e.offsetWidth-e.clientWidth,a>0&&(n&&(a*=-1),s.left+=a,s.right+=a),s},Ph=function(t){for(var e=pl(gn.fromDom(t),Rh),n=0;n<e.length;n++){var r=e[n].dom,o=r.previousSibling;if(ta(o)){var i=o.data;1===i.length?o.parentNode.removeChild(o):o.deleteData(i.length-1,1)}if(o=r.nextSibling,Qi(o)){i=o.data;1===i.length?o.parentNode.removeChild(o):o.deleteData(0,1)}}},Lh=function(t,e,n,r){var o,i,a=zc(O.none()),u=pd(t),s=u.length>0?u:"p",c=function(t,r){var o,u;if(l(),Eh(r))return null;if(!n(r))return i=Xi(r,t),u=r.ownerDocument.createRange(),zh(i.nextSibling)?(u.setStart(i,0),u.setEnd(i,0)):(u.setStart(i,1),u.setEnd(i,1)),u;i=Ji(s,r,t),o=Nh(e,r,t),xc(i).css("top",o.top);var c=xc('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(e)[0];return a.set(O.some({caret:c,element:r,before:t})),a.get().each((function(e){t&&xc(e.caret).addClass("mce-visual-caret-before")})),f(),u=r.ownerDocument.createRange(),u.setStart(i,0),u.setEnd(i,0),u},l=function(){Ph(e),i&&(Oh(i),i=null),a.get().each((function(t){xc(t.caret).remove(),a.set(O.none())})),o&&(ci.clearInterval(o),o=null)},f=function(){o=ci.setInterval((function(){r()?xc("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):xc("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")}),500)},d=function(){a.get().each((function(t){var n=Nh(e,t.element,t.before);xc(t.caret).css(Ht({},n))}))},h=function(){return ci.clearInterval(o)},p=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:c,hide:l,getCss:p,reposition:d,destroy:h}},Bh=function(){return Mh.isIE()||Mh.isEdge()||Mh.isFirefox()},zh=function(t){return Dh(t)||Ih(t)},Vh=function(t){return zh(t)||Gr(t)&&Bh()},Fh=eo,jh=ro,Hh=Fr("display","block table table-cell table-caption list-item"),Uh=qi,Wh=Wi,Gh=zr,qh=da,Yh=function(t){return t>0},Xh=function(t){return t<0},Zh=function(t,e){var n;while(n=t(e))if(!Wh(n))return n;return null},$h=function(t,e,n,r,o){var i=new hi(t,r),a=Fh(t)||Wh(t);if(Xh(e)){if(a&&(t=Zh(i.prev,!0),n(t)))return t;while(t=Zh(i.prev,o))if(n(t))return t}if(Yh(e)){if(a&&(t=Zh(i.next,!0),n(t)))return t;while(t=Zh(i.next,o))if(n(t))return t}return null},Kh=function(t,e){while(t&&t!==e){if(Hh(t))return t;t=t.parentNode}return null},Jh=function(t,e,n){return Kh(t.container(),n)===Kh(e.container(),n)},Qh=function(t,e){if(!e)return null;var n=e.container(),r=e.offset();return Gh(n)?n.childNodes[r+t]:null},tp=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},ep=function(t,e,n){return Kh(e,t)===Kh(n,t)},np=function(t,e,n){var r,o;o=t?"previousSibling":"nextSibling";while(n&&n!==e){if(r=n[o],Uh(r)&&(r=r[o]),Fh(r)||jh(r)){if(ep(e,r,n))return r;break}if(qh(r))break;n=n.parentNode}return null},rp=y(tp,!0),op=y(tp,!1),ip=function(t,e,n){var r,o,i,a=y(np,!0,e),u=y(np,!1,e);o=n.startContainer;var s=n.startOffset;if(Wi(o)){if(Gh(o)||(o=o.parentNode),i=o.getAttribute("data-mce-caret"),"before"===i&&(r=o.nextSibling,Vh(r)))return rp(r);if("after"===i&&(r=o.previousSibling,Vh(r)))return op(r)}if(!n.collapsed)return n;if(Xr(o)){if(Uh(o)){if(1===t){if(r=u(o),r)return rp(r);if(r=a(o),r)return op(r)}if(-1===t){if(r=a(o),r)return op(r);if(r=u(o),r)return rp(r)}return n}if(ta(o)&&s>=o.data.length-1)return 1===t&&(r=u(o),r)?rp(r):n;if(Qi(o)&&s<=1)return-1===t&&(r=a(o),r)?op(r):n;if(s===o.data.length)return r=u(o),r?rp(r):n;if(0===s)return r=a(o),r?op(r):n}return n},ap=function(t,e){return O.from(Qh(t?0:-1,e)).filter(Fh)},up=function(t,e,n){var r=ip(t,e,n);return-1===t?wf.fromRangeStart(r):wf.fromRangeEnd(r)},sp=function(t){return O.from(t.getNode()).map(gn.fromDom)},cp=function(t){return O.from(t.getNode(!0)).map(gn.fromDom)},lp=function(t,e){while(e=t(e))if(e.isVisible())return e;return e},fp=function(t,e){var n=Jh(t,e);return!(n||!Jr(t.getNode()))||n};(function(t){t[t["Backwards"]=-1]="Backwards",t[t["Forwards"]=1]="Forwards"})(_f||(_f={}));var dp=eo,hp=Xr,pp=zr,mp=Jr,gp=da,vp=va,yp=ya,bp=function(t,e){var n=[];while(t&&t!==e)n.push(t),t=t.parentNode;return n},xp=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},wp=function(t,e){if(Yh(t)){if(gp(e.previousSibling)&&!hp(e.previousSibling))return Sf.before(e);if(hp(e))return Sf(e,0)}if(Xh(t)){if(gp(e.nextSibling)&&!hp(e.nextSibling))return Sf.after(e);if(hp(e))return Sf(e,e.data.length)}return Xh(t)?mp(e)?Sf.before(e):Sf.after(e):Sf.before(e)},_p=function(t,e){var n=e.nextSibling;return n&&gp(n)?hp(n)?Sf(n,0):Sf.before(n):Sp(_f.Forwards,Sf.after(e),t)},Sp=function(t,e,n){var r,o,i,a;if(!pp(n)||!e)return null;if(e.isEqual(Sf.after(n))&&n.lastChild){if(a=Sf.after(n.lastChild),Xh(t)&&gp(n.lastChild)&&pp(n.lastChild))return mp(n.lastChild)?Sf.before(n.lastChild):a}else a=e;var u=a.container(),s=a.offset();if(hp(u)){if(Xh(t)&&s>0)return Sf(u,--s);if(Yh(t)&&s<u.length)return Sf(u,++s);r=u}else{if(Xh(t)&&s>0&&(o=xp(u,s-1),gp(o)))return!vp(o)&&(i=$h(o,t,yp,o),i)?hp(i)?Sf(i,i.data.length):Sf.after(i):hp(o)?Sf(o,o.data.length):Sf.before(o);if(Yh(t)&&s<u.childNodes.length&&(o=xp(u,s),gp(o)))return mp(o)?_p(n,o):!vp(o)&&(i=$h(o,t,yp,o),i)?hp(i)?Sf(i,0):Sf.before(i):hp(o)?Sf(o,0):Sf.after(o);r=o||a.getNode()}if((Yh(t)&&a.isAtEnd()||Xh(t)&&a.isAtStart())&&(r=$h(r,t,S,n,!0),yp(r,n)))return wp(t,r);o=$h(r,t,yp,n);var c=jt(tt(bp(u,n),dp));return!c||o&&c.contains(o)?o?wp(t,o):null:(a=Yh(t)?Sf.after(c):Sf.before(c),a)},Cp=function(t){return{next:function(e){return Sp(_f.Forwards,e,t)},prev:function(e){return Sp(_f.Backwards,e,t)}}},kp=function(t,e,n){var r=t?Sf.before(n):Sf.after(n);return Ep(t,e,r)},Tp=function(t){return Jr(t)?Sf.before(t):Sf.after(t)},Ap=function(t){return Sf.isTextPosition(t)?0===t.offset():da(t.getNode())},Op=function(t){if(Sf.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return da(t.getNode(!0))},Mp=function(t,e){return!Sf.isTextPosition(t)&&!Sf.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Dp=function(t){return!Sf.isTextPosition(t)&&Jr(t.getNode())},Ip=function(t,e,n){return t?!Mp(e,n)&&!Dp(e)&&Op(e)&&Ap(n):!Mp(n,e)&&Ap(e)&&Op(n)},Ep=function(t,e,n){var r=Cp(e);return O.from(t?r.next(n):r.prev(n))},Rp=function(t,e,n){return Ep(t,e,n).bind((function(r){return Jh(n,r,e)&&Ip(t,n,r)?Ep(t,e,r):O.some(r)}))},Np=function(t,e,n,r){return Rp(t,e,n).bind((function(n){return r(n)?Np(t,e,n,r):O.some(n)}))},Pp=function(t,e){var n=t?e.firstChild:e.lastChild;return Xr(n)?O.some(Sf(n,t?0:n.data.length)):n?da(n)?O.some(t?Sf.before(n):Tp(n)):kp(t,e,n):O.none()},Lp=y(Ep,!0),Bp=y(Ep,!1),zp=y(Pp,!0),Vp=y(Pp,!1),Fp="_mce_caret",jp=function(t){return zr(t)&&t.id===Fp},Hp=function(t,e){while(e&&e!==t){if(e.id===Fp)return e;e=e.parentNode}return null},Up=function(t){return"string"===typeof t.start},Wp=function(t){return t.hasOwnProperty("rng")},Gp=function(t){return t.hasOwnProperty("id")},qp=function(t){return t.hasOwnProperty("name")},Yp=function(t){return ln.isArray(t.start)},Xp=function(t,e){return zr(e)&&t.isBlock(e)&&!e.innerHTML&&!$e.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},Zp=function(t,e){var n,r=t.createRng();return n=jf(t.getRoot(),e.start),r.setStart(n.container(),n.offset()),n=jf(t.getRoot(),e.end),r.setEnd(n.container(),n.offset()),r},$p=function(t,e){var n=t.ownerDocument.createTextNode(Vi);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)},Kp=function(t){return!1===t.hasChildNodes()},Jp=function(t,e){return Vp(t).fold((function(){return!1}),(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},Qp=function(t,e,n){return!(!Kp(e)||!Hp(t,e))&&($p(e,n),!0)},tm=function(t,e,n,r){var o,i,a,u,s=n[e?"start":"end"],c=t.getRoot();if(s){for(a=s[0],i=c,o=s.length-1;o>=1;o--){if(u=i.childNodes,Qp(c,i,r))return!0;if(s[o]>u.length-1)return!!Qp(c,i,r)||Jp(i,r);i=u[s[o]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),e?r.setStart(i,a):r.setEnd(i,a)}return!0},em=function(t){return Xr(t)&&t.data.length>0},nm=function(t,e,n){var r,o,i,a,u,s,c=t.get(n.id+"_"+e),l=n.keep;if(c){if(r=c.parentNode,"start"===e?(l?c.hasChildNodes()?(r=c.firstChild,o=1):em(c.nextSibling)?(r=c.nextSibling,o=0):em(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=t.nodeIndex(c)+1):o=t.nodeIndex(c),u=r,s=o):(l?c.hasChildNodes()?(r=c.firstChild,o=1):em(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=t.nodeIndex(c)):o=t.nodeIndex(c),u=r,s=o),!l){a=c.previousSibling,i=c.nextSibling,ln.each(ln.grep(c.childNodes),(function(t){Xr(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));while(c=t.get(n.id+"_"+e))t.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&Xr(a)&&!$e.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),t.remove(i),u=a,s=o)}return O.some(Sf(u,s))}return O.none()},rm=function(t,e){var n=t.createRng();return tm(t,!0,e,n)&&tm(t,!1,e,n)?O.some(n):O.none()},om=function(t,e){var n=nm(t,"start",e),r=nm(t,"end",e);return Bl(n,r.or(n),(function(e,n){var r=t.createRng();return r.setStart(Xp(t,e.container()),e.offset()),r.setEnd(Xp(t,n.container()),n.offset()),r}))},im=function(t,e){return O.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),n}))},am=function(t,e){var n=t.dom;if(e){if(Yp(e))return rm(n,e);if(Up(e))return O.some(Zp(n,e));if(Gp(e))return om(n,e);if(qp(e))return im(n,e);if(Wp(e))return O.some(e.rng)}return O.none()},um=function(t,e,n){return nd(t,e,n)},sm=function(t,e){am(t,e).each((function(e){t.setRng(e)}))},cm=function(t){return zr(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},lm=function(t){return function(e){return t===e}},fm=lm(Li),dm=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},hm=function(t){return!dm(t)&&!fm(t)},pm=function(t){return!!t.nodeType},mm=function(t){return t&&/^(IMG)$/.test(t.nodeName)},gm=function(t,e,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!mm(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(i=u.childNodes,a<i.length?(u=i[a],r=new hi(u,t.getParent(u,t.isBlock))):(u=i[i.length-1],r=new hi(u,t.getParent(u,t.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!xm(o))return n.setStart(o,0),void e.setRng(n)},vm=function(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(1===t.nodeType||!xm(t))return t}},ym=function(t,e){return pm(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},bm=function(t,e,n){return t.schema.isValidChild(e,n)},xm=function(t,e){if(void 0===e&&(e=!1),F(t)&&Xr(t)){var n=e?t.data.replace(/ /g,""):t.data;return xa(n)}return!1},wm=function(t){return F(t)&&Xr(t)&&0===t.length},_m=function(t,e){return"string"!==typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t},Sm=function(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},Cm=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},km=function(t,e,n){return Cm(t,t.getStyle(e,n),n)},Tm=function(t,e){var n;return t.getParent(e,(function(e){return n=t.getStyle(e,"text-decoration"),n&&"none"!==n})),n},Am=function(t,e,n){return t.getParents(e,n,t.getRoot())},Om=function(t,e){var n=function(t){var e=function(t){return t.length>1&&"%"===t.charAt(0)};return Z(["styles","attributes"],(function(n){return Mt(t,n).exists((function(t){var n=P(t)?t:Ot(t);return Z(n,e)}))}))};return Z(t.formatter.get(e),n)},Mm=function(t,e,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(t){return Tt(t,(function(t,e){return Z(r,(function(t){return t===e}))}))};return Z(t.formatter.get(e),(function(e){var r=o(e);return Z(t.formatter.get(n),(function(t){var e=o(t);return Et(r,e)}))}))},Dm=function(t){return It(t,"block")},Im=function(t){return It(t,"selector")},Em=function(t){return It(t,"inline")},Rm=cm,Nm=Am,Pm=xm,Lm=ym,Bm=function(t){return Jr(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},zm=function(t,e){var n=e;while(n){if(zr(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},Vm=function(t,e,n,r){for(var o=e.data,i=n;t?i>=0:i<o.length;t?i--:i++)if(r(o.charAt(i)))return t?i+1:i;return-1},Fm=function(t,e,n){return Vm(t,e,n,(function(t){return fm(t)||dm(t)}))},jm=function(t,e,n){return Vm(t,e,n,hm)},Hm=function(t,e,n,r,o,i){var a,u=t.getParent(n,t.isBlock)||e,s=function(e,n,r){var i=Pl(t),s=o?i.backwards:i.forwards;return O.from(s(e,n,(function(t,e){return Rm(t.parentNode)?-1:(a=t,r(o,t,e))}),u))},c=s(n,r,Fm);return c.bind((function(t){return i?s(t.container,t.offset+(o?-1:0),jm):O.some(t)})).orThunk((function(){return a?O.some({container:a,offset:o?0:a.length}):O.none()}))},Um=function(t,e,n,r,o){Xr(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=Nm(t,r),a=0;a<i.length;a++)for(var u=0;u<e.length;u++){var s=e[u];if((!("collapsed"in s)||s.collapsed===n.collapsed)&&t.is(i[a],s.selector))return i[a]}return r},Wm=function(t,e,n,r){var o,i=t.dom,a=i.getRoot();if(e[0].wrapper||(o=i.getParent(n,e[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(Xr(n)?n.parentNode:n,(function(e){return e!==a&&Lm(t,e)}),u)}if(o&&e[0].wrapper&&(o=Nm(i,o,"ul,ol").reverse()[0]||o),!o){o=n;while(o[r]&&!i.isBlock(o[r]))if(o=o[r],Sm(o,"br"))break}return o||n},Gm=function(t,e,n,r){var o=n.parentNode;return!F(n[r])&&(!(o!==e&&!V(o)&&!t.isBlock(o))||Gm(t,e,o,r))},qm=function(t,e,n,r,o){var i,a=n,u=o?"previousSibling":"nextSibling",s=t.getRoot();if(Xr(n)&&!Pm(n)&&(o?r>0:r<n.data.length))return n;while(1){if(!e[0].block_expand&&t.isBlock(a))return a;for(i=a[u];i;i=i[u]){var c=Xr(i)&&!Gm(t,s,i,u);if(!Rm(i)&&!Bm(i)&&!Pm(i,c))return a}if(a===s||a.parentNode===s){n=a;break}a=a.parentNode}return n},Ym=function(t){return Rm(t.parentNode)||Rm(t)},Xm=function(t,e,n,r){void 0===r&&(r=!1);var o=e.startContainer,i=e.startOffset,a=e.endContainer,u=e.endOffset,s=t.dom;if(zr(o)&&o.hasChildNodes()&&(o=Zl(o,i),Xr(o)&&(i=0)),zr(a)&&a.hasChildNodes()&&(a=Zl(a,e.collapsed?u:u-1),Xr(a)&&(u=a.nodeValue.length)),o=zm(s,o),a=zm(s,a),Ym(o)&&(o=Rm(o)?o:o.parentNode,o=e.collapsed?o.previousSibling||o:o.nextSibling||o,Xr(o)&&(i=e.collapsed?o.length:0)),Ym(a)&&(a=Rm(a)?a:a.parentNode,a=e.collapsed?a.nextSibling||a:a.previousSibling||a,Xr(a)&&(u=e.collapsed?0:a.length)),e.collapsed){var c=Hm(s,t.getBody(),o,i,!0,r);c.each((function(t){var e=t.container,n=t.offset;o=e,i=n}));var l=Hm(s,t.getBody(),a,u,!1,r);l.each((function(t){var e=t.container,n=t.offset;a=e,u=n}))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&Xr(o)&&0!==i||(o=qm(s,n,o,i,!0)),n[0].inline&&Xr(a)&&u!==a.nodeValue.length||(a=qm(s,n,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=Um(s,n,e,o,"previousSibling"),a=Um(s,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=Wm(t,n,o,"previousSibling"),a=Wm(t,n,a,"nextSibling"),n[0].block&&(s.isBlock(o)||(o=qm(s,n,o,i,!0)),s.isBlock(a)||(a=qm(s,n,a,u,!1)))),zr(o)&&(i=s.nodeIndex(o),o=o.parentNode),zr(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},Zm=function(t,e){var n=t.childNodes;return e>=n.length?e=n.length-1:e<0&&(e=0),n[e]||t},$m=function(t,e){return Zm(t,e-1)},Km=function(t,e,n){var r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset,u=function(t){var e;return e=t[0],3===e.nodeType&&e===r&&o>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===a&&t.length>0&&e===i&&3===e.nodeType&&t.splice(t.length-1,1),t},s=function(t,e,n){for(var r=[];t&&t!==n;t=t[e])r.push(t);return r},c=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},l=function(t,e,r){for(var o=r?"nextSibling":"previousSibling",i=t,a=i.parentNode;i&&i!==e;i=a){a=i.parentNode;var c=s(i===t?i:i[o],o);c.length&&(r||c.reverse(),n(u(c)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=Zm(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=$m(i,a)),r===i)return n(u([r]));for(var f=t.findCommonAncestor(r,i),d=r;d;d=d.parentNode){if(d===i)return l(r,f,!0);if(d===f)break}for(d=i;d;d=d.parentNode){if(d===r)return l(i,f);if(d===f)break}var h=c(r,f)||r,p=c(i,f)||i;l(r,h,!0);var m=s(h===r?h:h.nextSibling,"nextSibling",p===i?p.nextSibling:p);m.length&&n(u(m)),l(i,p)},Jm=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},Qm=function(t){return ut(t,(function(t){var e=Xl(t);return e?[gn.fromDom(e)]:[]}))},tg=function(t){return Jm(t).length>1},eg=function(t){return tt(Qm(t),Ei)},ng=function(t){return pl(t,"td[data-mce-selected],th[data-mce-selected]")},rg=function(t,e){var n=ng(e);return n.length>0?n:eg(t)},og=function(t){return rg(Jm(t.selection.getSel()),gn.fromDom(t.getBody()))},ig=function(t){var e=t.startContainer,n=t.startOffset;return Xr(e)?0===n?O.some(gn.fromDom(e)):O.none():O.from(e.childNodes[n]).map(gn.fromDom)},ag=function(t){var e=t.endContainer,n=t.endOffset;return Xr(e)?n===e.data.length?O.some(gn.fromDom(e)):O.none():O.from(e.childNodes[n-1]).map(gn.fromDom)},ug=function(t){return tr(t).fold(g([t]),(function(e){return[t].concat(ug(e))}))},sg=function(t){return er(t).fold(g([t]),(function(e){return"br"===Rn(e)?Xn(e).map((function(e){return[t].concat(sg(e))})).getOr([]):[t].concat(sg(e))}))},cg=function(t,e){return Bl(ig(e),ag(e),(function(e,n){var r=ot(ug(t),y(Mn,e)),o=ot(sg(t),y(Mn,n));return r.isSome()&&o.isSome()})).getOr(!1)},lg=function(t,e,n,r){var o=n,i=new hi(n,o),a=Tt(t.schema.getMoveCaretBeforeOnEnterElements(),(function(t,e){return!X(["td","th","table"],e.toLowerCase())}));do{if(Xr(n)&&0!==ln.trim(n.nodeValue).length)return void(r?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},fg=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},dg=function(t,e){var n=og(t);n.length>0?K(n,(function(n){var r=n.dom,o=t.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),e(o,!0)})):e(t.selection.getRng(),!1)},hg=function(t,e,n){var r=ed(t,e);n(r),t.moveToBookmark(r)};function pg(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?O.from(e.dom.nodeValue):O.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}}var mg=pg(zn,"text"),gg=function(t){return mg.get(t)},vg=function(t){return zn(t)&&gg(t)===Vi},yg=function(t,e,n,r){return Gn(e).fold((function(){return"skipping"}),(function(o){return"br"===r||vg(e)?"valid":bl(e)?"existing":jp(e.dom)?"caret":bm(t,n,r)&&bm(t,Rn(o),n)?"valid":"invalid-child"}))},bg=function(t,e){var n=Xm(t,e,[{inline:!0}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)},xg=function(t,e,n,r){var o=e.uid,i=void 0===o?Tl("mce-annotation"):o,a=Ut(e,["uid"]),u=gn.fromTag("span",t);cl(u,ml()),ao(u,""+vl(),i),ao(u,""+gl(),n);var s=r(i,a),c=s.attributes,l=void 0===c?{}:c,f=s.classes,d=void 0===f?[]:f;return uo(u,l),Al(u,d),u},wg=function(t,e,n,r,o){var i=[],a=xg(t.getDoc(),o,n,r),u=zc(O.none()),s=function(){u.set(O.none())},c=function(){return u.get().getOrThunk((function(){var t=El(a);return i.push(t),u.set(O.some(t)),t}))},l=function(t){K(t,f)},f=function(e){var n=yg(t,e,"span",Rn(e));switch(n){case"invalid-child":s();var r=Jn(e);l(r),s();break;case"valid":var o=c();vr(e,o);break}},d=function(t){var e=$(t,gn.fromDom);l(e)};return Km(t.dom,e,(function(t){s(),d(t)})),i},_g=function(t,e,n,r){t.undoManager.transact((function(){var o=t.selection,i=o.getRng(),a=og(t).length>0;if(i.collapsed&&!a&&bg(t,i),o.getRng().collapsed&&!a){var u=xg(t.getDoc(),r,e,n.decorate);Dl(u,Li),o.getRng().insertNode(u.dom),o.select(u.dom)}else hg(o,!1,(function(){dg(t,(function(o){wg(t,o,e,n.decorate,r)}))}))}))},Sg=function(t){var e=Cl();Sl(t,e);var n=_l(t);return{register:function(t,n){e.register(t,n)},annotate:function(n,r){e.lookup(n).each((function(e){_g(t,n,e,r)}))},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(e){yl(t,O.some(e)).each((function(t){var e=t.elements;K(e,_r)}))},getAll:function(e){var n=wl(t,e);return wt(n,(function(t){return $(t,(function(t){return t.dom}))}))}}};function Cg(t){return{getBookmark:y(um,t),moveToBookmark:y(sm,t)}}(function(t){t.isBookmarkNode=cm})(Cg||(Cg={}));var kg=Cg,Tg=function(t,e){while(e&&e!==t){if(to(e)||eo(e))return e;e=e.parentNode}return null},Ag=function(t,e,n){if(n.collapsed)return!1;if($e.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(zr(r))return Z(r.getClientRects(),(function(n){return Yl(n,t,e)}))}return Z(n.getClientRects(),(function(n){return Yl(n,t,e)}))},Og=function(t,e){return t.fire("PreProcess",e)},Mg=function(t,e){return t.fire("PostProcess",e)},Dg=function(t){return t.fire("remove")},Ig=function(t){return t.fire("detach")},Eg=function(t,e){return t.fire("SwitchMode",{mode:e})},Rg=function(t,e,n,r,o){t.fire("ObjectResizeStart",{target:e,width:n,height:r,origin:o})},Ng=function(t,e,n,r,o){t.fire("ObjectResized",{target:e,width:n,height:r,origin:o})},Pg=function(t){return t.fire("PreInit")},Lg=function(t){return t.fire("PostRender")},Bg=function(t){return t.fire("Init")},zg=function(t,e){return t.fire("PlaceholderToggle",{state:e})},Vg=function(t,e,n){return t.fire(e,n)},Fg={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return $e.mac?t.metaKey:t.ctrlKey&&!t.altKey}},jg=eo,Hg=function(t,e){var n,r,o,i,a,u,s,c,l,f,d,h,p,m,g,v,y=e.dom,b=ln.each,x=e.getDoc(),w=document,_=Math.abs,S=Math.round,C=e.getBody(),k={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},T=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},A=function(t,e){if("longpress"===t.type||0===t.type.indexOf("touch")){var n=t.touches[0];return T(t.target)&&!Ag(n.clientX,n.clientY,e)}return T(t.target)&&!Ag(t.clientX,t.clientY,e)},O=function(t){var n=t.target;A(t,e.selection.getRng())&&!t.isDefaultPrevented()&&e.selection.select(n)},M=function(t){return e.dom.is(t,"figure.image")?t.querySelector("img"):t},D=function(t){var n=jd(e);return!!n&&("false"!==t.getAttribute("data-mce-resize")&&(t!==e.getBody()&&kn(gn.fromDom(t),n)))},I=function(t,e,n){y.setStyles(M(t),{width:e,height:n})},E=function(t){var b,x,w,k,A;b=t.screenX-a,x=t.screenY-u,p=b*i[2]+l,m=x*i[3]+f,p=p<5?5:p,m=m<5?5:m,w=T(n)&&!1!==Hd(e)?!Fg.modifierPressed(t):Fg.modifierPressed(t),w&&(_(b)>_(x)?(m=S(p*d),p=S(m/d)):(p=S(m/d),m=S(p*d))),I(r,p,m),k=i.startPos.x+b,A=i.startPos.y+x,k=k>0?k:0,A=A>0?A:0,y.setStyles(o,{left:k,top:A,display:"block"}),o.innerHTML=p+" &times; "+m,i[2]<0&&r.clientWidth<=p&&y.setStyle(r,"left",s+(l-p)),i[3]<0&&r.clientHeight<=m&&y.setStyle(r,"top",c+(f-m)),b=C.scrollWidth-g,x=C.scrollHeight-v,b+x!==0&&y.setStyles(o,{left:k-b,top:A-x}),h||(Rg(e,n,l,f,"corner-"+i.name),h=!0)},R=function(){var t=h;h=!1;var a=function(t,r){r&&(n.style[t]||!e.schema.isValid(n.nodeName.toLowerCase(),t)?y.setStyle(M(n),t,r):y.setAttrib(M(n),t,""+r))};t&&(a("width",p),a("height",m)),y.unbind(x,"mousemove",E),y.unbind(x,"mouseup",R),w!==x&&(y.unbind(w,"mousemove",E),y.unbind(w,"mouseup",R)),y.remove(r),y.remove(o),N(n),t&&(Ng(e,n,p,m,"corner-"+i.name),y.setAttrib(n,"style",y.getAttrib(n,"style"))),e.nodeChanged()},N=function(t){P(),z();var s=y.getPos(t,C),c=s.x,h=s.y,_=t.getBoundingClientRect(),S=_.width||_.right-_.left,T=_.height||_.bottom-_.top;n!==t&&(n=t,p=m=0);var A=e.fire("ObjectSelected",{target:t});D(t)&&!A.isDefaultPrevented()?b(k,(function(t,e){var s,p=function(s){a=s.screenX,u=s.screenY,l=M(n).clientWidth,f=M(n).clientHeight,d=f/l,i=t,i.name=e,i.startPos={x:S*t[0]+c,y:T*t[1]+h},g=C.scrollWidth,v=C.scrollHeight,r=n.cloneNode(!0),y.addClass(r,"mce-clonedresizable"),y.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,y.setStyles(r,{left:c,top:h,margin:0}),I(r,S,T),r.removeAttribute("data-mce-selected"),C.appendChild(r),y.bind(x,"mousemove",E),y.bind(x,"mouseup",R),w!==x&&(y.bind(w,"mousemove",E),y.bind(w,"mouseup",R)),o=y.add(C,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},l+" &times; "+f)};s=y.get("mceResizeHandle"+e),s&&y.remove(s),s=y.add(C,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===$e.ie&&(s.contentEditable=!1),y.bind(s,"mousedown",(function(t){t.stopImmediatePropagation(),t.preventDefault(),p(t)})),t.elm=s,y.setStyles(s,{left:S*t[0]+c-s.offsetWidth/2,top:T*t[1]+h-s.offsetHeight/2})})):P(),n.setAttribute("data-mce-selected","1")},P=function(){z(),n&&n.removeAttribute("data-mce-selected"),xt(k,(function(t,e){var n=y.get("mceResizeHandle"+e);n&&(y.unbind(n),y.remove(n))}))},L=function(n){var r,o,i=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};h||e.removed||(b(y.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),o="mousedown"===n.type?n.target:t.getNode(),o=y.$(o).closest("table,img,figure.image,hr")[0],i(o,C)&&(V(),r=t.getStart(!0),i(r,o)&&i(t.getEnd(!0),o))?N(o):P())},B=function(t){return jg(Tg(e.getBody(),t))},z=function(){xt(k,(function(t){t.elm&&(y.unbind(t.elm),delete t.elm)}))},V=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(t){}};e.on("init",(function(){if(V(),$e.browser.isIE()||$e.browser.isEdge()){e.on("mousedown click",(function(t){var n=t.target,r=n.nodeName;h||!/^(TABLE|IMG|HR)$/.test(r)||B(n)||(2!==t.button&&e.selection.select(n,"TABLE"===r),"mousedown"===t.type&&e.nodeChanged())}));var t=function(t){var n=function(t){ci.setEditorTimeout(e,(function(){return e.selection.select(t)}))};if(B(t.target)||ro(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))};y.bind(C,"mscontrolselect",t),e.on("remove",(function(){return y.unbind(C,"mscontrolselect",t)}))}var r=ci.throttle((function(t){e.composing||L(t)}));e.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),e.on("keyup compositionend",(function(t){n&&"TABLE"===n.nodeName&&r(t)})),e.on("hide blur",P),e.on("contextmenu longpress",O,!0)})),e.on("remove",z);var F=function(){n=r=null};return{isResizable:D,showResizeRect:N,hideResizeRect:P,updateResizeRect:L,destroy:F}},Ug=function(t){return to(t)||eo(t)},Wg=function(t,e,n){while(t&&t!==e){if(n(t))return t;t=t.parentNode}return null},Gg=function(t,e,n){var r,o=n.elementFromPoint(t,e),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),r=ln.toArray(i.getClientRects()),r=r.sort((function(t,n){return t=Math.abs(Math.max(t.top-e,t.bottom-e)),n=Math.abs(Math.max(n.top-e,n.bottom-e)),t-n})),r.length>0){e=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(t,e),i.collapse(!0),i}catch(a){}}return null},qg=function(t,e){var n=t&&t.parentElement?t.parentElement():null;return eo(Wg(n,e,Ug))?null:t},Yg=function(t,e,n){var r,o,i=n;if(i.caretPositionFromPoint)o=i.caretPositionFromPoint(t,e),o&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(t,e);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(t,e),r.collapse(!0)}catch(a){r=Gg(t,e,n)}return qg(r,n.body)}return r},Xg=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},Zg=function(t,e,n){while(t&&t!==e){if(n(t))return t;t=t.parentNode}return null},$g=function(t,e,n){return null!==Zg(t,e,n)},Kg=function(t,e,n){return $g(t,e,(function(t){return t.nodeName===n}))},Jg=function(t){return t&&"TABLE"===t.nodeName},Qg=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},tv=function(t,e){return qi(t)&&!1===$g(t,e,jp)},ev=function(t,e,n){var r=new hi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());while(e=r[n?"prev":"next"]())if(Jr(e))return!0},nv=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},rv=function(t,e){while(e&&e!==t){if(eo(e))return!0;e=e.parentNode}return!1},ov=function(t,e,n,r,o){var i,a,u=t.getRoot(),s=t.schema.getNonEmptyElements(),c=t.getParent(o.parentNode,t.isBlock)||u;if(r&&Jr(o)&&e&&t.isEmpty(c))return O.some(wf(o.parentNode,t.nodeIndex(o)));var l=new hi(o,c);while(a=l[r?"prev":"next"]()){if("false"===t.getContentEditableParent(a)||tv(a,u))return O.none();if(Xr(a)&&a.nodeValue.length>0)return!1===Kg(a,u,"A")?O.some(wf(a,r?a.nodeValue.length:0)):O.none();if(t.isBlock(a)||s[a.nodeName.toLowerCase()])return O.none();i=a}return n&&i?O.some(wf(i,0)):O.none()},iv=function(t,e,n,r){var o,i,a,u,s=t.getRoot(),c=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=zr(o)&&i===o.childNodes.length,f=t.schema.getNonEmptyElements();if(u=n,qi(o))return O.none();if(zr(o)&&i>o.childNodes.length-1&&(u=!1),$r(o)&&(o=s,i=0),o===s){if(u&&(a=o.childNodes[i>0?i-1:0],a)){if(qi(a))return O.none();if(f[a.nodeName]||Jg(a))return O.none()}if(o.hasChildNodes()){if(i=Math.min(!u&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Xr(o)&&l?o.data.length:0,!e&&o===s.lastChild&&Jg(o))return O.none();if(rv(s,o)||qi(o))return O.none();if(o.hasChildNodes()&&!1===Jg(o)){a=o;var d=new hi(o,s);do{if(eo(a)||qi(a)){c=!1;break}if(Xr(a)&&a.nodeValue.length>0){i=u?0:a.nodeValue.length,o=a,c=!0;break}if(f[a.nodeName.toLowerCase()]&&!Qg(a)){i=t.nodeIndex(a),o=a.parentNode,u||i++,c=!0;break}}while(a=u?d.next():d.prev())}}}return e&&(Xr(o)&&0===i&&ov(t,l,e,!0,o).each((function(t){o=t.container(),i=t.offset(),c=!0})),zr(o)&&(a=o.childNodes[i],a||(a=o.childNodes[i-1]),!a||!Jr(a)||nv(a,"A")||ev(t,a,!1)||ev(t,a,!0)||ov(t,l,e,!0,a).each((function(t){o=t.container(),i=t.offset(),c=!0})))),u&&!e&&Xr(o)&&i===o.nodeValue.length&&ov(t,l,e,!1,o).each((function(t){o=t.container(),i=t.offset(),c=!0})),c?O.some(wf(o,i)):O.none()},av=function(t,e){var n=e.collapsed,r=e.cloneRange(),o=wf.fromRangeStart(e);return iv(t,n,!0,r).each((function(t){n&&wf.isAbove(o,t)||r.setStart(t.container(),t.offset())})),n||iv(t,n,!1,r).each((function(t){r.setEnd(t.container(),t.offset())})),n&&r.collapse(!0),Xg(e,r)?O.none():O.some(r)},uv=function(t,e){return t.splitText(e)},sv=function(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset;return e===r&&Xr(e)?n>0&&n<e.nodeValue.length&&(r=uv(e,n),e=r.previousSibling,o>n?(o-=n,e=r=uv(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(Xr(e)&&n>0&&n<e.nodeValue.length&&(e=uv(e,n),n=0),Xr(r)&&o>0&&o<r.nodeValue.length&&(r=uv(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:e,startOffset:n,endContainer:r,endOffset:o}};function cv(t){var e=function(e,n){return Km(t,e,n)},n=sv,r=function(e){return av(t,e).fold(_,(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))};return{walk:e,split:n,normalize:r}}(function(t){t.compareRanges=Xg,t.getCaretRangeFromPoint=Yg,t.getSelectedNode=Xl,t.getNode=Zl})(cv||(cv={}));var lv=cv;function fv(t,e){var n=function(e,n){if(!H(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;oo(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=go(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return nt(e,(function(e,n){var r=go(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)},a=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}}var dv,hv=fv("height",(function(t){var e=t.dom;return Sr(t)?e.getBoundingClientRect().height:e.offsetHeight})),pv=function(t){return hv.get(t)},mv=function(t,e){var n=t.view(e);return n.fold(g([]),(function(e){var n=t.owner(e),r=mv(t,n);return[e].concat(r)}))},gv=function(t,e){var n=e.owner(t);return mv(e,n)},vv=function(t){var e,n=t.dom===document?O.none():O.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement);return n.map(gn.fromDom)},yv=function(t){return Hn(t)},bv=Object.freeze({__proto__:null,view:vv,owner:yv}),xv=function(t){var e=gn.fromDom(document),n=Dr(e),r=gv(t,bv),o=Mr(t),i=et(r,(function(t,e){var n=Mr(e);return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0});return kr(i.left+o.left+n.left,i.top+o.top+n.top)},wv=function(t){return"textarea"===Rn(t)},_v=function(t,e){var n=t.fire("ScrollIntoView",e);return n.isDefaultPrevented()},Sv=function(t,e){t.fire("AfterScrollIntoView",e)},Cv=function(t,e){var n=Jn(t);if(0===n.length||wv(t))return{element:t,offset:e};if(e<n.length&&!wv(n[e]))return{element:n[e],offset:0};var r=n[n.length-1];return wv(r)?{element:t,offset:e}:"img"===Rn(r)?{element:r,offset:1}:zn(r)?{element:r,offset:gg(r).length}:{element:r,offset:Jn(r).length}},kv=function(t,e){var n=Or(t),r=pv(t);return{element:t,bottom:n.top+r,height:r,pos:n,cleanup:e}},Tv=function(t,e){var n=Cv(t,e),r=gn.fromHtml('<span data-mce-bogus="all">'+Vi+"</span>");return hr(n.element,r),kv(r,(function(){return wr(r)}))},Av=function(t){return kv(gn.fromDom(t),h)},Ov=function(t,e,n,r){Ev(t,(function(o,i){return Dv(t,e,n,r)}),n)},Mv=function(t,e,n,r,o){var i={elm:r.element.dom,alignToTop:o};if(!_v(t,i)){var a=Dr(e).top;n(e,a,r,o),Sv(t,i)}},Dv=function(t,e,n,r){var o=gn.fromDom(t.getBody()),i=gn.fromDom(t.getDoc());xo(o);var a=Tv(gn.fromDom(n.startContainer),n.startOffset);Mv(t,i,e,a,r),a.cleanup()},Iv=function(t,e,n,r){var o=gn.fromDom(t.getDoc());Mv(t,o,n,Av(e),r)},Ev=function(t,e,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;e(gn.fromDom(r),gn.fromDom(i));var u=t.dom.createRng();u.setStart(r,o),u.setEnd(i,a),t.selection.setRng(n)},Rv=function(t,e,n,r){var o=t.pos;if(n)Ir(o.left,o.top,r);else{var i=o.top-e+t.height;Ir(o.left,i,r)}},Nv=function(t,e,n,r,o){var i=n+e,a=r.pos.top,u=r.bottom,s=u-a>=n;if(a<e)Rv(r,n,!1!==o,t);else if(a>i){var c=s?!1!==o:!0===o;Rv(r,n,c,t)}else u>i&&!s&&Rv(r,n,!0===o,t)},Pv=function(t,e,n,r){var o=t.dom.defaultView.innerHeight;Nv(t,e,o,n,r)},Lv=function(t,e,n,r){var o=t.dom.defaultView.innerHeight;Nv(t,e,o,n,r);var i=xv(n.element),a=Pr(window);i.top<a.y?Er(n.element,!1!==r):i.top>a.bottom&&Er(n.element,!0===r)},Bv=function(t,e,n){return Ov(t,Pv,e,n)},zv=function(t,e,n){return Iv(t,e,Pv,n)},Vv=function(t,e,n){return Ov(t,Lv,e,n)},Fv=function(t,e,n){return Iv(t,e,Lv,n)},jv=function(t,e,n){var r=t.inline?zv:Fv;r(t,e,n)},Hv=function(t,e,n){var r=t.inline?Bv:Vv;r(t,e,n)},Uv=function(){return gn.fromDom(document)},Wv=function(t){return t.dom.focus()},Gv=function(t){var e=ur(t).dom;return t.dom===e.activeElement},qv=function(t){return void 0===t&&(t=Uv()),O.from(t.dom.activeElement).map(gn.fromDom)},Yv=function(t){return qv(ur(t)).filter((function(e){return t.dom.contains(e.dom)}))},Xv=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},Zv={create:Xv},$v=Wo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Kv=function(t,e,n,r){return t.fold(e,n,r)},Jv=function(t){return t.fold(v,v,v)},Qv=$v.before,ty=$v.on,ey=$v.after,ny={before:Qv,on:ty,after:ey,cata:Kv,getStart:Jv},ry=Wo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),oy=function(t){return ry.exact(t.start,t.soffset,t.finish,t.foffset)},iy=function(t){return t.match({domRange:function(t){return gn.fromDom(t.startContainer)},relative:function(t,e){return ny.getStart(t)},exact:function(t,e,n,r){return t}})},ay=ry.domRange,uy=ry.relative,sy=ry.exact,cy=function(t){var e=iy(t);return Wn(e)},ly=Zv.create,fy={domRange:ay,relative:uy,exact:sy,exactFromRange:oy,getWin:cy,range:ly},dy=je().browser,hy=function(t,e){var n=zn(e)?gg(e).length:Jn(e).length+1;return t>n?n:t<0?0:t},py=function(t){return fy.range(t.start,hy(t.soffset,t.start),t.finish,hy(t.foffset,t.finish))},my=function(t,e){return!Br(e.dom)&&(En(t,e)||Mn(t,e))},gy=function(t){return function(e){return my(t,e.start)&&my(t,e.finish)}},vy=function(t){return!0===t.inline||dy.isIE()},yy=function(t){return fy.range(gn.fromDom(t.startContainer),t.startOffset,gn.fromDom(t.endContainer),t.endOffset)},by=function(t){var e=t.getSelection(),n=e&&0!==e.rangeCount?O.from(e.getRangeAt(0)):O.none();return n.map(yy)},xy=function(t){var e=Wn(t);return by(e.dom).filter(gy(t))},wy=function(t,e){return O.from(e).filter(gy(t)).map(py)},_y=function(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),O.some(e)}catch(n){return O.none()}},Sy=function(t){var e=vy(t)?xy(gn.fromDom(t.getBody())):O.none();t.bookmark=e.isSome()?e:t.bookmark},Cy=function(t,e){var n=gn.fromDom(t.getBody()),r=vy(t)?O.from(e):O.none(),o=r.map(yy).filter(gy(n));t.bookmark=o.isSome()?o:t.bookmark},ky=function(t){var e=t.bookmark?t.bookmark:O.none();return e.bind((function(e){return wy(gn.fromDom(t.getBody()),e)})).bind(_y)},Ty=function(t){ky(t).each((function(e){return t.selection.setRng(e)}))},Ay=function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")},Oy={isEditorUIElement:Ay},My=function(t){return"nodechange"===t.type&&t.selectionChange},Dy=function(t,e){var n=function(){e.throttle()};Mc.DOM.bind(document,"mouseup",n),t.on("remove",(function(){Mc.DOM.unbind(document,"mouseup",n)}))},Iy=function(t){t.on("focusout",(function(){Sy(t)}))},Ey=function(t,e){t.on("mouseup touchend",(function(t){e.throttle()}))},Ry=function(t,e){var n=je().browser;n.isIE()?Iy(t):Ey(t,e),t.on("keyup NodeChange",(function(e){My(e)||Sy(t)}))},Ny=function(t){var e=tl((function(){Sy(t)}),0);t.on("init",(function(){t.inline&&Dy(t,e),Ry(t,e)})),t.on("remove",(function(){e.cancel()}))},Py=Mc.DOM,Ly=function(t){return Oy.isEditorUIElement(t)},By=function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},zy=function(t,e){var n=Jd(t),r=Py.getParent(e,(function(e){return Ly(e)||!!n&&t.dom.is(e,n)}));return null!==r},Vy=function(t){try{var e=ur(gn.fromDom(t.getElement()));return qv(e).fold((function(){return document.body}),(function(t){return t.dom}))}catch(n){return document.body}},Fy=function(t,e){var n=e.editor;Ny(n),n.on("focusin",(function(){var e=this,n=t.focusedEditor;n!==e&&(n&&n.fire("blur",{focusedEditor:e}),t.setActive(e),t.focusedEditor=e,e.fire("focus",{blurredEditor:n}),e.focus(!0))})),n.on("focusout",(function(){var e=this;ci.setEditorTimeout(e,(function(){var n=t.focusedEditor;zy(e,Vy(e))||n!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),dv||(dv=function(e){var n=t.activeEditor;n&&fr(e).each((function(e){e.ownerDocument===document&&(e===document.body||zy(n,e)||t.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null))}))},Py.bind(document,"focusin",dv))},jy=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(Py.unbind(document,"focusin",dv),dv=null)},Hy=function(t){t.on("AddEditor",y(Fy,t)),t.on("RemoveEditor",y(jy,t))},Uy=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))},Wy=function(t){return t.collapsed?O.from(Zl(t.startContainer,t.startOffset)).map(gn.fromDom):O.none()},Gy=function(t,e){return Wy(e).bind((function(e){return Ii(e)?O.some(e):!1===En(t,e)?O.some(t):O.none()}))},qy=function(t,e){Gy(gn.fromDom(t.getBody()),e).bind((function(t){return zp(t.dom)})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},Yy=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Xy=function(t){return Gv(t)||Yv(t).isSome()},Zy=function(t){return t.iframeElement&&Gv(gn.fromDom(t.iframeElement))},$y=function(t){var e=t.getBody();return e&&Xy(gn.fromDom(e))},Ky=function(t){return qv().filter((function(e){return!By(e.dom)&&zy(t,e.dom)})).isSome()},Jy=function(t){return t.inline?$y(t):Zy(t)},Qy=function(t){return Jy(t)||Ky(t)},tb=function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===Jy(t)&&ky(t).each((function(e){t.selection.setRng(e),r=e}));var o=Uy(t,e.getNode());if(t.$.contains(n,o))return Yy(o),qy(t,r),void eb(t);t.inline||($e.opera||Yy(n),t.getWin().focus()),($e.gecko||t.inline)&&(Yy(n),qy(t,r)),eb(t)},eb=function(t){return t.editorManager.setActive(t)},nb=function(t,e){t.removed||(e?eb(t):tb(t))},rb=function(t,e,n,r,o){var i=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;return O.from(i).map(gn.fromDom).map((function(t){return r&&e.collapsed?t:Qn(t,o(t,a)).getOr(t)})).bind((function(t){return Bn(t)?O.some(t):Gn(t).filter(Bn)})).map((function(t){return t.dom})).getOr(t)},ob=function(t,e,n){return rb(t,e,!0,n,(function(t,e){return Math.min(nr(t),e)}))},ib=function(t,e,n){return rb(t,e,!1,n,(function(t,e){return e>0?e-1:e}))},ab=function(t,e){var n=t;while(t&&Xr(t)&&0===t.length)t=e?t.nextSibling:t.previousSibling;return t||n},ub=function(t,e){var n,r,o;if(!e)return t;r=e.startContainer,o=e.endContainer;var i=e.startOffset,a=e.endOffset;return n=e.commonAncestorContainer,!e.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?ab(r.nextSibling,!0):r.parentNode,o=0===a?ab(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n},sb=function(t,e,n,r){var o,i=[],a=t.getRoot();if(n=t.getParent(n||ob(a,e,e.collapsed),t.isBlock),r=t.getParent(r||ib(a,e,e.collapsed),t.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;var u=new hi(n,a);while((o=u.next())&&o!==r)t.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i},cb=function(t,e,n){return O.from(e).map((function(e){var r=t.nodeIndex(e),o=t.createRng();return o.setStart(e.parentNode,r),o.setEnd(e.parentNode,r+1),n&&(lg(t,o,e,!0),lg(t,o,e,!1)),o}))},lb=function(t,e){return $(e,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},fb=function(t){return j(t)?t:_},db=function(t,e,n){var r=t.dom,o=fb(n);while(r.parentNode){r=r.parentNode;var i=gn.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return O.none()},hb=function(t,e,n){var r=e(t),o=fb(n);return r.orThunk((function(){return o(t)?O.none():db(t,e,o)}))},pb=Sm,mb=function(t,e,n){var r=t.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&t.dom.is(e,r[o].selector))return!0;return!1},gb=function(t,e,n,r){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,(function(e){return!!mb(t,e,n)||(e.parentNode===o||!!bb(t,e,n,r,!0))})),bb(t,e,n,r))},vb=function(t,e,n){return!!pb(e,n.inline)||(!!pb(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0))},yb=function(t,e,n,r,o,i){var a,u,s,c=n[r];if(n.onmatch)return n.onmatch(e,n,r);if(c)if("undefined"===typeof c.length){for(a in c)if(c.hasOwnProperty(a)){if(u="attributes"===r?t.getAttrib(e,a):km(t,e,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!pb(u,Cm(t,_m(c[a],i),a)))return}}else for(s=0;s<c.length;s++)if("attributes"===r?t.getAttrib(e,c[s]):km(t,e,c[s]))return n;return n},bb=function(t,e,n,r,o){var i,a,u,s,c=t.formatter.get(n),l=t.dom;if(c&&e)for(a=0;a<c.length;a++)if(i=c[a],vb(t.dom,e,i)&&yb(l,e,i,"attributes",o,r)&&yb(l,e,i,"styles",o,r)){if(s=i.classes)for(u=0;u<s.length;u++)if(!t.dom.hasClass(e,s[u]))return;return i}},xb=function(t,e,n,r){if(r)return gb(t,r,e,n);if(r=t.selection.getNode(),gb(t,r,e,n))return!0;var o=t.selection.getStart();return!(o===r||!gb(t,o,e,n))},wb=function(t,e,n){var r=[],o={},i=t.selection.getStart();return t.dom.getParent(i,(function(i){for(var a=0;a<e.length;a++){var u=e[a];!o[u]&&bb(t,i,u,n)&&(o[u]=!0,r.push(u))}}),t.dom.getRoot()),r},_b=function(t,e){var n=function(e){return Mn(e,gn.fromDom(t.getBody()))},r=function(e,n){return bb(t,e.dom,n)?O.some(n):O.none()};return O.from(t.selection.getStart(!0)).bind((function(t){return hb(gn.fromDom(t),(function(t){return vt(e,(function(e){return r(t,e)}))}),n)})).getOrNull()},Sb=function(t,e){var n,r,o,i,a,u=t.formatter.get(e),s=t.dom;if(u)for(n=t.selection.getStart(),r=Am(s,n),i=u.length-1;i>=0;i--){if(a=u[i].selector,!a||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(s.is(r[o],a))return!0}return!1},Cb=function(t,e,n){return nt(n,(function(n,r){var o=Om(t,r);return t.formatter.matchNode(e,r,{},o)?n.concat([r]):n}),[])},kb={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Tb=function(t,e,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[r])return t[r];if(t!==e){var i=t[o];if(i)return i;for(var a=t.parent;a&&a!==e;a=a.parent)if(i=a[o],i)return i}},Ab=function(t){if(!xa(t.value))return!1;var e=t.parent;return!e||"span"===e.name&&!e.attr("style")||!/^[ ]+$/.test(t.value)},Ob=function(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},Mb=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var r=new t(e,kb[e]||1);return n&&xt(n,(function(t,e){r.attr(e,t)})),r},t.prototype.replace=function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},t.prototype.attr=function(t,e){var n,r=this;if("string"!==typeof t)return void 0!==t&&null!==t&&xt(t,(function(t,e){r.attr(e,t)})),r;if(n=r.attributes){if(void 0!==e){if(null===e){if(t in n.map){delete n.map[t];var o=n.length;while(o--)if(n[o].name===t)return n.splice(o,1),r}return r}if(t in n.map){o=n.length;while(o--)if(n[o].name===t){n[o].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}return n.map[t]}},t.prototype.clone=function(){var e,n=this,r=new t(n.name,n.type);if(e=n.attributes){var o=[];o.map={};for(var i=0,a=e.length;i<a;i++){var u=e[i];"id"!==u.name&&(o[o.length]={name:u.name,value:u.value},o.map[u.name]=u.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},t.prototype.wrap=function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},t.prototype.unwrap=function(){for(var t=this,e=t.firstChild;e;){var n=e.next;t.insert(e,t,!0),e=n}t.remove()},t.prototype.remove=function(){var t=this,e=t.parent,n=t.next,r=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):r.next=n,e.lastChild===t?(e.lastChild=r,r&&(r.next=null)):n.prev=r,t.parent=t.next=t.prev=null),t},t.prototype.append=function(t){var e=this;t.parent&&t.remove();var n=e.lastChild;return n?(n.next=t,t.prev=n,e.lastChild=t):e.lastChild=e.firstChild=t,t.parent=e,t},t.prototype.insert=function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===r.lastChild?r.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=r,t},t.prototype.getAll=function(t){for(var e=this,n=[],r=e.firstChild;r;r=Tb(r,e))r.name===t&&n.push(r);return n},t.prototype.empty=function(){var t=this;if(t.firstChild){for(var e=[],n=t.firstChild;n;n=Tb(n,t))e.push(n);var r=e.length;while(r--){n=e[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return t.firstChild=t.lastChild=null,t},t.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var r=this,o=r.firstChild;if(Ob(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(t[o.name])return!1;if(Ob(o))return!1}if(8===o.type)return!1;if(3===o.type&&!Ab(o))return!1;if(3===o.type&&o.parent&&e[o.parent.name]&&xa(o.value))return!1;if(n&&n(o))return!1}while(o=Tb(o,r));return!0},t.prototype.walk=function(t){return Tb(this,null,t)},t}(),Db=ln.makeMap,Ib=function(t){var e=[];t=t||{};var n=t.indent,r=Db(t.indent_before||""),o=Db(t.indent_after||""),i=eu.getEncodeFunc(t.entity_encoding||"raw",t.entities),a="html"===t.element_format;return{start:function(t,u,s){var c,l,f,d;if(n&&r[t]&&e.length>0&&(d=e[e.length-1],d.length>0&&"\n"!==d&&e.push("\n")),e.push("<",t),u)for(c=0,l=u.length;c<l;c++)f=u[c],e.push(" ",f.name,'="',i(f.value,!0),'"');e[e.length]=!s||a?">":" />",s&&n&&o[t]&&e.length>0&&(d=e[e.length-1],d.length>0&&"\n"!==d&&e.push("\n"))},end:function(t){var r;e.push("</",t,">"),n&&o[t]&&e.length>0&&(r=e[e.length-1],r.length>0&&"\n"!==r&&e.push("\n"))},text:function(t,n){t.length>0&&(e[e.length]=n?t:i(t))},cdata:function(t){e.push("<![CDATA[",t,"]]>")},comment:function(t){e.push("\x3c!--",t,"--\x3e")},pi:function(t,r){r?e.push("<?",t," ",i(r),"?>"):e.push("<?",t,"?>"),n&&e.push("\n")},doctype:function(t){e.push("<!DOCTYPE",t,">",n?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}},Eb=function(t,e){void 0===e&&(e=du());var n=Ib(t);t=t||{},t.validate=!("validate"in t)||t.validate;var r=function(r){var o=t.validate,i={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{a(t)}while(t=t.next)}};n.reset();var a=function(t){var r,u,s,c,l,f,d,h,p,m=i[t.type];if(m)m(t);else{if(r=t.name,u=t.shortEnded,s=t.attributes,o&&s&&s.length>1&&(f=[],f.map={},p=e.getElementRule(t.name),p)){for(d=0,h=p.attributesOrder.length;d<h;d++)c=p.attributesOrder[d],c in s.map&&(l=s.map[c],f.map[c]=l,f.push({name:c,value:l}));for(d=0,h=s.length;d<h;d++)c=s[d].name,c in f.map||(l=s.map[c],f.map[c]=l,f.push({name:c,value:l}));s=f}if(n.start(t.name,s,u),!u){if(t=t.firstChild)do{a(t)}while(t=t.next);n.end(r)}}};return 1!==r.type||t.inner?i[11](r):a(r),n.getContent()};return{serialize:r}},Rb=function(t){var e,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=Tl("img"),a=0,u=0;while(e=n.exec(t)){var s=e[0],c=i+"_"+u++;o[c]=s,a<e.index&&r.push(t.substr(a,e.index-a)),r.push(c),a=e.index+s.length}return 0===a?{prefix:i,uris:o,html:t}:(a<t.length&&r.push(t.substr(a)),{prefix:i,uris:o,html:r.join("")})},Nb=function(t,e){return t.replace(new RegExp(e.prefix+"_[0-9]+","g"),(function(t){return Mt(e.uris,t).getOr(t)}))},Pb=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t);return e?O.some({type:e[1],data:decodeURIComponent(e[2])}):O.none()},Lb=["img","video"],Bb=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},zb=function(t,e){var n=V(t)?X(Lb,e):t;return!n},Vb=function(t,e,n){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?zb(t.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},Fb=function(t,e,n){var r,o,i=1,a=t.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;u.lastIndex=r=n;while(o=u.exec(e)){if(r=u.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r},jb=function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))},Hb=function(t,e,n){void 0===n&&(n=0);var r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&jb(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(e){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var u=a.exec(t);return u?u.index+u[0].length:r.length},Ub=function(t,e){var n=t.exec(e);if(n){var r=n[1],o=n[2];return"string"===typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};function Wb(t,e){void 0===e&&(e=du());var n=function(){};t=t||{},!1!==t.fix_self_closing&&(t.fix_self_closing=!0);var r=t.comment?t.comment:n,o=t.cdata?t.cdata:n,i=t.text?t.text:n,a=t.start?t.start:n,u=t.end?t.end:n,s=t.pi?t.pi:n,c=t.doctype?t.doctype:n,l=function(n,l){void 0===l&&(l="html");var f,d,h,p,m,g,v,y,b,x,w,_,S,C,k,T,A,O,M,D,I=n.html,E=0,R=[],N=0,P=eu.decode,L=ln.makeMap("src,href,data,background,formaction,poster,xlink:href"),B=/((java|vb)script|mhtml):/i,z="html"===l?0:1,V=function(t){var e,n;e=R.length;while(e--)if(R[e].name===t)break;if(e>=0){for(n=R.length-1;n>=e;n--)t=R[n],t.valid&&u(t.name);R.length=e}},F=function(t,e){return i(Nb(t,n),e)},j=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),t.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),r(Nb(e,n)))},H=function(t){return Mt(n.uris,t).getOr(t)},U=function(t,e){var n=t||"",r=!ue(n,"--"),o=Hb(I,r,e);return t=I.substr(e,o-e),j(r?n+t:t),o+1},W=function(e,n,r,o,i){var a,u,s=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=H(n in Z?n:P(r||o||i||"")),$&&!y&&!1===Bb(n)){if(a=C[n],!a&&k){u=k.length;while(u--)if(a=k[u],a.pattern.test(n))break;-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(L[n]&&!t.allow_script_urls){var c=r.replace(s,"");try{c=decodeURIComponent(c)}catch(l){c=unescape(c)}if(B.test(c))return;if(Vb(t,c,e))return}y&&(n in L||0===n.indexOf("on"))||(p.map[n]=r,p.push({name:n,value:r}))},G=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),q=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Y=e.getShortEndedElements(),X=t.self_closing_elements||e.getSelfClosingElements(),Z=e.getBoolAttrs(),$=t.validate,K=t.remove_internals,J=t.fix_self_closing,Q=e.getSpecialElements(),tt=I+">";while(f=G.exec(tt)){var et=f[0];if(E<f.index&&F(P(I.substr(E,f.index-E))),d=f[7])d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),V(d);else if(d=f[8]){if(f.index+et.length>I.length){F(P(I.substr(f.index))),E=f.index+et.length;continue}d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),b=d in Y,J&&X[d]&&R.length>0&&R[R.length-1].name===d&&V(d);var nt=Ub(q,f[9]);if(null!==nt){if("all"===nt){E=Fb(e,I,G.lastIndex),G.lastIndex=E;continue}w=!1}if(!$||(x=e.getElementRule(d))){if(w=!0,$&&(C=x.attributes,k=x.attributePatterns),(S=f[9])?(y=-1!==S.indexOf("data-mce-type"),y&&K&&(w=!1),p=[],p.map={},S.replace(q,(function(t,e,n,r,o){return W(d,e,n,r,o),""}))):(p=[],p.map={}),$&&!y){if(T=x.attributesRequired,A=x.attributesDefault,O=x.attributesForced,M=x.removeEmptyAttrs,M&&!p.length&&(w=!1),O){m=O.length;while(m--)_=O[m],v=_.name,D=_.value,"{$uid}"===D&&(D="mce_"+N++),p.map[v]=D,p.push({name:v,value:D})}if(A){m=A.length;while(m--)_=A[m],v=_.name,v in p.map||(D=_.value,"{$uid}"===D&&(D="mce_"+N++),p.map[v]=D,p.push({name:v,value:D}))}if(T){m=T.length;while(m--)if(T[m]in p.map)break;-1===m&&(w=!1)}if(_=p.map["data-mce-bogus"]){if("all"===_){E=Fb(e,I,G.lastIndex),G.lastIndex=E;continue}w=!1}}w&&a(d,p,b)}else w=!1;if(h=Q[d]){h.lastIndex=E=f.index+et.length,(f=h.exec(I))?(w&&(g=I.substr(E,f.index-E)),E=f.index+f[0].length):(g=I.substr(E),E=I.length),w&&(g.length>0&&F(g,!0),u(d)),G.lastIndex=E;continue}b||(S&&S.indexOf("/")===S.length-1?w&&u(d):R.push({name:d,valid:w}))}else if(d=f[1])j(d);else if(d=f[2]){var rt=1===z||t.preserve_cdata||R.length>0&&e.isValidChild(R[R.length-1].name,"#cdata");if(!rt){E=U("",f.index+2),G.lastIndex=E;continue}o(d)}else if(d=f[3])c(d);else{if((d=f[4])||"<!"===et){E=U(d,f.index+et.length),G.lastIndex=E;continue}if(d=f[5]){if(1!==z){E=U("?",f.index+2),G.lastIndex=E;continue}s(d,f[6])}}E=f.index+et.length}for(E<I.length&&F(P(I.substr(E))),m=R.length-1;m>=0;m--)d=R[m],d.valid&&u(d.name)},f=function(t,e){void 0===e&&(e="html"),l(Rb(t),e)};return{parse:f}}(function(t){t.findEndTag=Fb})(Wb||(Wb={}));var Gb=Wb,qb=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},Yb=function(t,e){var n,r,o,i,a=e,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=t.schema;a=qb(t.getTempAttrs(),a);var c=s.getShortEndedElements();while(i=u.exec(a))r=u.lastIndex,o=i[0].length,n=c[i[1]]?r:Gb.findEndTag(s,a,r),a=a.substring(0,r-o)+a.substring(n),u.lastIndex=r-o;return ji(a)},Xb=Yb,Zb=function(t,e){var n=pd(t),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(r,"")},$b=function(t,e,n,r){var o;return e.format=n,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),o="raw"===e.format?ln.trim(Xb(t.serializer,r.innerHTML)):"text"===e.format?t.dom.isEmpty(r)?"":ji(r.innerText||r.textContent):"tree"===e.format?t.serializer.serialize(r,e):Zb(t,t.serializer.serialize(r,e)),X(["text","tree"],e.format)||Ri(gn.fromDom(r))?e.content=o:e.content=ln.trim(o),e.no_events||t.fire("GetContent",e),e.content},Kb=function(t,e,n){return O.from(t.getBody()).fold(g("tree"===e.format?new Mb("body",11):""),(function(r){return $b(t,e,n,r)}))},Jb=ln.each,Qb=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var r=function(e){var n={};return Jb(t.getAttribs(e),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=t.getAttrib(e,o))})),n},o=function(t,e){var n,r;for(r in t)if(t.hasOwnProperty(r)){if(n=e[r],"undefined"===typeof n)return!1;if(t[r]!==n)return!1;delete e[r]}for(r in e)if(e.hasOwnProperty(r))return!1;return!0};return!!o(r(e),r(n))&&(!!o(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))&&(!cm(e)&&!cm(n)))}},tx=function(t,e,n){return O.from(n.container()).filter(Xr).exists((function(r){var o=t?0:-1;return e(r.data.charAt(n.offset()+o))}))},ex=y(tx,!0,dm),nx=y(tx,!1,dm),rx=function(t){var e=t.container();return Xr(e)&&(0===e.data.length||Fi(e.data)&&kg.isBookmarkNode(e.parentNode))},ox=function(t,e){return function(n){return O.from(Qh(t?0:-1,n)).filter(e).isSome()}},ix=function(t){return Qr(t)&&"block"===go(gn.fromDom(t),"display")},ax=function(t){return eo(t)&&!Wr(t)},ux=ox(!0,ix),sx=ox(!1,ix),cx=ox(!0,ro),lx=ox(!1,ro),fx=ox(!0,Gr),dx=ox(!1,Gr),hx=ox(!0,ax),px=ox(!1,ax),mx=function(t){var e=[],n=t.dom;while(n)e.push(gn.fromDom(n)),n=n.lastChild;return e},gx=function(t){var e=pl(t,"br"),n=tt(mx(t).slice(-1),Ai);e.length===n.length&&K(n,wr)},vx=function(t){xr(t),gr(t,gn.fromHtml('<br data-mce-bogus="1">'))},yx=function(t){er(t).each((function(e){Xn(e).each((function(n){Ci(t)&&Ai(e)&&Ci(n)&&wr(e)}))}))},bx=function(t){return t.slice(0,-1)},xx=function(t,e,n){return En(e,t)?bx(qn(t,(function(t){return n(t)||Mn(t,e)}))):[]},wx=function(t,e){return xx(t,e,_)},_x=function(t,e){return[t].concat(wx(t,e))},Sx=function(t,e,n){return Np(t,e,n,rx)},Cx=function(t,e){return ot(_x(gn.fromDom(e.container()),t),Ci)},kx=function(t,e,n){return Sx(t,e.dom,n).forall((function(t){return Cx(e,n).fold((function(){return!1===Jh(t,n,e.dom)}),(function(r){return!1===Jh(t,n,e.dom)&&En(r,gn.fromDom(t.container()))}))}))},Tx=function(t,e,n){return Cx(e,n).fold((function(){return Sx(t,e.dom,n).forall((function(t){return!1===Jh(t,n,e.dom)}))}),(function(e){return Sx(t,e.dom,n).isNone()}))},Ax=y(Tx,!1),Ox=y(Tx,!0),Mx=y(kx,!1),Dx=y(kx,!0),Ix=function(t){return sp(t).exists(Ai)},Ex=function(t,e,n){var r=tt(_x(gn.fromDom(n.container()),e),Ci),o=pt(r).getOr(e);return Ep(t,o.dom,n).filter(Ix)},Rx=function(t,e){return sp(e).exists(Ai)||Ex(!0,t,e).isSome()},Nx=function(t,e){return cp(e).exists(Ai)||Ex(!1,t,e).isSome()},Px=y(Ex,!1),Lx=y(Ex,!0),Bx=function(t){return wf.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},zx=function(t,e){var n=tt(_x(gn.fromDom(e.container()),t),Ci);return pt(n).getOr(t)},Vx=function(t,e){return Bx(e)?nx(e):nx(e)||Bp(zx(t,e).dom,e).exists(nx)},Fx=function(t,e){return Bx(e)?ex(e):ex(e)||Lp(zx(t,e).dom,e).exists(ex)},jx=function(t){return X(["pre","pre-wrap"],t)},Hx=function(t){return sp(t).bind((function(t){return Zo(t,Bn)})).exists((function(t){return jx(go(t,"white-space"))}))},Ux=function(t,e){return Bp(t.dom,e).isNone()},Wx=function(t,e){return Lp(t.dom,e).isNone()},Gx=function(t,e){return Ux(t,e)||Wx(t,e)||Ax(t,e)||Ox(t,e)||Nx(t,e)||Rx(t,e)},qx=function(t,e){return!Hx(e)&&(Gx(t,e)||Vx(t,e)||Fx(t,e))},Yx=function(t,e){return!Hx(e)&&(Ax(t,e)||Mx(t,e)||Nx(t,e)||Vx(t,e))},Xx=function(t){var e=t.container(),n=t.offset();return Xr(e)&&n<e.data.length?wf(e,n+1):t},Zx=function(t,e){return!Hx(e)&&(Ox(t,e)||Dx(t,e)||Rx(t,e)||Fx(t,e))},$x=function(t,e){return Yx(t,e)||Zx(t,Xx(e))},Kx=function(t,e){return fm(t.charAt(e))},Jx=function(t){var e=t.container();return Xr(e)&&ae(e.data,Li)},Qx=function(t){var e=t.split("");return $(e,(function(t,n){return fm(t)&&n>0&&n<e.length-1&&hm(e[n-1])&&hm(e[n+1])?" ":t})).join("")},tw=function(t,e){var n=e.data,r=wf(e,0);return!(!Kx(n,0)||$x(t,r))&&(e.data=" "+n.slice(1),!0)},ew=function(t){var e=t.data,n=Qx(e);return n!==e&&(t.data=n,!0)},nw=function(t,e){var n=e.data,r=wf(e,n.length-1);return!(!Kx(n,n.length-1)||$x(t,r))&&(e.data=n.slice(0,-1)+" ",!0)},rw=function(t,e){return O.some(e).filter(Jx).bind((function(e){var n=e.container(),r=tw(t,n)||ew(n)||nw(t,n);return r?O.some(e):O.none()}))},ow=function(t){var e=gn.fromDom(t.getBody());t.selection.isCollapsed()&&rw(e,wf.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))},iw=function(t,e,n){var r=nt(t,(function(r,o){return dm(o)||fm(o)?r.previousCharIsSpace||""===r.str&&e||r.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:r.str+Li}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}}),{previousCharIsSpace:!1,str:""});return r.str},aw=function(t,e,n){if(0!==n){var r=gn.fromDom(t),o=Xo(r,Ci).getOr(r),i=t.data.slice(e,e+n),a=e+n>=t.data.length&&Zx(o,Sf(t,t.data.length)),u=0===e&&Yx(o,Sf(t,0));t.replaceData(e,n,iw(i,u,a))}},uw=function(t,e){var n=t.data.slice(e),r=n.length-le(n).length;return aw(t,e,r)},sw=function(t,e){var n=t.data.slice(0,e),r=n.length-fe(n).length;return aw(t,e-r,r)},cw=function(t,e,n,r){void 0===r&&(r=!0);var o=fe(t.data).length,i=r?t:e,a=r?e:t;return r?i.appendData(a.data):i.insertData(0,a.data),wr(gn.fromDom(a)),n&&uw(i,o),i},lw=function(t,e){var n=t.container(),r=t.offset();return!1===Sf.isTextPosition(t)&&n===e.parentNode&&r>Sf.before(e).offset()},fw=function(t,e){return lw(e,t)?Sf(e.container(),e.offset()-1):e},dw=function(t){return Xr(t)?Sf(t,0):Sf.before(t)},hw=function(t){return Xr(t)?Sf(t,t.data.length):Sf.after(t)},pw=function(t){return da(t.previousSibling)?O.some(hw(t.previousSibling)):t.previousSibling?Vp(t.previousSibling):O.none()},mw=function(t){return da(t.nextSibling)?O.some(dw(t.nextSibling)):t.nextSibling?zp(t.nextSibling):O.none()},gw=function(t,e){var n=Sf.before(e.previousSibling?e.previousSibling:e.parentNode);return Bp(t,n).fold((function(){return Lp(t,Sf.after(e))}),O.some)},vw=function(t,e){return Lp(t,Sf.after(e)).fold((function(){return Bp(t,Sf.before(e))}),O.some)},yw=function(t,e){return pw(e).orThunk((function(){return mw(e)})).orThunk((function(){return gw(t,e)}))},bw=function(t,e){return mw(e).orThunk((function(){return pw(e)})).orThunk((function(){return vw(t,e)}))},xw=function(t,e,n){return t?bw(e,n):yw(e,n)},ww=function(t,e,n){return xw(t,e,n).map(y(fw,n))},_w=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},Sw=function(t){return function(e){return e.dom===t}},Cw=function(t,e){return e&&Dt(t.schema.getBlockElements(),Rn(e))},kw=function(t){if(Ma(t)){var e=gn.fromHtml('<br data-mce-bogus="1">');return xr(t),gr(t,e),O.some(Sf.before(e.dom))}return O.none()},Tw=function(t,e,n){var r=Xn(t).filter(zn),o=Zn(t).filter(zn);return wr(t),zl(r,o,e,(function(t,e,r){var o=t.dom,i=e.dom,a=o.data.length;return cw(o,i,n),r.container()===i?Sf(o,a):r})).orThunk((function(){return n&&(r.each((function(t){return sw(t.dom,t.dom.length)})),o.each((function(t){return uw(t.dom,0)}))),e}))},Aw=function(t,e){return Dt(t.schema.getTextInlineElements(),Rn(e))},Ow=function(t,e,n,r){void 0===r&&(r=!0);var o=ww(e,t.getBody(),n.dom),i=Xo(n,y(Cw,t),Sw(t.getBody())),a=Tw(n,o,Aw(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):i.bind(kw).fold((function(){r&&_w(t,e,a)}),(function(n){r&&_w(t,e,O.some(n))}))},Mw=function(t,e){return{start:t,end:e}},Dw=function(t,e,n){return{rng:t,table:e,cells:n}},Iw=Wo.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Ew=function(t){return function(e){return Mn(t,e)}},Rw=function(t,e){return ti(gn.fromDom(t),"td,th",e)},Nw=function(t,e){return Jo(t,"table",e)},Pw=function(t){return!Mn(t.start,t.end)},Lw=function(t,e){return Nw(t.start,e).bind((function(n){return Nw(t.end,e).bind((function(t){return Vl(Mn(n,t),n)}))}))},Bw=function(t,e){return!Pw(t)&&Lw(t,e).exists((function(t){var e=t.dom.rows;return 1===e.length&&1===e[0].cells.length}))},zw=function(t){return pl(t,"td,th")},Vw=function(t,e){var n=Rw(t.startContainer,e),r=Rw(t.endContainer,e);return Bl(n,r,Mw)},Fw=function(t,e){return Nw(t.start,e).bind((function(e){return mt(zw(e)).map((function(e){return Mw(t.start,e)}))}))},jw=function(t,e){var n=Rw(e.startContainer,t),r=Rw(e.endContainer,t);return e.collapsed?O.none():Bl(n,r,Mw).fold((function(){return n.fold((function(){return r.bind((function(e){return Nw(e,t).bind((function(t){return pt(zw(t)).map((function(t){return Mw(t,e)}))}))}))}),(function(e){return Nw(e,t).bind((function(t){return mt(zw(t)).map((function(t){return Mw(e,t)}))}))}))}),(function(e){return Hw(t,e)?O.none():Fw(e,t)}))},Hw=function(t,e){return Lw(e,t).isSome()},Uw=function(t,e){return Lw(t,e).map((function(e){return Dw(t,e,zw(e))}))},Ww=function(t,e,n){return t.filter((function(t){return Pw(t)&&Hw(n,t)})).orThunk((function(){return jw(n,e)})).bind((function(t){return Uw(t,n)}))},Gw=function(t,e){return it(t,(function(t){return Mn(t,e)}))},qw=function(t){return Bl(Gw(t.cells,t.rng.start),Gw(t.cells,t.rng.end),(function(e,n){return t.cells.slice(e,n+1)}))},Yw=function(t,e,n){return t.filter((function(t){return Bw(t,n)&&cg(t.start,e)})).map((function(t){return t.start}))},Xw=function(t){return qw(t).map((function(e){var n=t.cells;return e.length===n.length?Iw.removeTable(t.table):Iw.emptyCells(e)}))},Zw=function(t,e){var n=Ew(t),r=Vw(e,n);return Yw(r,e,n).map((function(t){return Iw.deleteCellSelection(e,t)})).orThunk((function(){return Ww(r,e,n).bind(Xw)}))},$w=function(t){var e=Ln(t)?Xn(t):er(t);return e.bind($w).orThunk((function(){return O.some(t)}))},Kw=function(t,e){return K(e,vx),t.selection.setCursorLocation(e[0].dom,0),!0},Jw=function(t,e,n){e.deleteContents();var r=$w(n).getOr(n),o=gn.fromDom(t.dom.getParent(r.dom,t.dom.isBlock));if(Ma(o)&&(vx(o),t.selection.setCursorLocation(o.dom,0)),!Mn(n,o)){var i=Gn(o).is(n)?[]:Yn(o);K(i.concat(Jn(n)),(function(t){Mn(t,o)||En(t,o)||wr(t)}))}return!0},Qw=function(t,e){return Ow(t,!1,e),!0},t_=function(t,e,n){return Zw(e,n).map((function(e){return e.fold(y(Qw,t),y(Kw,t),y(Jw,t))}))},e_=function(t,e){return u_(t,e)},n_=function(t,e,n,r){return i_(e,r).fold((function(){return t_(t,e,n)}),(function(e){return e_(t,e)})).getOr(!1)},r_=function(t,e){var n=gn.fromDom(t.getBody()),r=t.selection.getRng(),o=og(t);return 0!==o.length?Kw(t,o):n_(t,n,r,e)},o_=function(t,e){return ot(_x(e,t),Ei)},i_=function(t,e){return ot(_x(e,t),(function(t){return"caption"===Rn(t)}))},a_=function(t,e,n,r,o){return Rp(n,t.getBody(),o).bind((function(t){return o_(e,gn.fromDom(t.getNode())).map((function(t){return!1===Mn(t,r)}))}))},u_=function(t,e){return vx(e),t.selection.setCursorLocation(e.dom,0),O.some(!0)},s_=function(t,e,n,r){return zp(t.dom).bind((function(o){return Vp(t.dom).map((function(t){return e?n.isEqual(o)&&r.isEqual(t):n.isEqual(t)&&r.isEqual(o)}))})).getOr(!0)},c_=function(t,e){return u_(t,e)},l_=function(t,e,n){return i_(t,gn.fromDom(n.getNode())).map((function(t){return!1===Mn(t,e)}))},f_=function(t,e,n,r,o){return Rp(n,t.getBody(),o).bind((function(i){return s_(r,n,o,i)?c_(t,r):l_(e,r,i)})).or(O.some(!0))},d_=function(t,e,n,r){var o=Sf.fromRangeStart(t.selection.getRng());return o_(n,r).bind((function(r){return Ma(r)?u_(t,r):a_(t,n,e,r,o)})).getOr(!1)},h_=function(t,e,n,r){var o=Sf.fromRangeStart(t.selection.getRng());return Ma(r)?u_(t,r):f_(t,n,e,r,o)},p_=function(t,e){return t?fx(e):dx(e)},m_=function(t,e){var n=Sf.fromRangeStart(t.selection.getRng());return p_(e,n)||Ep(e,t.getBody(),n).exists((function(t){return p_(e,t)}))},g_=function(t,e,n){var r=gn.fromDom(t.getBody());return i_(r,n).fold((function(){return d_(t,e,r,n)||m_(t,e)}),(function(n){return h_(t,e,r,n).getOr(!1)}))},v_=function(t,e){var n=gn.fromDom(t.selection.getStart(!0)),r=og(t);return t.selection.isCollapsed()&&0===r.length?g_(t,e,n):r_(t,n)},y_=function(t,e,n,r){var o=document.createRange();return o.setStart(t,e),o.setEnd(n,r),o},b_=function(t){var e=Sf.fromRangeStart(t),n=Sf.fromRangeEnd(t),r=t.commonAncestorContainer;return Ep(!1,r,n).map((function(o){return!Jh(e,n,r)&&Jh(e,o,r)?y_(e.container(),e.offset(),o.container(),o.offset()):t})).getOr(t)},x_=function(t){return t.collapsed?t:b_(t)},w_=function(t){return t.firstChild&&t.firstChild===t.lastChild},__=function(t){return"br"===t.name||t.value===Li},S_=function(t,e){var n=t.getBlockElements();return n[e.name]&&w_(e)&&__(e.firstChild)},C_=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||S_(t,e))},k_=function(t,e){var n=e.firstChild,r=e.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),C_(t,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},T_=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},A_=function(t,e,n){var r=e.serialize(n),o=t.createFragment(r);return T_(o)},O_=function(t){return ln.grep(t.childNodes,(function(t){return"LI"===t.nodeName}))},M_=function(t){return t.data===Li||Jr(t)},D_=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&M_(t.firstChild)},I_=function(t){return!t.firstChild||D_(t)},E_=function(t){return t.length>0&&I_(t[t.length-1])?t.slice(0,-1):t},R_=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},N_=function(t,e){return!!R_(t,e)},P_=function(t,e){var n=e.cloneRange(),r=e.cloneRange();return n.setStartBefore(t),r.setEndAfter(t),[n.cloneContents(),r.cloneContents()]},L_=function(t,e){var n=Sf.before(t),r=Cp(e),o=r.next(n);return o?o.toRange():null},B_=function(t,e){var n=Sf.after(t),r=Cp(e),o=r.prev(n);return o?o.toRange():null},z_=function(t,e,n,r){var o=P_(t,r),i=t.parentNode;return i.insertBefore(o[0],t),ln.each(e,(function(e){i.insertBefore(e,t)})),i.insertBefore(o[1],t),i.removeChild(t),B_(e[e.length-1],n)},V_=function(t,e,n){var r=t.parentNode;return ln.each(e,(function(e){r.insertBefore(e,t)})),L_(t,n)},F_=function(t,e,n,r){return r.insertAfter(e.reverse(),t),B_(e[0],n)},j_=function(t,e,n,r){var o=A_(e,t,r),i=R_(e,n.startContainer),a=E_(O_(o.firstChild)),u=1,s=2,c=e.getRoot(),l=function(t){var r=Sf.fromRangeStart(n),o=Cp(e.getRoot()),a=t===u?o.prev(r):o.next(r);return!a||R_(e,a.getNode())!==i};return l(u)?V_(i,a,c):l(s)?F_(i,a,c,e):z_(i,a,c,n)},H_=function(t,e,n){var r=gn.fromDom(t.getRoot());return n=Yx(r,Sf.fromRangeStart(e))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=Zx(r,Sf.fromRangeEnd(e))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},U_=no,W_=function(t,e,n){if(null!==n){var r=t.getParent(e.endContainer,U_);return n===r&&cg(gn.fromDom(n),e)}return!1},G_=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}},q_=function(t,e){O.from(t.getParent(e,"td,th")).map(gn.fromDom).each(yx)},Y_=function(t,e){var n=t.schema.getTextInlineElements(),r=t.dom;if(e){var o=t.getBody(),i=new Qb(r);ln.each(r.select("*[data-mce-fragment]"),(function(t){for(var e=t.parentNode;e&&e!==o;e=e.parentNode)n[t.nodeName.toLowerCase()]&&i.compare(e,t)&&r.remove(t,!0)}))}},X_=function(t){var e=t;while(e=e.walk())1===e.type&&e.attr("data-mce-fragment","1")},Z_=function(t){ln.each(t.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")}))},$_=function(t){return!!t.getAttribute("data-mce-fragment")},K_=function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},J_=function(t,e){var n,r,o=t.dom,i=t.selection,a=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===o.getContentEditable(e))return e;return null};if(e){i.scrollIntoView(e);var u=a(e);if(u)return o.remove(e),void i.select(u);var s=o.createRng(),c=e.previousSibling;c&&3===c.nodeType?(s.setStart(c,c.nodeValue.length),$e.ie||(r=e.nextSibling,r&&3===r.nodeType&&(c.appendData(r.data),r.parentNode.removeChild(r)))):(s.setStartBefore(e),s.setEndBefore(e));var l=function(e){var n=Sf.fromRangeStart(e),r=Cp(t.getBody());if(n=r.next(n),n)return n.toRange()},f=o.getParent(e,o.isBlock);o.remove(e),f&&o.isEmpty(f)&&(t.$(f).empty(),s.setStart(f,0),s.setEnd(f,0),U_(f)||$_(f)||!(n=l(s))?o.add(f,o.create("br",{"data-mce-bogus":"1"})):(s=n,o.remove(f))),i.setRng(s)}},Q_=function(t){var e=t.dom,n=x_(t.selection.getRng());t.selection.setRng(n);var r=e.getParent(n.startContainer,U_);W_(e,n,r)?Jw(t,n,gn.fromDom(r)):t.getDoc().execCommand("Delete",!1,null)},tS=function(t,e,n){var r,o,i,a,u,s,c=t.selection,l=t.dom;/^ | $/.test(e)&&(e=H_(l,c.getRng(),e));var f=t.parser,d=n.merge,h=Eb({validate:Yd(t)},t.schema),p='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(i={content:e,format:"html",selection:!0,paste:n.paste},i=t.fire("BeforeSetContent",i),i.isDefaultPrevented())t.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});else{e=i.content,-1===e.indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,p),u=c.getRng();var m=u.startContainer||(u.parentElement?u.parentElement():null),g=t.getBody();m===g&&c.isCollapsed()&&l.isBlock(g.firstChild)&&K_(t,g.firstChild)&&l.isEmpty(g.firstChild)&&(u=l.createRng(),u.setStart(g.firstChild,0),u.setEnd(g.firstChild,0),c.setRng(u)),c.isCollapsed()||Q_(t),r=c.getNode();var v={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},y=f.parse(e,v);if(!0===n.paste&&k_(t.schema,y)&&N_(l,r))return u=j_(h,l,c.getRng(),y),c.setRng(u),void t.fire("SetContent",i);if(X_(y),s=y.lastChild,"mce_marker"===s.attr("id"))for(a=s,s=s.prev;s;s=s.walk(!0))if(3===s.type||!l.isBlock(s.name)){t.schema.isValidChild(s.parent.name,"span")&&s.parent.insert(a,s,"br"===s.name);break}if(t._selectionOverrides.showBlockCaretContainer(r),v.invalid){t.selection.setContent(p),r=c.getNode(),o=t.getBody(),9===r.nodeType?r=s=o:s=r;while(s!==o)r=s,s=s.parentNode;e=r===o?o.innerHTML:l.getOuterHTML(r),e=h.serialize(f.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return h.serialize(y)})))),r===o?l.setHTML(o,e):l.setOuterHTML(r,e)}else e=h.serialize(y),G_(t,e,r);Y_(t,d),J_(t,l.get("mce_marker")),Z_(t.getBody()),q_(l,c.getStart()),t.fire("SetContent",i),t.addVisual()}},eS=function(t,e){e(t),t.firstChild&&eS(t.firstChild,e),t.next&&eS(t.next,e)},nS=function(t,e,n){var r={},o={},i=[];for(var a in n.firstChild&&eS(n.firstChild,(function(n){K(t,(function(t){t.name===n.name&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})),K(e,(function(t){"string"===typeof n.attr(t.name)&&(o[t.name]?o[t.name].nodes.push(n):o[t.name]={filter:t,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var u in o)o.hasOwnProperty(u)&&i.push(o[u]);return i},rS=function(t,e,n){var r=nS(t,e,n);K(r,(function(t){K(t.filter.callbacks,(function(e){e(t.nodes,t.filter.name,{})}))}))},oS="html",iS=function(t){return t instanceof Mb},aS=function(t){Jy(t)&&zp(t.getBody()).each((function(e){var n=e.getNode(),r=Gr(n)?zp(n).getOr(e):e;t.selection.setRng(r.toRange())}))},uS=function(t,e){t.dom.setHTML(t.getBody(),e),aS(t)},sS=function(t,e,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+i+"</li>"),o=pd(t),o&&t.schema.isValidChild(e.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=t.dom.createHTML(o,md(t),n)):n||(n='<br data-mce-bogus="1">'),uS(t,n),t.fire("SetContent",r)):("raw"!==r.format&&(n=Eb({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Ri(gn.fromDom(e))?n:ln.trim(n),uS(t,r.content),r.no_events||t.fire("SetContent",r)),r.content},cS=function(t,e,n,r){rS(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var o=Eb({validate:t.validate},t.schema).serialize(n);return r.content=Ri(gn.fromDom(e))?o:ln.trim(o),uS(t,r.content),r.no_events||t.fire("SetContent",r),n},lS=function(t,e,n){return n.format=n.format?n.format:oS,n.set=!0,n.content=iS(e)?"":e,n.no_events||t.fire("BeforeSetContent",n),iS(e)||(e=n.content),O.from(t.getBody()).fold(g(e),(function(r){return iS(e)?cS(t,r,e,n):sS(t,r,e,n)}))},fS=function(t,e){var n=t.dom,r=F(e)?e:t.getBody();z(t.hasVisual)&&(t.hasVisual=ph(t)),K(n.select("table,a",r),(function(e){switch(e.nodeName){case"TABLE":var r=mh(t),o=n.getAttrib(e,"border");o&&"0"!==o||!t.hasVisual?n.removeClass(e,r):n.addClass(e,r);break;case"A":if(!n.getAttrib(e,"href")){var i=n.getAttrib(e,"name")||e.id,a=gh(t);i&&t.hasVisual?n.addClass(e,a):n.removeClass(e,a)}break}})),t.fire("VisualAid",{element:e,hasVisual:t.hasVisual})},dS=function(t,e){return $o(t,e).isSome()},hS=Vi,pS="_mce_caret",mS=function(t,e){return t.importNode(e,!0)},gS=function(t){var e=[];while(t){if(3===t.nodeType&&t.nodeValue!==hS||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},vS=function(t){return gS(t).length>0},yS=function(t){if(t){var e=new hi(t,t);for(t=e.current();t;t=e.next())if(Xr(t))return t}return null},bS=function(t){var e=gn.fromTag("span");return uo(e,{id:pS,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&gr(e,gn.fromText(hS)),e},xS=function(t){var e=yS(t);return e&&e.nodeValue.charAt(0)===hS&&e.deleteData(0,1),e},wS=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(vS(e))Ow(t,!1,gn.fromDom(e),n);else{var i=o.getRng(),a=r.getParent(e,r.isBlock),u=i.startContainer,s=i.startOffset,c=i.endContainer,l=i.endOffset,f=xS(e);r.remove(e,!0),u===f&&s>0&&i.setStart(f,s-1),c===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&vx(gn.fromDom(a)),o.setRng(i)}},_S=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(e)wS(t,e,n);else if(e=Hp(t.getBody(),o.getStart()),!e)while(e=r.get(pS))wS(t,e,!1)},SS=function(t,e,n){var r=t.dom,o=r.getParent(n,y(ym,t));o&&r.isEmpty(o)?n.parentNode.replaceChild(e,n):(gx(gn.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(e,n):r.insertAfter(e,n))},CS=function(t,e){return t.appendChild(e),e},kS=function(t,e){var n=et(t,(function(t,e){return CS(t,e.cloneNode(!1))}),e);return CS(n,n.ownerDocument.createTextNode(hS))},TS=function(t,e,n,r,o,i){var a=t.formatter,u=t.dom,s=tt(yt(a.get()),(function(t){return t!==r&&!ae(t,"removeformat")})),c=Cb(t,n,s),l=tt(c,(function(e){return!Mm(t,e,r)}));if(l.length>0){var f=n.cloneNode(!1);return u.add(e,f),a.remove(r,o,f,i),u.remove(f),O.some(f)}return O.none()},AS=function(t,e,n){var r,o,i=t.selection,a=i.getRng(),u=a.startOffset,s=a.startContainer,c=s.nodeValue;r=Hp(t.getBody(),i.getStart()),r&&(o=yS(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&u>0&&u<c.length&&l.test(c.charAt(u))&&l.test(c.charAt(u-1))){var f=i.getBookmark();a.collapse(!0);var d=Xm(t,a,t.formatter.get(e));d=sv(d),t.formatter.apply(e,n,d),i.moveToBookmark(f)}else r&&o.nodeValue===hS||(r=mS(t.getDoc(),bS(!0).dom),o=r.firstChild,a.insertNode(r),u=1),t.formatter.apply(e,n,r),i.setCursorLocation(o,u)},OS=function(t,e,n,r){var o,i,a,u=t.dom,s=t.selection,c=[],l=s.getRng(),f=l.startContainer,d=l.startOffset;i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);while(i){if(bb(t,i,e,n,r)){a=i;break}i.nextSibling&&(o=!0),c.push(i),i=i.parentNode}if(a)if(o){var h=s.getBookmark();l.collapse(!0);var p=Xm(t,l,t.formatter.get(e),!0);p=sv(p),t.formatter.remove(e,n,p,r),s.moveToBookmark(h)}else{var m=Hp(t.getBody(),a),g=bS(!1).dom;SS(t,g,null!==m?m:a);var v=TS(t,g,a,e,n,r),y=kS(c.concat(v.toArray()),g);wS(t,m,!1),s.setCursorLocation(y,1),u.isEmpty(a)&&u.remove(a)}},MS=function(t,e){var n=t.selection,r=t.getBody();_S(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==hS||_S(t,Hp(r,n.getStart())),37!==e&&39!==e||_S(t,Hp(r,n.getStart()))},DS=function(t){t.on("mouseup keydown",(function(e){MS(t,e.keyCode)}))},IS=function(t,e){var n=bS(!1),r=kS(e,n.dom);return hr(gn.fromDom(t),n),wr(gn.fromDom(t)),Sf(r,0)},ES=function(t,e){var n=t.schema.getTextInlineElements();return n.hasOwnProperty(Rn(e))&&!jp(e.dom)&&!Ur(e.dom)},RS=function(t){return jp(t.dom)&&vS(t.dom)},NS={},PS=Bt,LS=Pt,BS=function(t,e){var n=NS[t];n||(NS[t]=[]),NS[t].push(e)},zS=function(t,e){LS(NS[t],(function(t){t(e)}))};BS("pre",(function(t){var e,n=t.selection.getRng(),r=function(t){return i(t.previousSibling)&&-1!==zt(e,t.previousSibling)},o=function(t,e){xc(e).remove(),xc(t).append("<br><br>").append(e.childNodes)},i=Vr(["pre"]);n.collapsed||(e=t.selection.getSelectedBlocks(),LS(PS(PS(e,i),r),(function(t){o(t.previousSibling,t)})))}));var VS=ln.each,FS=function(t){return zr(t)&&!cm(t)&&!jp(t)&&!Ur(t)},jS=function(t,e){var n;for(n=t;n;n=n[e]){if(Xr(n)&&0!==n.nodeValue.length)return t;if(zr(n)&&!cm(n))return n}return t},HS=function(t,e,n){var r,o,i=new Qb(t);if(e&&n&&(e=jS(e,"previousSibling"),n=jS(n,"nextSibling"),i.compare(e,n))){for(r=e.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,e.appendChild(o);return t.remove(n),ln.each(ln.grep(n.childNodes),(function(t){e.appendChild(t)})),e}return n},US=function(t,e,n,r){if(r&&!1!==e.merge_siblings){var o=HS(t,vm(r),r);HS(t,o,vm(o,!0))}},WS=function(t,e,n){if(e.clear_child_styles){var r=e.links?"*:not(a)":"*";VS(t.select(r,n),(function(n){FS(n)&&VS(e.styles,(function(e,r){t.setStyle(n,r,"")}))}))}},GS=function(t,e,n){VS(t.childNodes,(function(t){FS(t)&&(e(t)&&n(t),t.hasChildNodes()&&GS(t,e,n))}))},qS=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},YS=function(t,e){return function(n){return!(!n||!km(t,n,e))}},XS=function(t,e,n){return function(r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),qS(t,r)}},ZS=Wo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),$S=/^(src|href|style)$/,KS=ln.each,JS=Sm,QS=function(t){return/^(TR|TH|TD)$/.test(t.nodeName)},tC=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},eC=function(t,e,n){var r,o;if(r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],zr(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return Xr(r)&&n&&o>=r.nodeValue.length&&(r=new hi(r,t.getBody()).next()||r),Xr(r)&&!n&&0===o&&(r=new hi(r,t.getBody()).prev()||r),r},nC=function(t,e){var n=e?"firstChild":"lastChild";if(QS(t)&&t[n]){var r=t[n];return"TR"===t.nodeName&&r[n]||r}return t},rC=function(t,e,n,r){var o=t.create(n,r);return e.parentNode.insertBefore(o,e),o.appendChild(e),o},oC=function(t,e,n,r,o){var i=gn.fromDom(e),a=gn.fromDom(t.create(r,o)),u=n?Kn(i):$n(i);return br(a,u),n?(hr(i,a),mr(a,i)):(pr(i,a),gr(a,i)),a.dom},iC=function(t,e,n){return!!JS(e,n.inline)||(!!JS(e,n.block)||(n.selector?zr(e)&&t.is(e,n.selector):void 0))},aC=function(t,e){return e.links&&"A"===t.nodeName},uC=function(t,e,n,r){return e=vm(e,n,r),!e||"BR"===e.nodeName||t.isBlock(e)},sC=function(t,e,n){var r,o=e.parentNode,i=t.dom,a=pd(t);n.block&&(a?o===i.getRoot()&&(n.list_block&&JS(e,n.list_block)||K(gt(e.childNodes),(function(e){bm(t,a,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=rC(i,e,a),i.setAttribs(r,t.settings.forced_root_block_attrs)):r=0}))):i.isBlock(e)&&!i.isBlock(o)&&(uC(i,e,!1)||uC(i,e.firstChild,!0,!0)||e.insertBefore(i.create("br"),e.firstChild),uC(i,e,!0)||uC(i,e.lastChild,!1,!0)||e.appendChild(i.create("br")))),n.selector&&n.inline&&!JS(n.inline,e)||i.remove(e,!0)},cC=function(t,e,n,r,o){var i,a=t.dom;if(!iC(a,r,e)&&!aC(r,e))return ZS.keep();var u=r;if(e.inline&&"all"===e.remove&&P(e.preserve_attributes)){var s=tt(a.getAttribs(u),(function(t){return X(e.preserve_attributes,t.name.toLowerCase())}));if(a.removeAllAttribs(u),K(s,(function(t){return a.setAttrib(u,t.name,t.value)})),s.length>0)return ZS.rename("span")}if("all"!==e.remove){KS(e.styles,(function(t,r){t=Cm(a,_m(t,n),r+""),H(r)&&(r=t,o=null),(e.remove_similar||!o||JS(km(a,o,r),t))&&a.setStyle(u,r,""),i=!0})),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),KS(e.attributes,(function(t,r){var i;if(t=_m(t,n),H(r)&&(r=t,o=null),e.remove_similar||!o||JS(a.getAttrib(o,r),t)){if("class"===r&&(t=a.getAttrib(u,r),t&&(i="",K(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(i+=(i?" ":"")+t)})),i)))return void a.setAttrib(u,r,i);"class"===r&&u.removeAttribute("className"),$S.test(r)&&u.removeAttribute("data-mce-"+r),u.removeAttribute(r)}})),KS(e.classes,(function(t){t=_m(t,n),o&&!a.hasClass(o,t)||a.removeClass(u,t)}));for(var c=a.getAttribs(u),l=0;l<c.length;l++){var f=c[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return ZS.keep()}}return"none"!==e.remove?(sC(t,u,e),ZS.removed()):ZS.keep()},lC=function(t,e,n,r,o){return cC(t,e,n,r,o).fold(_,(function(e){return t.dom.rename(r,e),!0}),S)},fC=function(t,e,n,r,o){var i;return K(Am(t.dom,e.parentNode).reverse(),(function(e){if(!i&&"_start"!==e.id&&"_end"!==e.id){var a=bb(t,e,n,r,o);a&&!1!==a.split&&(i=e)}})),i},dC=function(t,e,n,r){return cC(t,e,n,r,r).fold(g(r),(function(e){var n=t.dom.createFragment();return n.appendChild(r),t.dom.rename(r,e)}),g(null))},hC=function(t,e,n,r,o,i,a,u){var s,c,l,f=t.dom;if(n){for(var d=n.parentNode,h=r.parentNode;h&&h!==d;h=h.parentNode){s=f.clone(h,!1);for(var p=0;p<e.length;p++)if(s=dC(t,e[p],u,s),null===s)break;s&&(c&&s.appendChild(c),l||(l=s),c=s)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),c&&(o.parentNode.insertBefore(c,o),l.appendChild(o),a.inline&&US(f,a,u,c))}return r},pC=function(t,e,n,r,o){var i=t.formatter.get(e),a=i[0],u=!0,s=t.dom,c=t.selection,l=function(r){var u=fC(t,r,e,n,o);return hC(t,i,u,r,r,!0,a,n)},f=function(t){return cm(t)&&zr(t)&&("_start"===t.id||"_end"===t.id)},d=function(e){var r,o;zr(e)&&s.getContentEditable(e)&&(r=u,u="true"===s.getContentEditable(e),o=!0);var c=gt(e.childNodes);if(u&&!o)for(var l=0;l<i.length;l++)if(lC(t,i[l],n,e,e))break;if(a.deep&&c.length){for(l=0;l<c.length;l++)d(c[l]);o&&(u=r)}},h=function(t){var e=s.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return f(n)&&(n=n[t?"firstChild":"lastChild"]),Xr(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),s.remove(e,!0),n},p=function(e){var n,r,o=Xm(t,e,i,e.collapsed);if(a.split){if(o=sv(o),n=eC(t,o,!0),r=eC(t,o),n!==r){if(n=nC(n,!0),r=nC(r,!1),tC(s,n,r)){var u=O.from(n.firstChild).getOr(n);return l(oC(s,u,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(tC(s,r,n)){u=O.from(r.lastChild).getOr(r);return l(oC(s,u,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=rC(s,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=rC(s,r,"span",{id:"_end","data-mce-type":"bookmark"});var c=s.createRng();c.setStartAfter(n),c.setEndBefore(r),Km(s,c,(function(t){K(t,(function(t){cm(t)||cm(t.parentNode)||l(t)}))})),l(n),l(r),n=h(!0),r=h()}else n=r=l(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=s.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=s.nodeIndex(r)+1}Km(s,o,(function(e){K(e,(function(e){d(e);var n=["underline","line-through","overline"];K(n,(function(n){zr(e)&&t.dom.getStyle(e,"text-decoration")===n&&e.parentNode&&Tm(s,e.parentNode)===n&&lC(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,e)}))}))}))};if(r)if(pm(r)){var m=s.createRng();m.setStartBefore(r),m.setEndAfter(r),p(m)}else p(r);else if("false"!==s.getContentEditable(c.getNode()))c.isCollapsed()&&a.inline&&!og(t).length?OS(t,e,n,o):(hg(c,!0,(function(){dg(t,p)})),a.inline&&xb(t,e,n,c.getStart())&&gm(s,c,c.getRng()),t.nodeChanged());else{r=c.getNode();for(var g=0;g<i.length;g++)if(i[g].ceFalseOverride&&lC(t,i[g],n,r,r))break}},mC=ln.each,gC=function(t,e,n,r){var o=function(e){if(1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType){var n=Tm(t,e.parentNode);t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(ln.walk(r,o,"childNodes"),o(r))},vC=function(t,e,n,r){e.styles&&e.styles.backgroundColor&&GS(r,YS(t,"fontSize"),XS(t,"backgroundColor",_m(e.styles.backgroundColor,n)))},yC=function(t,e,n,r){"sub"!==e.inline&&"sup"!==e.inline||(GS(r,YS(t,"fontSize"),XS(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",r),!0))},bC=function(t,e,n,r){mC(e,(function(e){mC(t.dom.select(e.inline,r),(function(r){FS(r)&&lC(t,e,n,r,e.exact?r:null)})),WS(t.dom,e,r)}))},xC=function(t,e,n,r,o){bb(t,o.parentNode,n,r)&&lC(t,e,r,o)||e.merge_with_parents&&t.dom.getParent(o.parentNode,(function(i){if(bb(t,i,n,r))return lC(t,e,r,o),!0}))},wC=ln.each,_C=function(t,e){return It(t,e)},SC=function(t){return t&&1===t.nodeType&&!cm(t)&&!jp(t)&&!Ur(t)},CC=function(t,e,n,r){if(Kd(t)&&Em(e)){var o=Ht(Ht({},t.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=dS(gn.fromDom(n),(function(t){return jp(t.dom)}));return It(o,r)&&Ma(gn.fromDom(n.parentNode),!1)&&!i}return!1},kC=function(t,e,n,r){var o=t.formatter.get(e),i=o[0],a=!r&&t.selection.isCollapsed(),u=t.dom,s=t.selection,c=function(t,e){if(e=e||i,t){if(e.onformat&&e.onformat(t,e,n,r),wC(e.styles,(function(e,r){u.setStyle(t,r,_m(e,n))})),e.styles){var o=u.getAttrib(t,"style");o&&u.setAttrib(t,"data-mce-style",o)}wC(e.attributes,(function(e,r){u.setAttrib(t,r,_m(e,n))})),wC(e.classes,(function(e){e=_m(e,n),u.hasClass(t,e)||u.addClass(t,e)}))}},l=function(t,e){var n=!1;return!!Im(i)&&(wC(t,(function(t){if(!("collapsed"in t)||t.collapsed===a)return u.is(e,t.selector)&&!jp(e)?(c(e,t),n=!0,!1):void 0})),n)},f=function(r,a,u,s){var f=[],d=!0,h=i.inline||i.block,p=r.create(h);c(p),Km(r,a,(function(a){var u,m=function(a){var g=!1,v=d,y=a.nodeName.toLowerCase(),b=a.parentNode.nodeName.toLowerCase();if(zr(a)&&r.getContentEditable(a)&&(v=d,d="true"===r.getContentEditable(a),g=!0),Jr(a)&&!CC(t,i,a,b))return u=null,void(Dm(i)&&r.remove(a));if(i.wrapper&&bb(t,a,e,n))u=null;else{if(d&&!g&&Dm(i)&&!i.wrapper&&ym(t,y)&&bm(t,b,h)){var x=r.rename(a,h);return c(x),f.push(x),void(u=null)}if(Im(i)){var w=l(o,a);if(!_C(i,"inline")||w)return void(u=null)}!d||g||!bm(t,h,y)||!bm(t,b,h)||!s&&3===a.nodeType&&1===a.nodeValue.length&&65279===a.nodeValue.charCodeAt(0)||jp(a)||_C(i,"inline")&&r.isBlock(a)?(u=null,wC(ln.grep(a.childNodes),m),g&&(d=v),u=null):(u||(u=r.clone(p,!1),a.parentNode.insertBefore(u,a),f.push(u)),u.appendChild(a))}};wC(a,m)})),!0===i.links&&wC(f,(function(t){var e=function(t){"A"===t.nodeName&&c(t,i),wC(ln.grep(t.childNodes),e)};e(t)})),wC(f,(function(a){var u=function(t){var e=0;return wC(t.childNodes,(function(t){wm(t)||cm(t)||e++})),e},s=function(t){var e=!1;return wC(t.childNodes,(function(t){if(SC(t))return e=t,!1})),e},l=function(t){var e,n=s(t);return n&&!cm(n)&&vb(r,n,i)&&(e=r.clone(n,!1),c(e),r.replace(e,t,!0),r.remove(n,!0)),e||t},d=u(a);!(f.length>1)&&r.isBlock(a)||0!==d?(Em(i)||i.wrapper)&&(i.exact||1!==d||(a=l(a)),bC(t,o,n,a),xC(t,i,e,n,a),vC(r,i,n,a),gC(r,i,n,a),yC(r,i,n,a),US(r,i,n,a)):r.remove(a,!0)}))};if("false"!==u.getContentEditable(s.getNode())){if(i){if(r)if(pm(r)){if(!l(o,r)){var d=u.createRng();d.setStartBefore(r),d.setEndAfter(r),f(u,Xm(t,d,o),null,!0)}}else f(u,r,null,!0);else if(a&&Em(i)&&!og(t).length)AS(t,e,n);else{var h=s.getNode(),p=o[0];t.settings.forced_root_block||!p.defaultBlock||u.getParent(h,u.isBlock)||kC(t,p.defaultBlock),s.setRng(x_(s.getRng())),hg(s,!0,(function(e){dg(t,(function(e,n){var r=n?e:Xm(t,e,o);f(u,r)}))})),gm(u,s,s.getRng()),t.nodeChanged()}zS(e,t)}}else{r=s.getNode();for(var m=0,g=o.length;m<g;m++){var v=o[m];if(v.ceFalseOverride&&Im(v)&&u.is(r,v.selector))return void c(r,v)}}},TC=function(t,e){var n=zc({});t.set({}),e.on("NodeChange",(function(r){AC(e,r.element,n,t.get())}))},AC=function(t,e,n,r){var o=yt(n.get()),i={},a={},u=tt(Am(t.dom,e),(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}));xt(r,(function(e,n){ln.each(u,(function(r){return t.formatter.matchNode(r,n,{},e.similar)?(-1===o.indexOf(n)&&(K(e.callbacks,(function(t){t(!0,{node:r,format:n,parents:u})})),i[n]=e.callbacks),a[n]=e.callbacks,!1):!mb(t,r,n)&&void 0}))}));var s=OC(n.get(),a,e,u);n.set(Ht(Ht({},i),s))},OC=function(t,e,n,r){return kt(t,(function(t,o){return!!Dt(e,o)||(K(t,(function(t){t(!1,{node:n,format:o,parents:r})})),!1)})).t},MC=function(t,e,n,r){var o=t.get();K(e.split(","),(function(t){o[t]||(o[t]={similar:r,callbacks:[]}),o[t].callbacks.push(n)})),t.set(o)},DC=function(t,e,n){var r=t.get();K(e.split(","),(function(t){r[t].callbacks=tt(r[t].callbacks,(function(t){return t!==n})),0===r[t].callbacks.length&&delete r[t]})),t.set(r)},IC=function(t,e,n,r,o){return null===e.get()&&TC(e,t),MC(e,n,r,o),{unbind:function(){return DC(e,n,r)}}},EC=function(t,e,n,r){var o=t.formatter.get(e);!xb(t,e,n,r)||"toggle"in o[0]&&!o[0].toggle?kC(t,e,n,r):pC(t,e,n,r)},RC=function(t,e){var n=e||document,r=n.createDocumentFragment();return K(t,(function(t){r.appendChild(t.dom)})),gn.fromDom(r)},NC=function(t,e,n){return{element:t,width:e,rows:n}},PC=function(t,e){return{element:t,cells:e}},LC=function(t,e){return{x:t,y:e}},BC=function(t,e){var n=parseInt(so(t,e),10);return isNaN(n)?1:n},zC=function(t,e,n,r,o){for(var i=BC(o,"rowspan"),a=BC(o,"colspan"),u=t.rows,s=n;s<n+i;s++){u[s]||(u[s]=PC(Rl(r),[]));for(var c=e;c<e+a;c++){var l=u[s].cells;l[c]=s===n&&c===e?o:El(o)}}},VC=function(t,e,n){var r=t.rows,o=r[n]?r[n].cells:[];return!!o[e]},FC=function(t,e,n){while(VC(t,e,n))e++;return e},jC=function(t){return nt(t,(function(t,e){return e.cells.length>t?e.cells.length:t}),0)},HC=function(t,e){for(var n=t.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Mn(o[i],e))return O.some(LC(i,r));return O.none()},UC=function(t,e,n,r,o){for(var i=[],a=t.rows,u=n;u<=o;u++){var s=a[u].cells,c=e<r?s.slice(e,r+1):s.slice(r,e+1);i.push(PC(a[u].element,c))}return i},WC=function(t,e,n){var r=e.x,o=e.y,i=n.x,a=n.y,u=o<a?UC(t,r,o,i,a):UC(t,r,a,i,o);return NC(t.element,jC(u),u)},GC=function(t,e){var n=El(t.element),r=gn.fromTag("tbody");return br(r,e),gr(n,r),n},qC=function(t){return $(t.rows,(function(t){var e=$(t.cells,(function(t){var e=Rl(t);return fo(e,"colspan"),fo(e,"rowspan"),e})),n=El(t.element);return br(n,e),n}))},YC=function(t){var e=NC(El(t),0,[]);return K(pl(t,"tr"),(function(t,n){K(pl(t,"td,th"),(function(r,o){zC(e,FC(e,o,n),n,t,r)}))})),NC(e.element,jC(e.rows),e.rows)},XC=function(t){return GC(t,qC(t))},ZC=function(t,e,n){return HC(t,e).bind((function(e){return HC(t,n).map((function(n){return WC(t,e,n)}))}))},$C=function(t){return ot(t,(function(t){return"ul"===Rn(t)||"ol"===Rn(t)}))},KC=function(t,e){return ot(t,(function(t){return"li"===Rn(t)&&cg(t,e)})).fold(g([]),(function(e){return $C(t).map((function(t){var e=gn.fromTag(Rn(t)),n=Tt(bo(t),(function(t,e){return ue(e,"list-style")}));return mo(e,n),[gn.fromTag("li"),e]})).getOr([])}))},JC=function(t,e){var n=nt(e,(function(t,e){return gr(e,t),e}),t);return e.length>0?RC([n]):n},QC=function(t){return Di(t)?Gn(t).filter(Mi).fold(g([]),(function(e){return[t,e]})):Mi(t)?[t]:[]},tk=function(t,e){var n=gn.fromDom(e.commonAncestorContainer),r=_x(n,t),o=tt(r,(function(t){return Ti(t)||Si(t)})),i=KC(r,e),a=o.concat(i.length?i:QC(n));return $(a,El)},ek=function(){return RC([])},nk=function(t,e){return JC(gn.fromDom(e.cloneContents()),tk(t,e))},rk=function(t,e){return Jo(e,"table",y(Mn,t))},ok=function(t,e){return rk(t,e[0]).bind((function(t){var n=e[0],r=e[e.length-1],o=YC(t);return ZC(o,n,r).map((function(t){return RC([XC(t)])}))})).getOrThunk(ek)},ik=function(t,e){return e.length>0&&e[0].collapsed?ek():nk(t,e[0])},ak=function(t,e){var n=rg(e,t);return n.length>0?ok(t,n):ik(t,e)},uk=function(t){return t.replace(/^[ \f\n\r\t\v]+/,"")},sk=function(t,e){return e>=0&&e<t.length&&dm(t.charAt(e))},ck=function(t,e){var n=ji(t.innerText);return e?uk(n):n},lk=function(t){return t.map((function(t){return t.nodeName})).getOr("div").toLowerCase()},fk=function(t){return O.from(t.selection.getRng()).map((function(e){var n=O.from(t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock)),r=t.getBody(),o=lk(n),i=$e.browser.isIE()&&"pre"!==o,a=t.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),u=ck(a,i),s=ji(a.textContent);if(t.dom.remove(a),sk(s,0)||sk(s,s.length-1)){var c=n.getOr(r),l=ck(c,i),f=l.indexOf(u);if(-1===f)return u;var d=sk(l,f-1),h=sk(l,f+u.length);return(d?" ":"")+u+(h?" ":"")}return u})).getOr("")},dk=function(t,e){var n=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),i=lb(t,Jm(o)),a=e.contextual?ak(gn.fromDom(t.getBody()),i).dom:n.cloneContents();return a&&r.appendChild(a),t.selection.serializer.serialize(r,e)},hk=function(t,e,n){if(void 0===n&&(n={}),n.get=!0,n.format=e,n.selection=!0,n=t.fire("BeforeGetContent",n),n.isDefaultPrevented())return t.fire("GetContent",n),n.content;if("text"===n.format)return fk(t);n.getInner=!0;var r=dk(t,n);return"tree"===n.format?r:(n.content=t.selection.isCollapsed()?"":r,t.fire("GetContent",n),n.content)},pk=0,mk=1,gk=2,vk=function(t,e){var n=t.length+e.length+2,r=new Array(n),o=new Array(n),i=function(t,e,n){return{start:t,end:e,diag:n}},a=function(n,r,o,i,u){var c=s(n,r,o,i);if(null===c||c.start===r&&c.diag===r-i||c.end===n&&c.diag===n-o){var l=n,f=o;while(l<r||f<i)l<r&&f<i&&t[l]===e[f]?(u.push([pk,t[l]]),++l,++f):r-n>i-o?(u.push([gk,t[l]]),++l):(u.push([mk,e[f]]),++f)}else{a(n,c.start,o,c.start-c.diag,u);for(var d=c.start;d<c.end;++d)u.push([pk,t[d]]);a(c.end,r,c.end-c.diag,i,u)}},u=function(n,r,o,a){var u=n;while(u-r<a&&u<o&&t[u]===e[u-r])++u;return i(n,u,r)},s=function(n,i,a,s){var c=i-n,l=s-a;if(0===c||0===l)return null;var f,d,h,p,m,g=c-l,v=l+c,y=(v%2===0?v:v+1)/2;for(r[1+y]=n,o[1+y]=i+1,f=0;f<=y;++f){for(d=-f;d<=f;d+=2){h=d+y,d===-f||d!==f&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,p=r[h],m=p-n+a-d;while(p<i&&m<s&&t[p]===e[m])r[h]=++p,++m;if(g%2!==0&&g-f<=d&&d<=g+f&&o[h-g]<=r[h])return u(o[h-g],d+n-a,i,s)}for(d=g-f;d<=g+f;d+=2){h=d+y-g,d===g-f||d!==g+f&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1],p=o[h]-1,m=p-n+a-d;while(p>=n&&m>=a&&t[p]===e[m])o[h]=p--,m--;if(g%2===0&&-f<=d&&d<=f&&o[h]<=r[h+g])return u(o[h],d+n-a,i,s)}}},c=[];return a(0,t.length,0,e.length,c),c},yk=function(t){return zr(t)?t.outerHTML:Xr(t)?eu.encodeRaw(t.data,!1):Zr(t)?"\x3c!--"+t.data+"--\x3e":""},bk=function(t){var e,n=document.createElement("div"),r=document.createDocumentFragment();t&&(n.innerHTML=t);while(e=n.firstChild)r.appendChild(e);return r},xk=function(t,e,n){var r=bk(e);if(t.hasChildNodes()&&n<t.childNodes.length){var o=t.childNodes[n];o.parentNode.insertBefore(r,o)}else t.appendChild(r)},wk=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},_k=function(t,e){var n=0;K(t,(function(t){t[0]===pk?n++:t[0]===mk?(xk(e,t[1],n),n++):t[0]===gk&&wk(e,n)}))},Sk=function(t){return tt($(gt(t.childNodes),yk),(function(t){return t.length>0}))},Ck=function(t,e){var n=$(gt(e.childNodes),yk);return _k(vk(n,t),e),e},kk=zc(O.none()),Tk=function(){return kk.get().getOrThunk((function(){var t=document.implementation.createHTMLDocument("undo");return kk.set(O.some(t)),t}))},Ak=function(t){return-1!==t.indexOf("</iframe>")},Ok=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},Mk=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},Dk=function(t){var e=Sk(t.getBody()),n=ut(e,(function(e){var n=Yb(t.serializer,e);return n.length>0?[n]:[]})),r=n.join("");return Ak(r)?Ok(n):Mk(r)},Ik=function(t,e,n){"fragmented"===e.type?Ck(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},Ek=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},Rk=function(t){var e=gn.fromTag("body",Tk());return Dl(e,Ek(t)),K(pl(e,"*[data-mce-bogus]"),_r),Ml(e)},Nk=function(t,e){return Ek(t)===Ek(e)},Pk=function(t,e){return Rk(t)===Rk(e)},Lk=function(t,e){return!(!t||!e)&&(!!Nk(t,e)||Pk(t,e))},Bk=function(t){return 0===t.get()},zk=function(t,e,n){Bk(n)&&(t.typing=e)},Vk=function(t,e){t.typing&&(zk(t,!1,e),t.add())},Fk=function(t){t.typing&&(t.typing=!1,t.add())},jk=function(t,e,n){Bk(e)&&n.set(O.some(rd(t.selection)))},Hk=function(t,e,n,r,o,i,a){var u=Dk(t);if(i=i||{},i=ln.extend(i,u),!1===Bk(r)||t.removed)return null;var s=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&Lk(s,i))return null;e.data[n.get()]&&o.get().each((function(t){e.data[n.get()].beforeBookmark=t}));var c=uh(t);if(c&&e.data.length>c){for(var l=0;l<e.data.length-1;l++)e.data[l]=e.data[l+1];e.data.length--,n.set(e.data.length)}i.bookmark=rd(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(i),n.set(e.data.length-1);var f={level:i,lastLevel:s,originalEvent:a};return n.get()>0?(t.setDirty(!0),t.fire("AddUndo",f),t.fire("change",f)):t.fire("AddUndo",f),i},Uk=function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")},Wk=function(t,e,n,r,o){if(e.transact(r)){var i=e.data[n.get()].bookmark,a=e.data[n.get()-1];Ik(t,a,!0),e.transact(o)&&(e.data[n.get()-1].beforeBookmark=i)}},Gk=function(t,e,n){var r;return e.get()<n.length-1&&(e.set(e.get()+1),r=n[e.get()],Ik(t,r,!1),t.setDirty(!0),t.fire("Redo",{level:r})),r},qk=function(t,e,n,r){var o;return e.typing&&(e.add(),e.typing=!1,zk(e,!1,n)),r.get()>0&&(r.set(r.get()-1),o=e.data[r.get()],Ik(t,o,!0),t.setDirty(!0),t.fire("Undo",{level:o})),o},Yk=function(t){t.clear(),t.add()},Xk=function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!Lk(Dk(t),e.data[0])},Zk=function(t,e){return e.get()<t.data.length-1&&!t.typing},$k=function(t,e,n){return Vk(t,e),t.beforeChange(),t.ignore(n),t.add()},Kk=function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}},Jk=function(t){return t instanceof Mb},Qk=function(t,e){rS(t.serializer.getNodeFilters(),t.serializer.getAttributeFilters(),e)},tT=function(t){return O.from(t.selection.getStart(!0)).map((function(t){return t.nodeName.toLowerCase()}))},eT=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},nT=function(t){return{undoManager:{beforeChange:function(e,n){return jk(t,e,n)},addUndoLevel:function(e,n,r,o,i,a){return Hk(t,e,n,r,o,i,a)},undo:function(e,n,r){return qk(t,e,n,r)},redo:function(e,n){return Gk(t,e,n)},clear:function(e,n){return Uk(t,e,n)},reset:function(t){return Yk(t)},hasUndo:function(e,n){return Xk(t,e,n)},hasRedo:function(t,e){return Zk(t,e)},transact:function(t,e,n){return $k(t,e,n)},ignore:function(t,e){return Kk(t,e)},extra:function(e,n,r,o){return Wk(t,e,n,r,o)}},formatter:{match:function(e,n,r){return xb(t,e,n,r)},matchAll:function(e,n){return wb(t,e,n)},matchNode:function(e,n,r,o){return bb(t,e,n,r,o)},canApply:function(e){return Sb(t,e)},closest:function(e){return _b(t,e)},apply:function(e,n,r){return kC(t,e,n,r)},remove:function(e,n,r,o){return pC(t,e,n,r,o)},toggle:function(e,n,r){return EC(t,e,n,r)},formatChanged:function(e,n,r,o){return IC(t,e,n,r,o)}},editor:{getContent:function(e,n){return Kb(t,e,n)},setContent:function(e,n){return lS(t,e,n)},insertContent:function(e,n){return tS(t,e,n)},addVisual:function(e){return fS(t,e)}},selection:{getContent:function(e,n){return hk(t,e,n)}},raw:{getModel:function(){return O.none()}}}},rT=function(t,e){var n=function(t){return N(t)?t:{}},r=x("Unimplemented feature for rtc"),o=h;return{undoManager:{beforeChange:o,addUndoLevel:r,undo:function(){return e.undo(),eT()},redo:function(){return e.redo(),eT()},clear:r,reset:r,hasUndo:function(){return e.hasUndo()},hasRedo:function(){return e.hasRedo()},transact:function(t,n,r){return e.transact(r),eT()},ignore:r,extra:r},formatter:{match:function(t,r,o){return e.matchFormat(t,n(r))},matchAll:r,matchNode:r,canApply:function(t){return e.canApplyFormat(t)},closest:function(t){return e.closestFormat(t)},apply:function(t,r,o){return e.applyFormat(t,n(r))},remove:function(t,r,o,i){return e.removeFormat(t,n(r))},toggle:function(t,r,o){return e.toggleFormat(t,n(r))},formatChanged:function(t,n,r,o){return e.formatChanged(n,r,o)}},editor:{getContent:function(n,r){if("html"===r||"tree"===r){var o=e.getContent(),i=Eb({inner:!0});return Qk(t,o),"tree"===r?o:i.serialize(o)}return nT(t).editor.getContent(n,r)},setContent:function(n,r){var o=Jk(n)?n:t.parser.parse(n,{isRootContent:!0,insert:!0});return e.setContent(o),n},insertContent:function(n,r){var o=tT(t).fold((function(){return{}}),(function(t){return{context:t}})),i=Jk(n)?n:t.parser.parse(n,Ht(Ht({},o),{insert:!0}));e.insertContent(i)},addVisual:function(t){}},selection:{getContent:function(n,r){if("html"===n||"tree"===n){var o=e.getSelectedContent(),i=Eb({});return Qk(t,o),"tree"===n?o:i.serialize(o)}return nT(t).selection.getContent(n,r)}},raw:{getModel:function(){return O.some(e.getRawModel())}}}},oT=function(t){return Dt(t.plugins,"rtc")},iT=function(t){var e=t;return Mt(t.plugins,"rtc").fold((function(){return e.rtcInstance=nT(t),O.none()}),(function(n){return O.some(n.setup().then((function(n){return e.rtcInstance=rT(t,n),n.isRemote})))}))},aT=function(t){return t.rtcInstance?t.rtcInstance:nT(t)},uT=function(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},sT=function(t,e,n){uT(t).undoManager.beforeChange(e,n)},cT=function(t,e,n,r,o,i,a){return uT(t).undoManager.addUndoLevel(e,n,r,o,i,a)},lT=function(t,e,n,r){return uT(t).undoManager.undo(e,n,r)},fT=function(t,e,n){return uT(t).undoManager.redo(e,n)},dT=function(t,e,n){uT(t).undoManager.clear(e,n)},hT=function(t,e){uT(t).undoManager.reset(e)},pT=function(t,e,n){return uT(t).undoManager.hasUndo(e,n)},mT=function(t,e,n){return uT(t).undoManager.hasRedo(e,n)},gT=function(t,e,n,r){return uT(t).undoManager.transact(e,n,r)},vT=function(t,e,n){uT(t).undoManager.ignore(e,n)},yT=function(t,e,n,r,o){uT(t).undoManager.extra(e,n,r,o)},bT=function(t,e,n,r){return uT(t).formatter.match(e,n,r)},xT=function(t,e,n){return uT(t).formatter.matchAll(e,n)},wT=function(t,e,n,r,o){return uT(t).formatter.matchNode(e,n,r,o)},_T=function(t,e){return uT(t).formatter.canApply(e)},ST=function(t,e){return uT(t).formatter.closest(e)},CT=function(t,e,n,r){uT(t).formatter.apply(e,n,r)},kT=function(t,e,n,r,o){uT(t).formatter.remove(e,n,r,o)},TT=function(t,e,n,r){uT(t).formatter.toggle(e,n,r)},AT=function(t,e,n,r,o){return void 0===o&&(o=!1),uT(t).formatter.formatChanged(e,n,r,o)},OT=function(t,e,n){return aT(t).editor.getContent(e,n)},MT=function(t,e,n){return aT(t).editor.setContent(e,n)},DT=function(t,e,n){return aT(t).editor.insertContent(e,n)},IT=function(t,e,n){return uT(t).selection.getContent(e,n)},ET=function(t,e){return uT(t).editor.addVisual(e)},RT=function(t,e){void 0===e&&(e={});var n=e.format?e.format:"html";return IT(t,n,e)},NT=function(t){return 0===t.dom.length?(wr(t),O.none()):O.some(t)},PT=function(t,e){return t.filter((function(t){return kg.isBookmarkNode(t.dom)})).bind(e?Zn:Xn)},LT=function(t,e,n,r){var o=t.dom,i=e.dom,a=r?o.length:i.length;r?(cw(o,i,!1,!r),n.setStart(i,a)):(cw(i,o,!1,!r),n.setEnd(i,a))},BT=function(t,e){Gn(t).each((function(n){var r=t.dom;e&&Yx(n,Sf(r,0))?uw(r,0):!e&&Zx(n,Sf(r,r.length))&&sw(r,r.length)}))},zT=function(t,e,n,r){t.bind((function(t){var o=r?sw:uw;return o(t.dom,r?t.dom.length:0),e.filter(zn).map((function(e){return LT(t,e,n,r)}))})).orThunk((function(){var t=PT(e,r).or(e).filter(zn);return t.map((function(t){return BT(t,r)}))}))},VT=function(t,e){var n=O.from(e.firstChild).map(gn.fromDom),r=O.from(e.lastChild).map(gn.fromDom);t.deleteContents(),t.insertNode(e);var o=n.bind(Xn).filter(zn).bind(NT),i=r.bind(Zn).filter(zn).bind(NT);zT(o,n,t,!0),zT(i,r,t,!1),t.collapse(!1)},FT=function(t,e){return Ht(Ht({format:"html"},t),{set:!0,selection:!0,content:e})},jT=function(t,e){if("raw"!==e.format){var n=t.selection.getRng(),r=t.dom.getParent(n.commonAncestorContainer,t.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=t.parser.parse(e.content,Ht(Ht({isRootContent:!0,forced_root_block:!1},o),e));return Eb({validate:t.validate},t.schema).serialize(i)}return e.content},HT=function(t,e,n){void 0===n&&(n={});var r=FT(n,e);if(r.no_events||(r=t.fire("BeforeSetContent",r),!r.isDefaultPrevented())){n.content=jT(t,r);var o=t.selection.getRng();VT(o,o.createContextualFragment(n.content)),t.selection.setRng(o),Hv(t,o),r.no_events||t.fire("SetContent",r)}else t.fire("SetContent",r)},UT=function(t,e,n){if(t&&t.hasOwnProperty(e)){var r=tt(t[e],(function(t){return t!==n}));0===r.length?delete t[e]:t[e]=r}};function WT(t,e){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},e.on("NodeChange",(function(e){var o=e.element,i=t.getParents(o,null,t.getRoot()),a={};ln.each(n,(function(e,n){ln.each(i,(function(o){if(t.is(o,n))return r[n]||(ln.each(e,(function(t){t(!0,{node:o,selector:n,parents:i})})),r[n]=e),a[n]=e,!1}))})),ln.each(r,(function(t,e){a[e]||(delete r[e],ln.each(t,(function(t){t(!1,{node:o,selector:e,parents:i})})))}))}))),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){UT(n,o,i),UT(r,o,i)}}}}}var GT=function(t){return!!t.select},qT=function(t){return!(!t||!t.ownerDocument)&&En(gn.fromDom(t.ownerDocument),gn.fromDom(t))},YT=function(t){return!!t&&(!!GT(t)||qT(t.startContainer)&&qT(t.endContainer))},XT=function(t,e,n,r){var o,i,a=WT(t,r).selectorChangedWithUnbind,u=function(e,n){var o=t.createRng();e?(o.setStart(e,n),o.setEnd(e,n),b(o),g(!1)):(lg(t,o,r.getBody(),!0),b(o))},s=function(t){return RT(r,t)},c=function(t,e){return HT(r,t,e)},l=function(t){return ob(r.getBody(),y(),t)},f=function(t){return ib(r.getBody(),y(),t)},d=function(t,e){return E.getBookmark(t,e)},h=function(t){return E.moveToBookmark(t)},p=function(e,n){return cb(t,e,n).each(b),e},m=function(){var t=y(),e=v();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},g=function(t){var e=y();e.collapse(!!t),b(e)},v=function(){return e.getSelection?e.getSelection():e.document.selection},y=function(){var n,a,u,s=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(r){return-1}};if(!e)return null;var c=e.document;if("undefined"===typeof c||null===c)return null;if(void 0!==r.bookmark&&!1===Jy(r)){var l=ky(r);if(l.isSome())return l.map((function(t){return lb(r,[t])[0]})).getOr(c.createRange())}try{(n=v())&&!Br(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange(),a=lb(r,[a])[0])}catch(f){}return a||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(u=t.getRoot(),a.setStart(u,0),a.setEnd(u,0)),o&&i&&(0===s(a.START_TO_START,a,o)&&0===s(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},b=function(t,e){var n;if(YT(t)){var a=GT(t)?t:null;if(a){i=null;try{a.select()}catch(c){}}else{var u=v(),s=r.fire("SetSelectionRange",{range:t,forward:e});if(t=s.range,u){i=t;try{u.removeAllRanges(),u.addRange(t)}catch(c){}!1===e&&u.extend&&(u.collapse(t.endContainer,t.endOffset),u.extend(t.startContainer,t.startOffset)),o=u.rangeCount>0?u.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!u.setBaseAndExtent||$e.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(n=t.startContainer.childNodes[t.startOffset],n&&"IMG"===n.tagName&&(u.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),u.anchorNode===t.startContainer&&u.focusNode===t.endContainer||u.setBaseAndExtent(n,0,n,1))),r.fire("AfterSetSelectionRange",{range:t,forward:e})}}},x=function(e){return c(t.getOuterHTML(e)),e},w=function(){return ub(r.getBody(),y())},_=function(e,n){return sb(t,y(),e,n)},S=function(){var e=v(),n=null===e||void 0===e?void 0:e.anchorNode,r=null===e||void 0===e?void 0:e.focusNode;if(!e||!n||!r||Br(n)||Br(r))return!0;var o=t.createRng();o.setStart(n,e.anchorOffset),o.collapse(!0);var i=t.createRng();return i.setStart(r,e.focusOffset),i.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,i)<=0},C=function(){var e=y(),n=v();if(!tg(n)&&fg(r)){var o=av(t,e);return o.each((function(t){b(t,S())})),o.getOr(e)}return e},k=function(t,e){return a(t,e),I},T=function(){var e,n=t.getRoot();while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},A=function(t,e){return jv(r,t,e)},O=function(t,e){return b(Yg(t,e,r.getDoc()))},M=function(){var t=y();return t.collapsed?Sf.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},D=function(){e=o=i=null,R.destroy()},I={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:r,collapse:g,setCursorLocation:u,getContent:s,setContent:c,getBookmark:d,moveToBookmark:h,select:p,isCollapsed:m,isForward:S,setNode:x,getNode:w,getSel:v,setRng:b,getRng:y,getStart:l,getEnd:f,getSelectedBlocks:_,normalize:C,selectorChanged:k,selectorChangedWithUnbind:a,getScrollContainer:T,scrollIntoView:A,placeCaretAt:O,getBoundingClientRect:M,destroy:D},E=kg(I),R=Hg(I,r);return I.bookmarkManager=E,I.controlSelection=R,I},ZT=function(t,e){K(e,(function(e){t.attr(e,null)}))},$T=function(t,e,n){t.addNodeFilter("font",(function(t){K(t,(function(t){var r=e.parse(t.attr("style")),o=t.attr("color"),i=t.attr("face"),a=t.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(r)),ZT(t,["color","face","size"])}))}))},KT=function(t,e){t.addNodeFilter("strike",(function(t){K(t,(function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))}))}))},JT=function(t,e){var n=Eu();e.convert_fonts_to_spans&&$T(t,n,ln.explode(e.font_size_legacy_values)),KT(t,n)},QT=function(t,e){e.inline_styles&&JT(t,e)},tA=function(t){return new ni((function(e,n){var r=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200===this.status?e(this.response):r()},o.onerror=r,o.send()}catch(i){r()}}))},eA=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},nA=function(t,e){var n;try{n=atob(e)}catch(gF){return O.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return O.some(new Blob([r],{type:t}))},rA=function(t){return new ni((function(e){var n=eA(t),r=n.type,o=n.data;nA(r,o).fold((function(){return e(new Blob([]))}),e)}))},oA=function(t){return 0===t.indexOf("blob:")?tA(t):0===t.indexOf("data:")?rA(t):null},iA=function(t){return new ni((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)}))},aA=0,uA=function(t){return(t||"blobid")+aA++},sA=function(t,e,n,r){var o,i;if(0===e.src.indexOf("blob:"))return i=t.getByUri(e.src),void(i?n({image:e,blobInfo:i}):oA(e.src).then((function(r){iA(r).then((function(a){o=eA(a).data,i=t.create(uA(),r,o),t.add(i),n({image:e,blobInfo:i})}))}),(function(t){r(t)})));var a=eA(e.src),u=a.data,s=a.type;o=u,i=t.getByData(o,s),i?n({image:e,blobInfo:i}):oA(e.src).then((function(r){i=t.create(uA(),r,o),t.add(i),n({image:e,blobInfo:i})}),(function(t){r(t)}))},cA=function(t){return t?gt(t.getElementsByTagName("img")):[]};function lA(t,e){var n={},r=function(r,o){o||(o=S);var i=tt(cA(r),(function(e){var n=e.src;return!!$e.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!n||n===$e.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e)))))})),a=$(i,(function(t){if(void 0!==n[t.src])return new ni((function(e){n[t.src].then((function(n){if("string"===typeof n)return n;e({image:t,blobInfo:n.blobInfo})}))}));var r=new ni((function(n,r){sA(e,t,n,r)})).then((function(t){return delete n[t.image.src],t})).catch((function(e){return delete n[t.src],e}));return n[t.src]=r,r}));return ni.all(a)};return{findAll:r}}var fA=function(t,e,n,r){var o=t.padd_empty_with_br||e.insert;o&&n[r.name]?r.empty().append(new Mb("br",1)).shortEnded=!0:r.empty().append(new Mb("#text",3)).value=Li},dA=function(t){return hA(t,"#text")&&t.firstChild.value===Li},hA=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},pA=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},mA=function(t,e,n,r){return r.isEmpty(e,n,(function(e){return pA(t,e)}))},gA=function(t,e){return t&&(e[t.name]||"br"===t.name)},vA=function(t){return t.attr("data-mce-bogus")},yA=function(t){return t.attr("src")===$e.transparentSrc||t.attr("data-mce-placeholder")},bA=function(t,e){if(e.images_dataimg_filter){var n=new Image;return n.src=t.attr("src"),xt(t.attributes.map,(function(t,e){n.setAttribute(e,t)})),e.images_dataimg_filter(n)}return!0},xA=function(t,e){var n=e.blob_cache,r=function(t){var r=t.attr("src");yA(t)||vA(t)||Pb(r).filter((function(){return bA(t,e)})).bind((function(t){var e=t.type,r=t.data;return O.from(n.getByData(r,e)).orThunk((function(){return nA(e,r).map((function(t){var e=n.create(uA(),t,r);return n.add(e),e}))}))})).each((function(e){t.attr("src",e.blobUri())}))};n&&t.addAttributeFilter("src",(function(t){return K(t,r)}))},wA=function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,r,o){var i,a,u,s,c,l,f,d,h=t.length,p=ln.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(p.body=1,i=0;i<h;i++)if(a=t[i],u=a.parent,p[a.parent.name]&&a===u.lastChild){c=a.prev;while(c){if(l=c.name,"span"!==l||"bookmark"!==c.attr("data-mce-type")){"br"===l&&(a=null);break}c=c.prev}a&&(a.remove(),mA(n,m,g,u)&&(f=n.getElementRule(u.name),f&&(f.removeEmpty?u.remove():f.paddEmpty&&fA(e,o,p,u))))}else{s=a;while(u&&u.firstChild===s&&u.lastChild===s){if(s=u,p[u.name])break;u=u.parent}s===u&&!0!==e.padd_empty_with_br&&(d=new Mb("#text",3),d.value=Li,a.replace(d))}})),t.addAttributeFilter("href",(function(t){var n=t.length,r=function(t){var e=t.split(" ").filter((function(t){return t.length>0}));return e.concat(["noopener"]).sort().join(" ")},o=function(t){var e=t?ln.trim(t):"";return/\b(noopener)\b/g.test(e)?e:r(e)};if(!e.allow_unsafe_link_target)while(n--){var i=t[n];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",o(i.attr("rel")))}})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){var e,n,r,o,i=t.length;while(i--)if(o=t[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,e=o.lastChild;do{n=e.prev,r.insert(e,o),e=n}while(e)}})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){var e,n,r=t.length;while(r--)if(e=t[r],n=e.parent,"ul"===n.name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var o=new Mb("li",1);o.attr("style","list-style-type: none"),e.wrap(o)}})),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",(function(t){var e,r,o,i,a,u,s,c=t.length,l=n.getValidClasses();while(c--){for(e=t[c],r=e.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],s=!1,u=l["*"],u&&u[i]&&(s=!0),u=l[e.name],!s&&u&&u[i]&&(s=!0),s&&(a&&(a+=" "),a+=i);a.length||(a=null),e.attr("class",a)}})),xA(t,e)},_A=ln.makeMap,SA=ln.each,CA=ln.explode,kA=ln.extend,TA=function(t,e){void 0===e&&(e=du());var n={},r=[],o={},i={};t=t||{},t.validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a=function(t){var n,r,o,i,a,s,c,l,f,d,h,p=_A("tr,td,th,tbody,thead,tfoot,table"),m=e.getNonEmptyElements(),g=e.getWhiteSpaceElements(),v=e.getTextBlockElements(),y=e.getSpecialElements();for(n=0;n<t.length;n++)if(r=t[n],r.parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){d=r.next;while(d){if(!v[d.name])break;d.name="li",d.fixed=!0,r.parent.insert(d,r.parent),d=d.next}r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!e.isValidChild(o.name,r.name)&&!p[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=s=u(i[0].clone()),f=0;f<i.length-1;f++){for(e.isValidChild(s.name,i[f].name)?(c=u(i[f].clone()),s.append(c)):c=s,l=i[f].firstChild;l&&l!==i[f+1];)h=l.next,c.append(l),l=h;s=c}mA(e,m,g,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(mA(e,m,g,o)||hA(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if(d=r.prev,d&&("ul"===d.name||"ol"===d.name)){d.append(r);continue}if(d=r.next,d&&("ul"===d.name||"ol"===d.name)){d.insert(r,d.firstChild,!0);continue}r.wrap(u(new Mb("ul",1)));continue}e.isValidChild(r.parent.name,"div")&&e.isValidChild("div",r.name)?r.wrap(u(new Mb("div",1))):y[r.name]?r.empty().remove():r.unwrap()}}},u=function(t){var e,a,u;a=t.name,a in n&&(u=o[a],u?u.push(t):o[a]=[t]),e=r.length;while(e--)a=r[e].name,a in t.attributes.map&&(u=i[a],u?u.push(t):i[a]=[t]);return t},s=function(t,e){SA(CA(t),(function(t){var r=n[t];r||(n[t]=r=[]),r.push(e)}))},c=function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},l=function(t,e){SA(CA(t),(function(t){var n;for(n=0;n<r.length;n++)if(r[n].name===t)return void r[n].callbacks.push(e);r.push({name:t,callbacks:[e]})}))},f=function(){return[].concat(r)},d=function(u,s){var c,l,f,d,h,p,m,g,v,y=[],b=function(t){return!1===t?"":!0===t?"p":t};s=s||{},o={},i={};var x=kA(_A("script,style,head,html,body,title,meta,param"),e.getBlockElements()),w=e.getNonEmptyElements(),_=e.children,S=t.validate,C="forced_root_block"in s?s.forced_root_block:t.forced_root_block,k=b(C),T=e.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,O=/[ \t\r\n]+$/,M=/[ \t\r\n]+/g,D=/^[ \t\r\n]+$/;g=T.hasOwnProperty(s.context)||T.hasOwnProperty(t.root_name);var I=function(){var n,r,o=L.firstChild,i=function(t){t&&(o=t.firstChild,o&&3===o.type&&(o.value=o.value.replace(A,"")),o=t.lastChild,o&&3===o.type&&(o.value=o.value.replace(O,"")))};if(e.isValidChild(L.name,k.toLowerCase())){while(o)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!x[o.name]&&!o.attr("data-mce-type")?(r||(r=E(k,1),r.attr(t.forced_root_block_attrs),L.insert(r,o)),r.append(o)):(i(r),r=null),o=n;i(r)}},E=function(t,e){var r,i=new Mb(t,e);return t in n&&(r=o[t],r?r.push(i):o[t]=[i]),i},R=function(t){var n,r,o,i,a=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if(o=n.value.replace(O,""),o.length>0)return void(n.value=o);if(r=n.next,r){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},N=function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n},P=Gb({validate:S,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:N(e.getSelfClosingElements()),cdata:function(t){v.append(E("#cdata",4)).value=t},text:function(t,e){var n;g||(t=t.replace(M," "),gA(v.lastChild,x)&&(t=t.replace(A,""))),0!==t.length&&(n=E("#text",3),n.raw=!!e,v.append(n).value=t)},comment:function(t){v.append(E("#comment",8)).value=t},pi:function(t,e){v.append(E(t,7)).value=e,R(v)},doctype:function(t){var e=v.append(E("#doctype",10));e.value=t,R(v)},start:function(t,n,o){var a,u,s,c,l=S?e.getElementRule(t):{};if(l){a=E(l.outputName||t,1),a.attributes=n,a.shortEnded=o,v.append(a),c=_[v.name],c&&_[a.name]&&!c[a.name]&&y.push(a),u=r.length;while(u--)s=r[u].name,s in n.map&&(p=i[s],p?p.push(a):i[s]=[a]);x[t]&&R(a),o||(v=a),!g&&T[t]&&(g=!0)}},end:function(n){var r,o,i,a,u=S?e.getElementRule(n):{};if(u){if(x[n]&&!g){if(r=v.firstChild,r&&3===r.type)if(o=r.value.replace(A,""),o.length>0)r.value=o,r=r.next;else{i=r.next,r.remove(),r=i;while(r&&3===r.type)o=r.value,i=r.next,(0===o.length||D.test(o))&&(r.remove(),r=i),r=i}if(r=v.lastChild,r&&3===r.type)if(o=r.value.replace(O,""),o.length>0)r.value=o,r=r.prev;else{i=r.prev,r.remove(),r=i;while(r&&3===r.type)o=r.value,i=r.prev,(0===o.length||D.test(o))&&(r.remove(),r=i),r=i}}if(g&&T[n]&&(g=!1),u.removeEmpty&&mA(e,w,T,v))return a=v.parent,x[v.name]?v.empty().remove():v.unwrap(),void(v=a);u.paddEmpty&&(dA(v)||mA(e,w,T,v))&&fA(t,s,x,v),v=v.parent}}},e),L=v=new Mb(s.context||t.root_name,11);if(P.parse(u,s.format),S&&y.length&&(s.context?s.invalid=!0:a(y)),k&&("body"===L.name||s.isRootContent)&&I(),!s.invalid){for(m in o)if(o.hasOwnProperty(m)){p=n[m],c=o[m],d=c.length;while(d--)c[d].parent||c.splice(d,1);for(l=0,f=p.length;l<f;l++)p[l](c,m,s)}for(l=0,f=r.length;l<f;l++)if(p=r[l],p.name in i){c=i[p.name],d=c.length;while(d--)c[d].parent||c.splice(d,1);for(d=0,h=p.callbacks.length;d<h;d++)p.callbacks[d](c,p.name,s)}}return L},h={schema:e,addAttributeFilter:l,getAttributeFilters:f,addNodeFilter:s,getNodeFilters:c,filterNode:u,parse:d};return wA(h,t),QT(h,t),h},AA=function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){var n,r=t.length;while(r--)n=t[r],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)})),t.addAttributeFilter("src,href,style",(function(t,r){var o,i,a=t.length,u="data-mce-"+r,s=e.url_converter,c=e.url_converter_scope;while(a--)o=t[a],i=o.attr(u),void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):s&&(i=s.call(c,i,r,o.name)),o.attr(r,i.length>0?i:null))})),t.addAttributeFilter("class",(function(t){var e,n,r=t.length;while(r--)e=t[r],n=e.attr("class"),n&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))})),t.addAttributeFilter("data-mce-type",(function(t,e,n){var r,o=t.length;while(o--)if(r=t[o],"bookmark"===r.attr("data-mce-type")&&!n.cleanup){var i=O.from(r.firstChild).exists((function(t){return!Fi(t.value)}));i?r.unwrap():r.remove()}})),t.addNodeFilter("noscript",(function(t){var e,n=t.length;while(n--)e=t[n].firstChild,e&&(e.value=eu.decode(e.value))})),t.addNodeFilter("script,style",(function(t,n){var r,o,i,a=t.length,u=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};while(a--)r=t[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===e.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===e.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+u(o)+"\n--\x3e")})),t.addNodeFilter("#comment",(function(t){var r,o=t.length;while(o--)r=t[o],e.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,e){var n,r=t.length;while(r--)n=t[r],7===n.type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(e){K(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(t,e){var n=t.length;while(n--)t[n].attr(e,null)}))},OA=function(t){var e=function(t){return t&&"br"===t.name},n=t.lastChild;if(e(n)){var r=n.prev;e(r)&&(n.remove(),r.remove())}},MA=function(t,e,n){var r,o,i=t.dom;e=e.cloneNode(!0);var a=document.implementation;return a.createHTMLDocument&&(r=a.createHTMLDocument(""),ln.each("BODY"===e.nodeName?e.childNodes:[e],(function(t){r.body.appendChild(r.importNode(t,!0))})),e="BODY"!==e.nodeName?r.body.firstChild:r.body,o=i.doc,i.doc=r),Og(t,Ht(Ht({},n),{node:e})),o&&(i.doc=o),e},DA=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},IA=function(t,e,n){return DA(t,n)?MA(t,e,n):e},EA=function(t,e,n){-1===ln.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){var n=t.length;while(n--)t[n].attr(e,null)})),e.push(n))},RA=function(t,e,n){if(!e.no_events&&t){var r=Mg(t,Ht(Ht({},e),{content:n}));return r.content}return n},NA=function(t,e,n){var r=ji(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Ri(gn.fromDom(e))?r:ln.trim(r)},PA=function(t,e,n){var r=n.selection?Ht({forced_root_block:!1},n):n,o=t.parse(e,r);return OA(o),o},LA=function(t,e,n){var r=Eb(t,e);return r.serialize(n)},BA=function(t,e,n,r,o){var i=LA(e,n,r);return RA(t,o,i)},zA=function(t,e){var n=["data-mce-selected"],r=e&&e.dom?e.dom:Mc.DOM,o=e&&e.schema?e.schema:du(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i=TA(t,o);AA(i,t,r);var a=function(n,a){void 0===a&&(a={});var u=Ht({format:"html"},a),s=IA(e,n,u),c=NA(r,s,u),l=PA(i,c,u);return"tree"===u.format?l:BA(e,t,o,l,u)};return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:a,addRules:function(t){o.addValidElements(t)},setRules:function(t){o.setValidElements(t)},addTempAttr:y(EA,i,n),getTempAttrs:function(){return n},getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},VA=function(t,e){var n=zA(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},FA="html",jA=function(t,e){void 0===e&&(e={});var n=e.format?e.format:FA;return OT(t,e,n)},HA=function(t,e,n){return void 0===n&&(n={}),MT(t,e,n)},UA=Mc.DOM,WA=function(t){UA.setStyle(t.id,"display",t.orgDisplay)},GA=function(t){return O.from(t).each((function(t){return t.destroy()}))},qA=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},YA=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),UA.unbind(e,"submit reset",t.formEventDelegate))},XA=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),o=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&UA.remove(o.nextSibling),Dg(t),t.editorManager.remove(t),!t.inline&&r&&WA(t),Ig(t),UA.remove(t.getContainer()),GA(e),GA(n),t.destroy()}},ZA=function(t,e){var n=t.selection,r=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),GA(n),GA(r)),YA(t),qA(t),t.destroyed=!0):t.remove())},$A=Object.prototype.hasOwnProperty,KA=function(t,e){var n=N(t)&&N(e);return n?QA(t,e):e},JA=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)$A.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},QA=JA(KA),tO=function(t,e){return{sections:g(t),settings:g(e)}},eO=je().deviceType,nO=eO.isTouch(),rO=eO.isPhone(),oO=eO.isTablet(),iO=["lists","autolink","autosave"],aO={table_grid:!1,object_resizing:!1,resize:!1},uO=function(t){var e=P(t)?t.join(" "):t,n=$(R(e)?e.split(" "):[],ce);return tt(n,(function(t){return t.length>0}))},sO=function(t){return tt(t,y(X,iO))},cO=function(t,e){var n=kt(e,(function(e,n){return X(t,n)}));return tO(n.t,n.f)},lO=function(t,e,n){void 0===n&&(n={});var r=t.sections(),o=r.hasOwnProperty(e)?r[e]:{};return ln.extend({},n,o)},fO=function(t,e){return t.sections().hasOwnProperty(e)},dO=function(t,e,n){var r=t.sections();return fO(t,e)&&r[e].theme===n},hO=function(t,e){return fO(t,e)?t.sections()[e]:{}},pO=function(t,e){return Mt(t,"toolbar_mode").orThunk((function(){return Mt(t,"toolbar_drawer").map((function(t){return!1===t?"wrap":t}))})).getOr(e)},mO=function(t,e,n,r,o){var i={id:e,theme:"silver",toolbar_mode:pO(t,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Ht(Ht({},i),r?aO:{})},gO=function(t,e){var n={resize:!1,toolbar_mode:pO(t,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return Ht(Ht(Ht({},aO),n),e?r:{})},vO=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?ln.extend({},t.external_plugins,n):n},yO=function(t,e){return[].concat(uO(t)).concat(uO(e))},bO=function(t,e,n,r){return t&&dO(e,"mobile","mobile")?sO(r):t&&fO(e,"mobile")?r:n},xO=function(t,e,n,r){var o=uO(n.forced_plugins),i=uO(r.plugins),a=hO(e,"mobile"),u=a.plugins?uO(a.plugins):i,s=bO(t,e,i,u),c=yO(o,s);if($e.browser.isIE()&&X(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return ln.extend(r,{plugins:c.join(" ")})},wO=function(t,e){return t&&fO(e,"mobile")},_O=function(t,e,n,r,o){var i=t?{mobile:gO(o.mobile||{},e)}:{},a=cO(["mobile"],QA(i,o)),u=ln.extend(n,r,a.settings(),wO(t,a)?lO(a,"mobile"):{},{validate:!0,external_plugins:vO(r,a.settings())});return xO(t,a,r,u)},SO=function(t,e,n,r,o){var i=mO(o,e,n,nO,t);return _O(rO||oO,rO,i,r,o)},CO=function(t,e,n){return O.from(e.settings[n]).filter(t)},kO=function(t){var e={};return"string"===typeof t?K(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),(function(t){var n=t.split("=");n.length>1?e[ln.trim(n[0])]=ln.trim(n[1]):e[ln.trim(n[0])]=ln.trim(n[0])})):e=t,e},TO=function(t){return function(e){return P(e)&&st(e,t)}},AO=function(t,e,n,r){var o=e in t.settings?t.settings[e]:n;return"hash"===r?kO(o):"string"===r?CO(R,t,e).getOr(n):"number"===r?CO(H,t,e).getOr(n):"boolean"===r?CO(B,t,e).getOr(n):"object"===r?CO(N,t,e).getOr(n):"array"===r?CO(P,t,e).getOr(n):"string[]"===r?CO(TO(R),t,e).getOr(n):"function"===r?CO(j,t,e).getOr(n):o},OO=function(){var t={},e=function(e,n){t[e]=n},n=function(e){return t[e]?t[e]:{icons:{}}},r=function(e){return Dt(t,e)};return{add:e,get:n,has:r}},MO=OO(),DO=function(t,e){var n=e.dom;return n[t]},IO=function(t,e){return parseInt(go(e,t),10)},EO=y(DO,"clientWidth"),RO=y(DO,"clientHeight"),NO=y(IO,"margin-top"),PO=y(IO,"margin-left"),LO=function(t){return t.dom.getBoundingClientRect()},BO=function(t,e,n){var r=EO(t),o=RO(t);return e>=0&&n>=0&&e<=r&&n<=o},zO=function(t,e,n,r){var o=LO(e),i=t?o.left+e.dom.clientLeft+PO(e):0,a=t?o.top+e.dom.clientTop+NO(e):0,u=n-i,s=r-a;return{x:u,y:s}},VO=function(t,e,n){var r=gn.fromDom(t.getBody()),o=t.inline?r:Un(r),i=zO(t.inline,o,e,n);return BO(o,i.x,i.y)},FO=function(t){return O.from(t).map(gn.fromDom)},jO=function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return FO(e).map(Sr).getOr(!1)};function HO(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}}function UO(t){var e=[],n=function(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():HO()},r=function(){return O.from(e[0])},o=function(t,e){return t.type===e.type&&t.text===e.text&&!t.progressBar&&!t.timeout&&!e.progressBar&&!e.timeout},i=function(){e.length>0&&n().reposition(e)},a=function(t){e.push(t)},u=function(t){it(e,(function(e){return e===t})).each((function(t){e.splice(t,1)}))},s=function(s,c){if(void 0===c&&(c=!0),!t.removed&&jO(t))return c&&t.fire("BeforeOpenNotification",{notification:s}),ot(e,(function(t){return o(n().getArgs(t),s)})).getOrThunk((function(){t.editorManager.setActive(t);var e=n().open(s,(function(){u(e),i(),r().fold((function(){return t.focus()}),(function(t){return Wv(gn.fromDom(t.getEl()))}))}));return a(e),i(),t.fire("OpenNotification",Ht({},e)),e}))},c=function(){r().each((function(t){n().close(t),u(t),i()}))},l=function(){return e},f=function(t){t.on("SkinLoaded",(function(){var e=Gd(t);e&&s({text:e,type:"warning",timeout:0},!1)})),t.on("ResizeEditor ResizeWindow NodeChange",(function(){ci.requestAnimationFrame(i)})),t.on("remove",(function(){K(e.slice(),(function(t){n().close(t)}))}))};return f(t),{open:s,close:c,getNotifications:l}}var WO=Qc.PluginManager,GO=Qc.ThemeManager;function qO(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}var YO=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():qO()},r=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},o=function(e){t.fire("OpenWindow",{dialog:e})},i=function(e){t.fire("CloseWindow",{dialog:e})},a=function(t){e.push(t),o(t)},u=function(n){i(n),e=tt(e,(function(t){return t!==n})),0===e.length&&t.focus()},s=function(){return O.from(e[e.length-1])},c=function(e){t.editorManager.setActive(t),Sy(t);var n=e();return a(n),n},l=function(t,e){return c((function(){return n().open(t,e,u)}))},f=function(t){return c((function(){return n().openUrl(t,u)}))},d=function(t,e,o){n().alert(t,r(o||this,e))},h=function(t,e,o){n().confirm(t,r(o||this,e))},p=function(){s().each((function(t){n().close(t),u(t)}))};return t.on("remove",(function(){K(e,(function(t){n().close(t)}))})),{open:l,openUrl:f,alert:d,confirm:h,close:p}},XO=function(t,e){t.notificationManager.open({type:"error",text:e})},ZO=function(t,e){t._skinLoaded?XO(t,e):t.on("SkinLoaded",(function(){XO(t,e)}))},$O=function(t,e){ZO(t,Kc.translate(["Failed to upload image: {0}",e]))},KO=function(t,e,n){Vg(t,e,{message:n}),console.error(n)},JO=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},QO=function(t,e,n){KO(t,"PluginLoadError",JO("plugin",e,n))},tM=function(t,e,n){KO(t,"IconsLoadError",JO("icons",e,n))},eM=function(t,e,n){KO(t,"LanguageLoadError",JO("language",e,n))},nM=function(t,e,n){var r=Kc.translate(["Failed to initialize plugin: {0}",e]);rM(r,n),ZO(t,r)},rM=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,Wt([t],e)):r.log.apply(r,Wt([t],e)))},oM=function(t){return/^[a-z0-9\-]+$/i.test(t)},iM=function(t){var e=zd(t),n=t.editorManager.baseURL+"/skins/content",r=t.editorManager.suffix,o="content"+r+".css",i=!0===t.inline;return $(e,(function(e){return oM(e)&&!i?n+"/"+e+"/"+o:t.documentBaseURI.toAbsolute(e)}))},aM=function(t){t.contentCSS=t.contentCSS.concat(iM(t))};function uM(t,e){var n={},r=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},o=function(t,n,o,i){var a=new XMLHttpRequest;a.open("POST",e.url),a.withCredentials=e.credentials,a.upload.onprogress=function(t){i(t.loaded/t.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)o("HTTP Error: "+a.status);else{var t=JSON.parse(a.responseText);t&&"string"===typeof t.location?n(r(e.basePath,t.location)):o("Invalid JSON: "+a.responseText)}};var u=new FormData;u.append("file",t.blob(),t.filename()),a.send(u)},i=function(){return new ni((function(t){t([])}))},a=function(t,e){return{url:e,blobInfo:t,status:!0}},u=function(t,e,n){return{url:"",blobInfo:t,status:!1,error:{message:e,options:n}}},s=function(t,e){ln.each(n[t],(function(t){t(e)})),delete n[t]},c=function(e,n,r){return t.markPending(e.blobUri()),new ni((function(o){var i,c,l=function(){};try{var f=function(){i&&(i.close(),c=l)},d=function(n){f(),t.markUploaded(e.blobUri(),n),s(e.blobUri(),a(e,n)),o(a(e,n))},h=function(n,r){var i=r||{};f(),t.removeFailed(e.blobUri()),s(e.blobUri(),u(e,n,i)),o(u(e,n,i))};c=function(t){t<0||t>100||(i||(i=r()),i.progressBar.value(t))},n(e,d,h,c)}catch(p){o(u(e,p.message,{}))}}))},l=function(t){return t===o},f=function(t){var e=t.blobUri();return new ni((function(t){n[e]=n[e]||[],n[e].push(t)}))},d=function(n,r){return n=ln.grep(n,(function(e){return!t.isUploaded(e.blobUri())})),ni.all(ln.map(n,(function(n){return t.isPending(n.blobUri())?f(n):c(n,e.handler,r)})))},h=function(t,n){return!e.url&&l(e.handler)?i():d(t,n)};return!1===j(e.handler)&&(e.handler=o),{upload:h}}function sM(){var t=1,e=2,n={},r=function(t,e){return{status:t,resultUri:e}},o=function(t){return t in n},i=function(t){var e=n[t];return e?e.resultUri:null},a=function(e){return!!o(e)&&n[e].status===t},u=function(t){return!!o(t)&&n[t].status===e},s=function(e){n[e]=r(t,null)},c=function(t,o){n[t]=r(e,o)},l=function(t){delete n[t]},f=function(){n={}};return{hasBlobUri:o,getResultUri:i,isPending:a,isUploaded:u,markPending:s,markUploaded:c,removeFailed:l,destroy:f}}var cM=0,lM=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)},e=(new Date).getTime();return"s"+e.toString(36)+t()+t()+t()},fM=function(t){return t+cM+++lM()},dM=function(){var t=[],e=function(t){var e={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return e[t.toLowerCase()]||"dat"},n=function(t,e,n,o,i){if(R(t)){var a=t;return r({id:a,name:o,filename:i,blob:e,base64:n})}if(N(t))return r(t);throw new Error("Unknown input type")},r=function(t){if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var n=t.id||fM("blobid"),r=t.name||n,o=t.blob;return{id:g(n),name:g(r),filename:g(t.filename||r+"."+e(o.type)),blob:g(o),base64:g(t.base64),blobUri:g(t.blobUri||URL.createObjectURL(o)),uri:g(t.uri)}},o=function(e){a(e.id())||t.push(e)},i=function(e){return ot(t,e).getOrUndefined()},a=function(t){return i((function(e){return e.id()===t}))},u=function(t){return i((function(e){return e.blobUri()===t}))},s=function(t,e){return i((function(n){return n.base64()===t&&n.blob().type===e}))},c=function(e){t=tt(t,(function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)}))},l=function(){K(t,(function(t){URL.revokeObjectURL(t.blobUri())})),t=[]};return{create:n,add:o,get:a,getByUri:u,getByData:s,findFirst:i,removeByUri:c,destroy:l}},hM=function(t){var e=zc(null);t.on("change AddUndo",(function(t){e.set(Ht({},t.level))}));var n=function(){var n=t.undoManager.data;mt(n).filter((function(t){return!Lk(e.get(),t)})).each((function(e){t.setDirty(!0),t.fire("change",{level:e,lastLevel:ht(n,n.length-2).getOrNull()})}))};return{fireIfChanged:n}},pM=function(t){var e,n,r=dM(),o=sM(),i=[],a=hM(t),u=function(e){return function(n){return t.selection?e(n):[]}},s=function(t){return t+(-1===t.indexOf("?")?"?":"&")+(new Date).getTime()},c=function(t,e,n){var r=0;do{r=t.indexOf(e,r),-1!==r&&(t=t.substring(0,r)+n+t.substr(r+e.length),r+=n.length-e.length+1)}while(-1!==r);return t},l=function(t,e,n){var r='src="'+n+'"'+(n===$e.transparentSrc?' data-mce-placeholder="1"':"");return t=c(t,'src="'+e+'"',r),t=c(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"'),t},f=function(e,n){K(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=$(t.fragments,(function(t){return l(t,e,n)})):t.content=l(t.content,e,n)}))},d=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},h=function(e,n){var r=t.convertURL(n,"src");f(e.src,n),t.$(e).attr({src:Cd(t)?s(n):n,"data-mce-src":r})},p=function(n){return e||(e=uM(o,{url:Od(t),basePath:Md(t),credentials:Dd(t),handler:Id(t)})),y().then(u((function(o){var i=$(o,(function(t){return t.blobInfo}));return e.upload(i,d).then(u((function(e){var i=[],u=$(e,(function(e,n){var a=o[n].blobInfo,u=o[n].image;return e.status&&kd(t)?(r.removeByUri(u.src),h(u,e.url)):e.error&&(e.error.options.remove&&(f(u.getAttribute("src"),$e.transparentSrc),i.push(u)),$O(t,e.error.message)),{element:u,status:e.status,uploadUri:e.url,blobInfo:a}}));return u.length>0&&a.fireIfChanged(),i.length>0&&(oT(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact((function(){K(i,(function(e){t.dom.remove(e),r.removeByUri(e.src)}))}))),n&&n(u),u})))})))},m=function(e){if(Sd(t))return p(e)},g=function(e){if(!1===st(i,(function(t){return t(e)})))return!1;if(0===e.getAttribute("src").indexOf("data:")){var n=_d(t);return n(e)}return!0},v=function(t){i.push(t)},y=function(){return n||(n=lA(o,r)),n.findAll(t.getBody(),g).then(u((function(e){return e=tt(e,(function(e){return"string"!==typeof e||(ZO(t,e),!1)})),K(e,(function(t){f(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),e})))},b=function(){r.destroy(),o.destroy(),n=e=null},x=function(e){return e.replace(/src="(blob:[^"]+)"/g,(function(e,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=nt(t.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),null)),a){var u=a.blob();return'src="data:'+u.type+";base64,"+a.base64()+'"'}return e}))};return t.on("SetContent",(function(){Sd(t)?m():y()})),t.on("RawSaveContent",(function(t){t.content=x(t.content)})),t.on("GetContent",(function(t){t.source_view||"raw"===t.format||"tree"===t.format||(t.content=x(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){K(t,(function(t){var e=t.attr("src");if(!r.getByUri(e)){var n=o.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:r,addFilter:v,uploadImages:p,uploadImagesAuto:m,scanForImages:y,destroy:b}},mM=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(t,e,n){return zr(t)&&t.hasAttribute("href")},onformat:function(e,n,r){ln.each(r,(function(n,r){t.setAttrib(e,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ln.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){e[t]={block:t,remove:"all"}})),e};function gM(t){var e={},n=function(t){return t?e[t]:e},r=function(t){return Dt(e,t)},o=function(t,n){t&&("string"!==typeof t?ln.each(t,(function(t,e){o(e,t)})):(P(n)||(n=[n]),ln.each(n,(function(t){"undefined"===typeof t.deep&&(t.deep=!t.selector),"undefined"===typeof t.split&&(t.split=!t.selector||t.inline),"undefined"===typeof t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"===typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),e[t]=n))},i=function(t){return t&&e[t]&&delete e[t],e};return o(mM(t.dom)),o(Zd(t)),{get:n,has:r,register:o,unregister:i}}var vM,yM=ln.each,bM=Mc.DOM,xM=function(t,e){var n,r,o,i=e&&e.schema||du({}),a=function(t,e){e.classes.length&&bM.addClass(t,e.classes.join(" ")),bM.setAttribs(t,e.attrs)},u=function(t){r="string"===typeof t?{name:t,classes:[],attrs:{}}:t;var e=bM.create(r.name);return a(e,r),e},s=function(t,e){var n="string"!==typeof t?t.nodeName.toLowerCase():t,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(e&&-1!==ln.inArray(o,e)?e:o[0])},c=function(t,e,n){var r,o,i=e.length>0&&e[0],a=i&&i.name,l=s(t,a);if(l)a===l?(o=e[0],e=e.slice(1)):o=l;else if(i)o=e[0],e=e.slice(1);else if(!n)return t;return o&&(r=u(o),r.appendChild(t)),n&&(r||(r=bM.create("div"),r.appendChild(t)),ln.each(n,(function(e){var n=u(e);r.insertBefore(n,t)}))),c(r,e,o&&o.siblings)};return t&&t.length?(r=t[0],n=u(r),o=bM.create("div"),o.appendChild(c(n,t.slice(1),r.siblings)),o):""},wM=function(t){var e,n={classes:[],attrs:{}};return t=n.selector=ln.trim(t),"*"!==t&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,r,o,i){switch(e){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==ln.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r);break}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=e||"div",n},_M=function(t){return t&&"string"===typeof t?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ln.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=ln.map(t.split(/(?:~\+|~|\+)/),wM),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]},SM=function(t,e){var n,r,o,i="",a=$d(t);if(""===a)return"";var u=function(t){return t.replace(/%(\w+)/g,"")};if("string"===typeof e){if(e=t.formatter.get(e),!e)return;e=e[0]}if("preview"in e){var s=Mt(e,"preview");if(s.is(!1))return"";a=s.getOr(a)}n=e.block||e.inline||"span";var c=_M(e.selector);c.length?(c[0].name||(c[0].name=n),n=e.selector,r=xM(c,t)):r=xM([n],t);var l=bM.select(n,r)[0]||r.firstChild;return yM(e.styles,(function(t,e){var n=u(t);n&&bM.setStyle(l,e,n)})),yM(e.attributes,(function(t,e){var n=u(t);n&&bM.setAttrib(l,e,n)})),yM(e.classes,(function(t){var e=u(t);bM.hasClass(l,e)||bM.addClass(l,e)})),t.fire("PreviewFormats"),bM.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),o=bM.getStyle(t.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,yM(a.split(" "),(function(e){var n=bM.getStyle(l,e,!0);if(("background-color"!==e||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)||(n=bM.getStyle(t.getBody(),e,!0),"#ffffff"!==bM.toHex(n).toLowerCase()))&&("color"!==e||"#000000"!==bM.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===o)return;var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*o+"px"}"border"===e&&n&&(i+="padding:0 2px;"),i+=e+":"+n+";"}})),t.fire("AfterPreviewFormats"),bM.remove(r),i},CM=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},kM=function(t){var e=gM(t),n=zc(null);return CM(t),DS(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,n,r){CT(t,e,n,r)},remove:function(e,n,r,o){kT(t,e,n,r,o)},toggle:function(e,n,r){TT(t,e,n,r)},match:function(e,n,r){return bT(t,e,n,r)},closest:function(e){return ST(t,e)},matchAll:function(e,n){return xT(t,e,n)},matchNode:function(e,n,r,o){return wT(t,e,n,r,o)},canApply:function(e){return _T(t,e)},formatChanged:function(e,r,o){return AT(t,n,e,r,o)},getCssText:y(SM,t)}},TM=function(t,e,n){var r=zc(!1),o=function(t){zk(e,!1,n),e.add({},t)};t.on("init",(function(){e.add()})),t.on("BeforeExecCommand",(function(t){var r=t.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(Vk(e,n),e.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command.toLowerCase();"undo"!==e&&"redo"!==e&&"mcerepaint"!==e&&o(t)})),t.on("ObjectResizeStart cut",(function(){e.beforeChange()})),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),r.get()&&e.typing&&!1===Lk(Dk(t),e.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),r.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var i=t.keyCode;if(!t.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)e.typing&&o(t);else{var a=t.ctrlKey&&!t.altKey||t.metaKey;!(i<16||i>20)||224===i||91===i||e.typing||a||(e.beforeChange(),zk(e,!0,n),e.add({},t),r.set(!0))}})),t.on("mousedown",(function(t){e.typing&&o(t)}));var i=function(t){return"insertReplacementText"===t.inputType},a=function(t){return"insertText"===t.inputType&&null===t.data},u=function(t){return"insertFromPaste"===t.inputType||"insertFromDrop"===t.inputType};t.on("input",(function(t){t.inputType&&(i(t)||a(t)||u(t))&&o(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()}))},AM=function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},OM=function(t){var e=zc(O.none()),n=zc(0),r=zc(0),o={data:[],typing:!1,beforeChange:function(){sT(t,n,e)},add:function(i,a){return cT(t,o,r,n,e,i,a)},undo:function(){return lT(t,o,n,r)},redo:function(){return fT(t,r,o.data)},clear:function(){dT(t,o,r)},reset:function(){hT(t,o)},hasUndo:function(){return pT(t,o,r)},hasRedo:function(){return mT(t,o,r)},transact:function(e){return gT(t,o,n,e)},ignore:function(e){vT(t,n,e)},extra:function(e,n){yT(t,o,r,e,n)}};return oT(t)||TM(t,o,n),AM(t),o},MM=[9,27,Fg.HOME,Fg.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Fg.DOWN,Fg.UP,Fg.LEFT,Fg.RIGHT].concat($e.browser.isFirefox()?[224]:[]),DM="data-mce-placeholder",IM=function(t){return"keydown"===t.type||"keyup"===t.type},EM=function(t){var e=t.keyCode;return e===Fg.BACKSPACE||e===Fg.DELETE},RM=function(t){if(IM(t)){var e=t.keyCode;return!EM(t)&&(Fg.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||X(MM,e))}return!1},NM=function(t){return IM(t)&&!(EM(t)||"keyup"===t.type&&229===t.keyCode)},PM=function(t,e,n){if(Ma(gn.fromDom(e),!1)){var r=""===n,o=e.firstElementChild;return!o||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&(r?!t.isBlock(o):n===o.nodeName.toLowerCase())}return!1},LM=function(t){var e=t.dom,n=pd(t),r=Ud(t),o=function(i,a){if(!RM(i)){var u=t.getBody(),s=!NM(i)&&PM(e,u,n),c=""!==e.getAttrib(u,DM);(c!==s||a)&&(e.setAttrib(u,DM,s?r:null),e.setAttrib(u,"aria-placeholder",s?r:null),zg(t,s),t.on(s?"keydown":"keyup",o),t.off(s?"keyup":"keydown",o))}};r&&t.on("init",(function(e){o(e,!0),t.on("change SetContent ExecCommand",o),t.on("paste",(function(e){return ci.setEditorTimeout(t,(function(){return o(e)}))}))}))},BM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,zM=function(t){return BM.test(t)},VM=function(t,e){return kn(gn.fromDom(e),Fd(t))},FM=function(t){return"rtl"===Mc.DOM.getStyle(t,"direction",!0)||zM(t.textContent)},jM=function(t,e,n){return tt(Mc.DOM.getParents(n.container(),"*",e),t)},HM=function(t,e,n){var r=jM(t,e,n);return O.from(r[r.length-1])},UM=function(t,e,n){var r=Kh(e,t),o=Kh(n,t);return r&&r===o},WM=function(t){return Zi(t)||$i(t)},GM=function(t,e){if(!e)return e;var n=e.container(),r=e.offset();return t?Gi(n)?Xr(n.nextSibling)?Sf(n.nextSibling,0):Sf.after(n):Zi(e)?Sf(n,r+1):e:Gi(n)?Xr(n.previousSibling)?Sf(n.previousSibling,n.previousSibling.data.length):Sf.before(n):$i(e)?Sf(n,r-1):e},qM=y(GM,!0),YM=y(GM,!1),XM=function(t){return function(e){return Mn(t,gn.fromDom(e.dom.parentNode))}},ZM=function(t,e){return En(t,e)?Zo(e,(function(t){return Oi(t)||Di(t)}),XM(t)):O.none()},$M=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},KM=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),$M(t))},JM=function(t,e,n){return Bl(zp(n),Vp(n),(function(r,o){var i=GM(!0,r),a=GM(!1,o),u=GM(!1,e);return t?Lp(n,u).exists((function(t){return t.isEqual(a)&&e.isEqual(i)})):Bp(n,u).exists((function(t){return t.isEqual(i)&&e.isEqual(a)}))})).getOr(!0)},QM=function(t,e){return{block:t,position:e}},tD=function(t,e){return{from:t,to:e}},eD=function(t,e){var n=gn.fromDom(t),r=gn.fromDom(e.container());return ZM(n,r).map((function(t){return QM(t,e)}))},nD=function(t){return!1===Mn(t.from.block,t.to.block)},rD=function(t){return Gn(t.from.block).bind((function(e){return Gn(t.to.block).filter((function(t){return Mn(e,t)}))})).isSome()},oD=function(t){return!1===eo(t.from.block.dom)&&!1===eo(t.to.block.dom)},iD=function(t,e,n){return Jr(n.position.getNode())&&!1===Ma(n.block)?Pp(!1,n.block.dom).bind((function(r){return r.isEqual(n.position)?Ep(e,t,r).bind((function(e){return eD(t,e)})):O.some(n)})).getOr(n):n},aD=function(t,e,n){var r=eD(t,Sf.fromRangeStart(n)),o=r.bind((function(n){return Ep(e,t,n.position).bind((function(n){return eD(t,n).map((function(n){return iD(t,e,n)}))}))}));return Bl(r,o,tD).filter((function(t){return nD(t)&&rD(t)&&oD(t)}))},uD=function(t,e,n){return n.collapsed?aD(t,e,n):O.none()},sD=function(t){var e=Jn(t);return it(e,Ci).fold((function(){return e}),(function(t){return e.slice(0,t)}))},cD=function(t){var e=sD(t);return K(e,wr),e},lD=function(t,e){var n=_x(e,t);return ot(n.reverse(),(function(t){return Ma(t)})).each(wr)},fD=function(t){return 0===tt($n(t),(function(t){return!Ma(t)})).length},dD=function(t,e,n,r){if(Ma(n))return vx(n),zp(n.dom);fD(r)&&Ma(e)&&hr(r,gn.fromTag("br"));var o=Bp(n.dom,Sf.before(r.dom));return K(cD(e),(function(t){hr(r,t)})),lD(t,e),o},hD=function(t,e,n){if(Ma(n))return wr(n),Ma(e)&&vx(e),zp(e.dom);var r=Vp(n.dom);return K(cD(e),(function(t){gr(n,t)})),lD(t,e),r},pD=function(t,e){var n=_x(e,t);return O.from(n[n.length-1])},mD=function(t,e){return En(e,t)?pD(e,t):O.none()},gD=function(t,e){Pp(t,e.dom).map((function(t){return t.getNode()})).map(gn.fromDom).filter(Ai).each(wr)},vD=function(t,e,n){return gD(!0,e),gD(!1,n),mD(e,n).fold(y(hD,t,e,n),y(dD,t,e,n))},yD=function(t,e,n,r){return e?vD(t,r,n):vD(t,n,r)},bD=function(t,e){var n=gn.fromDom(t.getBody()),r=uD(n.dom,e,t.selection.getRng()).bind((function(t){return yD(n,e,t.from.block,t.to.block)}));return r.each((function(e){t.selection.setRng(e.toRange())})),r.isSome()},xD=function(t,e){var n=e.getRng();return Bl(ZM(t,gn.fromDom(n.startContainer)),ZM(t,gn.fromDom(n.endContainer)),(function(r,o){return!1===Mn(r,o)&&(n.deleteContents(),yD(t,!0,r,o).each((function(t){e.setRng(t.toRange())})),!0)})).getOr(!1)},wD=function(t,e){var n=gn.fromDom(e),r=y(Mn,t);return Xo(n,Ei,r).isSome()},_D=function(t,e){return wD(t,e.startContainer)||wD(t,e.endContainer)},SD=function(t,e){var n=Bp(t.dom,Sf.fromRangeStart(e)).isNone(),r=Lp(t.dom,Sf.fromRangeEnd(e)).isNone();return!_D(t,e)&&n&&r},CD=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},kD=function(t){var e=gn.fromDom(t.getBody()),n=t.selection.getRng();return SD(e,n)?CD(t):xD(e,t.selection)},TD=function(t,e){return!t.selection.isCollapsed()&&kD(t)},AD=to,OD=eo,MD=function(t,e,n,r,o){return O.from(e._selectionOverrides.showCaret(t,n,r,o))},DD=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},ID=function(t,e){var n=t.fire("BeforeObjectSelected",{target:e});return n.isDefaultPrevented()?O.none():O.some(DD(e))},ED=function(t,e,n){var r=ip(1,t.getBody(),e),o=Sf.fromRangeStart(r),i=o.getNode();if(zh(i))return MD(1,t,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(zh(a))return MD(1,t,a,!1,!1);var u=t.dom.getParent(o.getNode(),(function(t){return OD(t)||AD(t)}));return zh(u)?MD(1,t,u,!1,n):O.none()},RD=function(t,e,n){return e.collapsed?ED(t,e,n).getOr(e):e},ND=function(t){return hx(t)||cx(t)},PD=function(t){return px(t)||lx(t)},LD=function(t,e){Xr(e)&&0===e.data.length&&t.remove(e)},BD=function(t,e,n,r,o,i){return MD(r,t,i.getNode(!o),o,!0).each((function(n){if(e.collapsed){var r=e.cloneRange();o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else e.deleteContents();t.selection.setRng(n)})),LD(t.dom,n),!0},zD=function(t,e){var n=t.selection.getRng();if(!Xr(n.commonAncestorContainer))return!1;var r=e?_f.Forwards:_f.Backwards,o=Cp(t.getBody()),i=y(lp,e?o.next:o.prev),a=e?ND:PD,u=up(r,t.getBody(),n),s=GM(e,i(u));if(!s||!fp(u,s))return!1;if(a(s))return BD(t,n,u.getNode(),r,e,s);var c=i(s);return!!(c&&a(c)&&fp(s,c))&&BD(t,n,u.getNode(),r,e,c)},VD=function(t,e){return zD(t,e)},FD=function(t){return Ei(gn.fromDom(t))||Di(gn.fromDom(t))},jD=Wo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),HD=function(t,e){var n=e.getNode(!1===t),r=t?"after":"before";return zr(n)&&n.getAttribute("data-mce-caret")===r},UD=function(t,e,n,r){var o=function(e){return Ti(gn.fromDom(e))&&!Jh(n,r,t)};return ap(!e,n).fold((function(){return ap(e,r).fold(_,o)}),o)},WD=function(t,e,n,r){var o=r.getNode(!1===e);return ZM(gn.fromDom(t),gn.fromDom(n.getNode())).map((function(t){return Ma(t)?jD.remove(t.dom):jD.moveToElement(o)})).orThunk((function(){return O.some(jD.moveToElement(o))}))},GD=function(t,e,n){return Ep(e,t,n).bind((function(r){return FD(r.getNode())||UD(t,e,n,r)?O.none():e&&eo(r.getNode())||!1===e&&eo(r.getNode(!0))?WD(t,e,n,r):e&&px(n)||!1===e&&hx(n)?O.some(jD.moveToPosition(r)):O.none()}))},qD=function(t,e){return t&&eo(e.nextSibling)?O.some(jD.moveToElement(e.nextSibling)):!1===t&&eo(e.previousSibling)?O.some(jD.moveToElement(e.previousSibling)):O.none()},YD=function(t,e,n){return n.fold((function(t){return O.some(jD.remove(t))}),(function(t){return O.some(jD.moveToElement(t))}),(function(n){return Jh(e,n,t)?O.none():O.some(jD.moveToPosition(n))}))},XD=function(t,e,n){return HD(e,n)?qD(e,n.getNode(!1===e)).fold((function(){return GD(t,e,n)}),O.some):GD(t,e,n).bind((function(e){return YD(t,n,e)}))},ZD=function(t,e,n){var r=ip(e?1:-1,t,n),o=Sf.fromRangeStart(r),i=gn.fromDom(t);return!1===e&&px(o)?O.some(jD.remove(o.getNode(!0))):e&&hx(o)?O.some(jD.remove(o.getNode())):!1===e&&hx(o)&&Nx(i,o)?Px(i,o).map((function(t){return jD.remove(t.getNode())})):e&&px(o)&&Rx(i,o)?Lx(i,o).map((function(t){return jD.remove(t.getNode())})):XD(t,e,o)},$D=function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),Ow(t,e,gn.fromDom(n)),!0}},KD=function(t,e){return function(n){var r=e?Sf.before(n):Sf.after(n);return t.selection.setRng(r.toRange()),!0}},JD=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},QD=function(t,e){return O.from(Tg(t.getBody(),e))},tI=function(t,e){var n=t.selection.getNode();return QD(t,n).filter(eo).fold((function(){return ZD(t.getBody(),e,t.selection.getRng()).exists((function(n){return n.fold($D(t,e),KD(t,e),JD(t))}))}),S)},eI=function(t){K(pl(t,".mce-offscreen-selection"),wr)},nI=function(t,e){var n=t.selection.getNode();if(eo(n)){var r=QD(t,n.parentNode).filter(eo);return r.fold((function(){return eI(gn.fromDom(t.getBody())),Ow(t,e,gn.fromDom(t.selection.getNode())),KM(t),!0}),(function(){return!0}))}return!1},rI=function(t){var e=t.dom,n=t.selection,r=Tg(t.getBody(),n.getNode());if(to(r)&&e.isBlock(r)&&e.isEmpty(r)){var o=e.create("br",{"data-mce-bogus":"1"});e.setHTML(r,""),r.appendChild(o),n.setRng(Sf.before(o).toRange())}return!0},oI=function(t,e){return t.selection.isCollapsed()?tI(t,e):nI(t,e)},iI=function(t,e){var n=Sf.fromRangeStart(t.selection.getRng());return Ep(e,t.getBody(),n).filter((function(t){return e?ux(t):sx(t)})).bind((function(t){return O.from(Qh(e?0:-1,t))})).exists((function(e){return t.selection.select(e),!0}))},aI=function(t,e){return!!t.selection.isCollapsed()&&iI(t,e)},uI=Xr,sI=function(t){return uI(t)&&t.data[0]===Vi},cI=function(t){return uI(t)&&t.data[t.data.length-1]===Vi},lI=function(t){return t.ownerDocument.createTextNode(Vi)},fI=function(t){if(uI(t.previousSibling))return cI(t.previousSibling)||t.previousSibling.appendData(Vi),t.previousSibling;if(uI(t))return sI(t)||t.insertData(0,Vi),t;var e=lI(t);return t.parentNode.insertBefore(e,t),e},dI=function(t){if(uI(t.nextSibling))return sI(t.nextSibling)||t.nextSibling.insertData(0,Vi),t.nextSibling;if(uI(t))return cI(t)||t.appendData(Vi),t;var e=lI(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},hI=function(t,e){return t?fI(e):dI(e)},pI=y(hI,!0),mI=y(hI,!1),gI=function(t,e){return Xr(t.container())?hI(e,t.container()):hI(e,t.getNode())},vI=function(t,e){var n=e.get();return n&&t.container()===n&&Gi(n)},yI=function(t,e){return e.fold((function(e){Oh(t.get());var n=pI(e);return t.set(n),O.some(Sf(n,n.length-1))}),(function(e){return zp(e).map((function(e){if(vI(e,t))return Sf(t.get(),1);Oh(t.get());var n=gI(e,!0);return t.set(n),Sf(n,1)}))}),(function(e){return Vp(e).map((function(e){if(vI(e,t))return Sf(t.get(),t.get().length-1);Oh(t.get());var n=gI(e,!1);return t.set(n),Sf(n,n.length-1)}))}),(function(e){Oh(t.get());var n=mI(e);return t.set(n),O.some(Sf(n,1))}))},bI=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return O.none()},xI=Wo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),wI=function(t,e){var n=Kh(e,t);return n||t},_I=function(t,e,n){var r=qM(n),o=wI(e,r.container());return HM(t,o,r).fold((function(){return Lp(o,r).bind(y(HM,t,o)).map((function(t){return xI.before(t)}))}),O.none)},SI=function(t,e){return null===Hp(t,e)},CI=function(t,e,n){return HM(t,e,n).filter(y(SI,e))},kI=function(t,e,n){var r=YM(n);return CI(t,e,r).bind((function(t){var e=Bp(t,r);return e.isNone()?O.some(xI.start(t)):O.none()}))},TI=function(t,e,n){var r=qM(n);return CI(t,e,r).bind((function(t){var e=Lp(t,r);return e.isNone()?O.some(xI.end(t)):O.none()}))},AI=function(t,e,n){var r=YM(n),o=wI(e,r.container());return HM(t,o,r).fold((function(){return Bp(o,r).bind(y(HM,t,o)).map((function(t){return xI.after(t)}))}),O.none)},OI=function(t){return!1===FM(DI(t))},MI=function(t,e,n){var r=bI([_I,kI,TI,AI],[t,e,n]);return r.filter(OI)},DI=function(t){return t.fold(v,v,v,v)},II=function(t){return t.fold(g("before"),g("start"),g("end"),g("after"))},EI=function(t){return t.fold(xI.before,xI.before,xI.after,xI.after)},RI=function(t){return t.fold(xI.start,xI.start,xI.end,xI.end)},NI=function(t,e){return II(t)===II(e)&&DI(t)===DI(e)},PI=function(t,e,n,r,o,i){return Bl(HM(e,n,r),HM(e,n,o),(function(e,r){return e!==r&&UM(n,e,r)?xI.after(t?e:r):i})).getOr(i)},LI=function(t,e){return t.fold(S,(function(t){return!NI(t,e)}))},BI=function(t,e,n,r,o){var i=GM(t,o),a=Ep(t,n,i).map(y(GM,t)),u=a.fold((function(){return r.map(EI)}),(function(o){return MI(e,n,o).map(y(PI,t,e,n,i,o)).filter(y(LI,r))}));return u.filter(OI)},zI=function(t,e){return t?e.fold(p(O.some,xI.start),O.none,p(O.some,xI.after),O.none):e.fold(O.none,p(O.some,xI.before),O.none,p(O.some,xI.end))},VI=function(t,e,n,r){var o=GM(t,r),i=MI(e,n,o);return MI(e,n,o).bind(y(zI,t)).orThunk((function(){return BI(t,e,n,i,r)}))},FI=(y(VI,!1),y(VI,!0),function(t){return j(t.selection.getSel().modify)}),jI=function(t,e,n){var r=t?1:-1;return e.setRng(Sf(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},HI=function(t,e){var n=e.selection.getRng(),r=t?Sf.fromRangeEnd(n):Sf.fromRangeStart(n);return!!FI(e)&&(t&&Zi(r)?jI(!0,e.selection,r):!(t||!$i(r))&&jI(!1,e.selection,r))},UI=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},WI=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},GI=function(t,e,n){return yI(e,n).map((function(e){return UI(t,e),n}))},qI=function(t,e,n){var r=t.getBody(),o=Sf.fromRangeStart(t.selection.getRng()),i=y(VM,t),a=VI(n,i,r,o);return a.bind((function(n){return GI(t,e,n)}))},YI=function(t,e,n){var r=$(pl(gn.fromDom(e.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(t){return t.dom})),o=tt(r,t),i=tt(n,t);K(lt(o,i),y(WI,!1)),K(lt(i,o),y(WI,!0))},XI=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=Sf.fromRangeStart(t.selection.getRng());Sf.isTextPosition(n)&&!1===WM(n)&&(UI(t,Ah(e.get(),n)),e.set(null))}},ZI=function(t,e,n,r){if(e.selection.isCollapsed()){var o=tt(r,t);K(o,(function(r){var o=Sf.fromRangeStart(e.selection.getRng());MI(t,e.getBody(),o).bind((function(t){return GI(e,n,t)}))}))}},$I=function(t,e,n){return!!Xd(t)&&qI(t,e,n).isSome()},KI=function(t,e,n){return!!Xd(e)&&HI(t,e)},JI=function(t){var e=zc(null),n=y(VM,t);return t.on("NodeChange",(function(r){!Xd(t)||$e.browser.isIE()&&r.initial||(YI(n,t.dom,r.parents),XI(t,e),ZI(n,t,e,r.parents))})),e},QI=y(KI,!0),tE=y(KI,!1),eE=function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n},nE=function(t){return Bl(zp(t),Vp(t),(function(e,n){var r=GM(!0,e),o=GM(!1,n);return Lp(t,r).forall((function(t){return t.isEqual(o)}))})).getOr(!0)},rE=function(t,e){return function(n){return yI(e,n).exists((function(e){return UI(t,e),!0}))}},oE=function(t,e,n,r){var o=t.getBody(),i=y(VM,t);t.undoManager.ignore((function(){t.selection.setRng(eE(n,r)),t.execCommand("Delete"),MI(i,o,Sf.fromRangeStart(t.selection.getRng())).map(RI).map(rE(t,e))})),t.nodeChanged()},iE=function(t,e){var n=Kh(e,t);return n||t},aE=function(t,e,n,r){var o=iE(t.getBody(),r.container()),i=y(VM,t),a=MI(i,o,r);return a.bind((function(t){return n?t.fold(g(O.some(RI(t))),O.none,g(O.some(EI(t))),O.none):t.fold(O.none,g(O.some(EI(t))),O.none,g(O.some(RI(t))))})).map(rE(t,e)).getOrThunk((function(){var u=Rp(n,o,r),s=u.bind((function(t){return MI(i,o,t)}));return Bl(a,s,(function(){return HM(i,o,r).exists((function(e){return!!nE(e)&&(Ow(t,n,gn.fromDom(e)),!0)}))})).orThunk((function(){return s.bind((function(o){return u.map((function(o){return n?oE(t,e,r,o):oE(t,e,o,r),!0}))}))})).getOr(!1)}))},uE=function(t,e,n){if(t.selection.isCollapsed()&&Xd(t)){var r=Sf.fromRangeStart(t.selection.getRng());return aE(t,e,n,r)}return!1},sE=function(t,e){var n=_x(e,t);return it(n,Ci).fold(g(n),(function(t){return n.slice(0,t)}))},cE=function(t){return 1===Jn(t).length},lE=function(t,e,n,r){var o=y(ES,e),i=$(tt(r,o),(function(t){return t.dom}));if(0===i.length)Ow(e,t,n);else{var a=IS(n.dom,i);e.selection.setRng(a.toRange())}},fE=function(t,e){var n=gn.fromDom(t.getBody()),r=gn.fromDom(t.selection.getStart()),o=tt(sE(n,r),cE);return mt(o).exists((function(n){var r=Sf.fromRangeStart(t.selection.getRng());return!(!JM(e,r,n.dom)||RS(n))&&(lE(e,t,n,o),!0)}))},dE=function(t,e){return!!t.selection.isCollapsed()&&fE(t,e)},hE=function(t,e,n){return t._selectionOverrides.hideFakeCaret(),Ow(t,e,gn.fromDom(n)),!0},pE=function(t,e){var n=e?cx:lx,r=e?_f.Forwards:_f.Backwards,o=up(r,t.getBody(),t.selection.getRng());return n(o)?hE(t,e,o.getNode(!e)):O.from(GM(e,o)).filter((function(t){return n(t)&&fp(o,t)})).exists((function(n){return hE(t,e,n.getNode(!e))}))},mE=function(t,e){var n=t.selection.getNode();return!!ro(n)&&hE(t,e,n)},gE=function(t,e){return t.selection.isCollapsed()?pE(t,e):mE(t,e)},vE=function(t){return Zo(t,(function(t){return to(t.dom)||eo(t.dom)})).exists((function(t){return to(t.dom)}))},yE=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},bE=function(t,e){var n=t||ki(e)?"margin":"padding",r="rtl"===go(e,"direction")?"-right":"-left";return n+r},xE=function(t,e,n,r,o,i){var a=bE(n,gn.fromDom(i));if("outdent"===e){var u=Math.max(0,yE(i.style[a])-r);t.setStyle(i,a,u?u+o:"")}else{u=yE(i.style[a])+r+o;t.setStyle(i,a,u)}},wE=function(t,e){return st(e,(function(e){var n=bE(Ld(t),e),r=yo(e,n).map(yE).getOr(0),o=t.dom.getContentEditable(e.dom);return"false"!==o&&r>0}))},_E=function(t){var e=kE(t);return!t.mode.isReadOnly()&&(e.length>1||wE(t,e))},SE=function(t){return Mi(t)||Di(t)},CE=function(t){return Gn(t).map(SE).getOr(!1)},kE=function(t){return tt($(t.selection.getSelectedBlocks(),gn.fromDom),(function(t){return!SE(t)&&!CE(t)&&vE(t)}))},TE=function(t,e){var n=t.dom,r=t.selection,o=t.formatter,i=Bd(t),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=Ld(t),c=pd(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),K(kE(t),(function(t){xE(n,e,s,u,a,t.dom)}))},AE=function(t,e){if(t.selection.isCollapsed()&&_E(t)){var n=t.dom,r=t.selection.getRng(),o=Sf.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&Ax(gn.fromDom(i),o))return TE(t,"outdent"),!0}return!1},OE=function(t,e){t.getDoc().execCommand(e,!1,null)},ME=function(t,e){AE(t)||oI(t,!1)||VD(t,!1)||uE(t,e,!1)||bD(t,!1)||v_(t)||aI(t,!1)||gE(t,!1)||TD(t)||dE(t,!1)||(OE(t,"Delete"),KM(t))},DE=function(t,e){oI(t,!0)||VD(t,!0)||uE(t,e,!0)||bD(t,!0)||v_(t)||aI(t,!0)||gE(t,!0)||TD(t)||dE(t,!0)||OE(t,"ForwardDelete")},IE=function(t,e){t.addCommand("delete",(function(){ME(t,e)})),t.addCommand("forwardDelete",(function(){DE(t,e)}))},EE=5,RE=400,NE=function(t){return void 0===t.touches||1!==t.touches.length?O.none():O.some(t.touches[0])},PE=function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>EE||r>EE},LE=function(t){var e=zc(O.none()),n=zc(!1),r=el((function(e){t.fire("longpress",Ht(Ht({},e),{type:"longpress"})),n.set(!0)}),RE);t.on("touchstart",(function(t){NE(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.throttle(t),n.set(!1),e.set(O.some(i))}))}),!0),t.on("touchmove",(function(o){r.cancel(),NE(o).each((function(r){e.get().each((function(o){PE(r,o)&&(e.set(O.none()),n.set(!1),t.fire("longpresscancel"))}))}))}),!0),t.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&e.get().filter((function(t){return t.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():t.fire("tap",Ht(Ht({},o),{type:"tap"}))}))}),!0)},BE=function(t,e){return t.hasOwnProperty(e.nodeName)},zE=function(t,e){return!!Xr(e)||!!zr(e)&&(!BE(t,e)&&!cm(e))},VE=function(t,e,n){return Z(wx(gn.fromDom(n),gn.fromDom(e)),(function(e){return BE(t,e.dom)}))},FE=function(t,e){if(Xr(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||BE(t,e.nextSibling)))return!0}return!1},jE=function(t){var e,n,r,o=t.dom,i=t.selection,a=t.schema,u=a.getBlockElements(),s=i.getStart(),c=t.getBody(),l=pd(t);if(s&&zr(s)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!VE(u,c,s)){var d=i.getRng(),h=d.startContainer,p=d.startOffset,m=d.endContainer,g=d.endOffset,v=Jy(t);s=c.firstChild;while(s)if(zE(u,s)){if(FE(u,s)){n=s,s=s.nextSibling,o.remove(n);continue}e||(e=o.create(l,md(t)),s.parentNode.insertBefore(e,s),r=!0),n=s,s=s.nextSibling,e.appendChild(n)}else e=null,s=s.nextSibling;r&&v&&(d.setStart(h,p),d.setEnd(m,g),i.setRng(d),t.nodeChanged())}}},HE=function(t){pd(t)&&t.on("NodeChange",y(jE,t))},UE=function(t){return Qo(gn.fromDom(t.getBody()),"*[data-mce-caret]").fold(g(null),(function(t){return t.dom}))},WE=function(t){t.selection.setRng(t.selection.getRng())},GE=function(t,e){e.hasAttribute("data-mce-caret")&&(na(e),WE(t),t.selection.scrollIntoView(e))},qE=function(t,e){var n=UE(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void GE(t,n)):void(Yi(n)&&(GE(t,n),t.undoManager.add()))},YE=function(t){t.on("keyup compositionstart",y(qE,t))};(function(t){t[t["Br"]=0]="Br",t[t["Block"]=1]="Block",t[t["Wrap"]=2]="Wrap",t[t["Eol"]=3]="Eol"})(vM||(vM={}));var XE,ZE=function(t,e){return t===_f.Backwards?ct(e):e},$E=function(t,e,n){return t===_f.Forwards?e.next(n):e.prev(n)},KE=function(t,e,n,r){return Jr(r.getNode(e===_f.Forwards))?vM.Br:!1===Jh(n,r)?vM.Block:vM.Wrap},JE=function(t,e,n,r){var o,i=Cp(n),a=r,u=[];while(a){if(o=$E(e,i,a),!o)break;if(Jr(o.getNode(!1)))return e===_f.Forwards?{positions:ZE(e,u).concat([o]),breakType:vM.Br,breakAt:O.some(o)}:{positions:ZE(e,u),breakType:vM.Br,breakAt:O.some(o)};if(o.isVisible()){if(t(a,o)){var s=KE(n,e,a,o);return{positions:ZE(e,u),breakType:s,breakAt:O.some(o)}}u.push(o),a=o}else a=o}return{positions:ZE(e,u),breakType:vM.Eol,breakAt:O.none()}},QE=function(t,e,n,r){return e(n,r).breakAt.map((function(r){var o=e(n,r).positions;return t===_f.Backwards?o.concat(r):[r].concat(o)})).getOr([])},tR=function(t,e){return nt(t,(function(t,n){return t.fold((function(){return O.some(n)}),(function(r){return Bl(pt(r.getClientRects()),pt(n.getClientRects()),(function(t,o){var i=Math.abs(e-t.left),a=Math.abs(e-o.left);return a<=i?n:r})).or(t)}))}),O.none())},eR=function(t,e){return pt(e.getClientRects()).bind((function(e){return tR(t,e.left)}))},nR=y(JE,wf.isAbove,-1),rR=y(JE,wf.isBelow,1),oR=function(t,e){return nR(t,e).breakAt.isNone()},iR=function(t,e){return rR(t,e).breakAt.isNone()},aR=y(QE,-1,nR),uR=y(QE,1,rR),sR=function(t){return zp(t).map((function(e){return[e].concat(rR(t,e).positions)})).getOr([])},cR=function(t){return Vp(t).map((function(e){return nR(t,e).positions.concat(e)})).getOr([])},lR=function(t){var e=function(e){return $(e,(function(e){return e=jl(e),e.node=t,e}))};if(zr(t))return e(t.getClientRects());if(Xr(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},fR=function(t){return ut(t,lR)};(function(t){t[t["Up"]=-1]="Up",t[t["Down"]=1]="Down"})(XE||(XE={}));var dR,hR,pR=function(t,e,n,r){while(r=$h(r,t,ya,e))if(n(r))return},mR=function(t,e,n,r,o,i){var a=0,u=[],s=function(r){var i,s,l;for(l=fR([r]),-1===t&&(l=l.reverse()),i=0;i<l.length;i++)if(s=l[i],!n(s,c)){if(u.length>0&&e(s,jt(u))&&a++,s.line=a,o(s))return!0;u.push(s)}},c=jt(i.getClientRects());if(!c)return u;var l=i.getNode();return s(l),pR(t,r,s,l),u},gR=function(t,e){return e.line>t},vR=function(t,e){return e.line===t},yR=y(mR,XE.Up,Gl,ql),bR=y(mR,XE.Down,ql,Gl),xR=function(t,e,n,r){var o,i,a,u,s,c=Cp(e),l=[],f=0,d=function(t){return jt(t.getClientRects())};1===t?(o=c.next,i=ql,a=Gl,u=Sf.after(r)):(o=c.prev,i=Gl,a=ql,u=Sf.before(r));var h=d(u);do{if(u.isVisible()&&(s=d(u),!a(s,h))){if(l.length>0&&i(s,jt(l))&&f++,s=jl(s),s.position=u,s.line=f,n(s))return l;l.push(s)}}while(u=o(u));return l},wR=function(t){return function(e){return gR(t,e)}},_R=function(t){return function(e){return vR(t,e)}},SR=eo,CR=$h,kR=function(t,e){return Math.abs(t.left-e)},TR=function(t,e){return Math.abs(t.right-e)},AR=function(t,e){return t>=e.left&&t<=e.right},OR=function(t,e){return t>=e.top&&t<=e.bottom},MR=function(t,e){return Vt(t,(function(t,n){var r=Math.min(kR(t,e),TR(t,e)),o=Math.min(kR(n,e),TR(n,e));return AR(e,n)?n:AR(e,t)?t:o===r&&SR(n.node)||o<r?n:t}))},DR=function(t,e,n,r,o){var i=CR(r,t,ya,e,!o);do{if(!i||n(i))return}while(i=CR(i,t,ya,e))},IR=function(t,e,n){void 0===n&&(n=!0);var r=[],o=function(t,n){var o=tt(fR([n]),(function(n){return!t(n,e)}));return r=r.concat(o),0===o.length};return r.push(e),DR(XE.Up,t,y(o,Gl),e.node,n),DR(XE.Down,t,y(o,ql),e.node,n),r},ER=function(t){return tt(gt(t.getElementsByTagName("*")),Vh)},RR=function(t,e){return{node:t.node,before:kR(t,e)<TR(t,e)}},NR=function(t,e,n){var r=fR(ER(t)),o=tt(r,y(OR,n)),i=MR(o,e);if(i){var a=!Gr(i.node)&&!ro(i.node);if(i=MR(IR(t,i,a),e),i&&Vh(i.node))return RR(i,e)}return null},PR=function(t,e){t.selection.setRng(e),Hv(t,t.selection.getRng())},LR=function(t,e,n){return O.some(RD(t,e,n))},BR=function(t,e,n,r,o,i){var a=e===_f.Forwards,u=Cp(t.getBody()),s=y(lp,a?u.next:u.prev),c=a?r:o;if(!n.collapsed){var l=Xl(n);if(i(l))return MD(e,t,l,e===_f.Backwards,!1)}var f=up(e,t.getBody(),n);if(c(f))return ID(t,f.getNode(!a));var d=GM(a,s(f)),h=ra(n);if(!d)return h?O.some(n):O.none();if(c(d))return MD(e,t,d.getNode(!a),a,!1);var p=s(d);return p&&c(p)&&fp(d,p)?MD(e,t,p.getNode(!a),a,!1):h?LR(t,d.toRange(),!1):O.none()},zR=function(t,e,n,r,o,i){var a=up(e,t.getBody(),n),u=jt(a.getClientRects()),s=e===XE.Down;if(!u)return O.none();var c,l=s?bR:yR,f=l(t.getBody(),wR(1),a),d=tt(f,_R(1)),h=u.left,p=MR(d,h);if(p&&i(p.node)){var m=Math.abs(h-p.left),g=Math.abs(h-p.right);return MD(e,t,p.node,m<g,!1)}if(c=r(a)?a.getNode():o(a)?a.getNode(!0):Xl(n),c){var v=xR(e,t.getBody(),wR(1),c),y=MR(tt(v,_R(1)),h);if(y)return LR(t,y.position.toRange(),!1);if(y=jt(tt(v,_R(0))),y)return LR(t,y.position.toRange(),!1)}return 0===d.length?VR(t,s).filter(s?o:r).map((function(e){return RD(t,e.toRange(),!1)})):O.none()},VR=function(t,e){var n=t.selection.getRng(),r=t.getBody();if(e){var o=Sf.fromRangeEnd(n),i=rR(r,o);return mt(i.positions)}o=Sf.fromRangeStart(n),i=nR(r,o);return pt(i.positions)},FR=function(t,e,n){return VR(t,e).filter(n).exists((function(e){return t.selection.setRng(e.toRange()),!0}))},jR=eo,HR=function(t,e,n){return BR(e,t,n,hx,px,jR)},UR=function(t,e,n){var r=function(t){return hx(t)||fx(t)},o=function(t){return px(t)||dx(t)};return zR(e,t,n,r,o,jR)},WR=function(t){var e=t.dom.create(pd(t));return(!$e.ie||$e.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e},GR=function(t,e,n){var r=Cp(t.getBody()),o=y(lp,1===e?r.next:r.prev);if(n.collapsed&&ah(t)){var i=t.dom.getParent(n.startContainer,"PRE");if(!i)return;var a=o(Sf.fromRangeStart(n));if(!a){var u=WR(t);1===e?t.$(i).after(u):t.$(i).before(u),t.selection.select(u,!0),t.selection.collapse()}}},qR=function(t,e){var n=e?_f.Forwards:_f.Backwards,r=t.selection.getRng();return HR(n,t,r).orThunk((function(){return GR(t,n,r),O.none()}))},YR=function(t,e){var n=e?1:-1,r=t.selection.getRng();return UR(n,t,r).orThunk((function(){return GR(t,n,r),O.none()}))},XR=function(t,e){return qR(t,e).exists((function(e){return PR(t,e),!0}))},ZR=function(t,e){return YR(t,e).exists((function(e){return PR(t,e),!0}))},$R=function(t,e){var n=e?px:hx;return FR(t,e,n)},KR=function(t){return X(["figcaption"],Rn(t))},JR=function(t){var e=document.createRange();return e.setStartBefore(t.dom),e.setEndBefore(t.dom),e},QR=function(t,e,n){n?gr(t,e):mr(t,e)},tN=function(t,e){var n=gn.fromTag("br");return QR(t,n,e),JR(n)},eN=function(t,e,n,r){var o=gn.fromTag(n),i=gn.fromTag("br");return uo(o,r),gr(o,i),QR(t,o,e),JR(i)},nN=function(t,e,n,r){return""===e?tN(t,r):eN(t,r,e,n)},rN=function(t,e){var n=y(Mn,e);return Zo(gn.fromDom(t.container()),Ci,n).filter(KR)},oN=function(t,e,n){return e?iR(t.dom,n):oR(t.dom,n)},iN=function(t,e){var n=gn.fromDom(t.getBody()),r=Sf.fromRangeStart(t.selection.getRng()),o=pd(t),i=md(t);return rN(r,n).exists((function(){if(oN(n,e,r)){var a=nN(n,o,i,e);return t.selection.setRng(a),!0}return!1}))},aN=function(t,e){return!!t.selection.isCollapsed()&&iN(t,e)},uN=function(t){return $(t,(function(t){return Ht({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:h},t)}))},sN=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},cN=function(t,e){return ut(uN(t),(function(t){return sN(t,e)?[t]:[]}))},lN=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(null,e)}},fN=function(t,e){return ot(cN(t,e),(function(t){return t.action()}))},dN=function(t,e){var n=e?_f.Forwards:_f.Backwards,r=t.selection.getRng();return BR(t,n,r,cx,lx,ro).exists((function(e){return PR(t,e),!0}))},hN=function(t,e){var n=e?1:-1,r=t.selection.getRng();return zR(t,n,r,cx,lx,ro).exists((function(e){return PR(t,e),!0}))},pN=function(t,e){var n=e?lx:cx;return FR(t,e,n)},mN=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}},gN=function(t,e){return ut(e,(function(e){var n=mN(jl(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))},vN=function(t,e,n){return nt(t,(function(t,r){return t.fold((function(){return O.some(r)}),(function(t){var o=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),i=Math.sqrt(Math.abs(r.x-e)+Math.abs(r.y-n));return O.some(i<o?r:t)}))}),O.none())},yN=function(t,e,n,r,o){var i=pl(gn.fromDom(n),"td,th,caption").map((function(t){return t.dom})),a=tt(gN(t,i),(function(t){return e(t,o)}));return vN(a,r,o).map((function(t){return t.cell}))},bN=function(t){return t.bottom},xN=function(t){return t.top},wN=function(t,e){return t.y<e},_N=function(t,e){return t.y>e},SN=y(yN,bN,wN),CN=y(yN,xN,_N),kN=function(t,e){return pt(e.getClientRects()).bind((function(e){return SN(t,e.left,e.top)})).bind((function(t){return eR(cR(t),e)}))},TN=function(t,e){return mt(e.getClientRects()).bind((function(e){return CN(t,e.left,e.top)})).bind((function(t){return eR(sR(t),e)}))},AN=function(t,e,n){return n.breakAt.exists((function(n){return t(e,n).breakAt.isSome()}))},ON=function(t){return t.breakType===vM.Wrap&&0===t.positions.length},MN=function(t){return t.breakType===vM.Br&&1===t.positions.length},DN=function(t,e,n){var r=t(e,n);return ON(r)||!Jr(n.getNode())&&MN(r)?!AN(t,e,r):r.breakAt.isNone()},IN=y(DN,nR),EN=y(DN,rR),RN=function(t,e,n){var r=Sf.fromRangeStart(e);return Pp(!t,n).exists((function(t){return t.isEqual(r)}))},NN=function(t,e,n,r){var o=t.selection.getRng(),i=e?1:-1;return!(!Bh()||!RN(e,o,n))&&(MD(i,t,n,!e,!1).each((function(e){PR(t,e)})),!0)},PN=function(t,e,n){return kN(e,n).orThunk((function(){return pt(n.getClientRects()).bind((function(n){return tR(aR(t,Sf.before(e)),n.left)}))})).getOr(Sf.before(e))},LN=function(t,e,n){return TN(e,n).orThunk((function(){return pt(n.getClientRects()).bind((function(n){return tR(uR(t,Sf.after(e)),n.left)}))})).getOr(Sf.after(e))},BN=function(t,e){var n=e.getNode(t);return zr(n)&&"TABLE"===n.nodeName?O.some(n):O.none()},zN=function(t,e,n,r){var o=pd(e);o?e.undoManager.transact((function(){var r=gn.fromTag(o);uo(r,md(e)),gr(r,gn.fromTag("br")),t?pr(gn.fromDom(n),r):hr(gn.fromDom(n),r);var i=e.dom.createRng();i.setStart(r.dom,0),i.setEnd(r.dom,0),PR(e,i)})):PR(e,r.toRange())},VN=function(t,e,n){var r=BN(!!e,n),o=!1===e;r.fold((function(){return PR(t,n.toRange())}),(function(r){return Pp(o,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return PR(t,n.toRange())}),(function(o){return zN(e,t,r,n)}))}))},FN=function(t,e,n,r){var o=t.selection.getRng(),i=Sf.fromRangeStart(o),a=t.getBody();if(!e&&IN(r,i)){var u=PN(a,n,i);return VN(t,e,u),!0}if(e&&EN(r,i)){u=LN(a,n,i);return VN(t,e,u),!0}return!1},jN=function(t,e,n){return O.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(r){return O.from(t.dom.getParent(r,"table")).map((function(o){return n(t,e,o,r)}))})).getOr(!1)},HN=function(t,e){return jN(t,e,NN)},UN=function(t,e){return jN(t,e,FN)},WN=function(t,e,n){var r=je().os;fN([{keyCode:Fg.RIGHT,action:lN(XR,t,!0)},{keyCode:Fg.LEFT,action:lN(XR,t,!1)},{keyCode:Fg.UP,action:lN(ZR,t,!1)},{keyCode:Fg.DOWN,action:lN(ZR,t,!0)},{keyCode:Fg.RIGHT,action:lN(HN,t,!0)},{keyCode:Fg.LEFT,action:lN(HN,t,!1)},{keyCode:Fg.UP,action:lN(UN,t,!1)},{keyCode:Fg.DOWN,action:lN(UN,t,!0)},{keyCode:Fg.RIGHT,action:lN(dN,t,!0)},{keyCode:Fg.LEFT,action:lN(dN,t,!1)},{keyCode:Fg.UP,action:lN(hN,t,!1)},{keyCode:Fg.DOWN,action:lN(hN,t,!0)},{keyCode:Fg.RIGHT,action:lN($I,t,e,!0)},{keyCode:Fg.LEFT,action:lN($I,t,e,!1)},{keyCode:Fg.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:lN(QI,t,e)},{keyCode:Fg.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:lN(tE,t,e)},{keyCode:Fg.UP,action:lN(aN,t,!1)},{keyCode:Fg.DOWN,action:lN(aN,t,!0)}],n).each((function(t){n.preventDefault()}))},GN=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&WN(t,e,n)}))},qN=function(t,e,n){fN([{keyCode:Fg.BACKSPACE,action:lN(AE,t,!1)},{keyCode:Fg.BACKSPACE,action:lN(oI,t,!1)},{keyCode:Fg.DELETE,action:lN(oI,t,!0)},{keyCode:Fg.BACKSPACE,action:lN(VD,t,!1)},{keyCode:Fg.DELETE,action:lN(VD,t,!0)},{keyCode:Fg.BACKSPACE,action:lN(uE,t,e,!1)},{keyCode:Fg.DELETE,action:lN(uE,t,e,!0)},{keyCode:Fg.BACKSPACE,action:lN(v_,t,!1)},{keyCode:Fg.DELETE,action:lN(v_,t,!0)},{keyCode:Fg.BACKSPACE,action:lN(aI,t,!1)},{keyCode:Fg.DELETE,action:lN(aI,t,!0)},{keyCode:Fg.BACKSPACE,action:lN(gE,t,!1)},{keyCode:Fg.DELETE,action:lN(gE,t,!0)},{keyCode:Fg.BACKSPACE,action:lN(TD,t,!1)},{keyCode:Fg.DELETE,action:lN(TD,t,!0)},{keyCode:Fg.BACKSPACE,action:lN(bD,t,!1)},{keyCode:Fg.DELETE,action:lN(bD,t,!0)},{keyCode:Fg.BACKSPACE,action:lN(dE,t,!1)},{keyCode:Fg.DELETE,action:lN(dE,t,!0)}],n).each((function(t){n.preventDefault()}))},YN=function(t,e){fN([{keyCode:Fg.BACKSPACE,action:lN(rI,t)},{keyCode:Fg.DELETE,action:lN(rI,t)}],e)},XN=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&qN(t,e,n)})),t.on("keyup",(function(e){!1===e.isDefaultPrevented()&&YN(t,e)}))},ZN=function(t){while(t){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},$N=function(t,e){var n,r=e,o=t.dom,i=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var a=ZN(e.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&e.insertBefore(o.doc.createTextNode(Li),e.firstChild)}var u=o.createRng();if(e.normalize(),e.hasChildNodes()){var s=new hi(e,e);while(n=s.current()){if(Xr(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=s.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else Jr(e)?e.nextSibling&&o.isBlock(e.nextSibling)?(u.setStartBefore(e),u.setEndBefore(e)):(u.setStartAfter(e),u.setEndAfter(e)):(u.setStart(e,0),u.setEnd(e,0));t.selection.setRng(u),Hv(t,u)}},KN=function(t,e){var n,r,o=t.getRoot();n=e;while(n!==o&&"false"!==t.getContentEditable(n))"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},JN=function(t){return O.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},QN=function(t){return JN(t).fold(g(""),(function(t){return t.nodeName.toUpperCase()}))},tP=function(t){return JN(t).filter((function(t){return Di(gn.fromDom(t))})).isSome()},eP=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},nP=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},rP=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},oP=function(t){return rP(t)&&rP(t.parentNode)},iP=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},aP=function(t,e,n){var r=t[n?"firstChild":"lastChild"];while(r){if(zr(r))break;r=r[n?"nextSibling":"previousSibling"]}return r===e},uP=function(t,e,n,r,o){var i=t.dom,a=t.selection.getRng();if(n!==t.getBody()){oP(n)&&(o="LI");var u=o?e(o):i.create("BR");if(aP(n,r,!0)&&aP(n,r,!1))nP(n,"LI")?i.insertAfter(u,iP(n)):i.replace(u,n);else if(aP(n,r,!0))nP(n,"LI")?(i.insertAfter(u,iP(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(aP(n,r,!1))i.insertAfter(u,iP(n));else{n=iP(n);var s=a.cloneRange();s.setStartAfter(r),s.setEndAfter(n);var c=s.extractContents();"LI"===o&&eP(c,"LI")?(u=c.firstChild,i.insertAfter(c,n)):(i.insertAfter(c,n),i.insertAfter(u,n))}i.remove(r),$N(t,u)}},sP=function(t){K(hl(gn.fromDom(t),zn),(function(t){var e=t.dom;e.nodeValue=ji(e.nodeValue)}))},cP=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},lP=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},fP=function(t){t.innerHTML='<br data-mce-bogus="1">'},dP=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},hP=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},pP=function(t,e,n){var r,o=n,i=[];if(o){while(o=o.firstChild){if(t.isBlock(o))return;zr(o)&&!e[o.nodeName.toLowerCase()]&&i.push(o)}r=i.length;while(r--)o=i[r],(!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||cP(t,o))&&t.remove(o)}},mP=function(t,e,n){return!1===Xr(e)?n:t?1===n&&e.data.charAt(n-1)===Vi?0:n:n===e.data.length-1&&e.data.charAt(n)===Vi?e.data.length:n},gP=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,mP(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,mP(!1,t.endContainer,t.endOffset)),e},vP=function(t){do{Xr(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)},yP=function(t,e){var n,r,o=t.getRoot();n=e;while(n!==o&&"false"!==t.getContentEditable(n))"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},bP=function(t,e,n){var r=t.dom;O.from(n.style).map(r.parseStyle).each((function(t){var n=bo(gn.fromDom(e)),o=Ht(Ht({},n),t);r.setStyles(e,o)}));var o=O.from(n.class).map((function(t){return t.split(/\s+/)})),i=O.from(e.className).map((function(t){return tt(t.split(/\s+/),(function(t){return""!==t}))}));Bl(o,i,(function(t,n){var o=tt(n,(function(e){return!X(t,e)})),i=Wt(t,o);r.setAttrib(e,"class",i.join(" "))}));var a=["style","class"],u=Tt(n,(function(t,e){return!X(a,e)}));r.setAttribs(e,u)},xP=function(t,e){var n=pd(t);if(n&&n.toLowerCase()===e.tagName.toLowerCase()){var r=md(t);bP(t,e,r)}},wP=function(t,e,n,r,o){var i,a,u,s,c,l,f=e||"P",d=t.dom,h=yP(d,r);if(a=d.getParent(r,d.isBlock),!a||!hP(d,a)){if(a=a||h,l=a===t.getBody()||lP(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),xP(t,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;s=r;while(s.parentNode!==a)s=s.parentNode;while(s&&!d.isBlock(s))u=s,s=s.previousSibling;if(u&&t.schema.isValidChild(l,f.toLowerCase())){i=d.create(f),xP(t,i),u.parentNode.insertBefore(i,u),s=u;while(s&&!d.isBlock(s))c=s.nextSibling,i.appendChild(s),s=c;n.setStart(r,o),n.setEnd(r,o)}}return r},_P=function(t,e){e.normalize();var n=e.lastChild;n&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},SP=function(t,e){var n,r,o,i,a,u,s,c,l,f,d=t.dom,h=t.schema,p=h.getNonEmptyElements(),m=t.selection.getRng(),g=function(e){var n,o,a,u=r,s=h.getTextInlineElements();if(n=e||"TABLE"===c||"HR"===c?d.create(e||l):i.cloneNode(!1),a=n,!1===yd(t))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(s[u.nodeName]){if(jp(u)||cm(u))continue;o=u.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((u=u.parentNode)&&u!==w);return xP(t,n),fP(a),n},v=function(t){var e,n,a=mP(t,r,o);if(Xr(r)&&(t?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!t)return!0;if(t&&zr(r)&&r===i.firstChild)return!0;if(dP(r,"TABLE")||dP(r,"HR"))return f&&!t||!f&&t;var u=new hi(r,i);Xr(r)&&(t&&0===a?u.prev():t||a!==r.nodeValue.length||u.next());while(e=u.current()){if(zr(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(Xr(e)&&!xa(e.nodeValue))return!1;t?u.prev():u.next()}return!0},y=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==_?g(l):g(),bd(t)&&hP(d,s)&&d.isEmpty(i)?a=d.split(s,i):d.insertAfter(a,i),$N(t,a)};av(d,m).each((function(t){m.setStart(t.startContainer,t.startOffset),m.setEnd(t.endContainer,t.endOffset)})),r=m.startContainer,o=m.startOffset,l=pd(t);var b=!(!e||!e.shiftKey),x=!(!e||!e.ctrlKey);zr(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&Xr(r)?r.nodeValue.length:0);var w=yP(d,r);if(w){(l&&!b||!l&&b)&&(r=wP(t,l,m,r,o)),i=d.getParent(r,d.isBlock),s=i?d.getParent(i.parentNode,d.isBlock):null,c=i?i.nodeName.toUpperCase():"";var _=s?s.nodeName.toUpperCase():"";"LI"!==_||x||(i=s,s=s.parentNode,c=_),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(i)?uP(t,g,s,i,l):l&&i===t.getBody()||(l=l||"P",Wi(i)?(a=na(i),d.isEmpty(i)&&fP(i),xP(t,a),$N(t,a)):v()?y():v(!0)?(a=i.parentNode.insertBefore(g(),i),$N(t,dP(i,"HR")?a:i)):(n=gP(m).cloneRange(),n.setEndAfter(i),u=n.extractContents(),sP(u),vP(u),a=u.firstChild,d.insertAfter(u,i),pP(d,p,a),_P(d,i),d.isEmpty(i)&&fP(i),a.normalize(),d.isEmpty(a)?(d.remove(a),y()):(xP(t,a),$N(t,a))),d.setAttrib(a,"id",""),t.fire("NewBlock",{newBlock:a}))}},CP=function(t,e,n){var r,o=new hi(e,n),i=t.getNonEmptyElements();while(r=o.next())if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},kP=function(t,e,n){var r=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),e.scrollIntoView(r),t.remove(r)},TP=function(t,e,n,r){var o=t.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),e.setRng(o)},AP=function(t,e){var n,r,o=t.selection,i=t.dom,a=o.getRng();av(i,a).each((function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)}));var u=a.startOffset,s=a.startContainer;if(1===s.nodeType&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,u=c&&3===s.nodeType?s.nodeValue.length:0}var l=i.getParent(s,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=!(!e||!e.ctrlKey);"LI"!==d||h||(l=f),s&&3===s.nodeType&&u>=s.nodeValue.length&&(CP(t.schema,s,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Af(i,a,n),kP(i,o,n),TP(i,o,n,r),t.undoManager.add()},OP=function(t,e){var n=gn.fromTag("br");hr(gn.fromDom(e),n),t.undoManager.add()},MP=function(t,e){IP(t.getBody(),e)||pr(gn.fromDom(e),gn.fromTag("br"));var n=gn.fromTag("br");pr(gn.fromDom(e),n),kP(t.dom,t.selection,n.dom),TP(t.dom,t.selection,n.dom,!1),t.undoManager.add()},DP=function(t){return Jr(t.getNode())},IP=function(t,e){return!!DP(Sf.after(e))||Lp(t,Sf.after(e)).map((function(t){return Jr(t.getNode())})).getOr(!1)},EP=function(t){return t&&"A"===t.nodeName&&"href"in t},RP=function(t){return t.fold(_,EP,EP,_)},NP=function(t){var e=y(VM,t),n=Sf.fromRangeStart(t.selection.getRng());return MI(e,t.getBody(),n).filter(RP)},PP=function(t,e){e.fold(h,y(OP,t),y(MP,t),h)},LP=function(t,e){var n=NP(t);n.isSome()?n.each(y(PP,t)):AP(t,e)},BP=function(t,e){return JN(t).filter((function(t){return e.length>0&&kn(gn.fromDom(t),e)})).isSome()},zP=function(t){return BP(t,gd(t))},VP=function(t){return BP(t,vd(t))},FP=Wo.generate([{br:[]},{block:[]},{none:[]}]),jP=function(t,e){return VP(t)},HP=function(t){return function(e,n){var r=""===pd(e);return r===t}},UP=function(t){return function(e,n){return tP(e)===t}},WP=function(t,e){return function(n,r){var o=QN(n)===t.toUpperCase();return o===e}},GP=function(t){return WP("pre",t)},qP=function(){return WP("summary",!0)},YP=function(t){return function(e,n){return hd(e)===t}},XP=function(t,e){return zP(t)},ZP=function(t,e){return e},$P=function(t){var e=pd(t),n=KN(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},KP=function(t,e){return function(n,r){var o=nt(t,(function(t,e){return t&&e(n,r)}),!0);return o?O.some(e):O.none()}},JP=function(t,e){return bI([KP([jP],FP.none()),KP([qP()],FP.br()),KP([GP(!0),YP(!1),ZP],FP.br()),KP([GP(!0),YP(!1)],FP.block()),KP([GP(!0),YP(!0),ZP],FP.block()),KP([GP(!0),YP(!0)],FP.br()),KP([UP(!0),ZP],FP.br()),KP([UP(!0)],FP.block()),KP([HP(!0),ZP,$P],FP.block()),KP([HP(!0)],FP.br()),KP([XP],FP.br()),KP([HP(!1),ZP],FP.br()),KP([$P],FP.block())],[t,!(!e||!e.shiftKey)]).getOr(FP.none())},QP=function(t,e){JP(t,e).fold((function(){LP(t,e)}),(function(){SP(t,e)}),h)},tL=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),Fk(t.undoManager),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),QP(t,e)})))},eL=function(t){t.on("keydown",(function(e){e.keyCode===Fg.ENTER&&tL(t,e)}))},nL=function(t,e){fN([{keyCode:Fg.END,action:lN($R,t,!0)},{keyCode:Fg.HOME,action:lN($R,t,!1)},{keyCode:Fg.END,action:lN(pN,t,!0)},{keyCode:Fg.HOME,action:lN(pN,t,!1)}],e).each((function(t){e.preventDefault()}))},rL=function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&nL(t,e)}))},oL=je().browser,iL=function(t){var e=tl((function(){t.composing||ow(t)}),0);oL.isIE()&&(t.on("keypress",(function(t){e.throttle()})),t.on("remove",(function(t){e.cancel()})))},aL=function(t){iL(t),t.on("input",(function(e){!1===e.isComposing&&ow(t)}))},uL=function(t,e){var n=e.container(),r=e.offset();return Xr(n)?(n.insertData(r,t),O.some(wf(n,r+t.length))):sp(e).map((function(n){var r=gn.fromText(t);return e.isAtEnd()?pr(n,r):hr(n,r),wf(r.dom,t.length)}))},sL=y(uL,Li),cL=y(uL," "),lL=function(t){return function(e){return e.fold((function(e){return Bp(t.dom,Sf.before(e))}),(function(t){return zp(t)}),(function(t){return Vp(t)}),(function(e){return Lp(t.dom,Sf.after(e))}))}},fL=function(t,e){return function(n){return qx(t,n)?sL(e):cL(e)}},dL=function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}},hL=function(t){var e=Sf.fromRangeStart(t.selection.getRng()),n=gn.fromDom(t.getBody());if(t.selection.isCollapsed()){var r=y(VM,t),o=Sf.fromRangeStart(t.selection.getRng());return MI(r,t.getBody(),o).bind(lL(n)).bind(fL(n,e)).exists(dL(t))}return!1},pL=function(t,e){fN([{keyCode:Fg.SPACEBAR,action:lN(hL,t)}],e).each((function(t){e.preventDefault()}))},mL=function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&pL(t,e)}))},gL=function(t){var e=JI(t);return YE(t),GN(t,e),XN(t,e),eL(t),mL(t),aL(t),rL(t),e},vL=function(t){return oT(t)?zc(null):gL(t)},yL=function(){function t(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(n){var r=t.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&Xg(o,e)||t.fire("SelectionChange"),e=o})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);!e||!$e.range&&t.selection.isCollapsed()||fg(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(e){!e.isDefaultPrevented()&&fg(t)&&("IMG"===t.selection.getNode().nodeName?ci.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}return t.prototype.nodeChanged=function(t){var e,n,r,o=this.editor.selection;this.editor.initialized&&o&&!sh(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),e=o.getStart(!0)||r,e.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,r)||(e=r),n=[],this.editor.dom.getParent(e,(function(t){if(t===r)return!0;n.push(t)})),t=t||{},t.element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(n.length===this.lastPath.length){for(e=n.length;e>=0;e--)if(n[e]!==this.lastPath[e])break;if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),bL=function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))},xL=function(t){t.parser.addNodeFilter("details",(function(t){K(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){K(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",R(e)?e:null),t.attr("data-mce-open",null)}))}))},wL=function(t){bL(t),xL(t)},_L=function(t){return zr(t)&&Oi(gn.fromDom(t))},SL=function(t){var e=t.selection.getRng(),n=wf.fromRangeStart(e),r=wf.fromRangeEnd(e);if(wf.isElementPosition(n)){var o=n.container();_L(o)&&zp(o).each((function(t){return e.setStart(t.container(),t.offset())}))}if(wf.isElementPosition(r)){o=n.container();_L(o)&&Vp(o).each((function(t){return e.setEnd(t.container(),t.offset())}))}t.selection.setRng(x_(e))},CL=function(t){t.on("click",(function(e){e.detail>=3&&SL(t)}))},kL=function(){var t=zc(O.none()),e=function(){return t.set(O.none())},n=function(e){return t.set(O.some(e))},r=function(){return t.get().isSome()},o=function(e){return t.get().each(e)};return{clear:e,set:n,isSet:r,on:o}},TL=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:e.top+o.pageYOffset-r.clientTop,left:e.left+o.pageXOffset-r.clientLeft}},AL=function(t){return t.inline?TL(t.getBody()):{left:0,top:0}},OL=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},ML=function(t){var e=t.getBody(),n=t.getDoc().documentElement,r={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?r:o},DL=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=TL(t.getContentAreaContainer()),r=ML(t);return{left:e.pageX-n.left+r.left,top:e.pageY-n.top+r.top}}return{left:e.pageX,top:e.pageY}},IL=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},EL=function(t,e){return IL(AL(t),OL(t),DL(t,e))},RL=eo,NL=to,PL=function(t,e){return RL(e)&&e!==t},LL=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!RL(e)},BL=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},zL=function(t,e,n,r){var o=t.dom,i=e.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},VL=function(t,e){t.parentNode!==e&&e.appendChild(t)},FL=function(t,e,n,r,o,i){var a=0,u=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(a=e.pageX+n-o),e.pageY+r>i&&(u=e.pageY+r-i),t.style.width=n-a+"px",t.style.height=r-u+"px"},jL=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},HL=function(t){return 0===t.button},UL=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},WL=function(t,e){return function(n){if(HL(n)){var r=ot(e.dom.getParents(n.target),Jl(RL,NL)).getOr(null);if(PL(e.getBody(),r)){var o=e.dom.getPos(r),i=e.getBody(),a=e.getDoc().documentElement;t.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(e.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(e.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:zL(e,r,r.offsetWidth,r.offsetHeight)})}}}},GL=function(t,e){var n=ci.throttle((function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)}),0);return e.on("remove",n.stop),function(r){return t.on((function(t){var o=Math.max(Math.abs(r.screenX-t.screenX),Math.abs(r.screenY-t.screenY));if(!t.dragging&&o>10){var i=e.fire("dragstart",{target:t.element});if(i.isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var a=UL(t,EL(e,r));VL(t.ghost,e.getBody()),FL(t.ghost,a,t.width,t.height,t.maxX,t.maxY),n(r.clientX,r.clientY)}}))}},qL=function(t){var e=t.getSel().getRangeAt(0),n=e.startContainer;return 3===n.nodeType?n.parentNode:n},YL=function(t,e){return function(n){t.on((function(t){if(t.dragging&&LL(e,qL(e.selection),t.element)){var r=BL(t.element),o=e.fire("drop",{clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||e.undoManager.transact((function(){jL(t.element),e.insertContent(e.dom.getOuterHTML(r)),e._selectionOverrides.hideFakeCaret()}))}})),ZL(t)}},XL=function(t,e){return function(){t.on((function(t){t.dragging&&e.fire("dragend")})),ZL(t)}},ZL=function(t){t.on((function(t){jL(t.ghost)})),t.clear()},$L=function(t){var e=kL(),n=Mc.DOM,r=document,o=WL(e,t),i=GL(e,t),a=YL(e,t),u=XL(e,t);t.on("mousedown",o),t.on("mousemove",i),t.on("mouseup",a),n.bind(r,"mousemove",i),n.bind(r,"mouseup",u),t.on("remove",(function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",u)}))},KL=function(t){t.on("drop",(function(e){var n="undefined"!==typeof e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(RL(n)||"false"===t.dom.getContentEditableParent(n))&&e.preventDefault()}))},JL=function(t){var e=function(e){if(!e.defaultPrevented){var n=e.dataTransfer;n&&(X(n.types,"Files")||n.files.length>0)&&(e.preventDefault(),"drop"===e.type&&ZO(t,"Dropped file type is not supported"))}},n=function(n){zy(t,n.target)&&e(n)},r=function(){var r=Mc.DOM,o=t.dom,i=document,a=t.inline?t.getBody():t.getDoc(),u=["drop","dragover"];K(u,(function(t){r.bind(i,t,n),o.bind(a,t,e)})),t.on("remove",(function(){K(u,(function(t){r.unbind(i,t,n),o.unbind(a,t,e)}))}))};t.on("init",(function(){ci.setEditorTimeout(t,r,0)}))},QL=function(t){$L(t),KL(t),hh(t)&&JL(t)},tB=function(t){var e=tl((function(){if(!t.removed&&t.getBody().contains(document.activeElement)){var e=t.selection.getRng();if(e.collapsed){var n=RD(t,e,!1);t.selection.setRng(n)}}}),0);t.on("focus",(function(){e.throttle()})),t.on("blur",(function(){e.cancel()}))},eB=function(t){t.on("init",(function(){t.on("focusin",(function(e){var n=e.target;if(ro(n)){var r=Tg(t.getBody(),n),o=eo(r)?r:n;t.selection.getNode()!==o&&ID(t,o).each((function(e){return t.selection.setRng(e)}))}}))}))},nB=to,rB=eo,oB=function(t,e){return Tg(t.getBody(),e)},iB=function(t){var e,n=t.selection,r=t.dom,o=r.isBlock,i=t.getBody(),a=Lh(t,i,o,(function(){return Jy(t)})),u="sel-"+r.uniqueId(),s="data-mce-selected",c=function(t){return r.hasClass(t,"mce-offscreen-selection")},l=function(t){return t!==i&&(rB(t)||ro(t))&&r.isChildOf(t,i)},f=function(t){return hx(t)||px(t)||cx(t)||lx(t)},d=function(){var t=r.get(u);return t?t.getElementsByTagName("*")[0]:t},h=function(t){t&&n.setRng(t)},p=n.getRng,m=function(e,r,o,i){void 0===i&&(i=!0);var u=t.fire("ShowCaret",{target:r,direction:e,before:o});return u.isDefaultPrevented()?null:(i&&n.scrollIntoView(r,-1===e),a.show(o,r))},g=function(t){t.hasAttribute("data-mce-caret")&&(na(t),h(p()),n.scrollIntoView(t))},v=function(){t.on("mouseup",(function(e){var n=p();n.collapsed&&VO(t,e.clientX,e.clientY)&&ED(t,n,!1).each(h)})),t.on("click",(function(e){var o=oB(t,e.target);o&&(rB(o)&&(e.preventDefault(),t.focus()),nB(o)&&r.isChildOf(o,n.getNode())&&C())})),t.on("blur NewBlock",C),t.on("ResizeWindow FullscreenStateChanged",a.reposition);var u=function(t){var e=Cp(t);if(!t.firstChild)return!1;var n=Sf.before(t.firstChild),r=e.next(n);return r&&!f(r)},s=function(t,e){var n=r.getParent(t,o),i=r.getParent(e,o);return n===i},g=function(e,n){var i=r.getParent(e,o),a=r.getParent(n,o);return!(!i||e===a||!r.isChildOf(i,a)||!1!==rB(oB(t,i)))||i&&!s(i,a)&&u(i)};t.on("tap",(function(e){var n=e.target,r=oB(t,n);rB(r)?(e.preventDefault(),ID(t,r).each(S)):l(n)&&ID(t,n).each(S)}),!0),t.on("mousedown",(function(e){var o=e.target;if((o===i||"HTML"===o.nodeName||r.isChildOf(o,i))&&!1!==VO(t,e.clientX,e.clientY)){var a=oB(t,o);if(a)rB(a)?(e.preventDefault(),ID(t,a).each(S)):(C(),nB(a)&&e.shiftKey||Ag(e.clientX,e.clientY,n.getRng())||(T(),n.placeCaretAt(e.clientX,e.clientY)));else if(l(o))ID(t,o).each(S);else if(!1===Vh(o)){C(),T();var u=NR(i,e.clientX,e.clientY);if(u&&!g(o,u.node)){e.preventDefault();var s=m(1,u.node,u.before,!1);t.getBody().focus(),h(s)}}}})),t.on("keypress",(function(t){Fg.modifierPressed(t)||rB(n.getNode())&&t.preventDefault()})),t.on("GetSelectionRange",(function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);n=n.cloneRange(),n.selectNode(e),t.range=n}})),t.on("SetSelectionRange",(function(t){t.range=x(t.range);var e=S(t.range,t.forward);e&&(t.range=e)}));var v=function(t){return"mcepastebin"===t.id};t.on("AfterSetSelectionRange",(function(t){var e=t.range,n=e.startContainer.parentNode;b(e)||v(n)||T(),c(n)||C()})),t.on("copy",(function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!$e.ie){var n=d();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText||n.innerText))}})),QL(t),tB(t),eB(t)},y=function(t){return qi(t)||Qi(t)||ta(t)},b=function(t){return y(t.startContainer)||y(t.endContainer)},x=function(e){var n=t.schema.getShortEndedElements(),o=r.createRng(),i=e.startContainer,a=e.startOffset,u=e.endContainer,s=e.endOffset;return Dt(n,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),Dt(n,u.nodeName.toLowerCase())?0===s?o.setEndBefore(u):o.setEndAfter(u):o.setEnd(u,s),o},w=function(e,o,i){var a=t.$,s=Qo(gn.fromDom(t.getBody()),"#"+u).fold((function(){return a([])}),(function(t){return a([t.dom])}));0===s.length&&(s=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",u),s.appendTo(t.getBody()));var c=r.createRng();o===i&&$e.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(o),c.setStartAfter(s[0].firstChild.firstChild),c.setEndAfter(o)):(s.empty().append(Li).append(o).append(Li),c.setStart(s[0].firstChild,1),c.setEnd(s[0].lastChild,0)),s.css({top:r.getPos(e,t.getBody()).y}),s[0].focus();var l=n.getSel();return l.removeAllRanges(),l.addRange(c),c},_=function(n){var o=n.cloneNode(!0),i=t.fire("ObjectSelected",{target:n,targetClone:o});if(i.isDefaultPrevented())return null;var a=w(n,i.targetClone,o),u=gn.fromDom(n);return K(pl(gn.fromDom(t.getBody()),"*[data-mce-selected]"),(function(t){Mn(u,t)||fo(t,s)})),r.getAttrib(n,s)||n.setAttribute(s,"1"),e=n,T(),a},S=function(t,e){if(!t)return null;if(t.collapsed){if(!b(t)){var n=e?1:-1,o=up(n,i,t),a=o.getNode(!e);if(Vh(a))return m(n,a,!!e&&!o.isAtEnd(),!1);var u=o.getNode(e);if(Vh(u))return m(n,u,!e&&!o.isAtEnd(),!1)}return null}var s=t.startContainer,c=t.startOffset,f=t.endOffset;if(3===s.nodeType&&0===c&&rB(s.parentNode)&&(s=s.parentNode,c=r.nodeIndex(s),s=s.parentNode),1!==s.nodeType)return null;if(f===c+1&&s===t.endContainer){var d=s.childNodes[c];if(l(d))return _(d)}return null},C=function(){e&&e.removeAttribute(s),Qo(gn.fromDom(t.getBody()),"#"+u).each(wr),e=null},k=function(){a.destroy(),e=null},T=function(){a.hide()};return $e.ceFalse&&v(),{showCaret:m,showBlockCaretContainer:g,hideFakeCaret:T,destroy:k}},aB=function(t){var e=ln.each,n=Fg.BACKSPACE,r=Fg.DELETE,o=t.dom,i=t.selection,a=t.parser,u=$e.gecko,s=$e.ie,c=$e.webkit,l="data:text/mce-internal,",f=s?"Text":"URL",d=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(r){}},h=function(t){return t.isDefaultPrevented()},p=function(e){var n,r;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&i.select(e.target),n=t.selection.getContent(),n.length>0&&(r=l+escape(t.id)+","+escape(n),e.dataTransfer.setData(f,r)))},m=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(f),e&&e.indexOf(l)>=0)?(e=e.substr(l.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},g=function(e,n){t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:e,internal:n}):t.execCommand("mceInsertContent",!1,e)},v=function(){var e=function(t){var e=o.create("body"),n=t.cloneContents();return e.appendChild(n),i.serializer.serialize(e,{format:"html"})},a=function(n){var r=e(n),i=o.createRng();i.selectNode(t.getBody());var a=e(i);return r===a};t.on("keydown",(function(e){var i,u,s=e.keyCode;if(!h(e)&&(s===r||s===n)){if(i=t.selection.isCollapsed(),u=t.getBody(),i&&!o.isEmpty(u))return;if(!i&&!a(t.selection.getRng()))return;e.preventDefault(),t.setContent(""),u.firstChild&&o.isBlock(u.firstChild)?t.selection.setCursorLocation(u.firstChild,0):t.selection.setCursorLocation(u,0),t.nodeChanged()}}))},y=function(){t.shortcuts.add("meta+a",null,"SelectAll")},b=function(){t.inline||o.bind(t.getDoc(),"mousedown mouseup",(function(e){var n;if(e.target===t.getDoc().documentElement)if(n=i.getRng(),t.getBody().focus(),"mousedown"===e.type){if(qi(n.startContainer))return;i.placeCaretAt(e.clientX,e.clientY)}else i.setRng(n)}))},x=function(){t.on("keydown",(function(e){if(!h(e)&&e.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var r=i.getNode(),a=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void e.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(o.remove(a),e.preventDefault())}}}))},w=function(){Range.prototype.getClientRects||t.on("mousedown",(function(e){if(!h(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),ci.setEditorTimeout(t,(function(){n.focus()}))}}))},_=function(){t.on("click",(function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),i.select(n))}))},S=function(){var n=function(){var n=o.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==t.getBody()&&(o.setAttrib(r,"style",null),e(n,(function(t){r.setAttributeNode(t.cloneNode(!0))})))}},r=function(){return!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock)};t.on("keypress",(function(e){var o;if(!h(e)&&(8===e.keyCode||46===e.keyCode)&&r())return o=n(),t.getDoc().execCommand("delete",!1,null),o(),e.preventDefault(),!1})),o.bind(t.getDoc(),"cut",(function(e){var o;!h(e)&&r()&&(o=n(),ci.setEditorTimeout(t,(function(){o()})))}))},C=function(){t.on("keydown",(function(t){if(!h(t)&&t.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var e=i.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}}))},k=function(){t.on("keydown",(function(e){var n,r;if(!h(e)&&e.keyCode===Fg.BACKSPACE){n=i.getRng();var a=n.startContainer,u=n.startOffset,s=o.getRoot();if(r=a,n.collapsed&&0===u){while(r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==s)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(t.formatter.toggle("blockquote",null,r),n=o.createRng(),n.setStart(a,0),n.setEnd(a,0),i.setRng(n))}}}))},T=function(){var e=function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),jd(t)||d("enableObjectResizing",!1)};ch(t)||t.on("BeforeExecCommand mousedown",e)},A=function(){var n=function(){e(o.select("a"),(function(t){var e=t.parentNode,n=o.getRoot();if(e.lastChild===t){while(e&&!o.isBlock(e)){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}o.add(e,"br",{"data-mce-bogus":1})}}))};t.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||n()}))},O=function(){pd(t)&&t.on("init",(function(){d("DefaultParagraphSeparator",pd(t))}))},M=function(){t.on("keyup focusin mouseup",(function(t){Fg.modifierPressed(t)||i.normalize()}),!0)},D=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},I=function(){t.inline||t.on("keydown",(function(){document.activeElement===document.body&&t.getWin().focus()}))},E=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(e){var n;if("HTML"===e.target.nodeName){if($e.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}})))},R=function(){$e.mac&&t.on("keydown",(function(e){if(Fg.metaKeyPressed(e)&&!e.shiftKey&&(37===e.keyCode||39===e.keyCode)){e.preventDefault();var n=t.selection.getSel();n.modify("move",37===e.keyCode?"backward":"forward","lineboundary")}}))},N=function(){d("AutoUrlDetect",!1)},P=function(){t.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},L=function(){t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(t){t.preventDefault()}))}))},B=function(){a.addNodeFilter("br",(function(t){var e=t.length;while(e--)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()}))},z=function(){t.on("dragstart",(function(t){p(t)})),t.on("drop",(function(e){if(!h(e)){var n=m(e);if(n&&n.id!==t.id){e.preventDefault();var r=Yg(e.x,e.y,t.getDoc());i.setRng(r),g(n.html,!0)}}}))},V=function(){},F=function(){if(!u||t.removed)return!1;var e=t.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount};return k(),v(),$e.windowsPhone||M(),c&&(b(),_(),O(),L(),C(),B(),$e.iOS?(I(),E(),P()):y()),$e.ie>=11&&(E(),C()),$e.ie&&(y(),N(),z()),u&&(x(),w(),S(),T(),A(),D(),R(),C()),{refreshContentEditable:V,isHidden:F}},uB=Mc.DOM,sB=function(t,e){var n=gn.fromDom(t.getBody()),r=sr(ur(n)),o=gn.fromTag("style");ao(o,"type","text/css"),gr(o,gn.fromText(e)),gr(r,o),t.on("remove",(function(){wr(o)}))},cB=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},lB=function(t){return Tt(t,(function(t){return!1===z(t)}))},fB=function(t){var e=t.settings,n=t.editorUpload.blobCache;return lB({allow_conditional_comments:e.allow_conditional_comments,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_html_in_named_anchor:e.allow_html_in_named_anchor,allow_script_urls:e.allow_script_urls,allow_unsafe_link_target:e.allow_unsafe_link_target,convert_fonts_to_spans:e.convert_fonts_to_spans,fix_list_elements:e.fix_list_elements,font_size_legacy_values:e.font_size_legacy_values,forced_root_block:e.forced_root_block,forced_root_block_attrs:e.forced_root_block_attrs,padd_empty_with_br:e.padd_empty_with_br,preserve_cdata:e.preserve_cdata,remove_trailing_brs:e.remove_trailing_brs,inline_styles:e.inline_styles,root_name:cB(t),validate:!0,blob_cache:n,images_dataimg_filter:e.images_dataimg_filter})},dB=function(t){var e=t.settings;return Ht(Ht({},fB(t)),lB({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope,element_format:e.element_format,entities:e.entities,entity_encoding:e.entity_encoding,indent:e.indent,indent_after:e.indent_after,indent_before:e.indent_before,block_elements:e.block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements}))},hB=function(t){var e=TA(fB(t),t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){var r,o,i=e.length,a=t.dom,u="data-mce-"+n;while(i--)if(r=e[i],o=r.attr(n),o&&!r.attr(u)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=a.serializeStyle(a.parseStyle(o),r.name),o.length||(o=null),r.attr(u,o),r.attr(n,o)):"tabindex"===n?(r.attr(u,o),r.attr(n,null)):r.attr(u,t.convertURL(o,n,r.name))}})),e.addNodeFilter("script",(function(t){var e=t.length;while(e--){var n=t[e],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",(function(e){var n=e.length;while(n--){var r=e[n];r.type=8,r.name="#comment",r.value="[CDATA["+t.dom.encode(r.value)+"]]"}})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){var n=e.length,r=t.schema.getNonEmptyElements();while(n--){var o=e[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new Mb("br",1)).shortEnded=!0)}})),e},pB=function(t){t.settings.auto_focus&&ci.setEditorTimeout(t,(function(){var e;e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus),e.destroyed||e.focus()}),100)},mB=function(t){var e=t.dom.getRoot();t.inline||fg(t)&&t.selection.getStart(!0)!==e||zp(e).each((function(e){var n=e.getNode(),r=Gr(n)?zp(n).getOr(e):e;$e.browser.isIE()?Cy(t,r.toRange()):t.selection.setRng(r.toRange())}))},gB=function(t){t.bindPendingEventDelegates(),t.initialized=!0,Bg(t),t.focus(!0),mB(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),pB(t)},vB=function(t){return t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader},yB=function(t,e){var n=vB(t),r=function(){t.on("remove",(function(){return n.unloadAll(e)})),gB(t)};n.loadAll(e,r,r)},bB=function(t,e){var n=t.settings,r=t.getDoc(),o=t.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,uB.setAttrib(o,"spellcheck","false")),t.quirks=aB(t),Lg(t);var i=Vd(t);if(void 0!==i&&(o.dir=i),n.protect&&t.on("BeforeSetContent",(function(t){ln.each(n.protect,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),!1===e&&t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",(function(e){t.composing="compositionstart"===e.type})),t.contentStyles.length>0){var a="";ln.each(t.contentStyles,(function(t){a+=t+"\r\n"})),t.dom.addStyle(a)}yB(t,t.contentCSS),n.content_style&&sB(t,n.content_style)},xB=function(t,e){var n=t.settings,r=t.getElement(),o=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(o.open(),o.write(t.iframeHTML),o.close()),t.inline&&(uB.addClass(r,"mce-content-body"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);var i=t.getBody();i.disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&"static"===uB.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=t.getParam("content_editable_state",!0)),i.disabled=!1,t.editorUpload=pM(t),t.schema=du(n),t.dom=Mc(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:Ed(t),referrerPolicy:Rd(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=hB(t),t.serializer=VA(dB(t),t),t.selection=XT(t.dom,t.getWin(),t.serializer,t),t.annotator=Sg(t),t.formatter=kM(t),t.undoManager=OM(t),t._nodeChangeDispatcher=new yL(t),t._selectionOverrides=iB(t),LE(t),wL(t),oT(t)||CL(t);var a=vL(t);IE(t,a),HE(t),LM(t),Pg(t),iT(t).fold((function(){bB(t,!1)}),(function(e){t.setProgressState(!0),e.then((function(e){t.setProgressState(!1),bB(t,e)}))}))},wB=Mc.DOM,_B=function(t,e){if(document.domain!==window.location.hostname&&$e.browser.isIE()){var n=fM("mce");t[n]=function(){xB(t)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return wB.setAttrib(e,"src",r),!0}return!1},SB=function(t,e,n,r){var o=gn.fromTag("iframe");return uo(o,r),uo(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),cl(o,"tox-edit-area__iframe"),o},CB=function(t){var e=sd(t)+"<html><head>";cd(t)!==t.documentBaseUrl&&(e+='<base href="'+t.documentBaseURI.getURI()+'" />'),e+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=ld(t),r=fd(t);return dd(t)&&(e+='<meta http-equiv="Content-Security-Policy" content="'+dd(t)+'" />'),e+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+t.id+'"><br></body></html>',e},kB=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=SB(t.id,n,e.height,ud(t)).dom;r.onload=function(){r.onload=null,t.fire("load")};var o=_B(t,r);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=r,t.iframeHTML=CB(t),wB.add(e.iframeContainer,r),o},TB=function(t,e){var n=kB(t,e);e.editorContainer&&(wB.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=wB.isHidden(e.editorContainer)),t.getElement().style.display="none",wB.setAttrib(t.id,"aria-hidden","true"),n||xB(t)},AB=Mc.DOM,OB=function(t,e,n){var r=WO.get(n),o=WO.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=ln.trim(n),r&&-1===ln.inArray(e,n)){if(ln.each(WO.dependencies(n),(function(n){OB(t,e,n)})),t.plugins[n])return;try{var i=new r(t,o,t.$);t.plugins[n]=i,i.init&&(i.init(t,o),e.push(n))}catch(gF){nM(t,n,gF)}}},MB=function(t){return t.replace(/^\-/,"")},DB=function(t){var e=[];ln.each(fh(t).split(/[ ,]/),(function(n){OB(t,e,MB(n))}))},IB=function(t){var e=ln.trim(Td(t)),n=t.ui.registry.getAll().icons,r=Ht(Ht({},MO.get("default").icons),MO.get(e).icons);xt(r,(function(e,r){Dt(n,r)||t.ui.registry.addIcon(r,e)}))},EB=function(t){var e=qd(t);if(R(e)){t.settings.theme=MB(e);var n=GO.get(e);t.theme=new n(t,GO.urls[e]),t.theme.init&&t.theme.init(t,GO.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}},RB=function(t){return t.theme.renderUI()},NB=function(t){var e=t.getElement(),n=qd(t),r=n(t,e);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||t.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||t.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:e.offsetHeight,r},PB=function(t){return{editorContainer:t,iframeContainer:t,api:{}}},LB=function(t){var e=AB.create("div");return AB.insertAfter(e,t),PB(e)},BB=function(t){var e=t.getElement();return t.inline?PB(null):LB(e)},zB=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,R(qd(t))?RB(t):j(qd(t))?NB(t):BB(t)},VB=function(t,e){var n={show:O.from(e.show).getOr(h),hide:O.from(e.hide).getOr(h),disable:O.from(e.disable).getOr(h),isDisabled:O.from(e.isDisabled).getOr(_),enable:function(){t.mode.isReadOnly()||O.from(e.enable).map(w)}};t.ui=Ht(Ht({},t.ui),n)},FB=function(t){t.fire("ScriptsLoaded"),IB(t),EB(t),DB(t);var e=zB(t);VB(t,O.from(e.api).getOr({}));var n={editorContainer:e.editorContainer,iframeContainer:e.iframeContainer};return t.editorContainer=n.editorContainer?n.editorContainer:null,aM(t),t.inline?xB(t):TB(t,n)},jB=Mc.DOM,HB=function(t){return"-"===t.charAt(0)},UB=function(t,e){var n=Nd(e),r=Pd(e);if(!1===Kc.hasCode(n)&&"en"!==n){var o=""!==r?r:e.editorManager.baseURL+"/langs/"+n+".js";t.add(o,h,void 0,(function(){eM(e,o,n)}))}},WB=function(t,e,n,r){var o=qd(e);if(R(o)){if(!HB(o)&&!GO.urls.hasOwnProperty(o)){var i=Qd(e);i?GO.load(o,e.documentBaseURI.toAbsolute(i)):GO.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue((function(){GO.waitFor(o,r)}))}else r()},GB=function(t){return O.from(Ad(t)).filter((function(t){return t.length>0})).map((function(t){return{url:t,name:O.none()}}))},qB=function(t,e,n){return O.from(e).filter((function(t){return t.length>0&&!MO.has(t)})).map((function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons"+n+".js",name:O.some(e)}}))},YB=function(t,e,n){var r=qB(e,"default",n),o=GB(e).orThunk((function(){return qB(e,Td(e),"")}));K(Ll([r,o]),(function(n){t.add(n.url,h,void 0,(function(){tM(e,n.url,n.name.getOrUndefined())}))}))},XB=function(t,e){ln.each(dh(t),(function(e,n){WO.load(n,e,h,void 0,(function(){QO(t,e,n)})),t.settings.plugins+=" "+n})),ln.each(fh(t).split(/[ ,]/),(function(n){if(n=ln.trim(n),n&&!WO.urls[n])if(HB(n)){n=n.substr(1,n.length);var r=WO.dependencies(n);ln.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+e+".js"},o=WO.createUrl(r,n);WO.load(o.resource,o,h,void 0,(function(){QO(t,o.prefix+o.resource+o.suffix,o.resource)}))}))}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+e+".js"};WO.load(n,o,h,void 0,(function(){QO(t,o.prefix+o.resource+o.suffix,n)}))}}))},ZB=function(t,e){var n=Bc.ScriptLoader;WB(n,t,e,(function(){UB(n,t),YB(n,t,e),XB(t,e),n.loadQueue((function(){t.removed||FB(t)}),t,(function(){t.removed||FB(t)}))}))},$B=function(t,e){return di.forElement(t,{contentCssCors:lh(e),referrerPolicy:Rd(e)})},KB=function(t){var e=t.id;Kc.setCode(Nd(t));var n=function(){jB.unbind(window,"ready",n),t.render()};if(Wu.Event.domLoaded){if(t.getElement()&&$e.contentEditable){var r=gn.fromDom(t.getElement()),o=ho(r);t.on("remove",(function(){J(r.dom.attributes,(function(t){return fo(r,t.name)})),uo(r,o)})),t.ui.styleSheetLoader=$B(r,t),th(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var i=t.getElement().form||jB.getParent(e,"form");i&&(t.formElement=i,eh(t)&&!Yr(t.getElement())&&(jB.insertAfter(jB.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},jB.bind(i,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.resetContent()})),!nh(t)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=YO(t),t.notificationManager=UO(t),rh(t)&&t.on("GetContent",(function(t){t.save&&(t.content=jB.encode(t.content))})),oh(t)&&t.on("submit",(function(){t.initialized&&t.save()})),ih(t)&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),ZB(t,t.suffix)}}else jB.bind(window,"ready",n)},JB=function(t,e){return ET(t,e)},QB={"font-size":"size","font-family":"face"},tz=function(t,e,n){var r=function(e){return yo(e,t).orThunk((function(){return"font"===Rn(e)?Mt(QB,t).bind((function(t){return co(e,t)})):O.none()}))},o=function(t){return Mn(gn.fromDom(e),t)};return hb(gn.fromDom(n),(function(t){return r(t)}),o)},ez=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},nz=function(t,e){return O.from(Mc.DOM.getStyle(e,t,!0))},rz=function(t){return function(e,n){return O.from(n).map(gn.fromDom).filter(Bn).bind((function(n){return tz(t,e,n.dom).or(nz(t,n.dom))})).getOr("")}},oz=rz("font-size"),iz=p(ez,rz("font-family")),az=function(t){return zp(t.getBody()).map((function(t){var e=t.container();return Xr(e)?e.parentNode:e}))},uz=function(t){return O.from(t.selection.getRng()).bind((function(e){var n=t.getBody(),r=e.startContainer===n&&0===e.startOffset;return r?O.none():O.from(t.selection.getStart(!0))}))},sz=function(t,e){return uz(t).orThunk(y(az,t)).map(gn.fromDom).filter(Bn).map(e)},cz=function(t,e){if(/^[0-9.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var r=xd(t),o=wd(t);return o?o[n-1]||e:r[n-1]||e}return e}return e},lz=function(t){var e=t.split(/\s*,\s*/);return $(e,(function(t){return-1===t.indexOf(" ")||ue(t,'"')||ue(t,"'")?t:"'"+t+"'"})).join(",")},fz=function(t,e){var n=cz(t,e);t.formatter.toggle("fontname",{value:lz(n)}),t.nodeChanged()},dz=function(t){return sz(t,(function(e){return iz(t.getBody(),e.dom)})).getOr("")},hz=function(t,e){t.formatter.toggle("fontsize",{value:cz(t,e)}),t.nodeChanged()},pz=function(t){return sz(t,(function(e){return oz(t.getBody(),e.dom)})).getOr("")},mz=function(t){return sz(t,(function(e){var n=gn.fromDom(t.getBody()),r=hb(e,(function(t){return yo(t,"line-height")}),y(Mn,n)),o=function(){var t=parseFloat(go(e,"line-height")),n=parseFloat(go(e,"font-size"));return String(t/n)};return r.getOrThunk(o)})).getOr("")},gz=function(t,e){t.undoManager.transact((function(){t.formatter.toggle("lineheight",{value:String(e)}),t.nodeChanged()}))},vz=function(t){var e;return"string"!==typeof t?(e=ln.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},yz=function(t,e){var n=vz(e);DT(t,n.content,n.details)},bz=ln.each,xz=ln.map,wz=ln.inArray,_z=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,e,n,r){var o,i=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?Ty(a.editor):a.editor.focus(),r=a.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n}),r.isDefaultPrevented())return!1;var u=t.toLowerCase();if(o=a.commands.exec[u])return o(u,e,n),a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(bz(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(t,e,n))return a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),i=!0,!1})),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(t,e,n))return a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{i=a.editor.getDoc().execCommand(t,e,n)}catch(s){}return!!i&&(a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(n){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(n){}}},t.prototype.addCommands=function(t,e){void 0===e&&(e="exec");var n=this;bz(t,(function(t,r){bz(r.toLowerCase().split(","),(function(r){n.commands[e][r]=t}))}))},t.prototype.addCommand=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,o,i,a){return e.call(n||r.editor,o,i,a)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(e){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||r.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||r.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var e=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=t.getDoc();try{e.execNativeCommand(n)}catch(a){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");$e.mac&&(i=i.replace(/Ctrl\+/g,"+")),t.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),bz("left,center,right,justify".split(","),(function(e){r!==e&&t.formatter.remove("align"+e)})),"none"!==r&&e.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;e.execNativeCommand(n);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(e.storeSelection(),t.dom.split(r,o),e.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,r){e.toggleFormat(t,r)},FontName:function(e,n,r){fz(t,r)},FontSize:function(e,n,r){hz(t,r)},LineHeight:function(e,n,r){gz(t,r)},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,r){return e.toggleFormat(r||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,r,o){var i=o||t.selection.getNode();i!==t.getBody()&&(e.storeSelection(),t.dom.remove(i,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,r){var o=0;t.dom.getParent(t.selection.getNode(),(function(e){if(1===e.nodeType&&o++===r)return t.selection.select(e),!1}),t.getBody())},mceSelectNode:function(e,n,r){t.selection.select(r)},mceInsertContent:function(e,n,r){yz(t,r)},mceInsertRawHTML:function(e,n,r){t.selection.setContent("tiny_mce_marker");var o=t.getContent();t.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(e,n,r){QP(t,r)},mceToggleFormat:function(t,n,r){e.toggleFormat(r)},mceSetContent:function(e,n,r){t.setContent(r)},"Indent,Outdent":function(e){TE(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,r){"string"===typeof r&&(r={href:r});var o=t.dom.getParent(t.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||t.formatter.remove("link"),r.href&&t.formatter.apply("link",r,o)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),to);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,r){return LP(t,r),!0}});var n=function(e){return function(){var n=t.selection,r=n.isCollapsed()?[t.dom.getParent(n.getNode(),t.dom.isBlock)]:n.getSelectedBlocks(),o=xz(r,(function(n){return!!t.formatter.matchNode(n,e)}));return-1!==wz(o,!0)}};e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return _E(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",(function(){return dz(t)}),this),e.addQueryValueHandler("FontSize",(function(){return pz(t)}),this),e.addQueryValueHandler("LineHeight",(function(){return mz(t)}),this)},t}(),Sz="data-mce-contenteditable",Cz=function(t,e,n){dl(t,e)&&!1===n?fl(t,e):n&&cl(t,e)},kz=function(t,e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch(r){}},Tz=function(t,e){t.dom.contentEditable=e?"true":"false"},Az=function(t){K(pl(t,'*[contenteditable="true"]'),(function(t){ao(t,Sz,"true"),Tz(t,!1)}))},Oz=function(t){K(pl(t,"*["+Sz+'="true"]'),(function(t){fo(t,Sz),Tz(t,!0)}))},Mz=function(t){O.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))},Dz=function(t){t.selection.setRng(t.selection.getRng())},Iz=function(t,e){var n=gn.fromDom(t.getBody());Cz(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),Mz(t),t.readonly=!0,Tz(n,!1),Az(n)):(t.readonly=!1,Tz(n,!0),Oz(n),kz(t,"StyleWithCSS",!1),kz(t,"enableInlineTableEditing",!1),kz(t,"enableObjectResizing",!1),Qy(t)&&t.focus(),Dz(t),t.nodeChanged())},Ez=function(t){return t.readonly},Rz=function(t){t.parser.addAttributeFilter("contenteditable",(function(e){Ez(t)&&K(e,(function(t){t.attr(Sz,t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter(Sz,(function(e){Ez(t)&&K(e,(function(t){t.attr("contenteditable",t.attr(Sz))}))})),t.serializer.addTempAttr(Sz)},Nz=function(t){t.serializer?Rz(t):t.on("PreInit",(function(){Rz(t)}))},Pz=function(t){return"click"===t.type},Lz=function(t,e){var n=function(e){return Mn(e,gn.fromDom(t.getBody()))};return ti(e,"a",n).bind((function(t){return co(t,"href")}))},Bz=function(t,e){if(Pz(e)&&!Fg.metaKeyPressed(e)){var n=gn.fromDom(e.target);Lz(t,n).each((function(n){if(e.preventDefault(),/^#/.test(n)){var r=t.dom.select(n+',[name="'+ie(n,"#")+'"]');r.length&&t.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}},zz=function(t){t.on("ShowCaret",(function(e){Ez(t)&&e.preventDefault()})),t.on("ObjectSelected",(function(e){Ez(t)&&e.preventDefault()}))},Vz=ln.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Fz=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||_}return t.isNative=function(t){return!!Vz[t.toLowerCase()]},t.prototype.fire=function(t,e){var n=t.toLowerCase(),r=e||{};r.type=n,r.target||(r.target=this.scope),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=S},r.stopPropagation=function(){r.isPropagationStopped=S},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=S},r.isDefaultPrevented=_,r.isPropagationStopped=_,r.isImmediatePropagationStopped=_),this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}return r},t.prototype.on=function(t,e,n,r){if(!1===e&&(e=_),e){var o={func:e};r&&ln.extend(o,r);var i=t.toLowerCase().split(" "),a=i.length;while(a--){var u=i[a],s=this.bindings[u];s||(s=this.bindings[u]=[],this.toggleEvent(u,!0)),n?s.unshift(o):s.push(o)}}return this},t.prototype.off=function(t,e){var n=this;if(t){var r=t.toLowerCase().split(" "),o=r.length;while(o--){var i=r[o],a=this.bindings[i];if(!i)return xt(this.bindings,(function(t,e){n.toggleEvent(e,!1),delete n.bindings[e]})),this;if(a){if(e){var u=a.length;while(u--)a[u].func===e&&(a=a.slice(0,u).concat(a.slice(u+1)),this.bindings[i]=a)}else a.length=0;a.length||(this.toggleEvent(t,!1),delete this.bindings[i])}}}else xt(this.bindings,(function(t,e){n.toggleEvent(e,!1)})),this.bindings={};return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),jz=function(t){return t._eventDispatcher||(t._eventDispatcher=new Fz({scope:t,toggleEvent:function(e,n){Fz.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},Hz={fire:function(t,e,n){var r=this;if(r.removed&&"remove"!==t&&"detach"!==t)return e;var o=jz(r).fire(t,e);if(!1!==n&&r.parent){var i=r.parent();while(i&&!o.isPropagationStopped())i.fire(t,o,!1),i=i.parent()}return o},on:function(t,e,n){return jz(this).on(t,e,n)},off:function(t,e){return jz(this).off(t,e)},once:function(t,e){return jz(this).once(t,e)},hasEventListeners:function(t){return jz(this).has(t)}},Uz=Mc.DOM,Wz=function(t,e){if("selectionchange"===e)return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e))return t.getDoc().documentElement;var n=Wd(t);return n?(t.eventRoot||(t.eventRoot=Uz.select(n)[0]),t.eventRoot):t.getBody()},Gz=function(t){return!t.hidden&&!Ez(t)},qz=function(t,e,n){Gz(t)?t.fire(e,n):Ez(t)&&Bz(t,n)},Yz=function(t,e){var n;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed){var r=Wz(t,e);if(Wd(t)){if(dR||(dR={},t.editorManager.on("removeEditor",(function(){t.editorManager.activeEditor||dR&&(xt(dR,(function(e,n){t.dom.unbind(Wz(t,n))})),dR=null)}))),dR[e])return;n=function(n){var r=n.target,o=t.editorManager.get(),i=o.length;while(i--){var a=o[i].getBody();(a===r||Uz.isChildOf(r,a))&&qz(o[i],e,n)}},dR[e]=n,Uz.bind(r,e,n)}else n=function(n){qz(t,e,n)},Uz.bind(r,e,n),t.delegates[e]=n}},Xz=Ht(Ht({},Hz),{bindPendingEventDelegates:function(){var t=this;ln.each(t._pendingNativeEvents,(function(e){Yz(t,e)}))},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?Yz(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(Wz(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),n=t.dom;t.delegates&&(xt(t.delegates,(function(e,n){t.dom.unbind(Wz(t,n),n,e)})),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}}),Zz=["design","readonly"],$z=function(t,e,n,r){var o=n[e.get()],i=n[r];try{i.activate()}catch(gF){return void console.error("problem while activating editor mode "+r+":",gF)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&Iz(t,i.editorReadOnly),e.set(r),Eg(t,r)},Kz=function(t,e,n,r){if(r!==n.get()){if(!Dt(e,r))throw new Error("Editor mode '"+r+"' is invalid");t.initialized?$z(t,n,e,r):t.on("init",(function(){return $z(t,n,e,r)}))}},Jz=function(t,e,n){var r;if(X(Zz,e))throw new Error("Cannot override default mode "+e);return Ht(Ht({},t),(r={},r[e]=Ht(Ht({},n),{deactivate:function(){try{n.deactivate()}catch(gF){console.error("problem while deactivating editor mode "+e+":",gF)}}}),r))},Qz=function(t){var e=zc("design"),n=zc({design:{activate:h,deactivate:h,editorReadOnly:!1},readonly:{activate:h,deactivate:h,editorReadOnly:!0}});return Nz(t),zz(t),{isReadOnly:function(){return Ez(t)},set:function(r){return Kz(t,n.get(),e,r)},get:function(){return e.get()},register:function(t,e){n.set(Jz(n.get(),t,e))}}},tV=ln.each,eV=ln.explode,nV={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},rV=ln.makeMap("alt,ctrl,shift,meta,access"),oV=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",(function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(tV(e.shortcuts,(function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0})),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))}))}return t.prototype.add=function(t,e,n,r){var o=this,i=o.normalizeCommandFunc(n);return tV(eV(ln.trim(t)),(function(t){var n=o.createShortcut(t,e,i,r);o.shortcuts[n.id]=n})),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.normalizeCommandFunc=function(t){var e=this,n=t;return"string"===typeof n?function(){e.editor.execCommand(n,!1,null)}:ln.isArray(n)?function(){e.editor.execCommand(n[0],n[1],n[2])}:n},t.prototype.parseShortcut=function(t){var e,n={};tV(eV(t.toLowerCase(),"+"),(function(t){t in rV?n[t]=!0:/^[0-9]{2,}$/.test(t)?n.keyCode=parseInt(t,10):(n.charCode=t.charCodeAt(0),n.keyCode=nV[t]||t.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(e in rV)n[e]?r.push(e):n[e]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,$e.mac?n.ctrl=!0:n.shift=!0),n.meta&&($e.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},t.prototype.createShortcut=function(t,e,n,r){var o=ln.map(eV(t,">"),this.parseShortcut);return o[o.length-1]=ln.extend(o[o.length-1],{func:n,scope:r||this.editor}),ln.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&(e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&(e.alt===t.altKey&&e.shift===t.shiftKey&&(!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0))))},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),iV=function(){var t={},e={},n={},r={},o={},i={},a={},u=function(t,e){return function(n,r){return t[n.toLowerCase()]=Ht(Ht({},r),{type:e})}},s=function(t,e){return r[t.toLowerCase()]=e};return{addButton:u(t,"button"),addGroupToolbarButton:u(t,"grouptoolbarbutton"),addToggleButton:u(t,"togglebutton"),addMenuButton:u(t,"menubutton"),addSplitButton:u(t,"splitbutton"),addMenuItem:u(e,"menuitem"),addNestedMenuItem:u(e,"nestedmenuitem"),addToggleMenuItem:u(e,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:s,getAll:function(){return{buttons:t,menuItems:e,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}},aV=function(){var t=iV();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},uV=ln.each,sV=ln.trim,cV="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),lV={ftp:21,http:80,https:443,mailto:25},fV=function(){function t(e,n){e=sV(e),this.settings=n||{};var r=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))o.source=e;else{var i=0===e.indexOf("//");if(0!==e.indexOf("/")||i||(e=(r&&r.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var a=this.settings.base_uri?this.settings.base_uri.path:new t(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+o.toAbsPath(a,e);else{var u=/([^#?]*)([#?]?.*)/.exec(e);e=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(a,u[1])+u[2]}}e=e.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);uV(cV,(function(t,e){var n=s[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[t]=n})),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return t.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},t.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},t.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},t.prototype.toRelative=function(e){var n;if("./"===e)return e;var r=new t(e,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},t.prototype.toAbsolute=function(e,n){var r=new t(e,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},t.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=lV[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},t.prototype.toRelPath=function(t,e){var n,r,o=0,i="",a=t.substring(0,t.lastIndexOf("/")).split("/"),u=e.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return e;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},t.prototype.toAbsPath=function(t,e){var n,r,o=0,i=[],a=/\/$/.test(e)?"/":"",u=t.split("/"),s=e.split("/");for(uV(u,(function(t){t&&i.push(t)})),u=i,n=s.length-1,i=[];n>=0;n--)0!==s[n].length&&"."!==s[n]&&(".."!==s[n]?o>0?o--:i.push(s[n]):o++);return n=u.length-o,r=n<=0?ct(i).join("/"):u.slice(0,n).join("/")+"/"+ct(i).join("/"),0!==r.indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},t.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},t}(),dV=Mc.DOM,hV=ln.extend,pV=ln.each,mV=ln.resolve,gV=$e.ie,vV=function(){function t(t,e,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,hV(this,Xz),this.settings=SO(this,t,this.documentBaseUrl,n.defaultSettings,e),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Bc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Mc.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Qc.languageLoad=this.settings.language_load,Qc.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new fV(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new oV(this),this.editorCommands=new _z(this),this.settings.cache_suffix&&($e.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:aV(),styleSheetLoader:void 0,show:h,hide:h,enable:h,disable:h,isDisabled:_};var o=this,i=Qz(o);this.mode=i,this.setMode=i.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=xc.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return t.prototype.render=function(){KB(this)},t.prototype.focus=function(t){nb(this,t)},t.prototype.hasFocus=function(){return Jy(this)},t.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o=this,i=o.settings[t];if(i)return o.callbackLookup&&(r=o.callbackLookup[t])&&(i=r.func,r=r.scope),"string"===typeof i&&(r=i.replace(/\.\w+$/,""),r=r?mV(r):0,i=mV(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[t]={func:i,scope:r}),i.apply(r||o,e)},t.prototype.translate=function(t){return Kc.translate(t)},t.prototype.getParam=function(t,e,n){return AO(this,t,e,n)},t.prototype.hasPlugin=function(t,e){var n=X(fh(this).split(/[ ,]/),t);return!!n&&(!e||void 0!==WO.get(t))},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},t.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},t.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},t.prototype.addShortcut=function(t,e,n,r){this.shortcuts.add(t,e,n,r)},t.prototype.execCommand=function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(dV.show(t.getContainer()),dV.hide(t.id)),t.load(),t.fire("show"))},t.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(gV&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(dV.hide(t.getContainer()),dV.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},t.prototype.load=function(t){var e,n=this,r=n.getElement();if(n.removed)return"";if(r){t=t||{},t.load=!0;var o=Yr(r)?r.value:r.innerHTML;return e=n.setContent(o,t),t.element=r,t.no_events||n.fire("LoadContent",t),t.element=r=null,e}},t.prototype.save=function(t){var e,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return t=t||{},t.save=!0,t.element=o,e=t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),e=t.content,Yr(o)?o.value=e:(!t.is_removing&&r.inline||(o.innerHTML=e),(n=dV.getParent(r.id,"form"))&&pV(n.elements,(function(t){if(t.name===r.id)return t.value=e,!1}))),t.element=o=null,!1!==t.set_dirty&&r.setDirty(!1),e},t.prototype.setContent=function(t,e){return HA(this,t,e)},t.prototype.getContent=function(t){return jA(this,t)},t.prototype.insertContent=function(t,e){e&&(t=hV({content:t},e)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){void 0===t?HA(this,this.startContent,{format:"raw"}):HA(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},t.prototype.getContainer=function(){var t=this;return t.container||(t.container=dV.get(t.editorContainer||t.id+"_parent")),t.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=dV.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t,e=this;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},t.prototype.getDoc=function(){var t,e=this;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,e,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",t,n,!0,e):!o.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:o.relative_urls?r.documentBaseURI.toRelative(t):(t=r.documentBaseURI.toAbsolute(t,o.remove_script_host),t)},t.prototype.addVisual=function(t){JB(this,t)},t.prototype.remove=function(){XA(this)},t.prototype.destroy=function(t){ZA(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),yV=Mc.DOM,bV=ln.explode,xV=ln.each,wV=ln.extend,_V=0,SV=!1,CV=[],kV=[],TV=function(t){return"length"!==t},AV=function(t){var e=t.type;xV(EV.get(),(function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t);break}}))},OV=function(t){t!==SV&&(t?xc(window).on("resize scroll",AV):xc(window).off("resize scroll",AV),SV=t)},MV=function(t){var e=kV;delete CV[t.id];for(var n=0;n<CV.length;n++)if(CV[n]===t){CV.splice(n,1);break}return kV=tt(kV,(function(e){return t!==e})),EV.activeEditor===t&&(EV.activeEditor=kV.length>0?kV[0]:null),EV.focusedEditor===t&&(EV.focusedEditor=null),e.length!==kV.length},DV=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(MV(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t},IV="CSS1Compat"!==document.compatMode,EV=Ht(Ht({},Hz),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:xc,majorVersion:"5",minorVersion:"6.2",releaseDate:"2020-12-08",editors:CV,i18n:Kc,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,e,n=this,r="";e=fV.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,r=o.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var u=i[a].src||"";if(""!==u){var s=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==s.indexOf(".min")&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript){u=document.currentScript.src;-1!==u.indexOf(".min")&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}}n.baseURL=new fV(e).toAbsolute(t),n.documentBaseURL=e,n.baseURI=new fV(n.baseURL),n.suffix=r,Hy(n)},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e);var n=t.suffix;t.suffix&&(this.suffix=n),this.defaultSettings=t;var r=t.plugin_base_urls;void 0!==r&&xt(r,(function(t,e){Qc.PluginManager.urls[e]=t}))},init:function(t){var e,n=this,r=ln.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(t,e){return t.inline&&e.tagName.toLowerCase()in r},i=function(t){var e=t.id;return e||(e=Mt(t,"name").filter((function(t){return!yV.get(t)})).getOrThunk(yV.uniqueId),t.setAttribute("id",e)),e},a=function(e){var r=t[e];if(r)return r.apply(n,Array.prototype.slice.call(arguments,2))},u=function(t,e){return e.constructor===RegExp?e.test(t.className):yV.hasClass(t,e)},s=function(t){var e=[];if($e.browser.isIE()&&$e.browser.version.major<11)return rM("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(IV)return rM("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return xV(t.types,(function(t){e=e.concat(yV.select(t.selector))})),e;if(t.selector)return yV.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var n=t.elements||"";n.length>0&&xV(bV(n),(function(t){var n=yV.get(t);n?e.push(n):xV(document.forms,(function(n){xV(n.elements,(function(n){n.name===t&&(t="mce_editor_"+_V++,yV.setAttrib(n,"id",t),e.push(n))}))}))}));break;case"textareas":case"specific_textareas":xV(yV.select("textarea"),(function(n){t.editor_deselector&&u(n,t.editor_deselector)||t.editor_selector&&!u(n,t.editor_selector)||e.push(n)}));break}return e},c=function(t){e=t},l=function(){var e,r=0,u=[],f=function(t,o,i){var a=new vV(t,o,n);u.push(a),a.on("init",(function(){++r===e.length&&c(u)})),a.targetElm=a.targetElm||i,a.render()};yV.unbind(window,"ready",l),a("onpageload"),e=xc.unique(s(t)),t.types?xV(t.types,(function(n){ln.each(e,(function(e){return!yV.is(e,n.selector)||(f(i(e),wV({},t,n),e),!1)}))})):(ln.each(e,(function(t){DV(n.get(t.id))})),e=ln.grep(e,(function(t){return!n.get(t.id)})),0===e.length?c([]):xV(e,(function(e){o(t,e)?rM("Could not initialize inline editor on invalid inline target element",e):f(i(e),t,e)})))};return n.settings=t,yV.bind(window,"ready",l),new ni((function(t){e?t(e):c=function(e){t(e)}}))},get:function(t){return 0===arguments.length?kV.slice(0):R(t)?ot(kV,(function(e){return e.id===t})).getOr(null):H(t)&&kV[t]?kV[t]:null},add:function(t){var e=this,n=CV[t.id];return n===t||(null===e.get(t.id)&&(TV(t.id)&&(CV[t.id]=t),CV.push(t),kV.push(t)),OV(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),hR||(hR=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",hR))),t},createEditor:function(t,e){return this.add(new vV(t,e,this))},remove:function(t){var e,n,r=this;if(t){if(!R(t))return n=t,L(r.get(n.id))?null:(MV(n)&&r.fire("RemoveEditor",{editor:n}),0===kV.length&&window.removeEventListener("beforeunload",hR),n.remove(),OV(kV.length>0),n);xV(yV.select(t),(function(t){n=r.get(t.id),n&&r.remove(n)}))}else for(e=kV.length-1;e>=0;e--)r.remove(kV[e])},execCommand:function(t,e,n){var r=this,o=r.get(n);switch(t){case"mceAddEditor":return r.get(n)||new vV(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(t,e,n)},triggerSave:function(){xV(kV,(function(t){t.save()}))},addI18n:function(t,e){Kc.add(t,e)},translate:function(t){return Kc.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new fV(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new fV(this.baseURL)}});EV.setup();var RV,NV,PV=Math.min,LV=Math.max,BV=Math.round,zV=function(t,e,n){var r=e.x,o=e.y,i=t.w,a=t.h,u=e.w,s=e.h,c=(n||"").split("");return"b"===c[0]&&(o+=s),"r"===c[1]&&(r+=u),"c"===c[0]&&(o+=BV(s/2)),"c"===c[1]&&(r+=BV(u/2)),"b"===c[3]&&(o-=a),"r"===c[4]&&(r-=i),"c"===c[3]&&(o-=BV(a/2)),"c"===c[4]&&(r-=BV(i/2)),UV(r,o,i,a)},VV=function(t,e,n,r){var o,i;for(i=0;i<r.length;i++)if(o=zV(t,e,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},FV=function(t,e,n){return UV(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},jV=function(t,e){var n=LV(t.x,e.x),r=LV(t.y,e.y),o=PV(t.x+t.w,e.x+e.w),i=PV(t.y+t.h,e.y+e.h);return o-n<0||i-r<0?null:UV(n,r,o-n,i-r)},HV=function(t,e,n){var r=t.x,o=t.y,i=t.x+t.w,a=t.y+t.h,u=e.x+e.w,s=e.y+e.h,c=LV(0,e.x-r),l=LV(0,e.y-o),f=LV(0,i-u),d=LV(0,a-s);return r+=c,o+=l,n&&(i+=c,a+=l,r-=f,o-=d),i-=f,a-=d,UV(r,o,i-r,a-o)},UV=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},WV=function(t){return UV(t.left,t.top,t.width,t.height)},GV={inflate:FV,relativePosition:zV,findBestRelativePosition:VV,intersect:jV,clamp:HV,create:UV,fromClientRect:WV},qV=function(t,e,n){void 0===n&&(n=1e3);var r=!1,o=null,i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r||(r=!0,null!==o&&(clearTimeout(o),o=null),t.apply(null,e))}},a=i(t),u=i(e),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r||null!==o||(o=setTimeout((function(){return u.apply(null,t)}),n))};return{start:s,resolve:a,reject:u}},YV=function(){var t={},e={},n=function(n,r){var o='Script at URL "'+r+'" failed to load',i='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==t[n])return t[n];var a=new ni((function(t,a){var u=qV(t,a);e[n]=u.resolve,Bc.ScriptLoader.loadScript(r,(function(){return u.start(i)}),(function(){return u.reject(o)}))}));return t[n]=a,a},r=function(n,r){void 0!==e[n]&&(e[n](r),delete e[n]),t[n]=ni.resolve(r)};return{load:n,add:r}},XV=YV(),ZV=ln.each,$V=ln.extend,KV=function(){};KV.extend=RV=function(t){var e=this,n=e.prototype,r=function(){var t,e,n,r=this;if(!NV&&(r.init&&r.init.apply(r,arguments),e=r.Mixins,e)){t=e.length;while(t--)n=e[t],n.init&&n.init.apply(r,arguments)}},o=function(){return this},i=function(t,e){return function(){var r=this,o=r._super;r._super=n[t];var i=e.apply(r,arguments);return r._super=o,i}};NV=!0;var a=new e;return NV=!1,t.Mixins&&(ZV(t.Mixins,(function(e){for(var n in e)"init"!==n&&(t[n]=e[n])})),n.Mixins&&(t.Mixins=n.Mixins.concat(t.Mixins))),t.Methods&&ZV(t.Methods.split(","),(function(e){t[e]=o})),t.Properties&&ZV(t.Properties.split(","),(function(e){var n="_"+e;t[e]=function(t){var e=this;return void 0!==t?(e[n]=t,e):e[n]}})),t.Statics&&ZV(t.Statics,(function(t,e){r[e]=t})),t.Defaults&&n.Defaults&&(t.Defaults=$V({},n.Defaults,t.Defaults)),xt(t,(function(t,e){"function"===typeof t&&n[e]?a[e]=i(e,t):a[e]=t})),r.prototype=a,r.constructor=r,r.extend=RV,r};var JV,QV=Math.min,tF=Math.max,eF=Math.round,nF=function(t){var e={},n=0,r=0,o=0,i=function(t,e,n){var r,o,i;r=0,o=0,i=0,t/=255,e/=255,n/=255;var a=QV(t,QV(e,n)),u=tF(t,tF(e,n));if(a===u)return i=a,{h:0,s:0,v:100*i};var s=t===a?e-n:n===a?t-e:n-t;return r=t===a?3:n===a?1:5,r=60*(r-s/(u-a)),o=(u-a)/u,i=u,{h:eF(r),s:eF(100*o),v:eF(100*i)}},a=function(t,e,i){if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,i=parseInt(i,10)/100,e=tF(0,QV(e,1)),i=tF(0,QV(i,1)),0!==e){var a=t/60,u=i*e,s=u*(1-Math.abs(a%2-1)),c=i-u;switch(Math.floor(a)){case 0:n=u,r=s,o=0;break;case 1:n=s,r=u,o=0;break;case 2:n=0,r=u,o=s;break;case 3:n=0,r=s,o=u;break;case 4:n=s,r=0,o=u;break;case 5:n=u,r=0,o=s;break;default:n=r=o=0}n=eF(255*(n+c)),r=eF(255*(r+c)),o=eF(255*(o+c))}else n=r=o=eF(255*i)},u=function(){var t=function(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t};return"#"+t(n)+t(r)+t(o)},s=function(){return{r:n,g:r,b:o}},c=function(){return i(n,r,o)},l=function(t){var i;return"object"===typeof t?"r"in t?(n=t.r,r=t.g,o=t.b):"v"in t&&a(t.h,t.s,t.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,e};return t&&l(t),e.toRgb=s,e.toHsv=c,e.toHex=u,e.parse=l,e},rF=function(t){var e=JSON.stringify(t);return R(e)?e.replace(/[\u0080-\uFFFF]/g,(function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e})):e},oF={serialize:rF,parse:function(t){try{return JSON.parse(t)}catch(e){}}},iF={callbacks:{},count:0,send:function(t){var e=this,n=Mc.DOM,r=void 0!==t.count?t.count:e.count,o="tinymce_jsonp_"+r;e.callbacks[r]=function(i){n.remove(o),delete e.callbacks[r],t.callback(i)},n.add(n.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),e.count++}},aF=Ht(Ht({},Hz),{send:function(t){var e,n=0,r=function(){!t.async||4===e.readyState||n++>1e4?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,n>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):ci.setTimeout(r,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",aF.fire("beforeInitialize",{settings:t}),e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&ln.each(t.requestheaders,(function(t){e.setRequestHeader(t.key,t.value)})),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e=aF.fire("beforeSend",{xhr:e,settings:t}).xhr,e.send(t.data),!t.async)return r();ci.setTimeout(r,10)}}),uF=ln.extend,sF=function(){function t(t){this.settings=uF({},t),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(t){var e=t.error,n=t.success,r=uF(this.settings,t);r.success=function(t,o){t=oF.parse(t),"undefined"===typeof t&&(t={error:"JSON Parse error."}),t.error?e.call(r.error_scope||r.scope,t.error,o):n.call(r.success_scope||r.scope,t.result)},r.error=function(t,n){e&&e.call(r.error_scope||r.scope,t,n)},r.data=oF.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",aF.send(r)},t}(),cF=function(){return function(){var t={},e=[],n={getItem:function(e){var n=t[e];return n||null},setItem:function(n,r){e.push(n),t[n]=String(r)},key:function(t){return e[t]},removeItem:function(n){e=e.filter((function(t){return t===n})),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()};try{var lF="__storage_test__";JV=window.localStorage,JV.setItem(lF,lF),JV.removeItem(lF)}catch(gF){JV=cF()}var fF=JV,dF={geom:{Rect:GV},util:{Promise:ni,Delay:ci,Tools:ln,VK:Fg,URI:fV,Class:KV,EventDispatcher:Fz,Observable:Hz,I18n:Kc,XHR:aF,JSON:oF,JSONRequest:sF,JSONP:iF,LocalStorage:fF,Color:nF},dom:{EventUtils:Wu,Sizzle:Os,DomQuery:xc,TreeWalker:hi,TextSeeker:Pl,DOMUtils:Mc,ScriptLoader:Bc,RangeUtils:lv,Serializer:VA,StyleSheetLoader:li,ControlSelection:Hg,BookmarkManager:kg,Selection:XT,Event:Wu.Event},html:{Styles:Eu,Entities:eu,Node:Mb,Schema:du,SaxParser:Gb,DomParser:TA,Writer:Ib,Serializer:Eb},Env:$e,AddOnManager:Qc,Annotator:Sg,Formatter:kM,UndoManager:OM,EditorCommands:_z,WindowManager:YO,NotificationManager:UO,EditorObservable:Xz,Shortcuts:oV,Editor:vV,FocusManager:Oy,EditorManager:EV,DOM:Mc.DOM,ScriptLoader:Bc.ScriptLoader,PluginManager:WO,ThemeManager:GO,IconManager:MO,Resource:XV,trim:ln.trim,isArray:ln.isArray,is:ln.is,toArray:ln.toArray,makeMap:ln.makeMap,each:ln.each,map:ln.map,grep:ln.grep,inArray:ln.inArray,extend:ln.extend,create:ln.create,walk:ln.walk,createNS:ln.createNS,resolve:ln.resolve,explode:ln.explode,_addCacheSuffix:ln._addCacheSuffix,isOpera:$e.opera,isWebKit:$e.webkit,isIE:$e.ie,isGecko:$e.gecko,isMac:$e.mac},hF=ln.extend(EV,dF),pF=function(e){try{t.exports=e}catch(n){}},mF=function(t){window.tinymce=t,window.tinyMCE=t};mF(hF),pF(hF)})()}).call(this,n("c8ba"))},e704:function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){return!!t.hasPlugin("tinymcespellchecker",!0)&&("undefined"!==typeof window.console&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0)},r=Object.hasOwnProperty,o=function(t){for(var e in t)if(r.call(t,e))return!1;return!0},i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=tinymce.util.Tools.resolve("tinymce.util.URI"),u=tinymce.util.Tools.resolve("tinymce.util.XHR"),s=function(t){return t.fire("SpellcheckStart")},c=function(t){return t.fire("SpellcheckEnd")},l=function(t){var e="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return t.getParam("spellchecker_languages",e)},f=function(t){var e=t.getParam("language","en");return t.getParam("spellchecker_language",e)},d=function(t){return t.getParam("spellchecker_rpc_url")},h=function(t){return t.getParam("spellchecker_callback")},p=function(t){var e=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`]+',"g");return t.getParam("spellchecker_wordchar_pattern",e)};function m(t){return t&&1===t.nodeType&&"false"===t.contentEditable}var g=function(t,e){var n,r=[],o=e.dom,i=e.schema.getBlockElements(),a=e.schema.getWhiteSpaceElements(),u=e.schema.getShortEndedElements();function s(t,e){if(!t[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:t.index,end:t.index+t[0].length,text:t[0],data:e}}function c(t){var e;if(3===t.nodeType)return t.data;if(a[t.nodeName]&&!i[t.nodeName])return"";if(m(t))return"\n";if(e="",(i[t.nodeName]||u[t.nodeName])&&(e+="\n"),t=t.firstChild)do{e+=c(t)}while(t=t.nextSibling);return e}function l(t,e,n){var r,o,s,c,l,f=[],d=0,h=t,p=0;e=e.slice(0),e.sort((function(t,e){return t.start-e.start})),l=e.shift();t:while(1){if((i[h.nodeName]||u[h.nodeName]||m(h))&&d++,3===h.nodeType&&(!o&&h.length+d>=l.end?(o=h,c=l.end-d):r&&f.push(h),!r&&h.length+d>l.start&&(r=h,s=l.start-d),d+=h.length),r&&o){if(h=n({startNode:r,startNodeIndex:s,endNode:o,endNodeIndex:c,innerNodes:f,match:l.text,matchIndex:p}),d-=o.length-c,r=null,o=null,f=[],l=e.shift(),p++,!l)break}else if(a[h.nodeName]&&!i[h.nodeName]||!h.firstChild){if(h.nextSibling){h=h.nextSibling;continue}}else if(!m(h)){h=h.firstChild;continue}while(1){if(h.nextSibling){h=h.nextSibling;break}if(h.parentNode===t)break t;h=h.parentNode}}}function f(t){function e(e,n){var i=r[n];i.stencil||(i.stencil=t(i));var a=i.stencil.cloneNode(!1);return a.setAttribute("data-mce-index",n),e&&a.appendChild(o.doc.createTextNode(e)),a}return function(t){var n,r,i,a=t.startNode,u=t.endNode,s=t.matchIndex,c=o.doc;if(a===u){var l=a;i=l.parentNode,t.startNodeIndex>0&&(n=c.createTextNode(l.data.substring(0,t.startNodeIndex)),i.insertBefore(n,l));var f=e(t.match,s);return i.insertBefore(f,l),t.endNodeIndex<l.length&&(r=c.createTextNode(l.data.substring(t.endNodeIndex)),i.insertBefore(r,l)),l.parentNode.removeChild(l),f}n=c.createTextNode(a.data.substring(0,t.startNodeIndex)),r=c.createTextNode(u.data.substring(t.endNodeIndex));for(var d=e(a.data.substring(t.startNodeIndex),s),h=0,p=t.innerNodes.length;h<p;++h){var m=t.innerNodes[h],g=e(m.data,s);m.parentNode.replaceChild(g,m)}var v=e(u.data.substring(0,t.endNodeIndex),s);return i=a.parentNode,i.insertBefore(n,a),i.insertBefore(d,a),i.removeChild(a),i=u.parentNode,i.insertBefore(v,u),i.insertBefore(r,u),i.removeChild(u),v}}function d(t){var e=t.parentNode;while(t.childNodes.length>0)e.insertBefore(t.childNodes[0],t);e.removeChild(t)}function h(t){return-1!==t.className.indexOf("mce-spellchecker-word")}function p(e){var n=t.getElementsByTagName("*"),r=[];e="number"===typeof e?""+e:null;for(var o=0;o<n.length;o++){var i=n[o],a=i.getAttribute("data-mce-index");null!==a&&a.length&&h(i)&&(a!==e&&null!==e||r.push(i))}return r}function g(t){var e=r.length;while(e--)if(r[e]===t)return e;return-1}function v(t){var e=[];return y((function(n,r){t(n,r)&&e.push(n)})),r=e,this}function y(t){for(var e=0,n=r.length;e<n;e++)if(!1===t(r[e],e))break;return this}function b(e){return r.length&&l(t,r,f(e)),this}function x(t,e){if(O&&t.global)while(n=t.exec(O))r.push(s(n,e));return this}function w(t){var e,n=p(t?g(t):null);e=n.length;while(e--)d(n[e]);return this}function _(t){return r[t.getAttribute("data-mce-index")]}function S(t){return p(g(t))[0]}function C(t,e,n){return r.push({start:t,end:t+e,text:O.substr(t,e),data:n}),this}function k(t){var n=p(g(t)),r=e.dom.createRng();return r.setStartBefore(n[0]),r.setEndAfter(n[n.length-1]),r}function T(t,n){var r=k(t);return r.deleteContents(),n.length>0&&r.insertNode(e.dom.doc.createTextNode(n)),r}function A(){return r.splice(0,r.length),w(),this}var O=c(t);return{text:O,matches:r,each:y,filter:v,reset:A,matchFromElement:_,elementFromMatch:S,find:x,add:C,wrap:b,unwrap:w,replace:T,rangeFromMatch:k,indexOf:g}},v=function(t,e){if(!e.get()){var n=g(t.getBody(),t);e.set(n)}return e.get()},y=function(t,e,n){return function(r,o,s,c){var l={method:r,lang:n.get()},f="";l["addToDictionary"===r?"word":"text"]=o,i.each(l,(function(t,e){f&&(f+="&"),f+=e+"="+encodeURIComponent(t)})),u.send({url:new a(e).toAbsolute(d(t)),type:"post",content_type:"application/x-www-form-urlencoded",data:f,success:function(e){var n=JSON.parse(e);if(n)n.error?c(n.error):s(n);else{var r=t.translate("Server response wasn't proper JSON.");c(r)}},error:function(){var e=t.translate("The spelling service was not found: (")+d(t)+t.translate(")");c(e)}})}},b=function(t,e,n,r,o,i,a){var u=h(t),s=u||y(t,e,n);s.call(t.plugins.spellchecker,r,o,i,a)},x=function(t,e,n,r,o,i){if(!C(t,n,r)){var a=function(e){t.notificationManager.open({text:e,type:"error"}),t.setProgressState(!1),C(t,n,r)},u=function(e){A(t,n,r,o,e)};t.setProgressState(!0),b(t,e,i,"spellcheck",v(t,r).text,u,a),t.focus()}},w=function(t,e,n){t.dom.select("span.mce-spellchecker-word").length||C(t,e,n)},_=function(t,e,n,r,o,i,a){t.setProgressState(!0),b(t,e,o,"addToDictionary",i,(function(){t.setProgressState(!1),t.dom.remove(a,!0),w(t,n,r)}),(function(e){t.notificationManager.open({text:e,type:"error"}),t.setProgressState(!1)}))},S=function(t,e,n,r,o,a){t.selection.collapse(),a?i.each(t.dom.select("span.mce-spellchecker-word"),(function(e){e.getAttribute("data-mce-word")===r&&t.dom.remove(e,!0)})):t.dom.remove(o,!0),w(t,e,n)},C=function(t,e,n){var r=t.selection.getBookmark();if(v(t,n).reset(),t.selection.moveToBookmark(r),n.set(null),e.get())return e.set(!1),c(t),!0},k=function(t){var e=t.getAttribute("data-mce-index");return"number"===typeof e?""+e:e},T=function(t,e){var n=[],r=i.toArray(t.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var a=k(r[o]);null!==a&&a.length&&(a===e.toString()&&n.push(r[o]))}return n},A=function(t,e,n,r,i){var a=!!i.dictionary,u=i.words;if(t.setProgressState(!1),o(u)){var c=t.translate("No misspellings found.");return t.notificationManager.open({text:c,type:"info"}),void e.set(!1)}r.set({suggestions:u,hasDictionarySupport:a});var l=t.selection.getBookmark();v(t,n).find(p(t)).filter((function(t){return!!u[t.text]})).wrap((function(e){return t.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":e.text})})),t.selection.moveToBookmark(l),e.set(!0),s(t)},O=function(t,e,n,r,o,i){var a=function(){return o.get()},u=function(){return p(t)},s=function(o){A(t,e,r,n,o)},c=function(){return r.get()};return{getTextMatcher:c,getWordCharPattern:u,markErrors:s,getLanguage:a}},M=function(t,e,n,r,o,i){t.addCommand("mceSpellCheck",(function(){x(t,e,n,r,o,i)}))},D=function(){return D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},D.apply(this,arguments)},I="SpellcheckStart SpellcheckEnd",E=function(t,e){var n=[];return i.each(e,(function(t){n.push({selectable:!0,text:t.name,data:t.value})})),n},R=function(t){return i.map(l(t).split(","),(function(t){var e=t.split("=");return{name:e[0],value:e[1]}}))},N=function(t,e,n,r,o,a){var u=E("Language",R(t)),s=function(){x(t,e,n,r,a,o)},c={tooltip:"Spellcheck",onAction:s,icon:"spell-check",onSetup:function(e){var r=function(){e.setActive(n.get())};return t.on(I,r),function(){t.off(I,r)}}},l=D(D({},c),{type:"splitbutton",select:function(t){return t===o.get()},fetch:function(t){var e=i.map(u,(function(t){return{type:"choiceitem",value:t.data,text:t.text}}));t(e)},onItemAction:function(t,e){o.set(e)}});u.length>1?t.ui.registry.addSplitButton("spellchecker",l):t.ui.registry.addToggleButton("spellchecker",c),t.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(e){e.setActive(n.get());var r=function(){e.setActive(n.get())};return t.on(I,r),function(){t.off(I,r)}},onAction:s})},P=!0,L=function(t,e,n,r,o,a,u,s){var c=[],l=n.get().suggestions[u];i.each(l,(function(e){c.push({text:e,onAction:function(){t.insertContent(t.dom.encode(e)),t.dom.remove(s),w(t,r,o)}})}));var f=n.get().hasDictionarySupport;return f&&(c.push({type:"separator"}),c.push({text:"Add to dictionary",onAction:function(){_(t,e,r,o,a,u,s)}})),c.push.apply(c,[{type:"separator"},{text:"Ignore",onAction:function(){S(t,r,o,u,s)}},{text:"Ignore all",onAction:function(){S(t,r,o,u,s,P)}}]),c},B=function(t,e,n,r,o,i){var a=function(a){var u=a;if("mce-spellchecker-word"!==u.className)return[];var s=T(t,k(u));if(s.length>0){var c=t.dom.createRng();return c.setStartBefore(s[0]),c.setEndAfter(s[s.length-1]),t.selection.setRng(c),L(t,e,n,r,o,i,u.getAttribute("data-mce-word"),s)}};t.ui.registry.addContextMenu("spellchecker",{update:a})};function z(){e.add("spellchecker",(function(e,r){if(!1===n(e)){var o=t(!1),i=t(f(e)),a=t(null),u=t(null);return N(e,r,o,a,i,u),B(e,r,u,o,a,i),M(e,r,o,a,u,i),O(e,o,u,a,i)}}))}z()})()},e8b0:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){return t},n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},r="\ufeff",o=function(t){return t.replace(/\uFEFF/g,"")},i=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},a="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",u={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\ufeff-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:a},s={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},c=[new RegExp(u.aletter),new RegExp(u.midnumlet),new RegExp(u.midletter),new RegExp(u.midnum),new RegExp(u.numeric),new RegExp(u.cr),new RegExp(u.lf),new RegExp(u.newline),new RegExp(u.extend),new RegExp(u.format),new RegExp(u.katakana),new RegExp(u.extendnumlet),new RegExp("@")],l="",f=new RegExp("^"+u.punctuation+"$"),d=/^\s+$/,h=c,p=s.OTHER,m=function(t){for(var e=p,n=h.length,r=0;r<n;++r){var o=h[r];if(o&&o.test(t)){e=r;break}}return e},g=function(t){var e={};return function(n){if(e[n])return e[n];var r=t(n);return e[n]=r,r}},v=function(t){var e=g(m);return i(t,e)},y=function(t,e){var n=t[e],r=t[e+1];if(e<0||e>t.length-1&&0!==e)return!1;if(n===s.ALETTER&&r===s.ALETTER)return!1;var o=t[e+2];if(n===s.ALETTER&&(r===s.MIDLETTER||r===s.MIDNUMLET||r===s.AT)&&o===s.ALETTER)return!1;var i=t[e-1];return(n!==s.MIDLETTER&&n!==s.MIDNUMLET&&r!==s.AT||r!==s.ALETTER||i!==s.ALETTER)&&((n!==s.NUMERIC&&n!==s.ALETTER||r!==s.NUMERIC&&r!==s.ALETTER)&&((n!==s.MIDNUM&&n!==s.MIDNUMLET||r!==s.NUMERIC||i!==s.NUMERIC)&&((n!==s.NUMERIC||r!==s.MIDNUM&&r!==s.MIDNUMLET||o!==s.NUMERIC)&&(n!==s.EXTEND&&n!==s.FORMAT&&i!==s.EXTEND&&i!==s.FORMAT&&r!==s.EXTEND&&r!==s.FORMAT&&((n!==s.CR||r!==s.LF)&&(n===s.NEWLINE||n===s.CR||n===s.LF||(r===s.NEWLINE||r===s.CR||r===s.LF||(n!==s.KATAKANA||r!==s.KATAKANA)&&((r!==s.EXTENDNUMLET||n!==s.ALETTER&&n!==s.NUMERIC&&n!==s.KATAKANA&&n!==s.EXTENDNUMLET)&&((n!==s.EXTENDNUMLET||r!==s.ALETTER&&r!==s.NUMERIC&&r!==s.KATAKANA)&&n!==s.AT)))))))))},b=l,x=d,w=f,_=function(t){return"http"===t||"https"===t},S=function(t,e){var n;for(n=e;n<t.length;n++)if(x.test(t[n]))break;return n},C=function(t,e){var n=S(t,e+1),r=t.slice(e+1,n).join(b);return"://"===r.substr(0,3)?n:e},k=function(t,e,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(t[a]),y(n,a)){var u=e[a];if((r.includeWhitespace||!x.test(u))&&(r.includePunctuation||!w.test(u))){var s=a-i.length+1,c=a+1,l=e.slice(s,c).join(b);if(_(l)){var f=C(e,a),d=t.slice(c,f);Array.prototype.push.apply(i,d),a=f}o.push(i)}i=[]}return o},T=function(){return{includeWhitespace:!1,includePunctuation:!1}},A=function(t,e,o){o=n(n({},T()),o);for(var i=[],a=[],u=0;u<t.length;u++){var s=e(t[u]);s!==r&&(i.push(t[u]),a.push(s))}var c=v(a);return k(i,a,c,o)},O=A,M=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),D=function(t,e){var n=e.getBlockElements(),r=e.getShortEndedElements(),i=function(t){return n[t.nodeName]||r[t.nodeName]},a=[],u="",s=new M(t,t);while(t=s.next())3===t.nodeType?u+=o(t.data):i(t)&&u.length&&(a.push(u),u="");return u.length&&a.push(u),a},I=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},E=function(t,n){var r=D(t,n).join("\n");return O(r.split(""),e).length},R=function(t,e){var n=D(t,e).join("");return I(n)},N=function(t,e){var n=D(t,e).join("").replace(/\s/g,"");return I(n)},P=function(t,e){return function(){return e(t.getBody(),t.schema)}},L=function(t,e){return function(){return e(t.selection.getRng().cloneContents(),t.schema)}},B=function(t){return P(t,E)},z=function(t){return{body:{getWordCount:B(t),getCharacterCount:P(t,R),getCharacterCountWithoutSpaces:P(t,N)},selection:{getWordCount:L(t,E),getCharacterCount:L(t,R),getCharacterCountWithoutSpaces:L(t,N)},getCount:B(t)}},V=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=function(t,e){t.fire("wordCountUpdate",{wordCount:{words:e.body.getWordCount(),characters:e.body.getCharacterCount(),charactersWithoutSpaces:e.body.getCharacterCountWithoutSpaces()}})},j=function(t,e){F(t,e)},H=function(t,e,n){var r=V.debounce((function(){return j(t,e)}),n);t.on("init",(function(){j(t,e),V.setEditorTimeout(t,(function(){t.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))},U=function(t,e){t.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(e.body.getWordCount()),String(e.selection.getWordCount())],["Characters (no spaces)",String(e.body.getCharacterCountWithoutSpaces()),String(e.selection.getCharacterCountWithoutSpaces())],["Characters",String(e.body.getCharacterCount()),String(e.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},W=function(t,e){t.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return U(t,e)}}),t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return U(t,e)}})};function G(e){void 0===e&&(e=300),t.add("wordcount",(function(t){var n=z(t);return W(t,n),H(t,n,e),n}))}G()})()},ebac:function(t,e,n){n("080b")},ec27:function(t,e,n){n("fc39")},ecb9:function(t,e,n){n("8962")},eda9:function(t,e,n){n("c361")},ef1f:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,e){t.focus(),t.undoManager.transact((function(){t.setContent(e)})),t.selection.setCursorLocation(),t.nodeChanged()},n=function(t){return t.getContent({source_view:!0})},r=function(t){var r=n(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:r},onSubmit:function(n){e(t,n.getData().code),n.close()}})},o=function(t){t.addCommand("mceCodeEditor",(function(){r(t)}))},i=function(t){t.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return r(t)}}),t.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return r(t)}})};function a(){t.add("code",(function(t){return o(t),i(t),{}}))}a()})()},f034:function(t,e){(function(){"use strict";var t=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){return{isFullscreen:function(){return null!==t.get()}}},r=function(){},o=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},i=function(t,e){return function(n){return t(e(n))}},a=function(t){return function(){return t}};function u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var s=a(!1),c=a(!0),l=function(){return f},f=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},o={fold:function(t,e){return t()},is:s,isSome:s,isNone:c,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:n,orThunk:e,map:l,each:r,bind:l,exists:s,forall:c,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:a("none()")};return o}(),d=function(t){var e=a(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return o},h=function(t){return null===t||void 0===t?f:d(t)},p={some:d,none:l,from:h},m=function(e){var n=t(p.none()),r=function(){return n.get().each(e)},o=function(){r(),n.set(p.none())},i=function(){return n.get().isSome()},a=function(t){r(),n.set(p.some(t))};return{clear:o,isSet:i,set:a}},g=function(){return m((function(t){return t.unbind()}))},v=function(){var e=t(p.none()),n=function(){return e.set(p.none())},r=function(t){return e.set(p.some(t))},o=function(){return e.get().isSome()},i=function(t){return e.get().each(t)};return{clear:n,set:r,isSet:o,on:i}},y=function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},b=function(t){return function(e){return y(e)===t}},x=function(t){return function(e){return typeof e===t}},w=b("string"),_=b("array"),S=x("boolean"),C=function(t){return null===t||void 0===t},k=function(t){return!C(t)},T=x("function"),A=x("number"),O=Array.prototype.push,M=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},D=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},I=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},E=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!_(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);O.apply(e,t[n])}return e},R=function(t,e){return E(M(t,e))},N=function(t,e){return e>=0&&e<t.length?p.some(t[e]):p.none()},P=function(t){return N(t,0)},L=Object.keys,B=function(t,e){for(var n=L(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},z=function(t){return void 0!==t.style&&T(t.style.getPropertyValue)},V=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return H(r.childNodes[0])},F=function(t,e){var n=e||document,r=n.createElement(t);return H(r)},j=function(t,e){var n=e||document,r=n.createTextNode(t);return H(r)},H=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},U=function(t,e,n){return p.from(t.dom.elementFromPoint(e,n)).map(H)},W={fromHtml:V,fromTag:F,fromText:j,fromDom:H,fromPoint:U},G=("undefined"!==typeof window?window:Function("return this;")(),9),q=11,Y=1,X=3,Z=function(t){return t.dom.nodeType},$=function(t){return function(e){return Z(e)===t}},K=$(Y),J=$(X),Q=$(G),tt=$(q),et=function(t,e){var n=t.dom;if(n.nodeType!==Y)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},nt=function(t){return t.nodeType!==Y&&t.nodeType!==G&&t.nodeType!==q||0===t.childElementCount},rt=function(t,e){var n=void 0===e?document:e.dom;return nt(n)?[]:M(n.querySelectorAll(t),W.fromDom)},ot=function(t,e){return t.dom===e.dom},it=function(t){return W.fromDom(t.dom.ownerDocument)},at=function(t){return Q(t)?t:it(t)},ut=function(t){return p.from(t.dom.parentNode).map(W.fromDom)},st=function(t,e){var n=T(e)?e:s,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=W.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},ct=function(t){var e=function(e){return I(e,(function(e){return!ot(t,e)}))};return ut(t).map(lt).map(e).getOr([])},lt=function(t){return M(t.dom.childNodes,W.fromDom)},ft=function(t){return tt(t)},dt=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode),ht=a(dt),pt=dt?function(t){return W.fromDom(t.dom.getRootNode())}:at,mt=function(t){var e=pt(t);return ft(e)?p.some(e):p.none()},gt=function(t){return W.fromDom(t.dom.host)},vt=function(t){if(ht()&&k(t.target)){var e=W.fromDom(t.target);if(K(e)&&yt(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return P(n)}}return p.from(t.target)},yt=function(t){return k(t.dom.shadowRoot)},bt=function(t){var e=J(t)?t.dom.parentNode:t.dom;if(void 0===e||null===e||null===e.ownerDocument)return!1;var n=e.ownerDocument;return mt(W.fromDom(e)).fold((function(){return n.body.contains(e)}),i(bt,gt))},xt=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return W.fromDom(e)},wt=function(t,e,n){if(!(w(n)||S(n)||A(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},_t=function(t,e,n){wt(t.dom,e,n)},St=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},Ct=function(t,e){t.dom.removeAttribute(e)},kt=function(t,e,n){if(!w(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);z(t)&&t.style.setProperty(e,n)},Tt=function(t,e){var n=t.dom;B(e,(function(t,e){kt(n,e,t)}))},At=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||bt(t)?o:Ot(n,e)},Ot=function(t,e){return z(t)?t.style.getPropertyValue(e):""},Mt=function(t,e,n,r,o,i,a){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:a}},Dt=function(t){var e=W.fromDom(vt(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},i=o(r,n);return Mt(e,t.clientX,t.clientY,n,r,i,t)},It=function(t,e){return function(n){t(n)&&e(Dt(n))}},Et=function(t,e,n,r,o){var i=It(n,r);return t.dom.addEventListener(e,i,o),{unbind:u(Nt,t,e,i,o)}},Rt=function(t,e,n,r){return Et(t,e,n,r,!1)},Nt=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Pt=c,Lt=function(t,e,n){return Rt(t,e,Pt,n)},Bt=function(t,e){var n=function(n,r){return Bt(t+n,e+r)};return{left:t,top:e,translate:n}},zt=Bt,Vt=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return zt(n,r)},Ft=function(t){var e=void 0===t?window:t;return p.from(e["visualViewport"])},jt=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},Ht=function(t){var e=void 0===t?window:t,n=e.document,r=Vt(W.fromDom(n));return Ft(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return jt(r.left,r.top,n,o)}),(function(t){return jt(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},Ut=function(t,e,n){return Ft(n).map((function(n){var r=function(t){return e(Dt(t))};return n.addEventListener(t,r),{unbind:function(){return n.removeEventListener(t,r)}}})).getOrThunk((function(){return{unbind:r}}))},Wt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Gt=tinymce.util.Tools.resolve("tinymce.Env"),qt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Yt=function(t,e){t.fire("FullscreenStateChanged",{state:e})},Xt=function(t){return t.getParam("fullscreen_native",!1,"boolean")},Zt=function(t){var e=W.fromDom(t.getElement());return mt(e).map(gt).getOrThunk((function(){return xt(it(e))}))},$t=function(t){return void 0!==t.fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null},Kt=function(){return void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange"},Jt=function(t){var e=t.dom;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()},Qt=function(t){var e=t.dom;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen()},te=function(t){return t.dom===$t(it(t).dom)},ee=function(t,e,n){return I(st(t,n),e)},ne=function(t,e){return I(ct(t),e)},re=function(t){return rt(t)},oe=function(t,e,n){return ee(t,(function(t){return et(t,e)}),n)},ie=function(t,e){return ne(t,(function(t){return et(t,e)}))},ae="data-ephox-mobile-fullscreen-style",ue="display:none!important;",se="position:absolute!important;",ce="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",le="background-color:rgb(255,255,255)!important;",fe=Gt.os.isAndroid(),de=function(t){var e=At(t,"background-color");return void 0!==e&&""!==e?"background-color:"+e+"!important":le},he=function(t,e,n){var r=function(t){return ie(t,"*:not(.tox-silver-sink)")},o=function(e){return function(n){var r=St(n,"style"),o=void 0===r?"no-styles":r.trim();o!==e&&(_t(n,ae,o),Tt(n,t.parseStyle(e)))}},i=oe(e,"*"),a=R(i,r),u=de(n);D(a,o(ue)),D(i,o(se+ce+u));var s=!0===fe?"":se;o(s+ce+u)(e)},pe=function(t){var e=re("["+ae+"]");D(e,(function(e){var n=St(e,ae);"no-styles"!==n?Tt(e,t.parseStyle(n)):Ct(e,"style"),Ct(e,ae)}))},me=Wt.DOM,ge=function(){var t=Ht(window);return{x:t.x,y:t.y}},ve=function(t){window.scrollTo(t.x,t.y)},ye=Ft().fold((function(){return{bind:r,unbind:r}}),(function(t){var e=v(),n=g(),r=g(),o=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},i=function(){window.requestAnimationFrame((function(){e.on((function(e){return Tt(e,{top:t.offsetTop+"px",left:t.offsetLeft+"px",height:t.height+"px",width:t.width+"px"})}))}))},a=qt.throttle((function(){o(),i()}),50),u=function(t){e.set(t),a(),n.set(Ut("resize",a)),r.set(Ut("scroll",a))},s=function(){e.on((function(){n.clear(),r.clear()})),e.clear()};return{bind:u,unbind:s}})),be=function(t,e){var n=document.body,r=document.documentElement,o=t.getContainer(),i=W.fromDom(o),a=Zt(t),u=e.get(),s=W.fromDom(t.getBody()),c=Gt.deviceType.isTouch(),l=o.style,f=t.iframeElement,d=f.style,h=function(t){t(n,"tox-fullscreen"),t(r,"tox-fullscreen"),t(o,"tox-fullscreen"),mt(i).map((function(t){return gt(t).dom})).each((function(e){t(e,"tox-fullscreen"),t(e,"tox-shadowhost")}))},m=function(){c&&pe(t.dom),h(me.removeClass),ye.unbind(),p.from(e.get()).each((function(t){return t.fullscreenChangeHandler.unbind()}))};if(u)u.fullscreenChangeHandler.unbind(),Xt(t)&&te(a)&&Qt(it(a)),d.width=u.iframeWidth,d.height=u.iframeHeight,l.width=u.containerWidth,l.height=u.containerHeight,l.top=u.containerTop,l.left=u.containerLeft,ve(u.scrollPos),e.set(null),Yt(t,!1),m(),t.off("remove",m);else{var g=Lt(it(a),Kt(),(function(n){Xt(t)&&(te(a)||null===e.get()||be(t,e))})),v={scrollPos:ge(),containerWidth:l.width,containerHeight:l.height,containerTop:l.top,containerLeft:l.left,iframeWidth:d.width,iframeHeight:d.height,fullscreenChangeHandler:g};c&&he(t.dom,i,s),d.width=d.height="100%",l.width=l.height="",h(me.addClass),ye.bind(i),t.on("remove",m),e.set(v),Xt(t)&&Jt(a),Yt(t,!0)}},xe=function(t,e){t.addCommand("mceFullScreen",(function(){be(t,e)}))},we=function(t,e){return function(n){n.setActive(null!==e.get());var r=function(t){return n.setActive(t.state)};return t.on("FullscreenStateChanged",r),function(){return t.off("FullscreenStateChanged",r)}}},_e=function(t,e){t.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:we(t,e)}),t.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:we(t,e)})};function Se(){e.add("fullscreen",(function(e){var r=t(null);return e.inline||(xe(e,r),_e(e,r),e.addShortcut("Meta+Shift+F","","mceFullScreen")),n(r)}))}Se()})()},f758:function(t,e,n){"use strict";n("1f1e")},f962:function(t,e){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.EditorManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),o=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=tinymce.util.Tools.resolve("tinymce.util.VK"),u=function(t){return t.getParam("tabfocus_elements",":prev,:next")},s=function(t){return t.getParam("tab_focus",u(t))},c=e.DOM,l=function(t){t.keyCode!==a.TAB||t.ctrlKey||t.altKey||t.metaKey||t.preventDefault()},f=function(t){function e(e){var u,l;if(!(e.keyCode!==a.TAB||e.ctrlKey||e.altKey||e.metaKey||e.isDefaultPrevented())){var f,d=i.explode(s(t));if(1===d.length&&(d[1]=d[0],d[0]=":prev"),f=e.shiftKey?":prev"===d[0]?p(-1):c.get(d[0]):":next"===d[1]?p(1):c.get(d[1]),f){var h=n.get(f.id||f.name);f.id&&h?h.focus():o.setTimeout((function(){r.webkit||window.focus(),f.focus()}),10),e.preventDefault()}}function p(r){var o=c.select(":input:enabled,*[tabindex]:not(iframe)");function a(t){return"BODY"===t.nodeName||"hidden"!==t.type&&"none"!==t.style.display&&"hidden"!==t.style.visibility&&a(t.parentNode)}function s(t){return/INPUT|TEXTAREA|BUTTON/.test(t.tagName)&&n.get(e.id)&&-1!==t.tabIndex&&a(t)}if(i.each(o,(function(e,n){if(e.id===t.id)return u=n,!1})),r>0){for(l=u+1;l<o.length;l++)if(s(o[l]))return o[l]}else for(l=u-1;l>=0;l--)if(s(o[l]))return o[l];return null}}t.on("init",(function(){t.inline&&c.setAttrib(t.getBody(),"tabIndex",null),t.on("keyup",l),r.gecko?t.on("keypress keydown",e):t.on("keydown",e)}))};function d(){t.add("tabfocus",(function(t){f(t)}))}d()})()},fc39:function(t,e){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},ffbe:function(t,e,n){n("8ce1")}}]);
//# sourceMappingURL=dashboard.73d61d42.js.map